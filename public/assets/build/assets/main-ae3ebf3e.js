import{x as oc,r as l,y as Me,i as pu,B as uf,a as mf,b as hf,c as pf,d as ff,e as gf,g as ve,u as _e,f as e,j as s,F as J,G as Ye,m as K,z as fu,n as Re,p as Bt,h as St,A as gu,C as Ft,N as Q,D as yi,E as cc,H as cl,L as dl,I as bf,_ as ze,J as dc,K as vf,O as xf,Q as yf,S as wf,T as Nf,U as ks,V as _f,W as kf,X as Cf,Y as nt,k as Mn,l as Sf,Z as vr,$ as Pa,a0 as bu,a1 as _n,a2 as rs,a3 as vu,a4 as is,a5 as Ef,a6 as Tf,a7 as xu,a8 as Af,a9 as Pf,o as Nt,t as Rt,M as yu,aa as wu,ab as ul,ac as If,s as Lf,ad as Nu,ae as Ff,af as Mf,ag as Of,ah as Bf,ai as Rf,aj as $f,v as jf,w as zf,P as Df,R as Vf}from"./index-da73a707.js";import{f as Uf,g as Hf,s as _u,r as Wf,i as qf,h as fn,j as Zf,k as ku,m as Gf,O as uc,U as ls,n as Cs,y as os,o as $a,p as On,C as cs,t as Cu,N as Ss,v as Kf,w as Wt,x as an,M as qt,z as jn,A as Jf,u as Yf,B as It,P as qe,D as Xf,E as Qf,q as ge,_ as Ie,G as mc,H as wi,J as e1,K as t1,L as a1,a as n1,S as re,R as ca,T as We,V as s1,F as Je,W as xr,X as Oe,Q as je,Y as r1,c as Ys,d as Su,e as Eu,Z as i1,l as kn,$ as ft,a0 as l1,a1 as o1}from"./index-0aa609d0.js";import{P as be,F as c1,a as Tu,B as d1,b as u1,c as m1,d as h1,e as p1,f as Ha,g as Au,S as f1,h as ml,i as hl,j as g1,k as Pu,l as Ni,m as b1,n as Iu,o as v1,p as x1,q as y1}from"./index-a2f3e652.js";import{A as ds,a as w1}from"./index-265e33c3.js";import{_ as et}from"./react-apexcharts.min-52407777.js";function N1(t,a){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(a.includes(r))continue;n[r]=t[r]}return n}function fa(t,a){if(t==null)return{};var n,r,i=N1(t,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],a.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var _1=function(a){return a()},k1=oc["useInsertionEffect"]?oc["useInsertionEffect"]:!1,C1=k1||_1,S1=!1,Lu=l.createContext(typeof HTMLElement<"u"?Uf({key:"css"}):null);Lu.Provider;var E1=function(a){return l.forwardRef(function(n,r){var i=l.useContext(Lu);return a(n,i,r)})},T1=l.createContext({}),pl={}.hasOwnProperty,_i="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",A1=function(a,n){var r={};for(var i in n)pl.call(n,i)&&(r[i]=n[i]);return r[_i]=a,r},P1=function(a){var n=a.cache,r=a.serialized,i=a.isStringTag;return Wf(n,r,i),C1(function(){return qf(n,r,i)}),null},I1=E1(function(t,a,n){var r=t.css;typeof r=="string"&&a.registered[r]!==void 0&&(r=a.registered[r]);var i=t[_i],o=[r],m="";typeof t.className=="string"?m=Hf(a.registered,o,t.className):t.className!=null&&(m=t.className+" ");var u=_u(o,void 0,l.useContext(T1));m+=a.key+"-"+u.name;var c={};for(var p in t)pl.call(t,p)&&p!=="css"&&p!==_i&&!S1&&(c[p]=t[p]);return c.className=m,n&&(c.ref=n),l.createElement(l.Fragment,null,l.createElement(P1,{cache:a,serialized:u,isStringTag:typeof i=="string"}),l.createElement(i,c))}),L1=I1,$e=function(a,n){var r=arguments;if(n==null||!pl.call(n,"css"))return l.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=L1,o[1]=A1(a,n);for(var m=2;m<i;m++)o[m]=r[m];return l.createElement.apply(null,o)};function fl(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return _u(a)}var F1=function(){var a=fl.apply(void 0,arguments),n="animation-"+a.name;return{name:n,styles:"@keyframes "+n+"{"+a.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ki=l.useLayoutEffect;function hc(t){var a;if(t.type)return t.type;let n=(a=t.as)!=null?a:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function M1(t,a){let[n,r]=l.useState(()=>hc(t));return fn(()=>{r(hc(t))},[t.type,t.as]),fn(()=>{n||a.current&&a.current instanceof HTMLButtonElement&&!a.current.hasAttribute("type")&&r("button")},[n,a]),n}function O1({onFocus:t}){let[a,n]=l.useState(!0),r=Zf();return a?Me.createElement(ku,{as:"button",type:"button",features:Gf.Focusable,onFocus:i=>{i.preventDefault();let o,m=50;function u(){if(m--<=0){o&&cancelAnimationFrame(o);return}if(t()){if(cancelAnimationFrame(o),!r.current)return;n(!1);return}o=requestAnimationFrame(u)}o=requestAnimationFrame(u)}}):null}const Fu=l.createContext(null);function B1(){return{groups:new Map,get(t,a){var n;let r=this.groups.get(t);r||(r=new Map,this.groups.set(t,r));let i=(n=r.get(a))!=null?n:0;r.set(a,i+1);let o=Array.from(r.keys()).indexOf(a);function m(){let u=r.get(a);u>1?r.set(a,u-1):r.delete(a)}return[o,m]}}}function R1({children:t}){let a=l.useRef(B1());return l.createElement(Fu.Provider,{value:a},t)}function Mu(t){let a=l.useContext(Fu);if(!a)throw new Error("You must wrap your component in a <StableCollection>");let n=$1(),[r,i]=a.current.get(t,n);return l.useEffect(()=>i,[]),r}function $1(){var t,a,n;let r=(n=(a=(t=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:t.ReactCurrentOwner)==null?void 0:a.current)!=null?n:null;if(!r)return Symbol();let i=[],o=r;for(;o;)i.push(o.index),o=o.return;return"$."+i.join(".")}var j1=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(j1||{}),z1=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(z1||{}),D1=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(D1||{});let V1={0(t,a){var n;let r=On(t.tabs,f=>f.current),i=On(t.panels,f=>f.current),o=r.filter(f=>{var h;return!((h=f.current)!=null&&h.hasAttribute("disabled"))}),m={...t,tabs:r,panels:i};if(a.index<0||a.index>r.length-1){let f=jn(Math.sign(a.index-t.selectedIndex),{[-1]:()=>1,0:()=>jn(Math.sign(a.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(o.length===0)return m;let h=jn(f,{0:()=>r.indexOf(o[0]),1:()=>r.indexOf(o[o.length-1])});return{...m,selectedIndex:h===-1?t.selectedIndex:h}}let u=r.slice(0,a.index),c=[...r.slice(a.index),...u].find(f=>o.includes(f));if(!c)return m;let p=(n=r.indexOf(c))!=null?n:t.selectedIndex;return p===-1&&(p=t.selectedIndex),{...m,selectedIndex:p}},1(t,a){if(t.tabs.includes(a.tab))return t;let n=t.tabs[t.selectedIndex],r=On([...t.tabs,a.tab],o=>o.current),i=t.selectedIndex;return t.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=t.selectedIndex)),{...t,tabs:r,selectedIndex:i}},2(t,a){return{...t,tabs:t.tabs.filter(n=>n!==a.tab)}},3(t,a){return t.panels.includes(a.panel)?t:{...t,panels:On([...t.panels,a.panel],n=>n.current)}},4(t,a){return{...t,panels:t.panels.filter(n=>n!==a.panel)}}},gl=l.createContext(null);gl.displayName="TabsDataContext";function gn(t){let a=l.useContext(gl);if(a===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,gn),n}return a}let bl=l.createContext(null);bl.displayName="TabsActionsContext";function vl(t){let a=l.useContext(bl);if(a===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,vl),n}return a}function U1(t,a){return jn(a.type,V1,t,a)}let H1=l.Fragment;function W1(t,a){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:o,selectedIndex:m=null,...u}=t;const c=r?"vertical":"horizontal",p=i?"manual":"auto";let f=m!==null,h=Cs({isControlled:f}),b=os(a),[S,I]=l.useReducer(U1,{info:h,selectedIndex:m??n,tabs:[],panels:[]}),T=l.useMemo(()=>({selectedIndex:S.selectedIndex}),[S.selectedIndex]),w=Cs(o||(()=>{})),_=Cs(S.tabs),A=l.useMemo(()=>({orientation:c,activation:p,...S}),[c,p,S]),k=$a(y=>(I({type:1,tab:y}),()=>I({type:2,tab:y}))),g=$a(y=>(I({type:3,panel:y}),()=>I({type:4,panel:y}))),E=$a(y=>{N.current!==y&&w.current(y),f||I({type:0,index:y})}),N=Cs(f?t.selectedIndex:S.selectedIndex),v=l.useMemo(()=>({registerTab:k,registerPanel:g,change:E}),[]);fn(()=>{I({type:0,index:m??n})},[m]),fn(()=>{if(N.current===void 0||S.tabs.length<=0)return;let y=On(S.tabs,M=>M.current);y.some((M,C)=>S.tabs[C]!==M)&&E(y.indexOf(S.tabs[N.current]))});let d={ref:b};return Me.createElement(R1,null,Me.createElement(bl.Provider,{value:v},Me.createElement(gl.Provider,{value:A},A.tabs.length<=0&&Me.createElement(O1,{onFocus:()=>{var y,M;for(let C of _.current)if(((y=C.current)==null?void 0:y.tabIndex)===0)return(M=C.current)==null||M.focus(),!0;return!1}}),cs({ourProps:d,theirProps:u,slot:T,defaultTag:H1,name:"Tabs"}))))}let q1="div";function Z1(t,a){let{orientation:n,selectedIndex:r}=gn("Tab.List"),i=os(a);return cs({ourProps:{ref:i,role:"tablist","aria-orientation":n},theirProps:t,slot:{selectedIndex:r},defaultTag:q1,name:"Tabs.List"})}let G1="button";function K1(t,a){var n,r;let i=Cu(),{id:o=`headlessui-tabs-tab-${i}`,...m}=t,{orientation:u,activation:c,selectedIndex:p,tabs:f,panels:h}=gn("Tab"),b=vl("Tab"),S=gn("Tab"),I=l.useRef(null),T=os(I,a);fn(()=>b.registerTab(I),[b,I]);let w=Mu("tabs"),_=f.indexOf(I);_===-1&&(_=w);let A=_===p,k=$a(M=>{var C;let x=M();if(x===Ss.Success&&c==="auto"){let L=(C=Kf(I))==null?void 0:C.activeElement,F=S.tabs.findIndex(O=>O.current===L);F!==-1&&b.change(F)}return x}),g=$a(M=>{let C=f.map(x=>x.current).filter(Boolean);if(M.key===Wt.Space||M.key===Wt.Enter){M.preventDefault(),M.stopPropagation(),b.change(_);return}switch(M.key){case Wt.Home:case Wt.PageUp:return M.preventDefault(),M.stopPropagation(),k(()=>an(C,qt.First));case Wt.End:case Wt.PageDown:return M.preventDefault(),M.stopPropagation(),k(()=>an(C,qt.Last))}if(k(()=>jn(u,{vertical(){return M.key===Wt.ArrowUp?an(C,qt.Previous|qt.WrapAround):M.key===Wt.ArrowDown?an(C,qt.Next|qt.WrapAround):Ss.Error},horizontal(){return M.key===Wt.ArrowLeft?an(C,qt.Previous|qt.WrapAround):M.key===Wt.ArrowRight?an(C,qt.Next|qt.WrapAround):Ss.Error}}))===Ss.Success)return M.preventDefault()}),E=l.useRef(!1),N=$a(()=>{var M;E.current||(E.current=!0,(M=I.current)==null||M.focus({preventScroll:!0}),b.change(_),Jf(()=>{E.current=!1}))}),v=$a(M=>{M.preventDefault()}),d=l.useMemo(()=>{var M;return{selected:A,disabled:(M=t.disabled)!=null?M:!1}},[A,t.disabled]),y={ref:T,onKeyDown:g,onMouseDown:v,onClick:N,id:o,role:"tab",type:M1(t,I),"aria-controls":(r=(n=h[_])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":A,tabIndex:A?0:-1};return cs({ourProps:y,theirProps:m,slot:d,defaultTag:G1,name:"Tabs.Tab"})}let J1="div";function Y1(t,a){let{selectedIndex:n}=gn("Tab.Panels"),r=os(a),i=l.useMemo(()=>({selectedIndex:n}),[n]);return cs({ourProps:{ref:r},theirProps:t,slot:i,defaultTag:J1,name:"Tabs.Panels"})}let X1="div",Q1=uc.RenderStrategy|uc.Static;function eg(t,a){var n,r,i,o;let m=Cu(),{id:u=`headlessui-tabs-panel-${m}`,tabIndex:c=0,...p}=t,{selectedIndex:f,tabs:h,panels:b}=gn("Tab.Panel"),S=vl("Tab.Panel"),I=l.useRef(null),T=os(I,a);fn(()=>S.registerPanel(I),[S,I,u]);let w=Mu("panels"),_=b.indexOf(I);_===-1&&(_=w);let A=_===f,k=l.useMemo(()=>({selected:A}),[A]),g={ref:T,id:u,role:"tabpanel","aria-labelledby":(r=(n=h[_])==null?void 0:n.current)==null?void 0:r.id,tabIndex:A?c:-1};return!A&&((i=p.unmount)==null||i)&&!((o=p.static)!=null&&o)?Me.createElement(ku,{as:"span","aria-hidden":"true",...g}):cs({ourProps:g,theirProps:p,slot:k,defaultTag:X1,features:Q1,visible:A,name:"Tabs.Panel"})}let tg=ls(K1),ag=ls(W1),ng=ls(Z1),sg=ls(Y1),rg=ls(eg),Xe=Object.assign(tg,{Group:ag,List:ng,Panels:sg,Panel:rg});const yt={locale:"en",theme:"light",menu:"horizontal",layout:"full",rtlClass:"ltr",animation:"",navbar:"navbar-sticky",semidark:!1,employeeData:null,crmToken:"",authUser:null,lastLogin:null,settingTap:"general",leadAlert:!1,settingData:{logo:"",favicon:""},apiUrl:window.location.origin};pu.use(uf).use(mf).use(hf).init({fallbackLng:yt.locale,debug:!1,load:"languageOnly"});let nn=localStorage.getItem("settingData");nn&&(nn=JSON.parse(nn),document.querySelectorAll(".favicon-icon").forEach(a=>{a.href=yt.apiUrl+"/storage/"+(nn==null?void 0:nn.favicon)}));const kt={isDarkMode:!1,mainLayout:"app",theme:"light",menu:"horizontal",layout:"full",rtlClass:"ltr",animation:"",navbar:"navbar-sticky",locale:"en",sidebar:!1,pageTitle:"",languageList:[{code:"zh",name:"Chinese"},{code:"da",name:"Danish"},{code:"en",name:"English"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"hu",name:"Hungarian"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"ru",name:"Russian"},{code:"es",name:"Spanish"},{code:"sv",name:"Swedish"},{code:"tr",name:"Turkish"}],semidark:!1,crmToken:"",pin:"",authUser:null,lastLogin:null,settingTap:"general",settingData:null,leadAlert:!1,moveLeadData:null,emplyeeData:null,chatMessage:null,hideCols:["id","email","second_phone","invest","free_trial","followup","dnd","city","first_trial","products","desc","kyc_status","rp_status","created_at","updated_at"],hideSaleCols:["id","bank","client_paid","client_type","description","due_date","email","first_name","gst_value","inclusive_gst","last_name","offer_price","owner","phone","created_at","updated_at"],leadRequestCount:0,callBacktData:[],broadcast:{},branches:[],selectedBranch:0,dataForViewLead:{},documentAlets:{},crmVersion:0},ig={theme:localStorage.getItem("theme")||yt.theme,menu:"horizontal",layout:localStorage.getItem("layout")||yt.layout,rtlClass:localStorage.getItem("rtlClass")||yt.rtlClass,animation:localStorage.getItem("animation")||yt.animation,navbar:localStorage.getItem("navbar")||yt.navbar,locale:localStorage.getItem("i18nextLng")||yt.locale,isDarkMode:!1,sidebar:localStorage.getItem("sidebar")||kt.sidebar,semidark:localStorage.getItem("semidark")||yt.semidark,documentAlets:null,languageList:[{code:"zh",name:"Chinese"},{code:"da",name:"Danish"},{code:"en",name:"English"},{code:"fr",name:"French"},{code:"de",name:"German"},{code:"el",name:"Greek"},{code:"hu",name:"Hungarian"},{code:"it",name:"Italian"},{code:"ja",name:"Japanese"},{code:"pl",name:"Polish"},{code:"pt",name:"Portuguese"},{code:"ru",name:"Russian"},{code:"es",name:"Spanish"},{code:"sv",name:"Swedish"},{code:"tr",name:"Turkish"},{code:"ae",name:"Arabic"}],crmToken:localStorage.getItem("crmToken")||kt.crmToken,pin:localStorage.getItem("pin")||kt.pin,settingTap:localStorage.getItem("settingTap")||kt.settingTap,authUser:JSON.parse(localStorage.getItem("authUser"))||yt.authUser||yt.authUser,lastLogin:JSON.parse(localStorage.getItem("lastLogin"))||yt.lastLogin||yt.lastLogin,hideCols:JSON.parse(localStorage.getItem("hideCols"))||kt.hideCols||kt.hideCols,leadAlert:localStorage.getItem("leadAlert")||kt.leadAlert,settingData:JSON.parse(localStorage.getItem("settingData"))||yt.settingData||yt.settingData,moveLeadData:yt.moveLeadData,chatMessage:yt.moveLeadData,callBacktData:JSON.parse(localStorage.getItem("callBacktData"))||kt.callBacktData||kt.callBacktData,apiUrl:yt.apiUrl,leadRequestCount:localStorage.getItem("leadRequestCount")||kt.leadRequestCount,broadcast:JSON.parse(localStorage.getItem("broadcast"))||kt.broadcast,branches:JSON.parse(localStorage.getItem("branches"))||kt.branches||kt.branches,selectedBranch:localStorage.getItem("selectedBranch")||kt.selectedBranch,dataForViewLead:localStorage.getItem("dataForViewLead")||kt.dataForViewLead,crmVersion:localStorage.getItem("crmVersion")||kt.crmVersion},Ou=pf({name:"auth",initialState:ig,reducers:{toggleTheme(t,{payload:a}){var n,r;a=a||t.theme,localStorage.setItem("theme",a),t.theme=a,a==="light"?t.isDarkMode=!1:a==="dark"?t.isDarkMode=!0:a==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?t.isDarkMode=!0:t.isDarkMode=!1),t.isDarkMode?(n=document.querySelector("body"))==null||n.classList.add("dark"):(r=document.querySelector("body"))==null||r.classList.remove("dark")},toggleMenu(t,{payload:a}){a="horizontal",t.sidebar=!1,localStorage.setItem("menu","horizontal"),t.menu="horizontal"},toggleLayout(t,{payload:a}){a=a||t.layout,localStorage.setItem("layout",a),t.layout=a},toggleRTL(t,{payload:a}){var n;a=a||t.rtlClass,localStorage.setItem("rtlClass",a),t.rtlClass=a,(n=document.querySelector("html"))==null||n.setAttribute("dir",t.rtlClass||"ltr")},toggleAnimation(t,{payload:a}){a=a||t.animation,a=a==null?void 0:a.trim(),localStorage.setItem("animation",a),t.animation=a},toggleNavbar(t,{payload:a}){a=a||t.navbar,localStorage.setItem("navbar",a),t.navbar=a},toggleSemidark(t,{payload:a}){a=a===!0||a==="true",localStorage.setItem("semidark",a),t.semidark=a},toggleLocale(t,{payload:a}){a=a||t.locale,pu.changeLanguage(a),t.locale=a},toggleSidebar(t){t.sidebar=!t.sidebar},setPageTitle(t,{payload:a}){document.title=`${a} | Sourcefile CRM`},setCrmToken(t,{payload:a}){localStorage.setItem("crmToken",a),t.crmToken=a},setPin(t,{payload:a}){localStorage.setItem("pin",a),t.pin=a},setAuthUser(t,{payload:a}){localStorage.setItem("authUser",JSON.stringify(a)),t.authUser=a},setLastLogin(t,{payload:a}){localStorage.setItem("lastLogin",a),t.lastLogin=a},setHideCols(t,{payload:a}){localStorage.setItem("hideCols",JSON.stringify(a)),t.hideCols=a},setSettingTap(t,{payload:a}){localStorage.setItem("settingTap",a),t.settingTap=a},setLeadAlert(t,{payload:a}){localStorage.setItem("leadAlert",a),t.leadAlert=a},setDocumentAlets(t,{payload:a}){t.documentAlets=a},setSettingToggleData(t,{payload:a}){localStorage.setItem("settingData",JSON.stringify(a)),t.settingData=a,document.querySelectorAll(".favicon-icon").forEach(r=>{r.href=yt.apiUrl+"/storage/"+a.favicon})},setMoveLeadData(t,{payload:a}){t.moveLeadData=a},setChatMessage(t,{payload:a}){t.chatMessage=JSON.parse(a.message)},setLeadRequestCount(t,{payload:a}){localStorage.setItem("localStorage",a),t.leadRequestCount=JSON.parse(a)},setCallBacktData(t,{payload:a}){localStorage.setItem("callBacktData",JSON.stringify(a)),t.callBacktData=a},setBroadcast(t,{payload:a}){localStorage.setItem("broadcast",a),t.broadcast=JSON.parse(a)},setBranches(t,{payload:a}){localStorage.setItem("branches",JSON.stringify(a)),t.branches=a},setSelectedBranch(t,{payload:a}){localStorage.setItem("selectedBranch",a),t.selectedBranch=a},setDataForViewLead(t,{payload:a}){localStorage.setItem("dataForViewLead",a),t.dataForViewLead=a},setCrmVersion(t,{payload:a}){localStorage.setItem("crmVersion",a),t.crmVersion=a}}}),{setCrmVersion:pc,setDocumentAlets:Bu,setDataForViewLead:K7,setSelectedBranch:lg,setBranches:Ci,setCallBacktData:Wn,setBroadcast:qn,setLeadRequestCount:Si,setPin:J7,setLastLogin:og,setChatMessage:cg,setMoveLeadData:dg,setSettingToggleData:Zn,setLeadAlert:ug,setSettingTap:Y7,setHideCols:un,setAuthUser:Gn,setCrmToken:at,toggleTheme:Ei,toggleMenu:mg,toggleLayout:hg,toggleRTL:pg,toggleAnimation:fg,toggleNavbar:gg,toggleSemidark:bg,toggleLocale:vg,toggleSidebar:Ti,setPageTitle:Se}=Ou.actions,xg=Ou.reducer,yg=ff({themeConfig:xg}),Ru=gf({reducer:yg}),$u=l.createContext(void 0),wg=({children:t})=>{const a=ve(),n=_e(p=>p.themeConfig.crmToken),r=_e(p=>p.themeConfig.authUser),i=_e(p=>p.themeConfig.settingData),o=_e(p=>p.themeConfig.apiUrl),m=_e(p=>p.themeConfig.branches),u=_e(p=>p.themeConfig.selectedBranch),c=()=>{a(at("")),a(Gn("")),a(Zn("")),localStorage.clear()};return e($u.Provider,{value:{crmToken:n,logout:c,authUser:r,settingData:i,apiUrl:o,branches:m,selectedBranch:u},children:t})},ee=()=>{const t=l.useContext($u);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},ju=l.createContext(),Ng={"top-left":"top-4 left-4","top-center":"top-4 left-1/2 -translate-x-1/2","top-right":"top-4 right-4","bottom-left":"bottom-4 left-4","bottom-center":"bottom-4 left-1/2 -translate-x-1/2","bottom-right":"bottom-4 right-4"},_g=({children:t,position:a="top-right"})=>{const[n,r]=l.useState([]),i=u=>{const c=Math.random().toString(36).substr(2,9);r(p=>[...p,{...u,id:c}]),setTimeout(()=>{o(c)},5e3)},o=u=>{r(c=>c.filter(p=>p.id!==u))},m=({variant:u="news",message:c,description:p,time:f,title:h,onClose:b})=>{const S={news:{label:"NEWS",labelColor:"text-blue-400",icon:"•"},success:{label:"Successfully Message",labelColor:"text-green-400",bgColor:"bg-success",icon:"✓"},alert:{label:"Alert Message",labelColor:"text-yellow-400",icon:"!"},error:{label:"Error Message",labelColor:"text-red-400",bgColor:"bg-[#ff0000]",icon:"○"}};return e("div",{className:`${S[u].bgColor} rounded-xl w-full max-w-md overflow-hidden shadow-lg animate-in fade-in duration-300`,children:e("div",{className:"p-4",children:u==="news"?s(J,{children:[s("div",{className:"flex justify-between items-center mb-2",children:[e("span",{className:"text-blue-400 text-xs font-medium",children:"NEWS"}),e("button",{onClick:b,className:"text-white",children:"x"})]}),e("h3",{className:"text-white text-sm font-medium mb-1",children:c}),e("p",{className:"text-gray-400 text-sm mb-2",children:p}),e("span",{className:"text-gray-500 text-xs",children:f})]}):s("div",{className:"flex justify-between items-center",children:[s("div",{className:"flex items-center gap-2",children:[e("span",{className:`${S[u].labelColor} text-lg`,children:S[u].icon}),e("span",{className:"text-white text-sm",children:h})]}),e("div",{className:"flex items-center gap-3",children:e("button",{onClick:b,className:"text-white ml-2",children:"x"})})]})})})};return s(ju.Provider,{value:{addToast:i},children:[t,e("div",{className:`fixed ${Ng[a]} z-50 flex flex-col gap-3 min-w-[320px]`,children:n.map(u=>e(m,{...u,onClose:()=>o(u.id)},u.id))})]})},ct=()=>{const t=l.useContext(ju);if(!t)throw new Error("useToast must be used within a ToastProvider");return t};function zu({children:t}){ee();const a=_e(r=>r.themeConfig),n=ve();return l.useEffect(()=>{n(Ei(localStorage.getItem("theme")||a.theme)),n(mg(localStorage.getItem("menu")||a.menu)),n(hg(localStorage.getItem("layout")||a.layout)),n(pg(localStorage.getItem("rtlClass")||a.rtlClass)),n(fg(localStorage.getItem("animation")||a.animation)),n(gg(localStorage.getItem("navbar")||a.navbar)),n(vg(localStorage.getItem("i18nextLng")||a.locale)),n(bg(localStorage.getItem("semidark")||a.semidark))},[n,a.theme,a.menu,a.layout,a.rtlClass,a.animation,a.navbar,a.locale,a.semidark]),e(_g,{position:"top-right",children:e("div",{children:e("div",{className:`${Ru.getState().themeConfig.sidebar&&"toggle-sidebar"||""} ${a.menu} ${a.layout} ${a.rtlClass} main-section  antialiased relative font-nunito text-sm font-normal`,children:t})})})}const kg=({children:t})=>e(zu,{children:s("div",{className:"text-black dark:text-white-dark min-h-screen",children:[t," "]})}),Cg=()=>{const t=_e(a=>a.themeConfig.crmVersion);return s("div",{className:"flex justify-between p-1 mt-auto bg-[#000]/[0.08]",children:[s("div",{className:"dark:text-white-dark text-center ltr:sm:text-left rtl:sm:text-right ",children:["© ",new Date().getFullYear(),". Sourcefile CRM All rights reserved."]}),s("b",{children:["v ",t]})]})},Sg=(t,a)=>{const[n,r]=l.useState(!1),i=l.useRef(),o=l.useRef(),{styles:m,attributes:u}=Yf(i.current,o.current,{placement:t.placement||"bottom-end",modifiers:[{name:"offset",options:{offset:t.offset||[0]}}]}),c=p=>{var f,h;(f=i.current)!=null&&f.contains(p.target)||(h=o.current)!=null&&h.contains(p.target)||r(!1)};return l.useEffect(()=>(document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}),[]),l.useImperativeHandle(a,()=>({close(){r(!1)}})),s(J,{children:[e("button",{ref:i,type:"button",className:t.btnClassName,onClick:()=>r(!n),children:t.button}),e("div",{ref:o,style:m.popper,...u.popper,className:"z-50",onClick:()=>r(!n),children:n&&t.children})]})},us=l.forwardRef(Sg);function Eg(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 6a6 6 0 1 1 -6 6l.004 -.225a6 6 0 0 1 5.996 -5.775m0 4a2 2 0 0 0 -1.995 1.85l-.005 .15a2 2 0 1 0 2 -2m3.9 9.11a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m3.14 -2.5a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m1.73 -3.61a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m0 -4a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m-1.73 -3.61a1 1 0 0 1 1 1a1 1 0 1 1 -2 .01c0 -.562 .448 -1.01 1 -1.01m-3.14 -2.5a1 1 0 0 1 1 1a1 1 0 1 1 -2 .01c0 -.562 .448 -1.01 1 -1.01m-3.9 -.89a1 1 0 0 1 1 1a1 1 0 1 1 -2 .01c0 -.562 .448 -1.01 1 -1.01m-3.9 .89a1 1 0 0 1 1 1a1 1 0 1 1 -2 .01c0 -.562 .448 -1.01 1 -1.01m-3.14 2.5a1 1 0 0 1 1 1a1 1 0 1 1 -2 .01c0 -.562 .448 -1.01 1 -1.01m-1.73 3.61a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m0 4a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m1.73 3.61a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m3.14 2.5a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1m3.9 .89a1 1 0 0 1 .993 .883l.007 .127a1 1 0 0 1 -1.993 .117l-.007 -.127a1 1 0 0 1 1 -1"},child:[]}]})(t)}function Tg(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M10 8v8h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-2z"},child:[]}]})(t)}function fc(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M14 8h-4v8h4"},child:[]},{tag:"path",attr:{d:"M10 12h2.5"},child:[]}]})(t)}function Es(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M14 8h-2a2 2 0 0 0 -2 2v4a2 2 0 0 0 2 2h2v-4h-1"},child:[]}]})(t)}function Ag(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 8v8"},child:[]}]})(t)}function Ts(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M10 12h2a2 2 0 1 0 0 -4h-2v8"},child:[]}]})(t)}function Pg(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]},{tag:"path",attr:{d:"M9 8l1 8l2 -5l2 5l1 -8"},child:[]}]})(t)}function Du(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 13v-8.5a1.5 1.5 0 0 1 3 0v7.5"},child:[]},{tag:"path",attr:{d:"M11 11.5v-2a1.5 1.5 0 0 1 3 0v2.5"},child:[]},{tag:"path",attr:{d:"M14 10.5a1.5 1.5 0 0 1 3 0v1.5"},child:[]},{tag:"path",attr:{d:"M17 11.5a1.5 1.5 0 0 1 3 0v4.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7l-.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"},child:[]},{tag:"path",attr:{d:"M5 3l-1 -1"},child:[]},{tag:"path",attr:{d:"M4 7h-1"},child:[]},{tag:"path",attr:{d:"M14 3l1 -1"},child:[]},{tag:"path",attr:{d:"M15 6h1"},child:[]}]})(t)}function Ig(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"},child:[]},{tag:"path",attr:{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(t)}function Lg(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19.933 13.041a8 8 0 1 1 -9.925 -8.788c3.899 -1 7.935 1.007 9.425 4.747"},child:[]},{tag:"path",attr:{d:"M20 4v5h-5"},child:[]}]})(t)}function In(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2"},child:[]},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 17v-5"},child:[]},{tag:"path",attr:{d:"M12 17v-1"},child:[]},{tag:"path",attr:{d:"M15 17v-3"},child:[]}]})(t)}function Fg(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h5.697"},child:[]},{tag:"path",attr:{d:"M18 14v4h4"},child:[]},{tag:"path",attr:{d:"M18 11v-4a2 2 0 0 0 -2 -2h-2"},child:[]},{tag:"path",attr:{d:"M8 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"},child:[]},{tag:"path",attr:{d:"M8 11h4"},child:[]},{tag:"path",attr:{d:"M8 15h3"},child:[]}]})(t)}function Mg(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 7a5 5 0 1 0 5 5"},child:[]},{tag:"path",attr:{d:"M13 3.055a9 9 0 1 0 7.941 7.945"},child:[]},{tag:"path",attr:{d:"M15 6v3h3l3 -3h-3v-3z"},child:[]},{tag:"path",attr:{d:"M15 9l-3 3"},child:[]}]})(t)}function Og(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.946 12.99a9 9 0 1 0 -9.46 7.995"},child:[]},{tag:"path",attr:{d:"M3.6 9h16.8"},child:[]},{tag:"path",attr:{d:"M3.6 15h13.9"},child:[]},{tag:"path",attr:{d:"M11.5 3a17 17 0 0 0 0 18"},child:[]},{tag:"path",attr:{d:"M12.5 3a16.997 16.997 0 0 1 2.311 12.001"},child:[]},{tag:"path",attr:{d:"M15 19l2 2l4 -4"},child:[]}]})(t)}function Vu(t){return Ye({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M140.41,44.9a12,12,0,0,1,14.69-8.49,90.12,90.12,0,0,1,64.49,64.49,12,12,0,1,1-23.18,6.2A66.42,66.42,0,0,0,148.9,59.59,12,12,0,0,1,140.41,44.9Zm87.44,138.68A60.27,60.27,0,0,1,168,236C86.39,236,20,169.61,20,88A60.27,60.27,0,0,1,72.42,28.15,20.05,20.05,0,0,1,93.2,40l21.11,47.13a1.42,1.42,0,0,0,.08.18,20,20,0,0,1-1.66,18.83,10.67,10.67,0,0,1-.85,1.15L92.82,130c7.06,12.84,20.5,26.16,33.49,33.21l22.31-19a13.08,13.08,0,0,1,1.12-.84,19.91,19.91,0,0,1,19-1.74l.18.08L216,162.8A20.06,20.06,0,0,1,227.85,183.58Zm-24.31-.06-42-18.81-22.43,19.07a11.63,11.63,0,0,1-1.11.85A20,20,0,0,1,118.31,186c-19.48-9.4-38.89-28.68-48.31-48a20,20,0,0,1,1.28-19.64,10.75,10.75,0,0,1,.86-1.15L91.3,94.49l-18.82-42A36.29,36.29,0,0,0,44,88,124.15,124.15,0,0,0,168,212,36.29,36.29,0,0,0,203.54,183.52ZM137.63,97.47a32,32,0,0,1,20.9,20.9,12,12,0,0,0,11.44,8.4,12.22,12.22,0,0,0,3.61-.55,12,12,0,0,0,7.84-15,56,56,0,0,0-36.59-36.59,12,12,0,1,0-7.2,22.89Z"},child:[]}]})(t)}function Bg(t){return Ye({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M168,128a40,40,0,1,1-40-40A40,40,0,0,1,168,128Zm40,0a79.74,79.74,0,0,0-20.37-53.33,8,8,0,1,0-11.92,10.67,64,64,0,0,1,0,85.33,8,8,0,0,0,11.92,10.67A79.79,79.79,0,0,0,208,128ZM80.29,85.34A8,8,0,1,0,68.37,74.67a79.94,79.94,0,0,0,0,106.67,8,8,0,0,0,11.92-10.67,63.95,63.95,0,0,1,0-85.33Zm158.28-4A119.48,119.48,0,0,0,213.71,44a8,8,0,1,0-11.42,11.2,103.9,103.9,0,0,1,0,145.56A8,8,0,1,0,213.71,212,120.12,120.12,0,0,0,238.57,81.29ZM32.17,168.48A103.9,103.9,0,0,1,53.71,55.22,8,8,0,1,0,42.29,44a119.87,119.87,0,0,0,0,168,8,8,0,1,0,11.42-11.2A103.61,103.61,0,0,1,32.17,168.48Z"},child:[]}]})(t)}function Uu(t){return Ye({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"},child:[]}]})(t)}function Rg(t){return Ye({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M90,24V16a6,6,0,0,1,12,0v8a6,6,0,0,1-12,0ZM16,102h8a6,6,0,0,0,0-12H16a6,6,0,0,0,0,12ZM125.32,37.37a6,6,0,0,0,8.05-2.69l8-16a6,6,0,0,0-10.74-5.37l-8,16A6,6,0,0,0,125.32,37.37Zm-96,85.26-16,8a6,6,0,0,0,5.36,10.74l16-8a6,6,0,1,0-5.36-10.74ZM217.9,185.41a14,14,0,0,1,0,19.8L205.21,217.9a14,14,0,0,1-19.8,0L134.1,166.59a2,2,0,0,0-3.21.54l-17.75,46.24a2.44,2.44,0,0,0-.1.24A13.85,13.85,0,0,1,100.26,222c-.23,0-.45,0-.68,0A13.85,13.85,0,0,1,87,212.38L34.7,52.3A14,14,0,0,1,52.3,34.7L212.38,87A14,14,0,0,1,213.61,113l-.24.09-46.25,17.76a2,2,0,0,0-.53,3.21Zm-8.49,8.49L158.1,142.59h0a14,14,0,0,1,4.32-22.74l.24-.1L208.91,102a2,2,0,0,0-.26-3.61L48.58,46.11a2.33,2.33,0,0,0-.65-.11,2,2,0,0,0-1.82,2.58L98.38,208.65a1.84,1.84,0,0,0,1.77,1.35,1.81,1.81,0,0,0,1.84-1.09l17.76-46.25.1-.24a14,14,0,0,1,22.74-4.32l51.31,51.31a2,2,0,0,0,2.83,0l12.68-12.68A2,2,0,0,0,209.41,193.9Z"},child:[]}]})(t)}function $g(t){return Ye({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M168,128a8,8,0,0,1-8,8H96a8,8,0,0,1,0-16h64A8,8,0,0,1,168,128Zm-8,24H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16ZM216,40V200a32,32,0,0,1-32,32H72a32,32,0,0,1-32-32V40a8,8,0,0,1,8-8H72V24a8,8,0,0,1,16,0v8h32V24a8,8,0,0,1,16,0v8h32V24a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,40Zm-16,8H184v8a8,8,0,0,1-16,0V48H136v8a8,8,0,0,1-16,0V48H88v8a8,8,0,0,1-16,0V48H56V200a16,16,0,0,0,16,16H184a16,16,0,0,0,16-16Z"},child:[]}]})(t)}const jg=({className:t,fill:a=!1,duotone:n=!0})=>e(J,{children:a?s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M22 5C22 6.65685 20.6569 8 19 8C17.3431 8 16 6.65685 16 5C16 3.34315 17.3431 2 19 2C20.6569 2 22 3.34315 22 5Z",fill:"currentColor"}),e("path",{opacity:n?"0.5":"1",d:"M15.2347 2.53476C14.2201 2.1881 13.132 2 12 2C6.47715 2 2 6.47715 2 12C2 13.5997 2.37562 15.1116 3.04346 16.4525C3.22094 16.8088 3.28001 17.2161 3.17712 17.6006L2.58151 19.8267C2.32295 20.793 3.20701 21.677 4.17335 21.4185L6.39938 20.8229C6.78393 20.72 7.19121 20.7791 7.54753 20.9565C8.88836 21.6244 10.4003 22 12 22C17.5228 22 22 17.5228 22 12C22 10.868 21.8119 9.77987 21.4652 8.76526C20.7572 9.22981 19.9101 9.5 19 9.5C16.5147 9.5 14.5 7.48528 14.5 5C14.5 4.08987 14.7702 3.24284 15.2347 2.53476Z",fill:"currentColor"})]}):s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("circle",{r:"3",transform:"matrix(-1 0 0 1 19 5)",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{opacity:n?"0.5":"1",d:"M14 2.20004C13.3538 2.06886 12.6849 2 12 2C6.47715 2 2 6.47715 2 12C2 13.5997 2.37562 15.1116 3.04346 16.4525C3.22094 16.8088 3.28001 17.2161 3.17712 17.6006L2.58151 19.8267C2.32295 20.793 3.20701 21.677 4.17335 21.4185L6.39939 20.8229C6.78393 20.72 7.19121 20.7791 7.54753 20.9565C8.88837 21.6244 10.4003 22 12 22C17.5228 22 22 17.5228 22 12C22 11.3151 21.9311 10.6462 21.8 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})});function zg({showDrawer:t,setShowDrawer:a}){const{addToast:n}=ct(),[r,i]=l.useState(!1),{logout:o,crmToken:m,authUser:u,apiUrl:c,settingData:p}=ee(),[f,h]=l.useState([]);l.useEffect(()=>{t&&b()},[t]);const b=async()=>{var x,L,F;i(!0);try{const O=await K({method:"get",url:c+"/api/broadcasts",headers:{"Content-Type":"application/json",Authorization:"Bearer "+m}});O.data.status=="success"&&(h(O.data.broadcasts),(L=(x=O==null?void 0:O.data)==null?void 0:x.broadcasts)!=null&&L.length&&S(qn(JSON.stringify(O.data.broadcasts[O.data.broadcasts.length-1]))))}catch(O){((F=O==null?void 0:O.response)==null?void 0:F.status)==401&&o()}finally{i(!1)}},S=ve(),[I]=l.useState({id:"",message:""}),[T,w]=l.useState(I),[_,A]=l.useState({}),k=()=>{A({});let x={};return T.message||(x={...x,message:"message is needed"}),A(x),{totalErrors:Object.keys(x).length}},[g,E]=l.useState(!1),N=x=>{const{value:L,name:F}=x.target;A({..._,[F]:""}),w({...T,[F]:L})},v=async x=>{var F,O;E(!0);try{const $=await K({method:"post",url:c+"/api/broadcasts",data:x,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+m}});$.data.status=="success"?(w(I),b(),n({variant:"success",title:$.data.message})):alert("Failed")}catch($){if(console.log($),((F=$==null?void 0:$.response)==null?void 0:F.status)==401&&o(),((O=$==null?void 0:$.response)==null?void 0:O.status)===422){const B=$.response.data.errors;let R={};for(var L in B)R={...R,[L]:B[L][0]};A(R),n({variant:"error",title:$.response.data.message})}}finally{E(!1)}},d=()=>{if(k().totalErrors)return n({variant:"error",title:"Validation Error! Please Solve"}),!1;const L=new FormData;L.append("id",T.id),L.append("message",T.message),v(L)},y=["Accounts","Admin","Analyst","Manager","Team Leader","HR","Complaince","Networking"],M=p!=null&&p.broadcast_permission?JSON.parse(p.broadcast_permission):[],C=y.includes(u.user_type)&&M.includes(u.user_type);return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[450px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center dark:bg-[#060818] bg-white-light p-4",children:[e("button",{type:"button",className:"px-4 py-4 absolute top-0 ltr:right-0 rtl:left-0 opacity-30 hover:opacity-100 dark:text-white",onClick:()=>a(!1),children:e(It,{className:" w-5 h-5"})}),e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:"Today's Advice"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e(qe,{className:"relative h-full sm:h-[calc(100vh_-_300px)] chat-conversation-box",children:s("div",{className:"space-y-5 p-4 sm:pb-0 pb-[68px] sm:min-h-[300px] min-h-[400px]",children:[e("div",{className:"block m-6 mt-0",children:e("h4",{className:"text-xs text-center border-b border-[#f4f4f4] dark:border-gray-800 relative",children:e("span",{className:"relative top-2 px-3 bg-white dark:bg-black",children:"Today"})})}),f==null?void 0:f.map(x=>e("div",{className:"flex items-start gap-3 justify-end",children:s("div",{className:"space-y-2",children:[s("div",{className:"flex justify-end gap-2 items-center",children:[e("div",{className:"text-xs text-white-dark ltr:text-right rtl:text-left",children:x.created_at}),s("div",{className:"flex gap-2 items-center",children:[s("b",{children:[x.first_name," ",x.last_name," ",s("i",{children:["[",x.user_type,"]"]})]}),e("img",{className:"w-6 h-6 rounded-full overflow-hidden object-cover",src:`https://ui-avatars.com/api/?background=0D8ABC&color=fff&name=${x.first_name+" "+x.last_name}`,alt:"img"})]})]}),e("div",{className:"flex float-right gap-3",children:e("div",{className:"bg-[#DBE7FF] dark:!bg-[#191e3a] ltr:rounded-br-none p-4 py-2 rounded-md rtl:rounded-bl-none font-bold",children:x.message})})]})},x.id))]})})}),e("div",{children:C?s("footer",{className:"w-full text-center border-t border-grey dark:bg-[#060818] bg-white-light p-4",children:[e("div",{className:"mb-3",children:e("textarea",{id:"message",name:"message",value:T.message,onChange:N,rows:3,className:"form-textarea",placeholder:"Recommendations",required:!0})}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{className:"btn shadow",onClick:()=>{alert("Under progress")},children:"Older Broadcast"}),e("button",{onClick:d,disabled:g,className:"btn btn-success",children:g?"Sending Please Wait...":"Send Notification"})]})]}):null})]})})]})}function Dg({showCallbackDrawer:t,setShowCallbackDrawer:a}){const n=ve(),[r,i]=l.useState(!0),{crmToken:o,apiUrl:m,logout:u}=ee(),c=_e(f=>f.themeConfig.callBacktData),p=async()=>{var f;i(!0);try{const h=await K({method:"get",url:m+"/api/get-callbacks",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});h.data.status=="success"&&n(Wn(h.data.callbacks))}catch(h){console.log(h),((f=h==null?void 0:h.response)==null?void 0:f.status)==401&&u()}finally{i(!1)}};return l.useEffect(()=>{t&&p()},[t]),s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[450px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center  p-4 bg-[#3b3f5c] text-white rounded-b-md",children:[e("button",{type:"button",className:"px-4 py-4 absolute top-0 ltr:right-0 rtl:left-0 opacity-30 hover:opacity-100 dark:text-white",onClick:()=>a(!1),children:e(It,{className:" w-5 h-5"})}),e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:"Today's Callback"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e(qe,{className:"relative h-full  ",children:e("div",{className:"space-y-5  sm:pb-0 pb-[68px] sm:min-h-[300px] min-h-[400px]",children:r?e(be,{}):c.length?e(J,{children:c.map(f=>s("div",{className:`mb-5 panel ${f.is_past?"bg-danger/10":"bg-[#DBE7FF]"}  mx-4`,children:[s("div",{className:"flex items-center justify-between  -m-5   p-5",children:[s("button",{type:"button",className:"flex font-semibold",children:[e("div",{className:"shrink-0 bg-secondary w-10 h-10 rounded-md flex items-center justify-center text-white ltr:mr-2 rtl:ml-2",children:e("span",{children:"FD"})}),s("div",{className:"text-left",children:[s("h6",{children:[f.first_name," ",f.last_name]}),e("p",{className:"text-xs text-white-dark mt-1",children:f.phone})]})]}),s("div",{className:"flex flex-col gap-2",children:[e("div",{className:"text-end",children:e("span",{className:"badge bg-dark",children:f.time})}),e("div",{className:"text-end",children:e("span",{className:"badge bg-info ",children:f.status})})]})]}),e("div",{className:"mt-2",children:e("p",{className:"text-[12px]",children:f.description})})]}))}):e("div",{className:"panel text-center text-[18px] font-medium bg-danger/10",children:e("h1",{children:"No Callbacks Today"})})})})}),e("footer",{className:"w-full text-center border-t border-grey h-8 bg-[#3b3f5c] rounded-t-md"})]})})]})}var Hu={};function Vg(t){if(!t||typeof window>"u")return;const a=document.createElement("style");return a.setAttribute("type","text/css"),a.innerHTML=t,document.head.appendChild(a),t}Object.defineProperty(Hu,"__esModule",{value:!0});var ht=l;function Ug(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var ya=Ug(ht);Vg(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const Hg=ht.forwardRef(function({style:a={},className:n="",autoFill:r=!1,play:i=!0,pauseOnHover:o=!1,pauseOnClick:m=!1,direction:u="left",speed:c=50,delay:p=0,loop:f=0,gradient:h=!1,gradientColor:b="white",gradientWidth:S=200,onFinish:I,onCycleComplete:T,onMount:w,children:_},A){const[k,g]=ht.useState(0),[E,N]=ht.useState(0),[v,d]=ht.useState(1),[y,M]=ht.useState(!1),C=ht.useRef(null),x=A||C,L=ht.useRef(null),F=ht.useCallback(()=>{if(L.current&&x.current){const H=x.current.getBoundingClientRect(),W=L.current.getBoundingClientRect();let q=H.width,D=W.width;(u==="up"||u==="down")&&(q=H.height,D=W.height),d(r&&q&&D&&D<q?Math.ceil(q/D):1),g(q),N(D)}},[r,x,u]);ht.useEffect(()=>{if(y&&(F(),L.current&&x.current)){const H=new ResizeObserver(()=>F());return H.observe(x.current),H.observe(L.current),()=>{H&&H.disconnect()}}},[F,x,y]),ht.useEffect(()=>{F()},[F,_]),ht.useEffect(()=>{M(!0)},[]),ht.useEffect(()=>{typeof w=="function"&&w()},[]);const O=ht.useMemo(()=>r?E*v/c:E<k?k/c:E/c,[r,k,E,v,c]),$=ht.useMemo(()=>Object.assign(Object.assign({},a),{"--pause-on-hover":!i||o?"paused":"running","--pause-on-click":!i||o&&!m||m?"paused":"running","--width":u==="up"||u==="down"?"100vh":"100%","--transform":u==="up"?"rotate(-90deg)":u==="down"?"rotate(90deg)":"none"}),[a,i,o,m,u]),B=ht.useMemo(()=>({"--gradient-color":b,"--gradient-width":typeof S=="number"?`${S}px`:S}),[b,S]),R=ht.useMemo(()=>({"--play":i?"running":"paused","--direction":u==="left"?"normal":"reverse","--duration":`${O}s`,"--delay":`${p}s`,"--iteration-count":f?`${f}`:"infinite","--min-width":r?"auto":"100%"}),[i,u,O,p,f,r]),P=ht.useMemo(()=>({"--transform":u==="up"?"rotate(90deg)":u==="down"?"rotate(-90deg)":"none"}),[u]),z=ht.useCallback(H=>[...Array(Number.isFinite(H)&&H>=0?H:0)].map((W,q)=>ya.default.createElement(ht.Fragment,{key:q},ht.Children.map(_,D=>ya.default.createElement("div",{style:P,className:"rfm-child"},D)))),[P,_]);return y?ya.default.createElement("div",{ref:x,style:$,className:"rfm-marquee-container "+n},h&&ya.default.createElement("div",{style:B,className:"rfm-overlay"}),ya.default.createElement("div",{className:"rfm-marquee",style:R,onAnimationIteration:T,onAnimationEnd:I},ya.default.createElement("div",{className:"rfm-initial-child-container",ref:L},ht.Children.map(_,H=>ya.default.createElement("div",{style:P,className:"rfm-child"},H))),z(v-1)),ya.default.createElement("div",{className:"rfm-marquee",style:R},z(v))):null});var Wg=Hu.default=Hg,qg="tippy-box",Wu="tippy-content",Zg="tippy-backdrop",qu="tippy-arrow",Zu="tippy-svg-arrow",Oa={passive:!0,capture:!0},Gu=function(){return document.body};function jr(t,a,n){if(Array.isArray(t)){var r=t[a];return r??(Array.isArray(n)?n[a]:n)}return t}function xl(t,a){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(a+"]")>-1}function Ku(t,a){return typeof t=="function"?t.apply(void 0,a):t}function gc(t,a){if(a===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},a)}}function Gg(t){return t.split(/\s+/).filter(Boolean)}function ln(t){return[].concat(t)}function bc(t,a){t.indexOf(a)===-1&&t.push(a)}function Kg(t){return t.filter(function(a,n){return t.indexOf(a)===n})}function Jg(t){return t.split("-")[0]}function Xs(t){return[].slice.call(t)}function vc(t){return Object.keys(t).reduce(function(a,n){return t[n]!==void 0&&(a[n]=t[n]),a},{})}function zn(){return document.createElement("div")}function yr(t){return["Element","Fragment"].some(function(a){return xl(t,a)})}function Yg(t){return xl(t,"NodeList")}function Xg(t){return xl(t,"MouseEvent")}function Qg(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function e0(t){return yr(t)?[t]:Yg(t)?Xs(t):Array.isArray(t)?t:Xs(document.querySelectorAll(t))}function zr(t,a){t.forEach(function(n){n&&(n.style.transitionDuration=a+"ms")})}function xc(t,a){t.forEach(function(n){n&&n.setAttribute("data-state",a)})}function t0(t){var a,n=ln(t),r=n[0];return r!=null&&(a=r.ownerDocument)!=null&&a.body?r.ownerDocument:document}function a0(t,a){var n=a.clientX,r=a.clientY;return t.every(function(i){var o=i.popperRect,m=i.popperState,u=i.props,c=u.interactiveBorder,p=Jg(m.placement),f=m.modifiersData.offset;if(!f)return!0;var h=p==="bottom"?f.top.y:0,b=p==="top"?f.bottom.y:0,S=p==="right"?f.left.x:0,I=p==="left"?f.right.x:0,T=o.top-r+h>c,w=r-o.bottom-b>c,_=o.left-n+S>c,A=n-o.right-I>c;return T||w||_||A})}function Dr(t,a,n){var r=a+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function yc(t,a){for(var n=a;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Jt={isTouch:!1},wc=0;function n0(){Jt.isTouch||(Jt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Ju))}function Ju(){var t=performance.now();t-wc<20&&(Jt.isTouch=!1,document.removeEventListener("mousemove",Ju)),wc=t}function s0(){var t=document.activeElement;if(Qg(t)){var a=t._tippy;t.blur&&!a.state.isVisible&&t.blur()}}function r0(){document.addEventListener("touchstart",n0,Oa),window.addEventListener("blur",s0)}var i0=typeof window<"u"&&typeof document<"u",l0=i0?!!window.msCrypto:!1,o0={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},c0={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Vt=Object.assign({appendTo:Gu,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},o0,c0),d0=Object.keys(Vt),u0=function(a){var n=Object.keys(a);n.forEach(function(r){Vt[r]=a[r]})};function Yu(t){var a=t.plugins||[],n=a.reduce(function(r,i){var o=i.name,m=i.defaultValue;if(o){var u;r[o]=t[o]!==void 0?t[o]:(u=Vt[o])!=null?u:m}return r},{});return Object.assign({},t,n)}function m0(t,a){var n=a?Object.keys(Yu(Object.assign({},Vt,{plugins:a}))):d0,r=n.reduce(function(i,o){var m=(t.getAttribute("data-tippy-"+o)||"").trim();if(!m)return i;if(o==="content")i[o]=m;else try{i[o]=JSON.parse(m)}catch{i[o]=m}return i},{});return r}function Nc(t,a){var n=Object.assign({},a,{content:Ku(a.content,[t])},a.ignoreAttributes?{}:m0(t,a.plugins));return n.aria=Object.assign({},Vt.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?a.interactive:n.aria.expanded,content:n.aria.content==="auto"?a.interactive?null:"describedby":n.aria.content},n}var h0=function(){return"innerHTML"};function Ai(t,a){t[h0()]=a}function _c(t){var a=zn();return t===!0?a.className=qu:(a.className=Zu,yr(t)?a.appendChild(t):Ai(a,t)),a}function kc(t,a){yr(a.content)?(Ai(t,""),t.appendChild(a.content)):typeof a.content!="function"&&(a.allowHTML?Ai(t,a.content):t.textContent=a.content)}function Pi(t){var a=t.firstElementChild,n=Xs(a.children);return{box:a,content:n.find(function(r){return r.classList.contains(Wu)}),arrow:n.find(function(r){return r.classList.contains(qu)||r.classList.contains(Zu)}),backdrop:n.find(function(r){return r.classList.contains(Zg)})}}function Xu(t){var a=zn(),n=zn();n.className=qg,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=zn();r.className=Wu,r.setAttribute("data-state","hidden"),kc(r,t.props),a.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,m){var u=Pi(a),c=u.box,p=u.content,f=u.arrow;m.theme?c.setAttribute("data-theme",m.theme):c.removeAttribute("data-theme"),typeof m.animation=="string"?c.setAttribute("data-animation",m.animation):c.removeAttribute("data-animation"),m.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth=typeof m.maxWidth=="number"?m.maxWidth+"px":m.maxWidth,m.role?c.setAttribute("role",m.role):c.removeAttribute("role"),(o.content!==m.content||o.allowHTML!==m.allowHTML)&&kc(p,t.props),m.arrow?f?o.arrow!==m.arrow&&(c.removeChild(f),c.appendChild(_c(m.arrow))):c.appendChild(_c(m.arrow)):f&&c.removeChild(f)}return{popper:a,onUpdate:i}}Xu.$$tippy=!0;var p0=1,As=[],Vr=[];function f0(t,a){var n=Nc(t,Object.assign({},Vt,Yu(vc(a)))),r,i,o,m=!1,u=!1,c=!1,p=!1,f,h,b,S=[],I=gc(G,n.interactiveDebounce),T,w=p0++,_=null,A=Kg(n.plugins),k={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},g={id:w,reference:t,popper:zn(),popperInstance:_,props:n,state:k,plugins:A,clearDelayTimeouts:Ge,setProps:Ke,setContent:de,show:Ne,hide:ie,hideWithInteractivity:we,enable:xe,disable:ye,unmount:Pe,destroy:Qe};if(!n.render)return g;var E=n.render(g),N=E.popper,v=E.onUpdate;N.setAttribute("data-tippy-root",""),N.id="tippy-"+g.id,g.popper=N,t._tippy=g,N._tippy=g;var d=A.map(function(se){return se.fn(g)}),y=t.hasAttribute("aria-expanded");return ae(),z(),B(),R("onCreate",[g]),n.showOnCreate&&Ue(),N.addEventListener("mouseenter",function(){g.props.interactive&&g.state.isVisible&&g.clearDelayTimeouts()}),N.addEventListener("mouseleave",function(){g.props.interactive&&g.props.trigger.indexOf("mouseenter")>=0&&F().addEventListener("mousemove",I)}),g;function M(){var se=g.props.touch;return Array.isArray(se)?se:[se,0]}function C(){return M()[0]==="hold"}function x(){var se;return!!((se=g.props.render)!=null&&se.$$tippy)}function L(){return T||t}function F(){var se=L().parentNode;return se?t0(se):document}function O(){return Pi(N)}function $(se){return g.state.isMounted&&!g.state.isVisible||Jt.isTouch||f&&f.type==="focus"?0:jr(g.props.delay,se?0:1,Vt.delay)}function B(se){se===void 0&&(se=!1),N.style.pointerEvents=g.props.interactive&&!se?"":"none",N.style.zIndex=""+g.props.zIndex}function R(se,ke,Ae){if(Ae===void 0&&(Ae=!0),d.forEach(function(Ee){Ee[se]&&Ee[se].apply(Ee,ke)}),Ae){var me;(me=g.props)[se].apply(me,ke)}}function P(){var se=g.props.aria;if(se.content){var ke="aria-"+se.content,Ae=N.id,me=ln(g.props.triggerTarget||t);me.forEach(function(Ee){var He=Ee.getAttribute(ke);if(g.state.isVisible)Ee.setAttribute(ke,He?He+" "+Ae:Ae);else{var mt=He&&He.replace(Ae,"").trim();mt?Ee.setAttribute(ke,mt):Ee.removeAttribute(ke)}})}}function z(){if(!(y||!g.props.aria.expanded)){var se=ln(g.props.triggerTarget||t);se.forEach(function(ke){g.props.interactive?ke.setAttribute("aria-expanded",g.state.isVisible&&ke===L()?"true":"false"):ke.removeAttribute("aria-expanded")})}}function H(){F().removeEventListener("mousemove",I),As=As.filter(function(se){return se!==I})}function W(se){if(!(Jt.isTouch&&(c||se.type==="mousedown"))){var ke=se.composedPath&&se.composedPath()[0]||se.target;if(!(g.props.interactive&&yc(N,ke))){if(ln(g.props.triggerTarget||t).some(function(Ae){return yc(Ae,ke)})){if(Jt.isTouch||g.state.isVisible&&g.props.trigger.indexOf("click")>=0)return}else R("onClickOutside",[g,se]);g.props.hideOnClick===!0&&(g.clearDelayTimeouts(),g.hide(),u=!0,setTimeout(function(){u=!1}),g.state.isMounted||j())}}}function q(){c=!0}function D(){c=!1}function V(){var se=F();se.addEventListener("mousedown",W,!0),se.addEventListener("touchend",W,Oa),se.addEventListener("touchstart",D,Oa),se.addEventListener("touchmove",q,Oa)}function j(){var se=F();se.removeEventListener("mousedown",W,!0),se.removeEventListener("touchend",W,Oa),se.removeEventListener("touchstart",D,Oa),se.removeEventListener("touchmove",q,Oa)}function U(se,ke){Y(se,function(){!g.state.isVisible&&N.parentNode&&N.parentNode.contains(N)&&ke()})}function Z(se,ke){Y(se,ke)}function Y(se,ke){var Ae=O().box;function me(Ee){Ee.target===Ae&&(Dr(Ae,"remove",me),ke())}if(se===0)return ke();Dr(Ae,"remove",h),Dr(Ae,"add",me),h=me}function X(se,ke,Ae){Ae===void 0&&(Ae=!1);var me=ln(g.props.triggerTarget||t);me.forEach(function(Ee){Ee.addEventListener(se,ke,Ae),S.push({node:Ee,eventType:se,handler:ke,options:Ae})})}function ae(){C()&&(X("touchstart",te,{passive:!0}),X("touchend",fe,{passive:!0})),Gg(g.props.trigger).forEach(function(se){if(se!=="manual")switch(X(se,te),se){case"mouseenter":X("mouseleave",fe);break;case"focus":X(l0?"focusout":"blur",ne);break;case"focusin":X("focusout",ne);break}})}function he(){S.forEach(function(se){var ke=se.node,Ae=se.eventType,me=se.handler,Ee=se.options;ke.removeEventListener(Ae,me,Ee)}),S=[]}function te(se){var ke,Ae=!1;if(!(!g.state.isEnabled||pe(se)||u)){var me=((ke=f)==null?void 0:ke.type)==="focus";f=se,T=se.currentTarget,z(),!g.state.isVisible&&Xg(se)&&As.forEach(function(Ee){return Ee(se)}),se.type==="click"&&(g.props.trigger.indexOf("mouseenter")<0||m)&&g.props.hideOnClick!==!1&&g.state.isVisible?Ae=!0:Ue(se),se.type==="click"&&(m=!Ae),Ae&&!me&&Te(se)}}function G(se){var ke=se.target,Ae=L().contains(ke)||N.contains(ke);if(!(se.type==="mousemove"&&Ae)){var me=Be().concat(N).map(function(Ee){var He,mt=Ee._tippy,Et=(He=mt.popperInstance)==null?void 0:He.state;return Et?{popperRect:Ee.getBoundingClientRect(),popperState:Et,props:n}:null}).filter(Boolean);a0(me,se)&&(H(),Te(se))}}function fe(se){var ke=pe(se)||g.props.trigger.indexOf("click")>=0&&m;if(!ke){if(g.props.interactive){g.hideWithInteractivity(se);return}Te(se)}}function ne(se){g.props.trigger.indexOf("focusin")<0&&se.target!==L()||g.props.interactive&&se.relatedTarget&&N.contains(se.relatedTarget)||Te(se)}function pe(se){return Jt.isTouch?C()!==se.type.indexOf("touch")>=0:!1}function ue(){le();var se=g.props,ke=se.popperOptions,Ae=se.placement,me=se.offset,Ee=se.getReferenceClientRect,He=se.moveTransition,mt=x()?Pi(N).arrow:null,Et=Ee?{getBoundingClientRect:Ee,contextElement:Ee.contextElement||L()}:t,xa={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Fa){var aa=Fa.state;if(x()){var _s=O(),tn=_s.box;["placement","reference-hidden","escaped"].forEach(function(Ma){Ma==="placement"?tn.setAttribute("data-placement",aa.placement):aa.attributes.popper["data-popper-"+Ma]?tn.setAttribute("data-"+Ma,""):tn.removeAttribute("data-"+Ma)}),aa.attributes.popper={}}}},$t=[{name:"offset",options:{offset:me}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!He}},xa];x()&&mt&&$t.push({name:"arrow",options:{element:mt,padding:3}}),$t.push.apply($t,(ke==null?void 0:ke.modifiers)||[]),g.popperInstance=Qf(Et,N,Object.assign({},ke,{placement:Ae,onFirstUpdate:b,modifiers:$t}))}function le(){g.popperInstance&&(g.popperInstance.destroy(),g.popperInstance=null)}function Ce(){var se=g.props.appendTo,ke,Ae=L();g.props.interactive&&se===Gu||se==="parent"?ke=Ae.parentNode:ke=Ku(se,[Ae]),ke.contains(N)||ke.appendChild(N),g.state.isMounted=!0,ue()}function Be(){return Xs(N.querySelectorAll("[data-tippy-root]"))}function Ue(se){g.clearDelayTimeouts(),se&&R("onTrigger",[g,se]),V();var ke=$(!0),Ae=M(),me=Ae[0],Ee=Ae[1];Jt.isTouch&&me==="hold"&&Ee&&(ke=Ee),ke?r=setTimeout(function(){g.show()},ke):g.show()}function Te(se){if(g.clearDelayTimeouts(),R("onUntrigger",[g,se]),!g.state.isVisible){j();return}if(!(g.props.trigger.indexOf("mouseenter")>=0&&g.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(se.type)>=0&&m)){var ke=$(!1);ke?i=setTimeout(function(){g.state.isVisible&&g.hide()},ke):o=requestAnimationFrame(function(){g.hide()})}}function xe(){g.state.isEnabled=!0}function ye(){g.hide(),g.state.isEnabled=!1}function Ge(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function Ke(se){if(!g.state.isDestroyed){R("onBeforeUpdate",[g,se]),he();var ke=g.props,Ae=Nc(t,Object.assign({},ke,vc(se),{ignoreAttributes:!0}));g.props=Ae,ae(),ke.interactiveDebounce!==Ae.interactiveDebounce&&(H(),I=gc(G,Ae.interactiveDebounce)),ke.triggerTarget&&!Ae.triggerTarget?ln(ke.triggerTarget).forEach(function(me){me.removeAttribute("aria-expanded")}):Ae.triggerTarget&&t.removeAttribute("aria-expanded"),z(),B(),v&&v(ke,Ae),g.popperInstance&&(ue(),Be().forEach(function(me){requestAnimationFrame(me._tippy.popperInstance.forceUpdate)})),R("onAfterUpdate",[g,se])}}function de(se){g.setProps({content:se})}function Ne(){var se=g.state.isVisible,ke=g.state.isDestroyed,Ae=!g.state.isEnabled,me=Jt.isTouch&&!g.props.touch,Ee=jr(g.props.duration,0,Vt.duration);if(!(se||ke||Ae||me)&&!L().hasAttribute("disabled")&&(R("onShow",[g],!1),g.props.onShow(g)!==!1)){if(g.state.isVisible=!0,x()&&(N.style.visibility="visible"),B(),V(),g.state.isMounted||(N.style.transition="none"),x()){var He=O(),mt=He.box,Et=He.content;zr([mt,Et],0)}b=function(){var $t;if(!(!g.state.isVisible||p)){if(p=!0,N.offsetHeight,N.style.transition=g.props.moveTransition,x()&&g.props.animation){var en=O(),Fa=en.box,aa=en.content;zr([Fa,aa],Ee),xc([Fa,aa],"visible")}P(),z(),bc(Vr,g),($t=g.popperInstance)==null||$t.forceUpdate(),R("onMount",[g]),g.props.animation&&x()&&Z(Ee,function(){g.state.isShown=!0,R("onShown",[g])})}},Ce()}}function ie(){var se=!g.state.isVisible,ke=g.state.isDestroyed,Ae=!g.state.isEnabled,me=jr(g.props.duration,1,Vt.duration);if(!(se||ke||Ae)&&(R("onHide",[g],!1),g.props.onHide(g)!==!1)){if(g.state.isVisible=!1,g.state.isShown=!1,p=!1,m=!1,x()&&(N.style.visibility="hidden"),H(),j(),B(!0),x()){var Ee=O(),He=Ee.box,mt=Ee.content;g.props.animation&&(zr([He,mt],me),xc([He,mt],"hidden"))}P(),z(),g.props.animation?x()&&U(me,g.unmount):g.unmount()}}function we(se){F().addEventListener("mousemove",I),bc(As,I),I(se)}function Pe(){g.state.isVisible&&g.hide(),g.state.isMounted&&(le(),Be().forEach(function(se){se._tippy.unmount()}),N.parentNode&&N.parentNode.removeChild(N),Vr=Vr.filter(function(se){return se!==g}),g.state.isMounted=!1,R("onHidden",[g]))}function Qe(){g.state.isDestroyed||(g.clearDelayTimeouts(),g.unmount(),he(),delete t._tippy,g.state.isDestroyed=!0,R("onDestroy",[g]))}}function ms(t,a){a===void 0&&(a={});var n=Vt.plugins.concat(a.plugins||[]);r0();var r=Object.assign({},a,{plugins:n}),i=e0(t),o=i.reduce(function(m,u){var c=u&&f0(u,r);return c&&m.push(c),m},[]);return yr(t)?o[0]:o}ms.defaultProps=Vt;ms.setDefaultProps=u0;ms.currentInput=Jt;Object.assign({},Xf,{effect:function(a){var n=a.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});ms.setDefaultProps({render:Xu});function Qu(t,a){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(a.indexOf(i)>=0)&&(n[i]=t[i]);return n}var em=typeof window<"u"&&typeof document<"u";function Ii(t,a){t&&(typeof t=="function"&&t(a),{}.hasOwnProperty.call(t,"current")&&(t.current=a))}function Cc(){return em&&document.createElement("div")}function g0(t){var a={"data-placement":t.placement};return t.referenceHidden&&(a["data-reference-hidden"]=""),t.escaped&&(a["data-escaped"]=""),a}function tm(t,a){if(t===a)return!0;if(typeof t=="object"&&t!=null&&typeof a=="object"&&a!=null){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(var n in t)if(a.hasOwnProperty(n)){if(!tm(t[n],a[n]))return!1}else return!1;return!0}else return!1}function b0(t){var a=[];return t.forEach(function(n){a.find(function(r){return tm(n,r)})||a.push(n)}),a}function v0(t,a){var n,r;return Object.assign({},a,{popperOptions:Object.assign({},t.popperOptions,a.popperOptions,{modifiers:b0([].concat(((n=t.popperOptions)==null?void 0:n.modifiers)||[],((r=a.popperOptions)==null?void 0:r.modifiers)||[]))})})}var Ur=em?l.useLayoutEffect:l.useEffect;function x0(t){var a=l.useRef();return a.current||(a.current=typeof t=="function"?t():t),a.current}function Sc(t,a,n){n.split(/\s+/).forEach(function(r){r&&t.classList[a](r)})}var y0={name:"className",defaultValue:"",fn:function(a){var n=a.popper.firstElementChild,r=function(){var u;return!!((u=a.props.render)!=null&&u.$$tippy)};function i(){a.props.className&&!r()||Sc(n,"add",a.props.className)}function o(){r()&&Sc(n,"remove",a.props.className)}return{onCreate:i,onBeforeUpdate:o,onAfterUpdate:i}}};function w0(t){function a(n){var r=n.children,i=n.content,o=n.visible,m=n.singleton,u=n.render,c=n.reference,p=n.disabled,f=p===void 0?!1:p,h=n.ignoreAttributes,b=h===void 0?!0:h;n.__source,n.__self;var S=Qu(n,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"]),I=o!==void 0,T=m!==void 0,w=l.useState(!1),_=w[0],A=w[1],k=l.useState({}),g=k[0],E=k[1],N=l.useState(),v=N[0],d=N[1],y=x0(function(){return{container:Cc(),renders:1}}),M=Object.assign({ignoreAttributes:b},S,{content:y.container});I&&(M.trigger="manual",M.hideOnClick=!1),T&&(f=!0);var C=M,x=M.plugins||[];u&&(C=Object.assign({},M,{plugins:T&&m.data!=null?[].concat(x,[{fn:function(){return{onTrigger:function($,B){var R=m.data.children.find(function(P){var z=P.instance;return z.reference===B.currentTarget});$.state.$$activeSingletonInstance=R.instance,d(R.content)}}}}]):x,render:function(){return{popper:y.container}}}));var L=[c].concat(r?[r.type]:[]);return Ur(function(){var F=c;c&&c.hasOwnProperty("current")&&(F=c.current);var O=t(F||y.ref||Cc(),Object.assign({},C,{plugins:[y0].concat(M.plugins||[])}));return y.instance=O,f&&O.disable(),o&&O.show(),T&&m.hook({instance:O,content:i,props:C,setSingletonContent:d}),A(!0),function(){O.destroy(),m==null||m.cleanup(O)}},L),Ur(function(){var F;if(y.renders===1){y.renders++;return}var O=y.instance;O.setProps(v0(O.props,C)),(F=O.popperInstance)==null||F.forceUpdate(),f?O.disable():O.enable(),I&&(o?O.show():O.hide()),T&&m.hook({instance:O,content:i,props:C,setSingletonContent:d})}),Ur(function(){var F;if(u){var O=y.instance;O.setProps({popperOptions:Object.assign({},O.props.popperOptions,{modifiers:[].concat((((F=O.props.popperOptions)==null?void 0:F.modifiers)||[]).filter(function($){var B=$.name;return B!=="$$tippyReact"}),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(B){var R,P=B.state,z=(R=P.modifiersData)==null?void 0:R.hide;(g.placement!==P.placement||g.referenceHidden!==(z==null?void 0:z.isReferenceHidden)||g.escaped!==(z==null?void 0:z.hasPopperEscaped))&&E({placement:P.placement,referenceHidden:z==null?void 0:z.isReferenceHidden,escaped:z==null?void 0:z.hasPopperEscaped}),P.attributes.popper={}}}])})})}},[g.placement,g.referenceHidden,g.escaped].concat(L)),Me.createElement(Me.Fragment,null,r?l.cloneElement(r,{ref:function(O){y.ref=O,Ii(r.ref,O)}}):null,_&&fu.createPortal(u?u(g0(g),v,y.instance):i,y.container))}return a}var N0=function(t,a){return l.forwardRef(function(r,i){var o=r.children,m=Qu(r,["children"]);return Me.createElement(t,Object.assign({},a,m),o?l.cloneElement(o,{ref:function(c){Ii(i,c),Ii(o.ref,c)}}):null)})},_0=N0(w0(ms));const lt=_0;function k0({updatePasswordPinModal:t,showUpdatePasswordPinModal:a,id:n}){ve();const{addToast:r}=ct(),{crmToken:i,apiUrl:o,logout:m}=ee(),[u]=l.useState({password:"",password_confirmation:"",pin:"",pin_confirmation:"",old_password:"",old_pin:""}),[c,p]=l.useState(u),[f,h]=l.useState({}),b=()=>{h({});let N={};return h(N),{totalErrors:Object.keys(N).length}},S=N=>{const{value:v,name:d}=N.target;h({...f,[d]:""}),p({...c,[d]:v})},[I,T]=l.useState(!1),[w,_]=l.useState([]),A=async N=>{var d,y;T(!0);try{const M=await K({method:"post",url:o+"/api/update-password-pin-by-employee",data:N,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});M.data.status=="success"?(p(u),a(!1),r({variant:"success",title:M.data.message})):_(M.data.message)}catch(M){if(((d=M==null?void 0:M.response)==null?void 0:d.status)==401&&m(),((y=M==null?void 0:M.response)==null?void 0:y.status)===422){const C=M.response.data.errors;let x={};for(var v in C)x={...x,[v]:C[v][0]};h(x),r({variant:"error",title:M.response.data.message})}}finally{T(!1)}},k=()=>{if(b().totalErrors)return r({variant:"error",title:"Server Validation Error! Please Solve"}),!1;const v=new FormData;v.append("id",n),v.append("password",c.password),v.append("password_confirmation",c.password_confirmation),v.append("pin",c.pin),v.append("pin_confirmation",c.pin_confirmation),v.append("old_password",c.old_password),v.append("old_pin",c.old_pin),A(v)},[g,E]=l.useState(!0);return e("div",{children:e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>{a(!1)},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"register_modal",className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 py-1 px-4 rounded-lg overflow-hidden w-full max-w-sm my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex items-center justify-between p-5 font-semibold text-lg dark:text-white",children:[e("h5",{onClick:()=>{E(!0)},className:" cursor-pointer btn btn-primary btn-sm",children:"Change Password"}),e("h5",{onClick:()=>{E(!1)},className:" cursor-pointer btn btn-primary btn-sm",children:"Change Pin"})]}),e("div",{className:"p-3",children:s("form",{autoComplete:"off",children:[g?s("div",{children:[s("div",{className:"relative mb-4",children:[e("input",{className:"form-input",type:"text",name:"old_password",onChange:N=>{S(N)},placeholder:"Enter Old Password"}),e("div",{className:"text-danger mt-1",children:f.old_password?f.old_password:w})]}),s("div",{className:"relative mb-4",children:[e("input",{className:"form-input",type:"text",name:"password",onChange:N=>{S(N)},placeholder:"Enter New Password"}),e("div",{className:"text-danger mt-1",children:f.password})]}),s("div",{className:"relative mb-4",children:[e("input",{className:"form-input",type:"text",name:"password_confirmation",onChange:N=>{S(N)},placeholder:"Enter Confirm Password "}),e("div",{className:"text-danger mt-1",children:f.password_confirmation})]})]}):s("div",{children:[s("div",{className:"relative mb-4",children:[e("input",{className:"form-input",type:"text",name:"old_pin",maxLength:4,onChange:N=>{S(N)},placeholder:"Enter Old Pin"}),e("div",{className:"text-danger mt-1",children:f.old_pin?f.old_pin:w})]}),s("div",{className:"relative mb-4",children:[e("input",{className:"form-input",type:"text",name:"pin",maxLength:4,onChange:N=>{S(N)},placeholder:"Enter New Pin"}),e("div",{className:"text-danger mt-1",children:f.pin})]}),s("div",{className:"relative mb-4",children:[e("input",{className:"form-input",type:"text",name:"pin_confirmation",maxLength:4,onChange:N=>{S(N)},placeholder:"Enter Confirm Pin "}),e("div",{className:"text-danger mt-1",children:f.pin_confirmation})]})]}),e("button",{type:"button",onClick:()=>k(),disabled:I,className:"btn btn-primary w-full",children:I?"Please Wait":"Submit & Logout"})]})})]})})})})]})})})}function C0({profileUpdateDrawer:t,showProfileUpdateDrawer:a}){const n=ve();Re();const{addToast:r}=ct(),{crmToken:i,apiUrl:o,authUser:m,logout:u}=ee();l.useEffect(()=>{n(i?Se("Update Profile"):at(""))},[i]);const c={first_name:"",last_name:"",phone_number:""},[p,f]=l.useState({}),[h,b]=l.useState(c);l.useEffect(()=>{b(m?{first_name:m.first_name,last_name:m.last_name,phone_number:m.phone_number}:c)},[m]);const S=E=>{const{value:N,name:v}=E.target;f({...p,[v]:""}),b({...h,[v]:N})},I=()=>{f({});let E={};return h.first_name||(E={...E,first_name:"first_name is required."}),h.last_name||(E={...E,last_name:"last_name is required."}),f(E),{totalErrors:Object.keys(E).length}},[T,w]=l.useState(!1),_=async E=>{var v,d;w(!0);try{const y=await K({method:"post",url:o+"/api/update-user-profile",data:E,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});y.data.status==="success"?(n(Gn(y.data.data)),r({variant:"success",title:y.data.message})):alert("Error")}catch(y){if(((v=y==null?void 0:y.response)==null?void 0:v.status)==401)u();else if(((d=y==null?void 0:y.response)==null?void 0:d.status)===422){const M=y.response.data.errors;let C={};for(var N in M)C={...C,[N]:M[N][0]},f(C);r({variant:"error",title:y.response.data.message})}}finally{w(!1)}};h.first_name+h.last_name;const A=()=>{if(I().totalErrors)return r({variant:"error",title:"Validation Error! Please Solve"}),!1;const N=new FormData;N.append("id",m==null?void 0:m.id),N.append("first_name",h.first_name),N.append("last_name",h.last_name),N.append("phone_number",h.phone_number),_(N)},[k,g]=l.useState(!1);return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!t)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4`,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:" border-b border-grey p-2 flex justify-between",children:[e("button",{className:"mb-1 dark:text-white font-bold",children:"Update Profile"}),e("div",{className:" flex gap-2",children:e("button",{onClick:()=>{g(!0)},className:" btn btn-sm btn-primary",children:"Change Password/Pin"})})]}),e(k0,{updatePasswordPinModal:k,showUpdatePasswordPinModal:g,id:m==null?void 0:m.id}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:s("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:[s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark",children:"First Name"}),e("input",{type:"text",placeholder:"Enter Name",className:"form-input",name:"first_name",onChange:E=>S(E),value:h.first_name}),e("div",{className:"text-danger font-semibold text-sm",children:p.first_name})]}),s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark",children:"Last Name"}),e("div",{className:"relative",children:e("input",{type:"text",placeholder:"",className:"form-input pr-10",name:"last_name",onChange:E=>S(E),value:h.last_name})}),e("div",{className:"text-danger font-semibold text-sm",children:p.last_name})]}),s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark",children:"Phone"}),e("input",{type:"text",placeholder:"",className:"form-input",name:"phone_number",onChange:E=>S(E),value:h.phone_number}),e("div",{className:"text-danger font-semibold text-sm",children:p.phone_number})]}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>A(),disabled:T,className:"btn  btn-dark shadow bg-black",children:T?"Please Wait...":"Update"})]})]})})]})})]})}function S0({searchDrawer:t,setSearchDrawer:a}){const{logout:n,crmToken:r,apiUrl:i}=ee(),o=Re(),[m,u]=l.useState(""),[c,p]=l.useState("");l.useEffect(()=>{t&&(u(""),p(""))},[t]),l.useEffect(()=>{m&&m.length>=10&&f(m)&&T()},[m]);function f(w){return/^\d+$/.test(w)}const[h,b]=l.useState(!1),[S,I]=l.useState(!1),T=async()=>{var w;b(!0),I(!1);try{const _=await K({method:"get",url:i+"/api/global-search",params:{search:m},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+r}});_.data.status=="success"&&p(_.data.leads),I(!0)}catch(_){console.log(_),((w=_==null?void 0:_.response)==null?void 0:w.status)==401&&n()}finally{b(!1)}};return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[450px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center  p-4 bg-[#3b3f5c] text-white rounded-b-md",children:[e("button",{type:"button",className:"px-4 py-4 absolute top-0 ltr:right-0 rtl:left-0 opacity-30 hover:opacity-100 dark:text-white",onClick:()=>a(!1),children:e(It,{className:" w-5 h-5"})}),e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:"Search Lead By Phone"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e(qe,{className:"relative h-full  ",children:s("div",{className:"space-y-5  sm:pb-0 pb-[68px] sm:min-h-[300px] min-h-[400px]",children:[s("div",{className:"p-4",children:[s("div",{className:"relative",children:[e("input",{type:"tel",className:"form-input ltr:pl-9 rtl:pr-9 ltr:sm:pr-4 rtl:sm:pl-4 ltr:pr-9 rtl:pl-9 peer sm:bg-transparent bg-gray-100 placeholder:tracking-widest",placeholder:"Enter 10 digits..",name:"global-search",value:m,onChange:w=>u(w.target.value)}),e("button",{type:"button",className:"absolute w-9 h-9 inset-0 ltr:right-auto rtl:left-auto appearance-none peer-focus:text-primary",children:s("svg",{className:"mx-auto",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("circle",{cx:"11.5",cy:"11.5",r:"9.5",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.5"}),e("path",{d:"M18.5 18.5L22 22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),e("button",{type:"button",className:"hover:opacity-80 sm:hidden block absolute top-1/2 -translate-y-1/2 ltr:right-2 rtl:left-2",onClick:()=>u(!1),children:s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("circle",{opacity:"0.5",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M14.5 9.50002L9.5 14.5M9.49998 9.5L14.5 14.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})]}),e("button",{type:"button",className:"search_btn sm:hidden p-2 rounded-full bg-white-light/40 dark:bg-dark/40 hover:bg-white-light/90 dark:hover:bg-dark/60",children:s("svg",{className:"w-4.5 h-4.5 mx-auto dark:text-[#d0d2d6]",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("circle",{cx:"11.5",cy:"11.5",r:"9.5",stroke:"currentColor",strokeWidth:"1.5",opacity:"0.5"}),e("path",{d:"M18.5 18.5L22 22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})})]}),e(J,{children:h?e(be,{}):e(J,{children:S?c.length?c==null?void 0:c.map((w,_)=>s("div",{className:"flex justify-between items-center bg-[#fafafa] m-4 rounded p-4",children:[s("div",{className:"min-w-[300px]",children:[s("div",{className:"flex justify-between items-center",children:[s("b",{children:[w.f_name," ",w.l_name]}),e("b",{children:w.phone})]}),s("div",{className:"flex justify-between items-center",children:[e("span",{className:`badge ${w.status=="Closed Won"?"bg-success":"bg-[#1d67a7]"}`,children:w.status}),s("div",{className:"flex items-center mt-2",children:[e("img",{className:"w-6 h-6 rounded-md ltr:mr-3 rtl:ml-3 object-cover",src:`https://ui-avatars.com/api/?background=0D8ABC&color=fff&name=${w.first_name+" "+w.last_name}`,alt:"avatar"}),e("span",{className:"whitespace-nowrap",children:s("b",{children:[w.first_name," ",w.last_name]})})]})]})]}),e("span",{children:e(Bt,{size:25,onClick:()=>{o("/leads/viewleads/show",{state:{lead_id:w.id,filterOwner:0,filterStatus:0,filterState:0,multyLead:0}}),a(!1)}})})]},_)):e("div",{className:"bg-secondary-light font-bold m-4 p-6 rounded text-[20px] text-center",children:"No Data Found"}):null})})]})})}),e("footer",{className:"w-full text-center border-t border-grey h-8 bg-[#3b3f5c] rounded-t-md"})]})})]})}function Bn(t){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M158.6 41l34.5 69.1L239.2 41zm114.2 0l46.1 69.1L353.4 41zM256 48.22L208.8 119h94.4zm-113.9.14L83.22 119h94.18zm227.8 0L334.6 119h94.2zM80.82 137L196.8 311H249l-63.4-174zm124.08 0L256 277.7 307.1 137zm121.5 0L263 311h52.2l116-174zM201 329v46h110v-46zm-67.8 64l-53.69 94H432.5l-53.7-94H183zm26.8 46h192v18H160z"},child:[]}]})(t)}function E0(t){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M115.063 21.97v9.343c0 101.953 38.158 189.648 96.343 222.093v6.094c-58.186 32.445-96.344 120.14-96.344 222.094v9.344H401.81v-9.344c0-102.552-38.804-190.274-97.53-222.188V253.5c58.722-31.917 97.53-119.64 97.53-222.188V21.97H115.06zM134 40.655h248.875c-2.477 96.445-42.742 175.523-91.938 198.906l-5.343 2.532V270.844l5.344 2.53c49.193 23.383 89.456 102.438 91.937 198.876H134c2.456-95.898 42.125-175.078 90.875-198.938l5.25-2.562v-28.594l-5.25-2.562c-48.748-23.86-88.42-103.04-90.875-198.938zm213.656 86.125c-57.607 27.81-124.526 27.84-177.562 4.095C184.748 181.78 213.91 218.012 248.22 224c-1.54 2.047-2.47 4.585-2.47 7.344 0 6.76 5.488 12.25 12.25 12.25s12.25-5.49 12.25-12.25c0-2.72-.907-5.218-2.406-7.25 35.426-5.88 65.488-44.07 79.812-97.313zM258 258.626c-6.762 0-12.25 5.488-12.25 12.25s5.488 12.25 12.25 12.25 12.25-5.488 12.25-12.25-5.488-12.25-12.25-12.25zm0 39.28c-6.762 0-12.25 5.49-12.25 12.25 0 6.763 5.488 12.25 12.25 12.25s12.25-5.487 12.25-12.25c0-6.76-5.488-12.25-12.25-12.25zm0 39.533c-6.762 0-12.25 5.488-12.25 12.25 0 6.76 5.488 12.25 12.25 12.25s12.25-5.49 12.25-12.25c0-6.762-5.488-12.25-12.25-12.25zm.125 39.906c-23.21.28-46.19 25.77-75.813 75.656h153c-30.523-51.003-53.977-75.936-77.187-75.656z"},child:[]}]})(t)}function T0(t){return Ye({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M41 25v462h46V71h31.3c-9-3.83-15.3-12.74-15.3-23s6.3-19.17 15.3-23H41zm96.7 0c9 3.83 15.3 12.74 15.3 23s-6.3 19.17-15.3 23h36.4c-4.5-6.57-7.1-14.49-7.1-23s2.6-16.43 7.1-23h-36.4zm70.3 0c-12.8 0-23 10.19-23 23s10.2 23 23 23 23-10.19 23-23-10.2-23-23-23zm33.9 0c4.5 6.57 7.1 14.49 7.1 23s-2.6 16.43-7.1 23h36.4c-9-3.83-15.3-12.74-15.3-23s6.3-19.17 15.3-23h-36.4zm55.8 0c9 3.83 15.3 12.74 15.3 23s-6.3 19.17-15.3 23H329v416h46V25h-77.3zm173.9 32.64l-32 32 12.8 12.76 32-32.04-12.8-12.72zM393 121v46h38.9c5.1 0 5.1-1.2 6-3 1-1.9 1.1-4 1.1-4v-32s-.1-2.1-1.1-4c-.9-1.8-.9-3-5.9-3h-39zm69 14v18h32v-18h-32zm-257.8 13.3c-17 2.2-32.5 22.1-32.5 48 0 14.2 5.1 26.8 12.3 35.4l8.5 10.3-13.3 2.5c-9.3 1.8-16.1 6.9-22 14.9-5.9 8-10.3 19.3-13.5 32.3-5.8 23.3-7 52.1-7.2 77.4h31.4l8.5 114.9c21.8 4.8 44.9 4.5 65.9 0l7.5-114.9h29.7c0-25.6-.4-54.7-5.5-78.4-2.9-12.9-7.2-24.2-13.1-32.1-6-8.1-13.3-13-23.8-14.7l-13.6-2 8.8-10.8c6.6-8.6 11.2-21 11.2-34.8 0-27.5-17.1-48-35.8-48h-3.5zm248.2 37.3l-12.8 12.8 32 32 12.8-12.8-32-32z"},child:[]}]})(t)}function A0(){const{logout:t,crmToken:a,settingData:n,authUser:r,apiUrl:i}=ee(),o=()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),[m,u]=l.useState(o()),c=St();l.useEffect(()=>{var b;const h=document.querySelector('ul.horizontal-menu a[href="'+window.location.pathname+'"]');if(h){h.classList.add("active");const S=document.querySelectorAll("ul.horizontal-menu .nav-link.active");for(let T=0;T<S.length;T++)(b=S[0])==null||b.classList.remove("active");const I=h.closest("ul.sub-menu");if(I){let T=I.closest("li.menu").querySelectorAll(".nav-link");T&&(T=T[0],setTimeout(()=>{T==null||T.classList.add("active")}))}}},[c]),l.useEffect(()=>{const h=setInterval(()=>{u(o())},3e4);return()=>clearInterval(h)},[]),l.useState(!1);const[p,f]=l.useState(!1);return s(J,{children:[s("div",{className:"flex justify-between items-center py-1 px-3 bg-white border-t border-[#ebedf2] dark:border-[#191e3a] dark:bg-black text-black dark:text-white-dark",children:[e("button",{className:"lg:hidden text-black dark:text-white-dark",onClick:()=>f(!0),children:e(gu,{size:24})}),s("ul",{style:{boxShadow:"none"},className:"horizontal-menu  hidden  text-base font-semibold  lg:space-x-1.5 xl:space-x-2 rtl:space-x-reverse bg-white  dark:bg-black text-black dark:text-white-dark",children:[(r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="Floor Manager"||(r==null?void 0:r.user_type)=="Branch Admin"?s("li",{className:"menu nav-item relative",children:[s("button",{type:"button",className:"nav-link",children:[s("div",{className:"flex items-center",children:[e(Ft,{}),e(Q,{to:"/",children:e("span",{className:"px-1",children:"Dashboard"})})]}),e("div",{className:"right_arrow",children:e("svg",{className:"rotate-90",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s("ul",{className:"sub-menu ",children:[e("li",{children:e(Q,{to:"/",children:"Leads Dashboard"})}),e("li",{children:e(Q,{to:"/sales-dashboard",children:"Sales Dashboard"})}),e("li",{children:e(Q,{to:"/custom-dashboard",children:"Custom Dashboard"})})]})]}):e("li",{className:"menu nav-item relative",children:e("button",{type:"button",className:"nav-link",children:s("div",{className:"flex items-center",children:[e(Ft,{}),e(Q,{to:"/",children:e("span",{className:"px-1",children:"Dashboard"})})]})})}),["Admin","Manager","Branch Admin","Floor Manager","Team Leader","BDE"].includes(r==null?void 0:r.user_type)?s("li",{className:"menu nav-item relative",children:[s("button",{type:"button",className:"nav-link",children:[s("div",{className:"flex items-center",children:[e(yi,{}),e("span",{className:"px-1",children:"Leads"})]}),e("div",{className:"right_arrow",children:e("svg",{className:"rotate-90",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s("ul",{className:"sub-menu",children:[e("li",{children:e(Q,{to:"/leads/viewleads",children:"View Leads"})}),e("li",{children:e(Q,{to:"/leads/addleads",children:"Add Leads"})}),((r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="Floor Manager"||(r==null?void 0:r.user_type)=="Branch Admin")&&s(J,{children:[e("li",{children:e(Q,{to:"/leads/uploadleads",children:"Upload Leads"})}),(n==null?void 0:n.app_enabled)===1&&e("li",{children:e(Q,{to:"/registerdClient",children:"App Registered Client"})})]})]})]}):null,(r==null?void 0:r.user_type)=="Manager"||(r==null?void 0:r.user_type)=="Team Leader"?e("li",{className:"menu nav-item relative",children:e("button",{type:"button",className:"nav-link",children:s("div",{className:"flex items-center",children:[e(Ft,{}),e(Q,{to:"/team-leads",children:e("span",{className:"px-1",children:"Team Leads"})})]})})}):null,["Admin","Branch Admin","Accounts","Manager","Floor Manager","Team Leader","BDE","HR","Complaince"].includes(r==null?void 0:r.user_type)?e("li",{className:"menu nav-item relative",children:e(Q,{to:"/sales",children:e("button",{type:"button",className:`${c.pathname=="/sales"?" bg-[#000]/[0.08] text-black":""} nav-link`,children:s("div",{className:"flex items-center",children:[e(Bn,{}),e("span",{className:"px-1",children:"Sales"})]})})})}):null,(r==null?void 0:r.user_type)=="Manager"||(r==null?void 0:r.user_type)=="Team Leader"?e("li",{className:"menu nav-item relative",children:e("button",{type:"button",className:`${c.pathname=="/team-sales"?" bg-[#000]/[0.08] text-black":""} nav-link`,children:s("div",{className:"flex items-center",children:[e(Bn,{}),e(Q,{to:"/team-sales",children:e("span",{className:"px-1",children:"Team Sales"})})]})})}):null,((r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager"||(r==null?void 0:r.user_type)==="Analyst")&&((n==null?void 0:n.company_type)===1&&((n==null?void 0:n.app_enabled)===1||(n==null?void 0:n.whatsapp_enabled)===1||(n==null?void 0:n.sms_enabled)===1)?s(J,{children:[s("li",{className:"menu nav-item relative",children:[s("button",{type:"button",className:"nav-link",children:[s("div",{className:"flex items-center",children:[e(In,{}),e("span",{className:"px-1",children:"Analyst"})]}),e("div",{className:"right_arrow",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"rotate-90",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s("ul",{className:"sub-menu",children:[e("li",{children:e(Q,{to:"/analyst/campaign",children:"Sales Campaign Update"})}),e("li",{children:e(Q,{to:"/analyst/saleservice",children:"Sales Campaign"})}),e("li",{children:e(Q,{to:"/analyst/free-trials/campaign",children:"FT Campaign Update"})}),e("li",{children:e(Q,{to:"/analyst/free-trial",children:"FT Campaign "})}),e("li",{children:e(Q,{to:"/analyst/expiredservice",children:"Expired Service"})}),e("li",{children:e(Q,{to:"/analyst/pausedservice",children:"Paused Service"})})]})]}),n!=null&&n.marketing_permission?s("li",{className:"menu nav-item relative",children:[s("button",{type:"button",className:"nav-link",children:[s("div",{className:"flex items-center",children:[e(In,{}),e("span",{className:"px-1",children:"Marketing"})]}),e("div",{className:"right_arrow",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"rotate-90",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s("ul",{className:"sub-menu",children:[e("li",{children:e(Q,{to:"/analyst/marketing/sms",children:"SMS Campaign"})}),e("li",{children:e(Q,{to:"/analyst/marketing/whatsapp",children:"Whatsapp Campaign"})})]})]}):""]}):null),(r.user_type==="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager"||r.user_type==="Accounts")&&((n==null?void 0:n.kyc_enabled)===1||(n==null?void 0:n.riskprofile_enabled)===1||(n==null?void 0:n.aggrement_enabled)===1||(n==null?void 0:n.invoice_enabled)===1)&&s("li",{className:"menu nav-item relative",children:[s("button",{type:"button",className:"nav-link",children:[s("div",{className:"flex items-center",children:[e(mc,{}),e("span",{className:"px-1",children:"Documents"})]}),e("div",{className:"right_arrow",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"rotate-90",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s("ul",{className:"sub-menu",children:[(n==null?void 0:n.kyc_enabled)===1&&e("li",{children:e(Q,{to:"/documents/kyc",children:"KYC"})}),(n==null?void 0:n.riskprofile_enabled)===1&&e("li",{children:e(Q,{to:"/documents/riskprofile",children:"Risk Profile"})}),(n==null?void 0:n.aggrement_enabled)===1&&e("li",{children:e(Q,{to:"/documents/agreement",children:"Agreement"})}),(n==null?void 0:n.invoice_enabled)===1&&e("li",{children:e(Q,{to:"/documents/invoice",children:"Invoice"})})]})]}),(r.user_type==="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager"||r.user_type==="Accounts"||r.user_type==="Analyst")&&s("li",{className:"menu nav-item relative",children:[s("button",{type:"button",className:"nav-link",children:[s("div",{className:"flex items-center",children:[e(In,{}),e("span",{className:"px-1",children:"Reports"})]}),e("div",{className:"right_arrow",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"rotate-90",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s("ul",{className:"sub-menu",children:[e("li",{children:e(Q,{to:"/reports/generatereport",children:"Generate Report"})}),(n==null?void 0:n.company_type)==1&&(n==null?void 0:n.sms_enabled)==1&&e("li",{children:e(Q,{to:"/reports/smsreport",children:"SMS Report"})}),(n==null?void 0:n.company_type)==1&&(n==null?void 0:n.whatsapp_enabled)==1&&e("li",{children:e(Q,{to:"/reports/whatsappreport",children:"WhatsApp Report"})}),(n==null?void 0:n.company_type)==1&&(n==null?void 0:n.app_enabled)==1&&e("li",{children:e(Q,{to:"/reports/notificationreport",children:"Application Report"})})]})]}),(r==null?void 0:r.user_type)=="HR"?s(J,{children:[e("button",{type:"button",className:"nav-link",children:s("div",{className:"flex items-center",children:[e(Ft,{}),e(Q,{to:"/settings/employees",children:e("span",{className:"px-1",children:"Employees"})})]})}),e("button",{type:"button",className:"nav-link",children:s("div",{className:"flex items-center",children:[e(Ft,{}),e(Q,{to:"/settings/ip-traking",children:e("span",{className:"px-1",children:"Attendances"})})]})})]}):null,(r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager"?e("li",{className:"menu nav-item relative",children:e("button",{type:"button",className:`${c.pathname=="/settings"?" bg-[#000]/[0.08] text-black":""} nav-link`,children:s("div",{className:"flex items-center",children:[e(wi,{}),e(Q,{to:"/settings",children:e("span",{className:"px-1",children:"Settings"})})]})})}):null,i=="https://growthcrm.thefinsap.com"&&((r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager")?e("li",{className:"menu nav-item relative",children:e("button",{type:"button",className:`${c.pathname=="/public-general"?" bg-[#000]/[0.08] text-black":""} nav-link`,children:s("div",{className:"flex items-center",children:[e(cc,{}),e(Q,{to:"/public-general",children:e("span",{className:"px-1",children:"Public Site "})})]})})}):null]}),e("button",{className:"btn btn-dark text-white btn-sm",children:m})]}),e("div",{children:e(ge,{appear:!0,show:p,as:l.Fragment,children:s(Ie,{as:"div",open:p,onClose:()=>f(!1),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-start min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{as:"div",className:"panel border-0 p-1 rounded-lg -m-5 overflow-hidden  w-[260px] h-[100vh] text-black dark:text-white-dark",children:[s("div",{className:"flex  dark:bg-[#121c2c] items-center justify-between px-5 pt-5",children:[e("div",{className:"horizontal-logo flex lg:hidden justify-between items-center ltr:mr-2 rtl:ml-2",children:n!=null&&n.logo?e(Q,{to:"/",className:"main-logo flex items-center shrink-0",children:e("img",{className:"w-[250px] ltr:-ml-1 rtl:-mr-1 inline max-w-[150px]",src:`${i}/storage/${n==null?void 0:n.logo}`,alt:`${n==null?void 0:n.crm_name}`})}):e("b",{className:"text-[20px]",children:n==null?void 0:n.crm_name})}),e("button",{type:"button",className:"text-white-dark hover:text-dark",onClick:()=>f(!1),children:"x"})]}),e("div",{className:"p-5",children:e("div",{className:"flex justify-between items-center  bg-white border-t border-[#ebedf2] dark:border-[#191e3a] dark:bg-black text-black dark:text-white-dark",children:s("ul",{style:{boxShadow:"none"},className:"horizontal-menu    text-base font-semibold  lg:space-x-1.5 xl:space-x-2 rtl:space-x-reverse bg-white  dark:bg-black text-black dark:text-white-dark",children:[(r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager"?s("li",{className:"menu nav-item relative ",children:[s("button",{type:"button",className:"nav-link bg-[#f1faff] w-48 rounded mt-2",children:[s("div",{className:"flex items-center",children:[e(Ft,{}),e(Q,{to:"/",children:e("span",{className:"px-1",children:"Dashboard"})})]}),e("div",{className:"right_arrow",children:e("svg",{className:"rotate-90",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s("ul",{className:"sub-menu ",children:[e("li",{children:e(Q,{to:"/",children:"Leads Dashboard"})}),e("li",{children:e(Q,{to:"/sales-dashboard",children:"Sales Dashboard"})})]})]}):e("li",{className:"menu nav-item relative ",children:e("button",{type:"button",className:"nav-link bg-[#f1faff] w-48 rounded mt-2",children:s("div",{className:"flex items-center",children:[e(Ft,{}),e(Q,{to:"/",children:e("span",{className:"px-1",children:"Dashboard"})})]})})}),["Admin","Manager","Branch Admin","Floor Manager","Team Leader","BDE"].includes(r==null?void 0:r.user_type)?s("li",{className:"menu nav-item relative ",children:[s("button",{type:"button",className:"nav-link bg-[#f1faff] w-48 rounded mt-2",children:[s("div",{className:"flex items-center",children:[e(yi,{}),e("span",{className:"px-1",children:"Leads"})]}),e("div",{className:"right_arrow",children:e("svg",{className:"rotate-90",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s("ul",{className:"sub-menu",children:[e("li",{children:e(Q,{to:"/leads/viewleads",children:"View Leads"})}),e("li",{children:e(Q,{to:"/leads/addleads",children:"Add Leads"})}),((r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager")&&s(J,{children:[e("li",{children:e(Q,{to:"/leads/uploadleads",children:"Upload Leads"})}),(n==null?void 0:n.app_enabled)===1&&e("li",{children:e(Q,{to:"/registerdClient",children:"App Registerd Client"})})]})]})]}):null,(r==null?void 0:r.user_type)=="Manager"||(r==null?void 0:r.user_type)=="Team Leader"?e("li",{className:"menu nav-item relative ",children:e("button",{type:"button",className:"nav-link bg-[#f1faff] w-48 rounded mt-2",children:s("div",{className:"flex items-center",children:[e(Ft,{}),e(Q,{to:"/team-leads",children:e("span",{className:"px-1",children:"Team Leads"})})]})})}):null,["Admin","Branch Admin","Accounts","Manager","Floor Manager","Team Leader","BDE"].includes(r==null?void 0:r.user_type)?e("li",{className:"menu nav-item relative ",children:e(Q,{to:"/sales",children:e("button",{type:"button",className:`${c.pathname=="/sales"?" bg-[#000]/[0.08] text-black":""} nav-link bg-[#f1faff] w-48 rounded mt-2`,children:s("div",{className:"flex items-center",children:[e(Bn,{}),e("span",{className:"px-1",children:"Sales"})]})})})}):null,(r==null?void 0:r.user_type)=="Manager"||(r==null?void 0:r.user_type)=="Team Leader"?e("li",{className:"menu nav-item relative ",children:e("button",{type:"button",className:`${c.pathname=="/team-sales"?" bg-[#000]/[0.08] text-black":""} nav-link bg-[#f1faff] w-48 rounded mt-2`,children:s("div",{className:"flex items-center",children:[e(Bn,{}),e(Q,{to:"/team-sales",children:e("span",{className:"px-1",children:"Team Sales"})})]})})}):null,((r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager"||(r==null?void 0:r.user_type)==="Analyst")&&((n==null?void 0:n.company_type)===1&&((n==null?void 0:n.app_enabled)===1||(n==null?void 0:n.whatsapp_enabled)===1||(n==null?void 0:n.sms_enabled)===1)?s("li",{className:"menu nav-item relative ",children:[s("button",{type:"button",className:"nav-link bg-[#f1faff] w-48 rounded mt-2",children:[s("div",{className:"flex items-center",children:[e(In,{}),e("span",{className:"px-1",children:"Analyst"})]}),e("div",{className:"right_arrow",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"rotate-90",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s("ul",{className:"sub-menu",children:[e("li",{children:e(Q,{to:"/analyst/campaign",children:"Campaign"})}),e("li",{children:e(Q,{to:"/analyst/saleservice",children:"Sales Campaign"})}),e("li",{children:e(Q,{to:"/analyst/expiredservice",children:"Expired Service"})}),e("li",{children:e(Q,{to:"/analyst/pausedservice",children:"Paused Service"})})]})]}):null),(r.user_type==="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager"||r.user_type==="Accounts"||r.user_type==="Analyst")&&(n==null?void 0:n.company_type)===1&&((n==null?void 0:n.kyc_enabled)===1||(n==null?void 0:n.riskprofile_enabled)===1||(n==null?void 0:n.aggrement_enabled)===1)&&s("li",{className:"menu nav-item relative ",children:[s("button",{type:"button",className:"nav-link bg-[#f1faff] w-48 rounded mt-2",children:[s("div",{className:"flex items-center",children:[e(mc,{}),e("span",{className:"px-1",children:"Documents"})]}),e("div",{className:"right_arrow",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"rotate-90",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s("ul",{className:"sub-menu",children:[(n==null?void 0:n.kyc_enabled)===1&&e("li",{children:e(Q,{to:"/documents/kyc",children:"KYC"})}),(n==null?void 0:n.riskprofile_enabled)===1&&e("li",{children:e(Q,{to:"/documents/riskprofile",children:"Risk Profile"})}),(n==null?void 0:n.aggrement_enabled)===1&&e("li",{children:e(Q,{to:"/documents/agreement",children:"Agreement"})}),(n==null?void 0:n.invoice_enabled)===1&&e("li",{children:e(Q,{to:"/documents/invoice",children:"Invoice"})})]})]}),(r.user_type==="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager"||r.user_type==="Accounts"||r.user_type==="Analyst")&&(n==null?void 0:n.company_type)===1&&((n==null?void 0:n.kyc_enabled)===1||(n==null?void 0:n.riskprofile_enabled)===1||(n==null?void 0:n.aggrement_enabled)===1)&&s("li",{className:"menu nav-item relative ",children:[s("button",{type:"button",className:"nav-link bg-[#f1faff] w-48 rounded mt-2",children:[s("div",{className:"flex items-center",children:[e(In,{}),e("span",{className:"px-1",children:"Reports"})]}),e("div",{className:"right_arrow",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"rotate-90",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),s("ul",{className:"sub-menu",children:[e("li",{children:e(Q,{to:"/reports/generatereport",children:"Generate Report"})}),(n==null?void 0:n.company_type)==1&&(n==null?void 0:n.sms_enabled)==1&&e("li",{children:e(Q,{to:"/reports/smsreport",children:"SMS Report"})}),(n==null?void 0:n.company_type)==1&&(n==null?void 0:n.whatsapp_enabled)==1&&e("li",{children:e(Q,{to:"/reports/whatsappreport",children:"WhatsApp Report"})}),(n==null?void 0:n.company_type)==1&&(n==null?void 0:n.app_enabled)==1&&e("li",{children:e(Q,{to:"/reports/notificationreport",children:"Application Report"})})]})]}),(r==null?void 0:r.user_type)=="HR"?s(J,{children:[e("button",{type:"button",className:"nav-link bg-[#f1faff] w-48 rounded mt-2",children:s("div",{className:"flex items-center",children:[e(Ft,{}),e(Q,{to:"/settings/employees",children:e("span",{className:"px-1",children:"Employees"})})]})}),e("button",{type:"button",className:"nav-link bg-[#f1faff] w-48 rounded mt-2",children:s("div",{className:"flex items-center",children:[e(Ft,{}),e(Q,{to:"/",children:e("span",{className:"px-1",children:"Attendances"})})]})})]}):null,(r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager"?e("li",{className:"menu nav-item relative ",children:e("button",{type:"button",className:`${c.pathname=="/settings"?" bg-[#000]/[0.08] text-black":""} nav-link bg-[#f1faff] w-48 rounded mt-2`,children:s("div",{className:"flex items-center",children:[e(wi,{}),e(Q,{to:"/settings",children:e("span",{className:"px-1",children:"Settings "})})]})})}):null,i=="https://growthcrm.thefinsap.com"&&((r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager")?e("li",{className:"menu nav-item relative ",children:e("button",{type:"button",className:`${c.pathname=="/public-general"?" bg-[#000]/[0.08] text-black":""} nav-link bg-[#f1faff] w-48 rounded mt-2`,children:s("div",{className:"flex items-center",children:[e(cc,{}),e(Q,{to:"/public-general",children:e("span",{className:"px-1",children:"Public Site"})})]})})}):null]})})})]})})})})]})})})]})}function P0({broadcast:t,isOpen:a,setIsOpen:n}){const r=ve(),i=()=>n(!1),[o]=l.useState(()=>new Audio("/broadcast.wav"));return l.useEffect(()=>{a&&o.play(),console.log("broadcast",t),t.new&&r(qn(JSON.stringify({...t,new:!1})))},[a,t]),e(J,{children:a&&s("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"}),s("div",{className:"bg-white rounded-lg p-6 shadow-lg w-full max-w-lg transform transition-all scale-95 animate-fadeIn",children:[s("div",{className:"flex items-center space-x-4",children:[e(Bg,{className:"text-red-500 text-4xl animate-[spin_2s_linear_infinite]"}),e("div",{children:e("h2",{className:"text-lg font-bold text-gray-800",children:"New Broadcast"})})]}),e("p",{className:"text-sm text-[#ff0303] mt-4 font-bold",children:t.message}),s("div",{className:"mt-4 flex justify-between items-center",children:[e("div",{children:e("b",{children:t.created_at})}),e("button",{onClick:i,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-200",children:"OK"})]})]})]})})}var Lt=function(){return Lt=Object.assign||function(a){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a[o]=n[o])}return a},Lt.apply(this,arguments)};function Kn(t,a,n){if(n||arguments.length===2)for(var r=0,i=a.length,o;r<i;r++)(o||!(r in a))&&(o||(o=Array.prototype.slice.call(a,0,r)),o[r]=a[r]);return t.concat(o||Array.prototype.slice.call(a))}var ot="-ms-",Dn="-moz-",tt="-webkit-",am="comm",wr="rule",yl="decl",I0="@import",nm="@keyframes",L0="@layer",sm=Math.abs,wl=String.fromCharCode,Li=Object.assign;function F0(t,a){return wt(t,0)^45?(((a<<2^wt(t,0))<<2^wt(t,1))<<2^wt(t,2))<<2^wt(t,3):0}function rm(t){return t.trim()}function na(t,a){return(t=a.exec(t))?t[0]:t}function Ze(t,a,n){return t.replace(a,n)}function js(t,a,n){return t.indexOf(a,n)}function wt(t,a){return t.charCodeAt(a)|0}function bn(t,a,n){return t.slice(a,n)}function Yt(t){return t.length}function im(t){return t.length}function Rn(t,a){return a.push(t),t}function M0(t,a){return t.map(a).join("")}function Ec(t,a){return t.filter(function(n){return!na(n,a)})}var Nr=1,vn=1,lm=0,zt=0,xt=0,Cn="";function _r(t,a,n,r,i,o,m,u){return{value:t,root:a,parent:n,type:r,props:i,children:o,line:Nr,column:vn,length:m,return:"",siblings:u}}function Na(t,a){return Li(_r("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},a)}function sn(t){for(;t.root;)t=Na(t.root,{children:[t]});Rn(t,t.siblings)}function O0(){return xt}function B0(){return xt=zt>0?wt(Cn,--zt):0,vn--,xt===10&&(vn=1,Nr--),xt}function Ut(){return xt=zt<lm?wt(Cn,zt++):0,vn++,xt===10&&(vn=1,Nr++),xt}function Da(){return wt(Cn,zt)}function zs(){return zt}function kr(t,a){return bn(Cn,t,a)}function Fi(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R0(t){return Nr=vn=1,lm=Yt(Cn=t),zt=0,[]}function $0(t){return Cn="",t}function Hr(t){return rm(kr(zt-1,Mi(t===91?t+2:t===40?t+1:t)))}function j0(t){for(;(xt=Da())&&xt<33;)Ut();return Fi(t)>2||Fi(xt)>3?"":" "}function z0(t,a){for(;--a&&Ut()&&!(xt<48||xt>102||xt>57&&xt<65||xt>70&&xt<97););return kr(t,zs()+(a<6&&Da()==32&&Ut()==32))}function Mi(t){for(;Ut();)switch(xt){case t:return zt;case 34:case 39:t!==34&&t!==39&&Mi(xt);break;case 40:t===41&&Mi(t);break;case 92:Ut();break}return zt}function D0(t,a){for(;Ut()&&t+xt!==47+10;)if(t+xt===42+42&&Da()===47)break;return"/*"+kr(a,zt-1)+"*"+wl(t===47?t:Ut())}function V0(t){for(;!Fi(Da());)Ut();return kr(t,zt)}function U0(t){return $0(Ds("",null,null,null,[""],t=R0(t),0,[0],t))}function Ds(t,a,n,r,i,o,m,u,c){for(var p=0,f=0,h=m,b=0,S=0,I=0,T=1,w=1,_=1,A=0,k="",g=i,E=o,N=r,v=k;w;)switch(I=A,A=Ut()){case 40:if(I!=108&&wt(v,h-1)==58){js(v+=Ze(Hr(A),"&","&\f"),"&\f",sm(p?u[p-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:v+=Hr(A);break;case 9:case 10:case 13:case 32:v+=j0(I);break;case 92:v+=z0(zs()-1,7);continue;case 47:switch(Da()){case 42:case 47:Rn(H0(D0(Ut(),zs()),a,n,c),c);break;default:v+="/"}break;case 123*T:u[p++]=Yt(v)*_;case 125*T:case 59:case 0:switch(A){case 0:case 125:w=0;case 59+f:_==-1&&(v=Ze(v,/\f/g,"")),S>0&&Yt(v)-h&&Rn(S>32?Ac(v+";",r,n,h-1,c):Ac(Ze(v," ","")+";",r,n,h-2,c),c);break;case 59:v+=";";default:if(Rn(N=Tc(v,a,n,p,f,i,u,k,g=[],E=[],h,o),o),A===123)if(f===0)Ds(v,a,N,N,g,o,h,u,E);else switch(b===99&&wt(v,3)===110?100:b){case 100:case 108:case 109:case 115:Ds(t,N,N,r&&Rn(Tc(t,N,N,0,0,i,u,k,i,g=[],h,E),E),i,E,h,u,r?g:E);break;default:Ds(v,N,N,N,[""],E,0,u,E)}}p=f=S=0,T=_=1,k=v="",h=m;break;case 58:h=1+Yt(v),S=I;default:if(T<1){if(A==123)--T;else if(A==125&&T++==0&&B0()==125)continue}switch(v+=wl(A),A*T){case 38:_=f>0?1:(v+="\f",-1);break;case 44:u[p++]=(Yt(v)-1)*_,_=1;break;case 64:Da()===45&&(v+=Hr(Ut())),b=Da(),f=h=Yt(k=v+=V0(zs())),A++;break;case 45:I===45&&Yt(v)==2&&(T=0)}}return o}function Tc(t,a,n,r,i,o,m,u,c,p,f,h){for(var b=i-1,S=i===0?o:[""],I=im(S),T=0,w=0,_=0;T<r;++T)for(var A=0,k=bn(t,b+1,b=sm(w=m[T])),g=t;A<I;++A)(g=rm(w>0?S[A]+" "+k:Ze(k,/&\f/g,S[A])))&&(c[_++]=g);return _r(t,a,n,i===0?wr:u,c,p,f,h)}function H0(t,a,n,r){return _r(t,a,n,am,wl(O0()),bn(t,2,-2),0,r)}function Ac(t,a,n,r,i){return _r(t,a,n,yl,bn(t,0,r),bn(t,r+1,-1),r,i)}function om(t,a,n){switch(F0(t,a)){case 5103:return tt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return tt+t+t;case 4789:return Dn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return tt+t+Dn+t+ot+t+t;case 5936:switch(wt(t,a+11)){case 114:return tt+t+ot+Ze(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return tt+t+ot+Ze(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return tt+t+ot+Ze(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return tt+t+ot+t+t;case 6165:return tt+t+ot+"flex-"+t+t;case 5187:return tt+t+Ze(t,/(\w+).+(:[^]+)/,tt+"box-$1$2"+ot+"flex-$1$2")+t;case 5443:return tt+t+ot+"flex-item-"+Ze(t,/flex-|-self/g,"")+(na(t,/flex-|baseline/)?"":ot+"grid-row-"+Ze(t,/flex-|-self/g,""))+t;case 4675:return tt+t+ot+"flex-line-pack"+Ze(t,/align-content|flex-|-self/g,"")+t;case 5548:return tt+t+ot+Ze(t,"shrink","negative")+t;case 5292:return tt+t+ot+Ze(t,"basis","preferred-size")+t;case 6060:return tt+"box-"+Ze(t,"-grow","")+tt+t+ot+Ze(t,"grow","positive")+t;case 4554:return tt+Ze(t,/([^-])(transform)/g,"$1"+tt+"$2")+t;case 6187:return Ze(Ze(Ze(t,/(zoom-|grab)/,tt+"$1"),/(image-set)/,tt+"$1"),t,"")+t;case 5495:case 3959:return Ze(t,/(image-set\([^]*)/,tt+"$1$`$1");case 4968:return Ze(Ze(t,/(.+:)(flex-)?(.*)/,tt+"box-pack:$3"+ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+tt+t+t;case 4200:if(!na(t,/flex-|baseline/))return ot+"grid-column-align"+bn(t,a)+t;break;case 2592:case 3360:return ot+Ze(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return a=i,na(r.props,/grid-\w+-end/)})?~js(t+(n=n[a].value),"span",0)?t:ot+Ze(t,"-start","")+t+ot+"grid-row-span:"+(~js(n,"span",0)?na(n,/\d+/):+na(n,/\d+/)-+na(t,/\d+/))+";":ot+Ze(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return na(r.props,/grid-\w+-start/)})?t:ot+Ze(Ze(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ze(t,/(.+)-inline(.+)/,tt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yt(t)-1-a>6)switch(wt(t,a+1)){case 109:if(wt(t,a+4)!==45)break;case 102:return Ze(t,/(.+:)(.+)-([^]+)/,"$1"+tt+"$2-$3$1"+Dn+(wt(t,a+3)==108?"$3":"$2-$3"))+t;case 115:return~js(t,"stretch",0)?om(Ze(t,"stretch","fill-available"),a,n)+t:t}break;case 5152:case 5920:return Ze(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,o,m,u,c,p){return ot+i+":"+o+p+(m?ot+i+"-span:"+(u?c:+c-+o)+p:"")+t});case 4949:if(wt(t,a+6)===121)return Ze(t,":",":"+tt)+t;break;case 6444:switch(wt(t,wt(t,14)===45?18:11)){case 120:return Ze(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+tt+(wt(t,14)===45?"inline-":"")+"box$3$1"+tt+"$2$3$1"+ot+"$2box$3")+t;case 100:return Ze(t,":",":"+ot)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ze(t,"scroll-","scroll-snap-")+t}return t}function Qs(t,a){for(var n="",r=0;r<t.length;r++)n+=a(t[r],r,t,a)||"";return n}function W0(t,a,n,r){switch(t.type){case L0:if(t.children.length)break;case I0:case yl:return t.return=t.return||t.value;case am:return"";case nm:return t.return=t.value+"{"+Qs(t.children,r)+"}";case wr:if(!Yt(t.value=t.props.join(",")))return""}return Yt(n=Qs(t.children,r))?t.return=t.value+"{"+n+"}":""}function q0(t){var a=im(t);return function(n,r,i,o){for(var m="",u=0;u<a;u++)m+=t[u](n,r,i,o)||"";return m}}function Z0(t){return function(a){a.root||(a=a.return)&&t(a)}}function G0(t,a,n,r){if(t.length>-1&&!t.return)switch(t.type){case yl:t.return=om(t.value,t.length,n);return;case nm:return Qs([Na(t,{value:Ze(t.value,"@","@"+tt)})],r);case wr:if(t.length)return M0(n=t.props,function(i){switch(na(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":sn(Na(t,{props:[Ze(i,/:(read-\w+)/,":"+Dn+"$1")]})),sn(Na(t,{props:[i]})),Li(t,{props:Ec(n,r)});break;case"::placeholder":sn(Na(t,{props:[Ze(i,/:(plac\w+)/,":"+tt+"input-$1")]})),sn(Na(t,{props:[Ze(i,/:(plac\w+)/,":"+Dn+"$1")]})),sn(Na(t,{props:[Ze(i,/:(plac\w+)/,ot+"input-$1")]})),sn(Na(t,{props:[i]})),Li(t,{props:Ec(n,r)});break}return""})}}var K0={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xn=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",cm="active",dm="data-styled-version",Cr="6.1.13",Nl=`/*!sc*/
`,er=typeof window<"u"&&"HTMLElement"in window,J0=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),Sr=Object.freeze([]),yn=Object.freeze({});function Y0(t,a,n){return n===void 0&&(n=yn),t.theme!==n.theme&&t.theme||a||n.theme}var um=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),X0=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Q0=/(^-|-$)/g;function Pc(t){return t.replace(X0,"-").replace(Q0,"")}var eb=/(a)(d)/gi,Ps=52,Ic=function(t){return String.fromCharCode(t+(t>25?39:97))};function Oi(t){var a,n="";for(a=Math.abs(t);a>Ps;a=a/Ps|0)n=Ic(a%Ps)+n;return(Ic(a%Ps)+n).replace(eb,"$1-$2")}var Wr,mm=5381,cn=function(t,a){for(var n=a.length;n;)t=33*t^a.charCodeAt(--n);return t},hm=function(t){return cn(mm,t)};function pm(t){return Oi(hm(t)>>>0)}function tb(t){return t.displayName||t.name||"Component"}function qr(t){return typeof t=="string"&&!0}var fm=typeof Symbol=="function"&&Symbol.for,gm=fm?Symbol.for("react.memo"):60115,ab=fm?Symbol.for("react.forward_ref"):60112,nb={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sb={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bm={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rb=((Wr={})[ab]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Wr[gm]=bm,Wr);function Lc(t){return("type"in(a=t)&&a.type.$$typeof)===gm?bm:"$$typeof"in t?rb[t.$$typeof]:nb;var a}var ib=Object.defineProperty,lb=Object.getOwnPropertyNames,Fc=Object.getOwnPropertySymbols,ob=Object.getOwnPropertyDescriptor,cb=Object.getPrototypeOf,Mc=Object.prototype;function vm(t,a,n){if(typeof a!="string"){if(Mc){var r=cb(a);r&&r!==Mc&&vm(t,r,n)}var i=lb(a);Fc&&(i=i.concat(Fc(a)));for(var o=Lc(t),m=Lc(a),u=0;u<i.length;++u){var c=i[u];if(!(c in sb||n&&n[c]||m&&c in m||o&&c in o)){var p=ob(a,c);try{ib(t,c,p)}catch{}}}}return t}function wn(t){return typeof t=="function"}function _l(t){return typeof t=="object"&&"styledComponentId"in t}function ja(t,a){return t&&a?"".concat(t," ").concat(a):t||a||""}function Bi(t,a){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=a?a+t[r]:t[r];return n}function Jn(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function Ri(t,a,n){if(n===void 0&&(n=!1),!n&&!Jn(t)&&!Array.isArray(t))return a;if(Array.isArray(a))for(var r=0;r<a.length;r++)t[r]=Ri(t[r],a[r]);else if(Jn(a))for(var r in a)t[r]=Ri(t[r],a[r]);return t}function kl(t,a){Object.defineProperty(t,"toString",{value:a})}function hs(t){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(a.length>0?" Args: ".concat(a.join(", ")):""))}var db=function(){function t(a){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=a}return t.prototype.indexOfGroup=function(a){for(var n=0,r=0;r<a;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(a,n){if(a>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,o=i;a>=o;)if((o<<=1)<0)throw hs(16,"".concat(a));this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var m=i;m<o;m++)this.groupSizes[m]=0}for(var u=this.indexOfGroup(a+1),c=(m=0,n.length);m<c;m++)this.tag.insertRule(u,n[m])&&(this.groupSizes[a]++,u++)},t.prototype.clearGroup=function(a){if(a<this.length){var n=this.groupSizes[a],r=this.indexOfGroup(a),i=r+n;this.groupSizes[a]=0;for(var o=r;o<i;o++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(a){var n="";if(a>=this.length||this.groupSizes[a]===0)return n;for(var r=this.groupSizes[a],i=this.indexOfGroup(a),o=i+r,m=i;m<o;m++)n+="".concat(this.tag.getRule(m)).concat(Nl);return n},t}(),Vs=new Map,tr=new Map,Us=1,Is=function(t){if(Vs.has(t))return Vs.get(t);for(;tr.has(Us);)Us++;var a=Us++;return Vs.set(t,a),tr.set(a,t),a},ub=function(t,a){Us=a+1,Vs.set(t,a),tr.set(a,t)},mb="style[".concat(xn,"][").concat(dm,'="').concat(Cr,'"]'),hb=new RegExp("^".concat(xn,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),pb=function(t,a,n){for(var r,i=n.split(","),o=0,m=i.length;o<m;o++)(r=i[o])&&t.registerName(a,r)},fb=function(t,a){for(var n,r=((n=a.textContent)!==null&&n!==void 0?n:"").split(Nl),i=[],o=0,m=r.length;o<m;o++){var u=r[o].trim();if(u){var c=u.match(hb);if(c){var p=0|parseInt(c[1],10),f=c[2];p!==0&&(ub(f,p),pb(t,f,c[3]),t.getTag().insertRules(p,i)),i.length=0}else i.push(u)}}},Oc=function(t){for(var a=document.querySelectorAll(mb),n=0,r=a.length;n<r;n++){var i=a[n];i&&i.getAttribute(xn)!==cm&&(fb(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function gb(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var xm=function(t){var a=document.head,n=t||a,r=document.createElement("style"),i=function(u){var c=Array.from(u.querySelectorAll("style[".concat(xn,"]")));return c[c.length-1]}(n),o=i!==void 0?i.nextSibling:null;r.setAttribute(xn,cm),r.setAttribute(dm,Cr);var m=gb();return m&&r.setAttribute("nonce",m),n.insertBefore(r,o),r},bb=function(){function t(a){this.element=xm(a),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,o=r.length;i<o;i++){var m=r[i];if(m.ownerNode===n)return m}throw hs(17)}(this.element),this.length=0}return t.prototype.insertRule=function(a,n){try{return this.sheet.insertRule(n,a),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(a){this.sheet.deleteRule(a),this.length--},t.prototype.getRule=function(a){var n=this.sheet.cssRules[a];return n&&n.cssText?n.cssText:""},t}(),vb=function(){function t(a){this.element=xm(a),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(a,n){if(a<=this.length&&a>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[a]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(a){this.element.removeChild(this.nodes[a]),this.length--},t.prototype.getRule=function(a){return a<this.length?this.nodes[a].textContent:""},t}(),xb=function(){function t(a){this.rules=[],this.length=0}return t.prototype.insertRule=function(a,n){return a<=this.length&&(this.rules.splice(a,0,n),this.length++,!0)},t.prototype.deleteRule=function(a){this.rules.splice(a,1),this.length--},t.prototype.getRule=function(a){return a<this.length?this.rules[a]:""},t}(),Bc=er,yb={isServer:!er,useCSSOMInjection:!J0},ym=function(){function t(a,n,r){a===void 0&&(a=yn),n===void 0&&(n={});var i=this;this.options=Lt(Lt({},yb),a),this.gs=n,this.names=new Map(r),this.server=!!a.isServer,!this.server&&er&&Bc&&(Bc=!1,Oc(this)),kl(this,function(){return function(o){for(var m=o.getTag(),u=m.length,c="",p=function(h){var b=function(_){return tr.get(_)}(h);if(b===void 0)return"continue";var S=o.names.get(b),I=m.getGroup(h);if(S===void 0||!S.size||I.length===0)return"continue";var T="".concat(xn,".g").concat(h,'[id="').concat(b,'"]'),w="";S!==void 0&&S.forEach(function(_){_.length>0&&(w+="".concat(_,","))}),c+="".concat(I).concat(T,'{content:"').concat(w,'"}').concat(Nl)},f=0;f<u;f++)p(f);return c}(i)})}return t.registerId=function(a){return Is(a)},t.prototype.rehydrate=function(){!this.server&&er&&Oc(this)},t.prototype.reconstructWithOptions=function(a,n){return n===void 0&&(n=!0),new t(Lt(Lt({},this.options),a),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(a){return this.gs[a]=(this.gs[a]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(a=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new xb(i):r?new bb(i):new vb(i)}(this.options),new db(a)));var a},t.prototype.hasNameForId=function(a,n){return this.names.has(a)&&this.names.get(a).has(n)},t.prototype.registerName=function(a,n){if(Is(a),this.names.has(a))this.names.get(a).add(n);else{var r=new Set;r.add(n),this.names.set(a,r)}},t.prototype.insertRules=function(a,n,r){this.registerName(a,n),this.getTag().insertRules(Is(a),r)},t.prototype.clearNames=function(a){this.names.has(a)&&this.names.get(a).clear()},t.prototype.clearRules=function(a){this.getTag().clearGroup(Is(a)),this.clearNames(a)},t.prototype.clearTag=function(){this.tag=void 0},t}(),wb=/&/g,Nb=/^\s*\/\/.*$/gm;function wm(t,a){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(a," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(a," ")),n.props=n.props.map(function(r){return"".concat(a," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=wm(n.children,a)),n})}function _b(t){var a,n,r,i=t===void 0?yn:t,o=i.options,m=o===void 0?yn:o,u=i.plugins,c=u===void 0?Sr:u,p=function(b,S,I){return I.startsWith(n)&&I.endsWith(n)&&I.replaceAll(n,"").length>0?".".concat(a):b},f=c.slice();f.push(function(b){b.type===wr&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(wb,n).replace(r,p))}),m.prefix&&f.push(G0),f.push(W0);var h=function(b,S,I,T){S===void 0&&(S=""),I===void 0&&(I=""),T===void 0&&(T="&"),a=T,n=S,r=new RegExp("\\".concat(n,"\\b"),"g");var w=b.replace(Nb,""),_=U0(I||S?"".concat(I," ").concat(S," { ").concat(w," }"):w);m.namespace&&(_=wm(_,m.namespace));var A=[];return Qs(_,q0(f.concat(Z0(function(k){return A.push(k)})))),A};return h.hash=c.length?c.reduce(function(b,S){return S.name||hs(15),cn(b,S.name)},mm).toString():"",h}var kb=new ym,$i=_b(),Nm=Me.createContext({shouldForwardProp:void 0,styleSheet:kb,stylis:$i});Nm.Consumer;Me.createContext(void 0);function Rc(){return l.useContext(Nm)}var _m=function(){function t(a,n){var r=this;this.inject=function(i,o){o===void 0&&(o=$i);var m=r.name+o.hash;i.hasNameForId(r.id,m)||i.insertRules(r.id,m,o(r.rules,m,"@keyframes"))},this.name=a,this.id="sc-keyframes-".concat(a),this.rules=n,kl(this,function(){throw hs(12,String(r.name))})}return t.prototype.getName=function(a){return a===void 0&&(a=$i),this.name+a.hash},t}(),Cb=function(t){return t>="A"&&t<="Z"};function $c(t){for(var a="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Cb(r)?a+="-"+r.toLowerCase():a+=r}return a.startsWith("ms-")?"-"+a:a}var km=function(t){return t==null||t===!1||t===""},Cm=function(t){var a,n,r=[];for(var i in t){var o=t[i];t.hasOwnProperty(i)&&!km(o)&&(Array.isArray(o)&&o.isCss||wn(o)?r.push("".concat($c(i),":"),o,";"):Jn(o)?r.push.apply(r,Kn(Kn(["".concat(i," {")],Cm(o),!1),["}"],!1)):r.push("".concat($c(i),": ").concat((a=i,(n=o)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||a in K0||a.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Va(t,a,n,r){if(km(t))return[];if(_l(t))return[".".concat(t.styledComponentId)];if(wn(t)){if(!wn(o=t)||o.prototype&&o.prototype.isReactComponent||!a)return[t];var i=t(a);return Va(i,a,n,r)}var o;return t instanceof _m?n?(t.inject(n,r),[t.getName(r)]):[t]:Jn(t)?Cm(t):Array.isArray(t)?Array.prototype.concat.apply(Sr,t.map(function(m){return Va(m,a,n,r)})):[t.toString()]}function Sb(t){for(var a=0;a<t.length;a+=1){var n=t[a];if(wn(n)&&!_l(n))return!1}return!0}var Eb=hm(Cr),Tb=function(){function t(a,n,r){this.rules=a,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Sb(a),this.componentId=n,this.baseHash=cn(Eb,n),this.baseStyle=r,ym.registerId(n)}return t.prototype.generateAndInjectStyles=function(a,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(a,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=ja(i,this.staticRulesId);else{var o=Bi(Va(this.rules,a,n,r)),m=Oi(cn(this.baseHash,o)>>>0);if(!n.hasNameForId(this.componentId,m)){var u=r(o,".".concat(m),void 0,this.componentId);n.insertRules(this.componentId,m,u)}i=ja(i,m),this.staticRulesId=m}else{for(var c=cn(this.baseHash,r.hash),p="",f=0;f<this.rules.length;f++){var h=this.rules[f];if(typeof h=="string")p+=h;else if(h){var b=Bi(Va(h,a,n,r));c=cn(c,b+f),p+=b}}if(p){var S=Oi(c>>>0);n.hasNameForId(this.componentId,S)||n.insertRules(this.componentId,S,r(p,".".concat(S),void 0,this.componentId)),i=ja(i,S)}}return i},t}(),Sm=Me.createContext(void 0);Sm.Consumer;var Zr={};function Ab(t,a,n){var r=_l(t),i=t,o=!qr(t),m=a.attrs,u=m===void 0?Sr:m,c=a.componentId,p=c===void 0?function(g,E){var N=typeof g!="string"?"sc":Pc(g);Zr[N]=(Zr[N]||0)+1;var v="".concat(N,"-").concat(pm(Cr+N+Zr[N]));return E?"".concat(E,"-").concat(v):v}(a.displayName,a.parentComponentId):c,f=a.displayName,h=f===void 0?function(g){return qr(g)?"styled.".concat(g):"Styled(".concat(tb(g),")")}(t):f,b=a.displayName&&a.componentId?"".concat(Pc(a.displayName),"-").concat(a.componentId):a.componentId||p,S=r&&i.attrs?i.attrs.concat(u).filter(Boolean):u,I=a.shouldForwardProp;if(r&&i.shouldForwardProp){var T=i.shouldForwardProp;if(a.shouldForwardProp){var w=a.shouldForwardProp;I=function(g,E){return T(g,E)&&w(g,E)}}else I=T}var _=new Tb(n,b,r?i.componentStyle:void 0);function A(g,E){return function(N,v,d){var y=N.attrs,M=N.componentStyle,C=N.defaultProps,x=N.foldedComponentIds,L=N.styledComponentId,F=N.target,O=Me.useContext(Sm),$=Rc(),B=N.shouldForwardProp||$.shouldForwardProp,R=Y0(v,O,C)||yn,P=function(V,j,U){for(var Z,Y=Lt(Lt({},j),{className:void 0,theme:U}),X=0;X<V.length;X+=1){var ae=wn(Z=V[X])?Z(Y):Z;for(var he in ae)Y[he]=he==="className"?ja(Y[he],ae[he]):he==="style"?Lt(Lt({},Y[he]),ae[he]):ae[he]}return j.className&&(Y.className=ja(Y.className,j.className)),Y}(y,v,R),z=P.as||F,H={};for(var W in P)P[W]===void 0||W[0]==="$"||W==="as"||W==="theme"&&P.theme===R||(W==="forwardedAs"?H.as=P.forwardedAs:B&&!B(W,z)||(H[W]=P[W]));var q=function(V,j){var U=Rc(),Z=V.generateAndInjectStyles(j,U.styleSheet,U.stylis);return Z}(M,P),D=ja(x,L);return q&&(D+=" "+q),P.className&&(D+=" "+P.className),H[qr(z)&&!um.has(z)?"class":"className"]=D,H.ref=d,l.createElement(z,H)}(k,g,E)}A.displayName=h;var k=Me.forwardRef(A);return k.attrs=S,k.componentStyle=_,k.displayName=h,k.shouldForwardProp=I,k.foldedComponentIds=r?ja(i.foldedComponentIds,i.styledComponentId):"",k.styledComponentId=b,k.target=r?i.target:t,Object.defineProperty(k,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(g){this._foldedDefaultProps=r?function(E){for(var N=[],v=1;v<arguments.length;v++)N[v-1]=arguments[v];for(var d=0,y=N;d<y.length;d++)Ri(E,y[d],!0);return E}({},i.defaultProps,g):g}}),kl(k,function(){return".".concat(k.styledComponentId)}),o&&vm(k,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),k}function jc(t,a){for(var n=[t[0]],r=0,i=a.length;r<i;r+=1)n.push(a[r],t[r+1]);return n}var zc=function(t){return Object.assign(t,{isCss:!0})};function Em(t){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];if(wn(t)||Jn(t))return zc(Va(jc(Sr,Kn([t],a,!0))));var r=t;return a.length===0&&r.length===1&&typeof r[0]=="string"?Va(r):zc(Va(jc(r,a)))}function ji(t,a,n){if(n===void 0&&(n=yn),!a)throw hs(1,a);var r=function(i){for(var o=[],m=1;m<arguments.length;m++)o[m-1]=arguments[m];return t(a,n,Em.apply(void 0,Kn([i],o,!1)))};return r.attrs=function(i){return ji(t,a,Lt(Lt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return ji(t,a,Lt(Lt({},n),i))},r}var Tm=function(t){return ji(Ab,t)},Ka=Tm;um.forEach(function(t){Ka[t]=Tm(t)});function Cl(t){for(var a=[],n=1;n<arguments.length;n++)a[n-1]=arguments[n];var r=Bi(Em.apply(void 0,Kn([t],a,!1))),i=pm(r);return new _m(i,r)}const Pb={"aria-busy":!0,role:"progressbar"};Ka.div`
  display: ${t=>t.$visible?"flex":"none"};
`;const Dt=242.776657104492,Ib=1.6,Lb=Cl`
12.5% {
  stroke-dasharray: ${Dt*.14}px, ${Dt}px;
  stroke-dashoffset: -${Dt*.11}px;
}
43.75% {
  stroke-dasharray: ${Dt*.35}px, ${Dt}px;
  stroke-dashoffset: -${Dt*.35}px;
}
100% {
  stroke-dasharray: ${Dt*.01}px, ${Dt}px;
  stroke-dashoffset: -${Dt*.99}px;
}
`;Ka.path`
  stroke-dasharray: ${Dt*.01}px, ${Dt};
  stroke-dashoffset: 0;
  animation: ${Lb} ${Ib}s linear infinite;
`;const Fb=Cl`
to {
   transform: rotate(360deg);
 }
`;Ka.svg`
  animation: ${Fb} 0.75s steps(12, end) infinite;
  animation-duration: 0.75s;
`;Ka.polyline`
  stroke-width: ${t=>t.width}px;
  stroke-linecap: round;

  &:nth-child(12n + 0) {
    stroke-opacity: 0.08;
  }

  &:nth-child(12n + 1) {
    stroke-opacity: 0.17;
  }

  &:nth-child(12n + 2) {
    stroke-opacity: 0.25;
  }

  &:nth-child(12n + 3) {
    stroke-opacity: 0.33;
  }

  &:nth-child(12n + 4) {
    stroke-opacity: 0.42;
  }

  &:nth-child(12n + 5) {
    stroke-opacity: 0.5;
  }

  &:nth-child(12n + 6) {
    stroke-opacity: 0.58;
  }

  &:nth-child(12n + 7) {
    stroke-opacity: 0.66;
  }

  &:nth-child(12n + 8) {
    stroke-opacity: 0.75;
  }

  &:nth-child(12n + 9) {
    stroke-opacity: 0.83;
  }

  &:nth-child(12n + 11) {
    stroke-opacity: 0.92;
  }
`;const Mb=Cl`
to {
   stroke-dashoffset: 136;
 }
`;Ka.polygon`
  stroke-dasharray: 17;
  animation: ${Mb} 2.5s cubic-bezier(0.35, 0.04, 0.63, 0.95) infinite;
`;Ka.svg`
  transform-origin: 50% 65%;
`;const Ob=({visible:t=!0,width:a="80",height:n="80",wrapperClass:r="",wrapperStyle:i={},ariaLabel:o="hourglass-loading",colors:m=["#306cce","#72a1ed"]})=>t?s("svg",{width:a,height:n,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 350 350",preserveAspectRatio:"xMidYMid",className:r,style:i,"aria-label":o,"data-testid":"hourglass-svg",...Pb,children:[e("animateTransform",{attributeName:"transform",type:"rotate",values:"0; 0; -30; 360; 360",keyTimes:"0; 0.40; 0.55; 0.65; 1",dur:"3s",begin:"0s",calcMode:"linear",repeatCount:"indefinite"}),s("g",{children:[e("path",{fill:m[0],stroke:m[0],d:"M324.658,20.572v-2.938C324.658,7.935,316.724,0,307.025,0H40.313c-9.699,0-17.635,7.935-17.635,17.634v2.938     c0,9.699,7.935,17.634,17.635,17.634h6.814c3.5,0,3.223,3.267,3.223,4.937c0,19.588,8.031,42.231,14.186,56.698     c12.344,29.012,40.447,52.813,63.516,69.619c4.211,3.068,3.201,5.916,0.756,7.875c-22.375,17.924-51.793,40.832-64.271,70.16     c-6.059,14.239-13.934,36.4-14.18,55.772c-0.025,1.987,0.771,5.862-3.979,5.862h-6.064c-9.699,0-17.635,7.936-17.635,17.634v2.94     c0,9.698,7.935,17.634,17.635,17.634h266.713c9.699,0,17.633-7.936,17.633-17.634v-2.94c0-9.698-7.934-17.634-17.633-17.634     h-3.816c-7,0-6.326-5.241-6.254-7.958c0.488-18.094-4.832-38.673-12.617-54.135c-17.318-34.389-44.629-56.261-61.449-68.915     c-3.65-2.745-4.018-6.143,0-8.906c17.342-11.929,44.131-34.526,61.449-68.916c8.289-16.464,13.785-38.732,12.447-57.621     c-0.105-1.514-0.211-4.472,3.758-4.472h6.482C316.725,38.206,324.658,30.272,324.658,20.572z M270.271,93.216     c-16.113,31.998-41.967,54.881-64.455,68.67c-1.354,0.831-3.936,2.881-3.936,8.602v6.838c0,6.066,2.752,7.397,4.199,8.286     c22.486,13.806,48.143,36.636,64.191,68.508c7.414,14.727,11.266,32.532,10.885,46.702c-0.078,2.947,1.053,8.308-6.613,8.308     H72.627c-6.75,0-6.475-3.37-6.459-5.213c0.117-12.895,4.563-30.757,12.859-50.255c14.404-33.854,44.629-54.988,64.75-67.577     c0.896-0.561,2.629-1.567,2.629-6.922v-10.236c0-5.534-2.656-7.688-4.057-8.57c-20.098-12.688-49.256-33.618-63.322-66.681     c-8.383-19.702-12.834-37.732-12.861-50.657c-0.002-1.694,0.211-4.812,3.961-4.812h206.582c4.168,0,4.127,3.15,4.264,4.829     C282.156,57.681,278.307,77.257,270.271,93.216z"}),s("g",{children:[e("path",{fill:m[1],stroke:m[1],d:"M169.541,196.2l-68.748,86.03c-2.27,2.842-1.152,5.166,2.484,5.166h140.781c3.637,0,4.756-2.324,2.484-5.166     l-68.746-86.03C175.525,193.358,171.811,193.358,169.541,196.2z"}),e("animate",{attributeName:"opacity",values:"0; 0; 1; 1; 0; 0",keyTimes:"0; 0.1; 0.4; 0.6; 0.61; 1",dur:"3s",repeatCount:"indefinite"})]}),s("g",{children:[e("path",{fill:m[1],stroke:m[1],d:"M168.986,156.219c2.576,2.568,6.789,2.568,9.363,0l34.576-34.489c2.574-2.568,1.707-4.67-1.932-4.67H136.34     c-3.637,0-4.506,2.102-1.932,4.67L168.986,156.219z"}),e("animate",{attributeName:"opacity",values:"1; 1; 0; 0; 1; 1",keyTimes:"0; 0.1; 0.4; 0.65; 0.66; 1",dur:"3s",repeatCount:"indefinite"})]})]})]}):null;function Bb({updateModal:t,setUpdateModal:a}){return l.useEffect(()=>{t&&setTimeout(()=>{a(!1),window.location.href=window.location.href+"?update-reload="+new Date().getTime()},1e4)},[t]),e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>{},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[url(/assets/images/auth/map.png)] backdrop-blur-[5px] z-[999] overflow-y-auto",children:e("div",{className:"flex items-center justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{as:"div",className:" border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg my-8 text-black dark:text-white-dark",children:[e("div",{className:"flex bg-opacity-50 bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:e("h5",{className:"font-bold text-lg animate-pulse",children:"CRM Updating..."})}),e("div",{className:"p-5 min-h-[200px] flex justify-center items-center ",children:e("div",{children:e(Ob,{visible:!0,height:"80",width:"80",ariaLabel:"hourglass-loading",wrapperStyle:{},wrapperClass:"",colors:["#ee1362","#f44336"]})})}),e("div",{className:"flex justify-center items-center",children:e("b",{children:"Please don't close this window"})})]})})})})]})})}const Rb=({_CALLBACK:t})=>{const{logout:a,crmToken:n,authUser:r,apiUrl:i,branches:o,settingData:m,selectedBranch:u}=ee(),c=_e(P=>P.themeConfig.leadAlert),p=_e(P=>P.themeConfig.broadcast),f=_e(P=>P.themeConfig.crmVersion),h=_e(P=>P.themeConfig.rtlClass)==="rtl",b=_e(P=>P.themeConfig),S=ve(),[I,T]=l.useState(!1),w=async()=>{if(confirm("Are you sure you want to logout?")==!0)try{let P=await K({method:"post",url:i+"/api/logout",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});P.data.status=="success"?a():alert(P.data.message)}catch(P){P.response.status==401&&a()}},_=async()=>{if(confirm("Are you sure you want to logout All users?")==!0)try{let P=await K({method:"post",url:i+"/api/logout-all-users",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});P.data.status=="success",alert(P.data.message)}catch(P){P.response.status==401&&a()}},[A,k]=l.useState([]),[g,E]=l.useState(p),[N,v]=l.useState(!1),[d,y]=l.useState(!1),[M,C]=l.useState(!1),[x,L]=l.useState(!1),[F,O]=l.useState(!0);l.useEffect(()=>{const P=()=>{O(!document.hidden),document.hidden||R()};return document.addEventListener("visibilitychange",P),()=>{document.removeEventListener("visibilitychange",P)}},[]),l.useEffect(()=>{var z,H;((H=(z=window.performance)==null?void 0:z.navigation)==null?void 0:H.type)===1&&R()},[]);const[$,B]=l.useState(!1),R=async()=>{var P,z,H,W,q,D;if($)return 0;try{const V=await K({method:"get",url:i+"/api/get-crm-latest-data",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});if(((P=V.data)==null?void 0:P.status)==="success"){const j=(H=(z=V.data)==null?void 0:z.data)==null?void 0:H.broadCast,U=(q=(W=V.data)==null?void 0:W.data)==null?void 0:q.crmVersion;if(console.log("newCrmVersion",U),console.log("crmVersion",f),f!=U?(console.log("updating"),S(pc(U)),B(!0)):S(pc(U)),j){const Z=localStorage.getItem("broadcast");Z?JSON.parse(Z).id!==j.id&&S(qn(JSON.stringify(j))):S(qn(JSON.stringify(j)))}}}catch(V){((D=V==null?void 0:V.response)==null?void 0:D.status)==401&&a()}};return l.useEffect(()=>{p&&E(p),p.new&&L(!0)},[p]),s(J,{children:[e("header",{className:`z-40 ${b.semidark&&b.menu==="horizontal"?"dark":""}`,children:s("div",{className:"shadow-sm",children:[s("div",{className:"relative bg-white flex w-full items-center px-5 py-2.5 dark:bg-black",children:[e("div",{className:"horizontal-logo flex lg:hidden justify-between items-center ltr:mr-2 rtl:ml-2",children:m!=null&&m.logo?e(Q,{to:"/",className:"main-logo flex items-center shrink-0",children:e("img",{className:"max-h-[50px] ltr:-ml-1 rtl:-mr-1 inline max-w-[150px]",src:`${i}/storage/${m==null?void 0:m.logo}`,alt:`${m==null?void 0:m.crm_name}`})}):e("b",{className:"text-[20px]",children:m==null?void 0:m.crm_name})}),e("div",{children:s("select",{onChange:P=>S(lg(P.target.value)),value:u,className:`form-select w-[200px] h-8 ${o.length<=1?"bg-[#DBE7FF]":""} `,disabled:o.length<=1,children:[o.length>1?e("option",{value:0,children:"All"}):null,o.map(P=>e("option",{value:P.id,children:P.branch_name},P.id))]})}),e(C0,{showProfileUpdateDrawer:y,profileUpdateDrawer:d,authUser:r}),s("div",{className:"sm:flex-1 ltr:sm:ml-0 ltr:ml-auto sm:rtl:mr-0 rtl:mr-auto flex items-center space-x-1.5 lg:space-x-2 rtl:space-x-reverse dark:text-[#d0d2d6]",children:[e(Wg,{pauseOnHover:!0,direction:"left",speed:50,gradientColor:[255,255,255],children:e("span",{className:" text-primary font-bold text-[16px]",style:{margin:"0 10px"},children:g==null?void 0:g.message})}),c=="1"?e("button",{className:"",children:e(e1,{className:"animate-ping mx-4",color:"red",size:20})}):"",s("div",{children:[b.theme==="light"?e("button",{className:`${b.theme==="light"&&"flex items-center p-2 rounded-full bg-white-light/40 dark:bg-dark/40 hover:text-primary hover:bg-white-light/90 dark:hover:bg-dark/60"}`,onClick:()=>{S(Ei("dark"))},children:s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("circle",{cx:"12",cy:"12",r:"5",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M12 2V4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M12 20V22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M4 12L2 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M22 12L20 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:"0.5",d:"M19.7778 4.22266L17.5558 6.25424",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:"0.5",d:"M4.22217 4.22266L6.44418 6.25424",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:"0.5",d:"M6.44434 17.5557L4.22211 19.7779",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:"0.5",d:"M19.7778 19.7773L17.5558 17.5551",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}):"",b.theme==="dark"&&e("button",{className:`${b.theme==="dark"&&"flex items-center p-2 rounded-full bg-white-light/40 dark:bg-dark/40 hover:text-primary hover:bg-white-light/90 dark:hover:bg-dark/60"}`,onClick:()=>{S(Ei("light"))},children:e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M21.0672 11.8568L20.4253 11.469L21.0672 11.8568ZM12.1432 2.93276L11.7553 2.29085V2.29085L12.1432 2.93276ZM21.25 12C21.25 17.1086 17.1086 21.25 12 21.25V22.75C17.9371 22.75 22.75 17.9371 22.75 12H21.25ZM12 21.25C6.89137 21.25 2.75 17.1086 2.75 12H1.25C1.25 17.9371 6.06294 22.75 12 22.75V21.25ZM2.75 12C2.75 6.89137 6.89137 2.75 12 2.75V1.25C6.06294 1.25 1.25 6.06294 1.25 12H2.75ZM15.5 14.25C12.3244 14.25 9.75 11.6756 9.75 8.5H8.25C8.25 12.5041 11.4959 15.75 15.5 15.75V14.25ZM20.4253 11.469C19.4172 13.1373 17.5882 14.25 15.5 14.25V15.75C18.1349 15.75 20.4407 14.3439 21.7092 12.2447L20.4253 11.469ZM9.75 8.5C9.75 6.41182 10.8627 4.5828 12.531 3.57467L11.7553 2.29085C9.65609 3.5593 8.25 5.86509 8.25 8.5H9.75ZM12 2.75C11.9115 2.75 11.8077 2.71008 11.7324 2.63168C11.6686 2.56527 11.6538 2.50244 11.6503 2.47703C11.6461 2.44587 11.6482 2.35557 11.7553 2.29085L12.531 3.57467C13.0342 3.27065 13.196 2.71398 13.1368 2.27627C13.0754 1.82126 12.7166 1.25 12 1.25V2.75ZM21.7092 12.2447C21.6444 12.3518 21.5541 12.3539 21.523 12.3497C21.4976 12.3462 21.4347 12.3314 21.3683 12.2676C21.2899 12.1923 21.25 12.0885 21.25 12H22.75C22.75 11.2834 22.1787 10.9246 21.7237 10.8632C21.286 10.804 20.7293 10.9658 20.4253 11.469L21.7092 12.2447Z",fill:"currentColor"})})})]}),(r==null?void 0:r.user_type)=="HR"||(r==null?void 0:r.user_type)=="Accounts"||(r==null?void 0:r.user_type)=="Networking"?"":s("div",{children:[e(lt,{content:"Call Back",placement:"bottom",children:e("button",{type:"button",onClick:()=>v(!N),className:"relative block p-2 rounded-full bg-white-light/40 dark:bg-dark/40 hover:text-primary hover:bg-white-light/90 dark:hover:bg-dark/60",children:s("span",{children:[e(cl,{size:20}),s("span",{className:"flex absolute w-3 h-3 ltr:right-0 rtl:left-0 top-0",children:[e("span",{className:"animate-ping absolute ltr:-left-[3px] rtl:-right-[3px] -top-[3px] inline-flex h-full w-full rounded-full bg-success/50 opacity-75"}),e("span",{className:"relative inline-flex rounded-full w-[6px] h-[6px] bg-success"})]})]})})}),e(Dg,{showCallbackDrawer:N,setShowCallbackDrawer:v,_CALLBACK:t})]}),e("div",{children:((r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="Branch Admin"||(r==null?void 0:r.user_type)=="Floor Manager")&&e(lt,{content:"SMS History",placement:"bottom",children:e(Q,{to:"/sms-whatsapp-history",className:"block p-2 rounded-full bg-white-light/40 dark:bg-dark/40 hover:text-primary hover:bg-white-light/90 dark:hover:bg-dark/60",children:e(Fg,{size:20})})})}),e("div",{children:e(lt,{content:"Search",placement:"bottom",children:e("button",{onClick:()=>C(!0),className:"block p-2 rounded-full bg-white-light/40 dark:bg-dark/40 hover:text-primary hover:bg-white-light/90 dark:hover:bg-dark/60",children:e(t1,{size:20})})})}),e("div",{className:"",children:e(lt,{content:"Notepad",placement:"bottom",children:e(Q,{to:"/notepads",className:"block p-2 rounded-full bg-white-light/40 dark:bg-dark/40 hover:text-primary hover:bg-white-light/90 dark:hover:bg-dark/60",children:e($g,{size:20})})})}),e("div",{className:"",children:e(lt,{content:"Whatsapp Conversations",placement:"bottom",children:e(Q,{to:"/whatsapp-conversations",className:"block p-2 rounded-full bg-white-light/40 dark:bg-dark/40 hover:text-primary hover:bg-white-light/90 dark:hover:bg-dark/60",children:e(a1,{size:20})})})}),s("div",{children:[e(lt,{content:"Broadcast",placement:"bottom",children:e("button",{onClick:()=>{T(!I)},className:"block p-2 rounded-full bg-white-light/40 dark:bg-dark/40 hover:text-primary hover:bg-white-light/90 dark:hover:bg-dark/60",children:e(jg,{})})}),e(zg,{showDrawer:I,chats:A,setShowDrawer:T})]}),e("div",{className:"dropdown shrink-0",children:s(us,{offset:[0,8],placement:`${h?"bottom-start":"bottom-end"}`,btnClassName:"relative block rounded-full  pr-3  dark:bg-dark/40 hover:text-primary  dark:hover:bg-dark/60",button:e("div",{children:e("img",{className:"w-9 h-9 rounded-full object-cover saturate-50 group-hover:saturate-100",src:`https://ui-avatars.com/api/?background=0D8ABC&color=fff&name=${(r==null?void 0:r.first_name)+" "+(r==null?void 0:r.last_name)}`,alt:"userProfile"})}),children:[s("ul",{className:"text-dark dark:text-white-dark !py-0 w-max font-semibold  dark:text-white-light/90",children:[e("li",{children:s("div",{className:"flex items-center px-4 py-4",children:[e("img",{className:"rounded-md w-10 h-10 object-cover",src:`https://ui-avatars.com/api/?background=0D8ABC&color=fff&name=${(r==null?void 0:r.first_name)+" "+(r==null?void 0:r.last_name)}`,alt:"userProfile"}),s("div",{className:"ltr:pl-4 rtl:pr-4 truncate",children:[s("h4",{className:"text-base",children:[(r==null?void 0:r.first_name)+" "+(r==null?void 0:r.last_name),e("span",{className:"text-xs bg-success-light rounded text-success px-1 ltr:ml-2 rtl:ml-2",children:r==null?void 0:r.user_type})]}),e("button",{type:"button",className:"text-black/60 hover:text-primary dark:text-dark-light/60 dark:hover:text-white",children:r==null?void 0:r.email})]})]})}),e("li",{children:s(dl,{to:"#",onClick:()=>{y(!0)},className:"dark:hover:text-white",children:[s("svg",{className:"ltr:mr-2 rtl:ml-2 shrink-0",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("circle",{cx:"12",cy:"6",r:"4",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{opacity:"0.5",d:"M20 17.5C20 19.9853 20 22 12 22C4 22 4 19.9853 4 17.5C4 15.0147 7.58172 13 12 13C16.4183 13 20 15.0147 20 17.5Z",stroke:"currentColor",strokeWidth:"1.5"})]}),"Profile"]})}),e("li",{className:"border-t border-white-light dark:border-white-light/10",children:s("button",{onClick:()=>w(),className:"text-danger !py-3",children:[s("svg",{className:"ltr:mr-2 rtl:ml-2 rotate-90 shrink-0",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M17 9.00195C19.175 9.01406 20.3529 9.11051 21.1213 9.8789C22 10.7576 22 12.1718 22 15.0002V16.0002C22 18.8286 22 20.2429 21.1213 21.1215C20.2426 22.0002 18.8284 22.0002 16 22.0002H8C5.17157 22.0002 3.75736 22.0002 2.87868 21.1215C2 20.2429 2 18.8286 2 16.0002L2 15.0002C2 12.1718 2 10.7576 2.87868 9.87889C3.64706 9.11051 4.82497 9.01406 7 9.00195",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M12 15L12 2M12 2L15 5.5M12 2L9 5.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Sign Out"]})})]}),(r==null?void 0:r.user_type)=="Admin"||(r==null?void 0:r.user_type)=="HR"?s("button",{onClick:()=>_(),className:"flex mt-5 btn btn-danger m-auto !py-3",children:[s("svg",{className:"ltr:mr-2 rtl:ml-2 rotate-90 shrink-0",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M17 9.00195C19.175 9.01406 20.3529 9.11051 21.1213 9.8789C22 10.7576 22 12.1718 22 15.0002V16.0002C22 18.8286 22 20.2429 21.1213 21.1215C20.2426 22.0002 18.8284 22.0002 16 22.0002H8C5.17157 22.0002 3.75736 22.0002 2.87868 21.1215C2 20.2429 2 18.8286 2 16.0002L2 15.0002C2 12.1718 2 10.7576 2.87868 9.87889C3.64706 9.11051 4.82497 9.01406 7 9.00195",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M12 15L12 2M12 2L15 5.5M12 2L9 5.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Sign Out All Users"]}):null]})})]})]}),e(A0,{})]})}),e(S0,{searchDrawer:M,setSearchDrawer:C}),e(P0,{broadcast:g,isOpen:x,setIsOpen:L}),e(Bb,{updateModal:$,setUpdateModal:B})]})};function $b(t){const a=parseFloat(t);return!isNaN(a)&&isFinite(a)}function Dc(t){return typeof t=="string"&&t[t.length-1]==="%"&&$b(t.substring(0,t.length-1))}function Gr(t,a,n){a===0&&!n&&(t!=null&&t.style)&&(t==null?void 0:t.children.length)>0&&(t.style.display="none")}function jb(t,a){a===0&&(t!=null&&t.style)&&(t.style.display="")}const zb={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"};function Vc(t,a){return[t.static,a===0&&t.staticHeightZero,typeof a=="number"&&a>0?t.staticHeightSpecific:null,a==="auto"&&t.staticHeightAuto].filter(n=>n).join(" ")}const Db=["animateOpacity","animationStateClasses","applyInlineTransitions","children","className","contentClassName","contentRef","delay","duration","easing","height","onHeightAnimationEnd","onHeightAnimationStart","style","disableDisplayNone"],_t=Me.forwardRef((t,a)=>{const{animateOpacity:n=!1,animationStateClasses:r={},applyInlineTransitions:i=!0,children:o,className:m="",contentClassName:u,delay:c=0,disableDisplayNone:p=!1,duration:f=500,easing:h="ease",height:b,onHeightAnimationEnd:S,onHeightAnimationStart:I,style:T,contentRef:w}=t,_=Object.assign({},t);Db.forEach(V=>{delete _[V]});const A=l.useRef(b),k=l.useRef(null),g=l.useRef(),E=l.useRef(),N=l.useRef(Object.assign(Object.assign({},zb),r)),v=typeof window<"u",d=l.useRef(v&&window.matchMedia?window.matchMedia("(prefers-reduced-motion)").matches:!1),y=d.current?0:c,M=d.current?0:f;let C=b,x="visible";typeof b=="number"?(C=b<0?0:b,x="hidden"):Dc(C)&&(C=b==="0%"?0:b,x="hidden");const[L,F]=l.useState(C),[O,$]=l.useState(x),[B,R]=l.useState(!1),[P,z]=l.useState(Vc(N.current,b));l.useEffect(()=>{Gr(k.current,L,p)},[]),l.useEffect(()=>{if(b!==A.current&&k.current){jb(k.current,A.current),k.current.style.overflow="hidden";const V=k.current.offsetHeight;k.current.style.overflow="";const j=M+y;let U,Z,Y="hidden",X;const ae=A.current==="auto";typeof b=="number"?(U=b<0?0:b,Z=U):Dc(b)?(U=b==="0%"?0:b,Z=U):(U=V,Z="auto",Y=void 0),ae&&(Z=U,U=V);const he=[N.current.animating,(A.current==="auto"||b<A.current)&&N.current.animatingUp,(b==="auto"||b>A.current)&&N.current.animatingDown,Z===0&&N.current.animatingToHeightZero,Z==="auto"&&N.current.animatingToHeightAuto,typeof Z=="number"&&Z>0?N.current.animatingToHeightSpecific:null].filter(G=>G).join(" "),te=Vc(N.current,Z);F(U),$("hidden"),R(!ae),z(he),clearTimeout(E.current),clearTimeout(g.current),ae?(X=!0,E.current=setTimeout(()=>{F(Z),$(Y),R(X),I==null||I(Z)},50),g.current=setTimeout(()=>{R(!1),z(te),Gr(k.current,Z,p),S==null||S(Z)},j)):(I==null||I(U),E.current=setTimeout(()=>{F(Z),$(Y),R(!1),z(te),b!=="auto"&&Gr(k.current,U,p),S==null||S(U)},j))}return A.current=b,()=>{clearTimeout(E.current),clearTimeout(g.current)}},[b]);const H=Object.assign(Object.assign({},T),{height:L,overflow:O||(T==null?void 0:T.overflow)});B&&i&&(H.transition=`height ${M}ms ${h} ${y}ms`,T!=null&&T.transition&&(H.transition=`${T.transition}, ${H.transition}`),H.WebkitTransition=H.transition);const W={};n&&(W.transition=`opacity ${M}ms ${h} ${y}ms`,W.WebkitTransition=W.transition,L===0&&(W.opacity=0));const D=typeof _["aria-hidden"]<"u"?_["aria-hidden"]:b===0;return Me.createElement("div",Object.assign({},_,{"aria-hidden":D,className:`${P} ${m}`,style:H,ref:a}),Me.createElement("div",{className:u,style:W,ref:V=>{k.current=V,w&&(w.current=V)}},o))}),Vb=()=>{const[t,a]=l.useState(""),[n,r]=l.useState(!1),i=_e(f=>f.themeConfig),o=_e(f=>f.themeConfig.semidark),m=St(),u=ve(),{t:c}=n1(),p=f=>{a(h=>h===f?"":f)};return l.useEffect(()=>{const f=document.querySelector('.sidebar ul a[href="'+window.location.pathname+'"]');if(f){f.classList.add("active");const h=f.closest("ul.sub-menu");if(h){let b=h.closest("li.menu").querySelectorAll(".nav-link")||[];b.length&&(b=b[0],setTimeout(()=>{b.click()}))}}},[]),l.useEffect(()=>{window.innerWidth<1024&&i.sidebar&&u(Ti())},[m]),e("div",{className:o?"dark":"",children:e("nav",{className:`sidebar fixed min-h-screen h-full top-0 bottom-0 w-[260px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] z-50 transition-all duration-300 ${o?"text-white-dark":""}`,children:s("div",{className:"bg-white dark:bg-black h-full",children:[s("div",{className:"flex justify-between items-center px-4 py-3",children:[s(Q,{to:"/",className:"main-logo flex items-center shrink-0",children:[e("img",{className:"w-8 ml-[5px] flex-none",src:"/assets/images/logo.svg",alt:"logo"}),e("span",{className:"text-2xl ltr:ml-1.5 rtl:mr-1.5 font-semibold align-middle lg:inline dark:text-white-light",children:c("Sourcefile CRM")})]}),e("button",{type:"button",className:"collapse-icon w-8 h-8 rounded-full flex items-center hover:bg-gray-500/10 dark:hover:bg-dark-light/10 dark:text-white-light transition duration-300 rtl:rotate-180",onClick:()=>u(Ti()),children:s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 m-auto",children:[e("path",{d:"M13 19L7 12L13 5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e("path",{opacity:"0.5",d:"M16.9998 19L10.9998 12L16.9998 5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),e(qe,{className:"h-[calc(100vh-80px)] relative",children:s("ul",{className:"relative font-semibold space-y-0.5 p-4 py-0",children:[s("li",{className:"menu nav-item",children:[s("button",{type:"button",className:`${t==="dashboard"?"active":""} nav-link group w-full`,onClick:()=>p("dashboard"),children:[s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M2 12.2039C2 9.91549 2 8.77128 2.5192 7.82274C3.0384 6.87421 3.98695 6.28551 5.88403 5.10813L7.88403 3.86687C9.88939 2.62229 10.8921 2 12 2C13.1079 2 14.1106 2.62229 16.116 3.86687L18.116 5.10812C20.0131 6.28551 20.9616 6.87421 21.4808 7.82274C22 8.77128 22 9.91549 22 12.2039V13.725C22 17.6258 22 19.5763 20.8284 20.7881C19.6569 22 17.7712 22 14 22H10C6.22876 22 4.34315 22 3.17157 20.7881C2 19.5763 2 17.6258 2 13.725V12.2039Z",fill:"currentColor"}),e("path",{d:"M9 17.25C8.58579 17.25 8.25 17.5858 8.25 18C8.25 18.4142 8.58579 18.75 9 18.75H15C15.4142 18.75 15.75 18.4142 15.75 18C15.75 17.5858 15.4142 17.25 15 17.25H9Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("dashboard")})]}),e("div",{className:t==="dashboard"?"rotate-90":"rtl:rotate-180",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e(_t,{duration:300,height:t==="dashboard"?"auto":0,children:s("ul",{className:"sub-menu text-gray-500",children:[e("li",{children:e(Q,{to:"/",children:c("Leads Dashboard")})}),e("li",{children:e(Q,{to:"/",children:c("Sales Dashboard")})}),e("li",{children:e(Q,{to:"/",children:c("finance")})}),e("li",{children:e(Q,{to:"/",children:c("crypto")})})]})})]}),s("h2",{className:"py-3 px-7 flex items-center uppercase font-extrabold bg-white-light/30 dark:bg-dark dark:bg-opacity-[0.08] -mx-4 mb-1",children:[e("svg",{className:"w-4 h-5 flex-none hidden",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),e("span",{children:c("apps")})]}),e("li",{className:"nav-item",children:s("ul",{children:[e("li",{className:"nav-item",children:e(Q,{to:"/apps/chat",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4036 22.4797L10.6787 22.015C11.1195 21.2703 11.3399 20.8979 11.691 20.6902C12.0422 20.4825 12.5001 20.4678 13.4161 20.4385C14.275 20.4111 14.8523 20.3361 15.3458 20.1317C16.385 19.7012 17.2106 18.8756 17.641 17.8365C17.9639 17.0571 17.9639 16.0691 17.9639 14.093V13.2448C17.9639 10.4683 17.9639 9.08006 17.3389 8.06023C16.9892 7.48958 16.5094 7.0098 15.9388 6.66011C14.919 6.03516 13.5307 6.03516 10.7542 6.03516H8.20964C5.43314 6.03516 4.04489 6.03516 3.02507 6.66011C2.45442 7.0098 1.97464 7.48958 1.62495 8.06023C1 9.08006 1 10.4683 1 13.2448V14.093C1 16.0691 1 17.0571 1.32282 17.8365C1.75326 18.8756 2.57886 19.7012 3.61802 20.1317C4.11158 20.3361 4.68882 20.4111 5.5477 20.4385C6.46368 20.4678 6.92167 20.4825 7.27278 20.6902C7.6239 20.8979 7.84431 21.2703 8.28514 22.015L8.5602 22.4797C8.97002 23.1721 9.9938 23.1721 10.4036 22.4797ZM13.1928 14.5171C13.7783 14.5171 14.253 14.0424 14.253 13.4568C14.253 12.8713 13.7783 12.3966 13.1928 12.3966C12.6072 12.3966 12.1325 12.8713 12.1325 13.4568C12.1325 14.0424 12.6072 14.5171 13.1928 14.5171ZM10.5422 13.4568C10.5422 14.0424 10.0675 14.5171 9.48193 14.5171C8.89637 14.5171 8.42169 14.0424 8.42169 13.4568C8.42169 12.8713 8.89637 12.3966 9.48193 12.3966C10.0675 12.3966 10.5422 12.8713 10.5422 13.4568ZM5.77108 14.5171C6.35664 14.5171 6.83133 14.0424 6.83133 13.4568C6.83133 12.8713 6.35664 12.3966 5.77108 12.3966C5.18553 12.3966 4.71084 12.8713 4.71084 13.4568C4.71084 14.0424 5.18553 14.5171 5.77108 14.5171Z",fill:"currentColor"}),e("path",{opacity:"0.5",d:"M15.486 1C16.7529 0.999992 17.7603 0.999986 18.5683 1.07681C19.3967 1.15558 20.0972 1.32069 20.7212 1.70307C21.3632 2.09648 21.9029 2.63623 22.2963 3.27821C22.6787 3.90219 22.8438 4.60265 22.9226 5.43112C22.9994 6.23907 22.9994 7.24658 22.9994 8.51343V9.37869C22.9994 10.2803 22.9994 10.9975 22.9597 11.579C22.9191 12.174 22.8344 12.6848 22.6362 13.1632C22.152 14.3323 21.2232 15.2611 20.0541 15.7453C20.0249 15.7574 19.9955 15.7691 19.966 15.7804C19.8249 15.8343 19.7039 15.8806 19.5978 15.915H17.9477C17.9639 15.416 17.9639 14.8217 17.9639 14.093V13.2448C17.9639 10.4683 17.9639 9.08006 17.3389 8.06023C16.9892 7.48958 16.5094 7.0098 15.9388 6.66011C14.919 6.03516 13.5307 6.03516 10.7542 6.03516H8.20964C7.22423 6.03516 6.41369 6.03516 5.73242 6.06309V4.4127C5.76513 4.29934 5.80995 4.16941 5.86255 4.0169C5.95202 3.75751 6.06509 3.51219 6.20848 3.27821C6.60188 2.63623 7.14163 2.09648 7.78361 1.70307C8.40759 1.32069 9.10805 1.15558 9.93651 1.07681C10.7445 0.999986 11.7519 0.999992 13.0188 1H15.486Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("chat")})]})})}),e("li",{className:"nav-item",children:e(Q,{to:"/apps/mailbox",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M24 5C24 6.65685 22.6569 8 21 8C19.3431 8 18 6.65685 18 5C18 3.34315 19.3431 2 21 2C22.6569 2 24 3.34315 24 5Z",fill:"currentColor"}),e("path",{d:"M17.2339 7.46394L15.6973 8.74444C14.671 9.59966 13.9585 10.1915 13.357 10.5784C12.7747 10.9529 12.3798 11.0786 12.0002 11.0786C11.6206 11.0786 11.2258 10.9529 10.6435 10.5784C10.0419 10.1915 9.32941 9.59966 8.30315 8.74444L5.92837 6.76546C5.57834 6.47377 5.05812 6.52106 4.76643 6.87109C4.47474 7.22112 4.52204 7.74133 4.87206 8.03302L7.28821 10.0465C8.2632 10.859 9.05344 11.5176 9.75091 11.9661C10.4775 12.4334 11.185 12.7286 12.0002 12.7286C12.8154 12.7286 13.523 12.4334 14.2495 11.9661C14.947 11.5176 15.7372 10.859 16.7122 10.0465L18.3785 8.65795C17.9274 8.33414 17.5388 7.92898 17.2339 7.46394Z",fill:"currentColor"}),e("path",{d:"M18.4538 6.58719C18.7362 6.53653 19.0372 6.63487 19.234 6.87109C19.3965 7.06614 19.4538 7.31403 19.4121 7.54579C19.0244 7.30344 18.696 6.97499 18.4538 6.58719Z",fill:"currentColor"}),e("path",{opacity:"0.5",d:"M16.9576 3.02099C16.156 3 15.2437 3 14.2 3H9.8C5.65164 3 3.57746 3 2.28873 4.31802C1 5.63604 1 7.75736 1 12C1 16.2426 1 18.364 2.28873 19.682C3.57746 21 5.65164 21 9.8 21H14.2C18.3484 21 20.4225 21 21.7113 19.682C23 18.364 23 16.2426 23 12C23 10.9326 23 9.99953 22.9795 9.1797C22.3821 9.47943 21.7103 9.64773 21 9.64773C18.5147 9.64773 16.5 7.58722 16.5 5.04545C16.5 4.31904 16.6646 3.63193 16.9576 3.02099Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("mailbox")})]})})}),e("li",{className:"nav-item",children:e(Q,{to:"/apps/todolist",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M3 10C3 6.22876 3 4.34315 4.17157 3.17157C5.34315 2 7.22876 2 11 2H13C16.7712 2 18.6569 2 19.8284 3.17157C21 4.34315 21 6.22876 21 10V14C21 17.7712 21 19.6569 19.8284 20.8284C18.6569 22 16.7712 22 13 22H11C7.22876 22 5.34315 22 4.17157 20.8284C3 19.6569 3 17.7712 3 14V10Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.25C12.4142 5.25 12.75 5.58579 12.75 6V7.25H14C14.4142 7.25 14.75 7.58579 14.75 8C14.75 8.41421 14.4142 8.75 14 8.75L12.75 8.75L12.75 10C12.75 10.4142 12.4142 10.75 12 10.75C11.5858 10.75 11.25 10.4142 11.25 10L11.25 8.75H9.99997C9.58575 8.75 9.24997 8.41421 9.24997 8C9.24997 7.58579 9.58575 7.25 9.99997 7.25H11.25L11.25 6C11.25 5.58579 11.5858 5.25 12 5.25ZM7.25 14C7.25 13.5858 7.58579 13.25 8 13.25H16C16.4142 13.25 16.75 13.5858 16.75 14C16.75 14.4142 16.4142 14.75 16 14.75H8C7.58579 14.75 7.25 14.4142 7.25 14ZM8.25 18C8.25 17.5858 8.58579 17.25 9 17.25H15C15.4142 17.25 15.75 17.5858 15.75 18C15.75 18.4142 15.4142 18.75 15 18.75H9C8.58579 18.75 8.25 18.4142 8.25 18Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("todo_list")})]})})}),e("li",{className:"nav-item",children:e(Q,{to:"/apps/notes",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M3 10C3 6.22876 3 4.34315 4.17157 3.17157C5.34315 2 7.22876 2 11 2H13C16.7712 2 18.6569 2 19.8284 3.17157C21 4.34315 21 6.22876 21 10V14C21 17.7712 21 19.6569 19.8284 20.8284C18.6569 22 16.7712 22 13 22H11C7.22876 22 5.34315 22 4.17157 20.8284C3 19.6569 3 17.7712 3 14V10Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.25 12C7.25 11.5858 7.58579 11.25 8 11.25H16C16.4142 11.25 16.75 11.5858 16.75 12C16.75 12.4142 16.4142 12.75 16 12.75H8C7.58579 12.75 7.25 12.4142 7.25 12Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.25 8C7.25 7.58579 7.58579 7.25 8 7.25H16C16.4142 7.25 16.75 7.58579 16.75 8C16.75 8.41421 16.4142 8.75 16 8.75H8C7.58579 8.75 7.25 8.41421 7.25 8Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.25 16C7.25 15.5858 7.58579 15.25 8 15.25H13C13.4142 15.25 13.75 15.5858 13.75 16C13.75 16.4142 13.4142 16.75 13 16.75H8C7.58579 16.75 7.25 16.4142 7.25 16Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("notes")})]})})}),e("li",{className:"nav-item",children:e(Q,{to:"/apps/scrumboard",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M21 15.9983V9.99826C21 7.16983 21 5.75562 20.1213 4.87694C19.3529 4.10856 18.175 4.01211 16 4H8C5.82497 4.01211 4.64706 4.10856 3.87868 4.87694C3 5.75562 3 7.16983 3 9.99826V15.9983C3 18.8267 3 20.2409 3.87868 21.1196C4.75736 21.9983 6.17157 21.9983 9 21.9983H15C17.8284 21.9983 19.2426 21.9983 20.1213 21.1196C21 20.2409 21 18.8267 21 15.9983Z",fill:"currentColor"}),e("path",{d:"M8 3.5C8 2.67157 8.67157 2 9.5 2H14.5C15.3284 2 16 2.67157 16 3.5V4.5C16 5.32843 15.3284 6 14.5 6H9.5C8.67157 6 8 5.32843 8 4.5V3.5Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9.25C12.4142 9.25 12.75 9.58579 12.75 10V12.25L15 12.25C15.4142 12.25 15.75 12.5858 15.75 13C15.75 13.4142 15.4142 13.75 15 13.75L12.75 13.75L12.75 16C12.75 16.4142 12.4142 16.75 12 16.75C11.5858 16.75 11.25 16.4142 11.25 16L11.25 13.75H9C8.58579 13.75 8.25 13.4142 8.25 13C8.25 12.5858 8.58579 12.25 9 12.25L11.25 12.25L11.25 10C11.25 9.58579 11.5858 9.25 12 9.25Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("scrumboard")})]})})}),e("li",{className:"nav-item",children:e(Q,{to:"/apps/contacts",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M19.7165 20.3624C21.143 19.5846 22 18.5873 22 17.5C22 16.3475 21.0372 15.2961 19.4537 14.5C17.6226 13.5794 14.9617 13 12 13C9.03833 13 6.37738 13.5794 4.54631 14.5C2.96285 15.2961 2 16.3475 2 17.5C2 18.6525 2.96285 19.7039 4.54631 20.5C6.37738 21.4206 9.03833 22 12 22C15.1066 22 17.8823 21.3625 19.7165 20.3624Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 8.51464C5 4.9167 8.13401 2 12 2C15.866 2 19 4.9167 19 8.51464C19 12.0844 16.7658 16.2499 13.2801 17.7396C12.4675 18.0868 11.5325 18.0868 10.7199 17.7396C7.23416 16.2499 5 12.0844 5 8.51464ZM12 11C13.1046 11 14 10.1046 14 9C14 7.89543 13.1046 7 12 7C10.8954 7 10 7.89543 10 9C10 10.1046 10.8954 11 12 11Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("contacts")})]})})}),s("li",{className:"menu nav-item",children:[s("button",{type:"button",className:`${t==="invoice"?"active":""} nav-link group w-full`,onClick:()=>p("invoice"),children:[s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",fillRule:"evenodd",clipRule:"evenodd",d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.25C12.4142 5.25 12.75 5.58579 12.75 6V6.31673C14.3804 6.60867 15.75 7.83361 15.75 9.5C15.75 9.91421 15.4142 10.25 15 10.25C14.5858 10.25 14.25 9.91421 14.25 9.5C14.25 8.82154 13.6859 8.10339 12.75 7.84748V11.3167C14.3804 11.6087 15.75 12.8336 15.75 14.5C15.75 16.1664 14.3804 17.3913 12.75 17.6833V18C12.75 18.4142 12.4142 18.75 12 18.75C11.5858 18.75 11.25 18.4142 11.25 18V17.6833C9.61957 17.3913 8.25 16.1664 8.25 14.5C8.25 14.0858 8.58579 13.75 9 13.75C9.41421 13.75 9.75 14.0858 9.75 14.5C9.75 15.1785 10.3141 15.8966 11.25 16.1525V12.6833C9.61957 12.3913 8.25 11.1664 8.25 9.5C8.25 7.83361 9.61957 6.60867 11.25 6.31673V6C11.25 5.58579 11.5858 5.25 12 5.25ZM11.25 7.84748C10.3141 8.10339 9.75 8.82154 9.75 9.5C9.75 10.1785 10.3141 10.8966 11.25 11.1525V7.84748ZM14.25 14.5C14.25 13.8215 13.6859 13.1034 12.75 12.8475V16.1525C13.6859 15.8966 14.25 15.1785 14.25 14.5Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("invoice")})]}),e("div",{className:t==="invoice"?"!rotate-90":"rtl:rotate-180",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e(_t,{duration:300,height:t==="invoice"?"auto":0,children:s("ul",{className:"sub-menu text-gray-500",children:[e("li",{children:e(Q,{to:"/apps/invoice/list",children:c("list")})}),e("li",{children:e(Q,{to:"/apps/invoice/preview",children:c("preview")})}),e("li",{children:e(Q,{to:"/apps/invoice/add",children:c("add")})}),e("li",{children:e(Q,{to:"/apps/invoice/edit",children:c("edit")})})]})})]}),e("li",{className:"nav-item",children:e(Q,{to:"/apps/calendar",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M6.94028 2C7.35614 2 7.69326 2.32421 7.69326 2.72414V4.18487C8.36117 4.17241 9.10983 4.17241 9.95219 4.17241H13.9681C14.8104 4.17241 15.5591 4.17241 16.227 4.18487V2.72414C16.227 2.32421 16.5641 2 16.98 2C17.3958 2 17.733 2.32421 17.733 2.72414V4.24894C19.178 4.36022 20.1267 4.63333 20.8236 5.30359C21.5206 5.97385 21.8046 6.88616 21.9203 8.27586L22 9H2.92456H2V8.27586C2.11571 6.88616 2.3997 5.97385 3.09665 5.30359C3.79361 4.63333 4.74226 4.36022 6.1873 4.24894V2.72414C6.1873 2.32421 6.52442 2 6.94028 2Z",fill:"currentColor"}),e("path",{opacity:"0.5",d:"M21.9995 14.0001V12.0001C21.9995 11.161 21.9963 9.66527 21.9834 9H2.00917C1.99626 9.66527 1.99953 11.161 1.99953 12.0001V14.0001C1.99953 17.7713 1.99953 19.6569 3.1711 20.8285C4.34267 22.0001 6.22829 22.0001 9.99953 22.0001H13.9995C17.7708 22.0001 19.6564 22.0001 20.828 20.8285C21.9995 19.6569 21.9995 17.7713 21.9995 14.0001Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("calendar")})]})})})]})}),s("h2",{className:"py-3 px-7 flex items-center uppercase font-extrabold bg-white-light/30 dark:bg-dark dark:bg-opacity-[0.08] -mx-4 mb-1",children:[e("svg",{className:"w-4 h-5 flex-none hidden",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),e("span",{children:c("user_interface")})]}),s("li",{className:"menu nav-item",children:[s("button",{type:"button",className:`${t==="component"?"active":""} nav-link group w-full`,onClick:()=>p("component"),children:[s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M8.42229 20.6181C10.1779 21.5395 11.0557 22.0001 12 22.0001V12.0001L2.63802 7.07275C2.62423 7.09491 2.6107 7.11727 2.5974 7.13986C2 8.15436 2 9.41678 2 11.9416V12.0586C2 14.5834 2 15.8459 2.5974 16.8604C3.19479 17.8749 4.27063 18.4395 6.42229 19.5686L8.42229 20.6181Z",fill:"currentColor"}),e("path",{opacity:"0.7",d:"M17.5774 4.43152L15.5774 3.38197C13.8218 2.46066 12.944 2 11.9997 2C11.0554 2 10.1776 2.46066 8.42197 3.38197L6.42197 4.43152C4.31821 5.53552 3.24291 6.09982 2.6377 7.07264L11.9997 12L21.3617 7.07264C20.7564 6.09982 19.6811 5.53552 17.5774 4.43152Z",fill:"currentColor"}),e("path",{opacity:"0.5",d:"M21.4026 7.13986C21.3893 7.11727 21.3758 7.09491 21.362 7.07275L12 12.0001V22.0001C12.9443 22.0001 13.8221 21.5395 15.5777 20.6181L17.5777 19.5686C19.7294 18.4395 20.8052 17.8749 21.4026 16.8604C22 15.8459 22 14.5834 22 12.0586V11.9416C22 9.41678 22 8.15436 21.4026 7.13986Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("components")})]}),e("div",{className:t==="component"?"rotate-90":"rtl:rotate-180",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e(_t,{duration:300,height:t==="component"?"auto":0,children:s("ul",{className:"sub-menu text-gray-500",children:[e("li",{children:e(Q,{to:"/components/tabs",children:c("tabs")})}),e("li",{children:e(Q,{to:"/components/accordions",children:c("accordions")})}),e("li",{children:e(Q,{to:"/components/modals",children:c("modals")})}),e("li",{children:e(Q,{to:"/components/cards",children:c("cards")})}),e("li",{children:e(Q,{to:"/components/carousel",children:c("carousel")})}),e("li",{children:e(Q,{to:"/components/countdown",children:c("countdown")})}),e("li",{children:e(Q,{to:"/components/counter",children:c("counter")})}),e("li",{children:e(Q,{to:"/components/sweetalert",children:c("sweet_alerts")})}),e("li",{children:e(Q,{to:"/components/timeline",children:c("timeline")})}),e("li",{children:e(Q,{to:"/components/notifications",children:c("notifications")})}),e("li",{children:e(Q,{to:"/components/media-object",children:c("media_object")})}),e("li",{children:e(Q,{to:"/components/list-group",children:c("list_group")})}),e("li",{children:e(Q,{to:"/components/pricing-table",children:c("pricing_tables")})}),e("li",{children:e(Q,{to:"/components/lightbox",children:c("lightbox")})})]})})]}),s("li",{className:"menu nav-item",children:[s("button",{type:"button",className:`${t==="element"?"active":""} nav-link group w-full`,onClick:()=>p("element"),children:[s("div",{className:"flex items-center",children:[s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"group-hover:!text-primary shrink-0",children:[e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.73167 5.77133L5.66953 9.91436C4.3848 11.6526 3.74244 12.5217 4.09639 13.205C4.10225 13.2164 4.10829 13.2276 4.1145 13.2387C4.48945 13.9117 5.59888 13.9117 7.81775 13.9117C9.05079 13.9117 9.6673 13.9117 10.054 14.2754L10.074 14.2946L13.946 9.72466L13.926 9.70541C13.5474 9.33386 13.5474 8.74151 13.5474 7.55682V7.24712C13.5474 3.96249 13.5474 2.32018 12.6241 2.03721C11.7007 1.75425 10.711 3.09327 8.73167 5.77133Z",fill:"currentColor"}),e("path",{opacity:"0.5",d:"M10.4527 16.4432L10.4527 16.7528C10.4527 20.0374 10.4527 21.6798 11.376 21.9627C12.2994 22.2457 13.2891 20.9067 15.2685 18.2286L18.3306 14.0856C19.6154 12.3474 20.2577 11.4783 19.9038 10.7949C19.8979 10.7836 19.8919 10.7724 19.8857 10.7613C19.5107 10.0883 18.4013 10.0883 16.1824 10.0883C14.9494 10.0883 14.3329 10.0883 13.9462 9.72461L10.0742 14.2946C10.4528 14.6661 10.4527 15.2585 10.4527 16.4432Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("elements")})]}),e("div",{className:t==="element"?"rotate-90":"rtl:rotate-180",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e(_t,{duration:300,height:t==="element"?"auto":0,children:s("ul",{className:"sub-menu text-gray-500",children:[e("li",{children:e(Q,{to:"/elements/alerts",children:c("alerts")})}),e("li",{children:e(Q,{to:"/elements/avatar",children:c("avatar")})}),e("li",{children:e(Q,{to:"/elements/badges",children:c("badges")})}),e("li",{children:e(Q,{to:"/elements/breadcrumbs",children:c("breadcrumbs")})}),e("li",{children:e(Q,{to:"/elements/buttons",children:c("buttons")})}),e("li",{children:e(Q,{to:"/elements/buttons-group",children:c("button_groups")})}),e("li",{children:e(Q,{to:"/elements/color-library",children:c("color_library")})}),e("li",{children:e(Q,{to:"/elements/dropdown",children:c("dropdown")})}),e("li",{children:e(Q,{to:"/elements/infobox",children:c("infobox")})}),e("li",{children:e(Q,{to:"/elements/jumbotron",children:c("jumbotron")})}),e("li",{children:e(Q,{to:"/elements/loader",children:c("loader")})}),e("li",{children:e(Q,{to:"/elements/pagination",children:c("pagination")})}),e("li",{children:e(Q,{to:"/elements/popovers",children:c("popovers")})}),e("li",{children:e(Q,{to:"/elements/progress-bar",children:c("progress_bar")})}),e("li",{children:e(Q,{to:"/elements/search",children:c("search")})}),e("li",{children:e(Q,{to:"/elements/tooltips",children:c("tooltips")})}),e("li",{children:e(Q,{to:"/elements/treeview",children:c("treeview")})}),e("li",{children:e(Q,{to:"/elements/typography",children:c("typography")})})]})})]}),e("li",{className:"menu nav-item",children:e(Q,{to:"/charts",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M6.22209 4.60105C6.66665 4.304 7.13344 4.04636 7.6171 3.82976C8.98898 3.21539 9.67491 2.9082 10.5875 3.4994C11.5 4.09061 11.5 5.06041 11.5 7.00001V8.50001C11.5 10.3856 11.5 11.3284 12.0858 11.9142C12.6716 12.5 13.6144 12.5 15.5 12.5H17C18.9396 12.5 19.9094 12.5 20.5006 13.4125C21.0918 14.3251 20.7846 15.011 20.1702 16.3829C19.9536 16.8666 19.696 17.3334 19.399 17.7779C18.3551 19.3402 16.8714 20.5578 15.1355 21.2769C13.3996 21.9959 11.4895 22.184 9.64665 21.8175C7.80383 21.4509 6.11109 20.5461 4.78249 19.2175C3.45389 17.8889 2.5491 16.1962 2.18254 14.3534C1.81598 12.5105 2.00412 10.6004 2.72315 8.86451C3.44218 7.12861 4.65982 5.64492 6.22209 4.60105Z",fill:"currentColor"}),e("path",{d:"M21.446 7.06901C20.6342 5.00831 18.9917 3.36579 16.931 2.55398C15.3895 1.94669 14 3.34316 14 5.00002V9.00002C14 9.5523 14.4477 10 15 10H19C20.6569 10 22.0533 8.61055 21.446 7.06901Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("charts")})]})})}),e("li",{className:"menu nav-item",children:e(Q,{to:"/widgets",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M13 15.4C13 13.3258 13 12.2887 13.659 11.6444C14.318 11 15.3787 11 17.5 11C19.6213 11 20.682 11 21.341 11.6444C22 12.2887 22 13.3258 22 15.4V17.6C22 19.6742 22 20.7113 21.341 21.3556C20.682 22 19.6213 22 17.5 22C15.3787 22 14.318 22 13.659 21.3556C13 20.7113 13 19.6742 13 17.6V15.4Z",fill:"currentColor"}),e("path",{d:"M2 8.6C2 10.6742 2 11.7113 2.65901 12.3556C3.31802 13 4.37868 13 6.5 13C8.62132 13 9.68198 13 10.341 12.3556C11 11.7113 11 10.6742 11 8.6V6.4C11 4.32582 11 3.28873 10.341 2.64437C9.68198 2 8.62132 2 6.5 2C4.37868 2 3.31802 2 2.65901 2.64437C2 3.28873 2 4.32582 2 6.4V8.6Z",fill:"currentColor"}),e("path",{d:"M13 5.5C13 4.4128 13 3.8692 13.1713 3.44041C13.3996 2.86867 13.8376 2.41443 14.389 2.17761C14.8024 2 15.3266 2 16.375 2H18.625C19.6734 2 20.1976 2 20.611 2.17761C21.1624 2.41443 21.6004 2.86867 21.8287 3.44041C22 3.8692 22 4.4128 22 5.5C22 6.5872 22 7.1308 21.8287 7.55959C21.6004 8.13133 21.1624 8.58557 20.611 8.82239C20.1976 9 19.6734 9 18.625 9H16.375C15.3266 9 14.8024 9 14.389 8.82239C13.8376 8.58557 13.3996 8.13133 13.1713 7.55959C13 7.1308 13 6.5872 13 5.5Z",fill:"currentColor"}),e("path",{opacity:"0.5",d:"M2 18.5C2 19.5872 2 20.1308 2.17127 20.5596C2.39963 21.1313 2.83765 21.5856 3.38896 21.8224C3.80245 22 4.32663 22 5.375 22H7.625C8.67337 22 9.19755 22 9.61104 21.8224C10.1624 21.5856 10.6004 21.1313 10.8287 20.5596C11 20.1308 11 19.5872 11 18.5C11 17.4128 11 16.8692 10.8287 16.4404C10.6004 15.8687 10.1624 15.4144 9.61104 15.1776C9.19755 15 8.67337 15 7.625 15H5.375C4.32663 15 3.80245 15 3.38896 15.1776C2.83765 15.4144 2.39963 15.8687 2.17127 16.4404C2 16.8692 2 17.4128 2 18.5Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("widgets")})]})})}),e("li",{className:"menu nav-item",children:e(Q,{to:"/font-icons",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.75C9.1005 6.75 6.75 9.1005 6.75 12C6.75 14.8995 9.1005 17.25 12 17.25C12.4142 17.25 12.75 17.5858 12.75 18C12.75 18.4142 12.4142 18.75 12 18.75C8.27208 18.75 5.25 15.7279 5.25 12C5.25 8.27208 8.27208 5.25 12 5.25C15.7279 5.25 18.75 8.27208 18.75 12C18.75 12.8103 18.6069 13.5889 18.3439 14.3108C18.211 14.6756 17.9855 14.9732 17.7354 15.204L17.6548 15.2783C16.8451 16.0252 15.6294 16.121 14.7127 15.5099C14.3431 15.2635 14.0557 14.9233 13.8735 14.5325C13.3499 14.9205 12.7017 15.15 12 15.15C10.2603 15.15 8.85 13.7397 8.85 12C8.85 10.2603 10.2603 8.85 12 8.85C13.7397 8.85 15.15 10.2603 15.15 12V13.5241C15.15 13.8206 15.2981 14.0974 15.5448 14.2618C15.8853 14.4888 16.3369 14.4533 16.6377 14.1758L16.7183 14.1015C16.8295 13.9989 16.8991 13.8944 16.9345 13.7973C17.1384 13.2376 17.25 12.6327 17.25 12C17.25 9.1005 14.8995 6.75 12 6.75ZM12 10.35C12.9113 10.35 13.65 11.0887 13.65 12C13.65 12.9113 12.9113 13.65 12 13.65C11.0887 13.65 10.35 12.9113 10.35 12C10.35 11.0887 11.0887 10.35 12 10.35Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("font_icons")})]})})}),e("li",{className:"menu nav-item",children:e(Q,{to:"/dragndrop",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12Z",fill:"currentColor"}),e("path",{d:"M13.25 7C13.25 7.41421 13.5858 7.75 14 7.75H15.1893L12.9697 9.96967C12.6768 10.2626 12.6768 10.7374 12.9697 11.0303C13.2626 11.3232 13.7374 11.3232 14.0303 11.0303L16.25 8.81066V10C16.25 10.4142 16.5858 10.75 17 10.75C17.4142 10.75 17.75 10.4142 17.75 10V7C17.75 6.58579 17.4142 6.25 17 6.25H14C13.5858 6.25 13.25 6.58579 13.25 7Z",fill:"currentColor"}),e("path",{d:"M11.0303 14.0303C11.3232 13.7374 11.3232 13.2626 11.0303 12.9697C10.7374 12.6768 10.2626 12.6768 9.96967 12.9697L7.75 15.1893V14C7.75 13.5858 7.41421 13.25 7 13.25C6.58579 13.25 6.25 13.5858 6.25 14V17C6.25 17.4142 6.58579 17.75 7 17.75H10C10.4142 17.75 10.75 17.4142 10.75 17C10.75 16.5858 10.4142 16.25 10 16.25H8.81066L11.0303 14.0303Z",fill:"currentColor"}),e("path",{d:"M10.75 7C10.75 7.41421 10.4142 7.75 10 7.75H8.81066L11.0303 9.96967C11.3232 10.2626 11.3232 10.7374 11.0303 11.0303C10.7374 11.3232 10.2626 11.3232 9.96967 11.0303L7.75 8.81066V10C7.75 10.4142 7.41421 10.75 7 10.75C6.58579 10.75 6.25 10.4142 6.25 10V7C6.25 6.58579 6.58579 6.25 7 6.25H10C10.4142 6.25 10.75 6.58579 10.75 7Z",fill:"currentColor"}),e("path",{d:"M12.9697 14.0303C12.6768 13.7374 12.6768 13.2626 12.9697 12.9697C13.2626 12.6768 13.7374 12.6768 14.0303 12.9697L16.25 15.1893V14C16.25 13.5858 16.5858 13.25 17 13.25C17.4142 13.25 17.75 13.5858 17.75 14V17C17.75 17.4142 17.4142 17.75 17 17.75H14C13.5858 17.75 13.25 17.4142 13.25 17C13.25 16.5858 13.5858 16.25 14 16.25H15.1893L12.9697 14.0303Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("drag_and_drop")})]})})}),s("h2",{className:"py-3 px-7 flex items-center uppercase font-extrabold bg-white-light/30 dark:bg-dark dark:bg-opacity-[0.08] -mx-4 mb-1",children:[e("svg",{className:"w-4 h-5 flex-none hidden",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),e("span",{children:c("tables_and_forms")})]}),e("li",{className:"menu nav-item",children:e(Q,{to:"/tables",className:"group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2C16.714 2 19.0711 2 20.5355 3.46447C22 4.92893 22 7.28595 22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22Z",fill:"currentColor"}),e("path",{d:"M18.75 8C18.75 8.41421 18.4142 8.75 18 8.75H6C5.58579 8.75 5.25 8.41421 5.25 8C5.25 7.58579 5.58579 7.25 6 7.25H18C18.4142 7.25 18.75 7.58579 18.75 8Z",fill:"currentColor"}),e("path",{d:"M18.75 12C18.75 12.4142 18.4142 12.75 18 12.75H6C5.58579 12.75 5.25 12.4142 5.25 12C5.25 11.5858 5.58579 11.25 6 11.25H18C18.4142 11.25 18.75 11.5858 18.75 12Z",fill:"currentColor"}),e("path",{d:"M18.75 16C18.75 16.4142 18.4142 16.75 18 16.75H6C5.58579 16.75 5.25 16.4142 5.25 16C5.25 15.5858 5.58579 15.25 6 15.25H18C18.4142 15.25 18.75 15.5858 18.75 16Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("tables")})]})})}),s("li",{className:"menu nav-item",children:[s("button",{type:"button",className:`${t==="datalabel"?"active":""} nav-link group w-full`,onClick:()=>p("datalabel"),children:[s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M4.97883 9.68508C2.99294 8.89073 2 8.49355 2 8C2 7.50645 2.99294 7.10927 4.97883 6.31492L7.7873 5.19153C9.77318 4.39718 10.7661 4 12 4C13.2339 4 14.2268 4.39718 16.2127 5.19153L19.0212 6.31492C21.0071 7.10927 22 7.50645 22 8C22 8.49355 21.0071 8.89073 19.0212 9.68508L16.2127 10.8085C14.2268 11.6028 13.2339 12 12 12C10.7661 12 9.77318 11.6028 7.7873 10.8085L4.97883 9.68508Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 8C2 8.49355 2.99294 8.89073 4.97883 9.68508L7.7873 10.8085C9.77318 11.6028 10.7661 12 12 12C13.2339 12 14.2268 11.6028 16.2127 10.8085L19.0212 9.68508C21.0071 8.89073 22 8.49355 22 8C22 7.50645 21.0071 7.10927 19.0212 6.31492L16.2127 5.19153C14.2268 4.39718 13.2339 4 12 4C10.7661 4 9.77318 4.39718 7.7873 5.19153L4.97883 6.31492C2.99294 7.10927 2 7.50645 2 8Z",fill:"currentColor"}),e("path",{opacity:"0.7",d:"M5.76613 10L4.97883 10.3149C2.99294 11.1093 2 11.5065 2 12C2 12.4935 2.99294 12.8907 4.97883 13.6851L7.7873 14.8085C9.77318 15.6028 10.7661 16 12 16C13.2339 16 14.2268 15.6028 16.2127 14.8085L19.0212 13.6851C21.0071 12.8907 22 12.4935 22 12C22 11.5065 21.0071 11.1093 19.0212 10.3149L18.2339 10L16.2127 10.8085C14.2268 11.6028 13.2339 12 12 12C10.7661 12 9.77318 11.6028 7.7873 10.8085L5.76613 10Z",fill:"currentColor"}),e("path",{opacity:"0.4",d:"M5.76613 14L4.97883 14.3149C2.99294 15.1093 2 15.5065 2 16C2 16.4935 2.99294 16.8907 4.97883 17.6851L7.7873 18.8085C9.77318 19.6028 10.7661 20 12 20C13.2339 20 14.2268 19.6028 16.2127 18.8085L19.0212 17.6851C21.0071 16.8907 22 16.4935 22 16C22 15.5065 21.0071 15.1093 19.0212 14.3149L18.2339 14L16.2127 14.8085C14.2268 15.6028 13.2339 16 12 16C10.7661 16 9.77318 15.6028 7.7873 14.8085L5.76613 14Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("datatables")})]}),e("div",{className:t==="datalabel"?"rotate-90":"rtl:rotate-180",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e(_t,{duration:300,height:t==="datalabel"?"auto":0,children:s("ul",{className:"sub-menu text-gray-500",children:[e("li",{children:e(Q,{to:"/datatables/basic",children:c("basic")})}),e("li",{children:e(Q,{to:"/datatables/advanced",children:c("advanced")})}),e("li",{children:e(Q,{to:"/datatables/skin",children:c("skin")})}),e("li",{children:e(Q,{to:"/datatables/order-sorting",children:c("order_sorting")})}),e("li",{children:e(Q,{to:"/datatables/multi-column",children:c("multi_column")})}),e("li",{children:e(Q,{to:"/datatables/multiple-tables",children:c("multiple_tables")})}),e("li",{children:e(Q,{to:"/datatables/alt-pagination",children:c("alt_pagination")})}),e("li",{children:e(Q,{to:"/datatables/checkbox",children:c("checkbox")})}),e("li",{children:e(Q,{to:"/datatables/range-search",children:c("range_search")})}),e("li",{children:e(Q,{to:"/datatables/export",children:c("export")})}),e("li",{children:e(Q,{to:"/datatables/column-chooser",children:c("column_chooser")})})]})})]}),s("li",{className:"menu nav-item",children:[s("button",{type:"button",className:`${t==="forms"?"active":""} nav-link group w-full`,onClick:()=>p("forms"),children:[s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M3 10C3 6.22876 3 4.34315 4.17157 3.17157C5.34315 2 7.22876 2 11 2H13C16.7712 2 18.6569 2 19.8284 3.17157C21 4.34315 21 6.22876 21 10V14C21 17.7712 21 19.6569 19.8284 20.8284C18.6569 22 16.7712 22 13 22H11C7.22876 22 5.34315 22 4.17157 20.8284C3 19.6569 3 17.7712 3 14V10Z",fill:"currentColor"}),e("path",{d:"M16.5189 16.5013C16.6939 16.3648 16.8526 16.2061 17.1701 15.8886L21.1275 11.9312C21.2231 11.8356 21.1793 11.6708 21.0515 11.6264C20.5844 11.4644 19.9767 11.1601 19.4083 10.5917C18.8399 10.0233 18.5356 9.41561 18.3736 8.94849C18.3292 8.82066 18.1644 8.77687 18.0688 8.87254L14.1114 12.8299C13.7939 13.1474 13.6352 13.3061 13.4987 13.4811C13.3377 13.6876 13.1996 13.9109 13.087 14.1473C12.9915 14.3476 12.9205 14.5606 12.7786 14.9865L12.5951 15.5368L12.3034 16.4118L12.0299 17.2323C11.9601 17.4419 12.0146 17.6729 12.1708 17.8292C12.3271 17.9854 12.5581 18.0399 12.7677 17.9701L13.5882 17.6966L14.4632 17.4049L15.0135 17.2214L15.0136 17.2214C15.4394 17.0795 15.6524 17.0085 15.8527 16.913C16.0891 16.8004 16.3124 16.6623 16.5189 16.5013Z",fill:"currentColor"}),e("path",{d:"M22.3665 10.6922C23.2112 9.84754 23.2112 8.47812 22.3665 7.63348C21.5219 6.78884 20.1525 6.78884 19.3078 7.63348L19.1806 7.76071C19.0578 7.88348 19.0022 8.05496 19.0329 8.22586C19.0522 8.33336 19.0879 8.49053 19.153 8.67807C19.2831 9.05314 19.5288 9.54549 19.9917 10.0083C20.4545 10.4712 20.9469 10.7169 21.3219 10.847C21.5095 10.9121 21.6666 10.9478 21.7741 10.9671C21.945 10.9978 22.1165 10.9422 22.2393 10.8194L22.3665 10.6922Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.25 9C7.25 8.58579 7.58579 8.25 8 8.25H14.5C14.9142 8.25 15.25 8.58579 15.25 9C15.25 9.41421 14.9142 9.75 14.5 9.75H8C7.58579 9.75 7.25 9.41421 7.25 9ZM7.25 13C7.25 12.5858 7.58579 12.25 8 12.25H11C11.4142 12.25 11.75 12.5858 11.75 13C11.75 13.4142 11.4142 13.75 11 13.75H8C7.58579 13.75 7.25 13.4142 7.25 13ZM7.25 17C7.25 16.5858 7.58579 16.25 8 16.25H9.5C9.91421 16.25 10.25 16.5858 10.25 17C10.25 17.4142 9.91421 17.75 9.5 17.75H8C7.58579 17.75 7.25 17.4142 7.25 17Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("forms")})]}),e("div",{className:t==="forms"?"rotate-90":"rtl:rotate-180",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e(_t,{duration:300,height:t==="forms"?"auto":0,children:s("ul",{className:"sub-menu text-gray-500",children:[e("li",{children:e(Q,{to:"/forms/basic",children:c("basic")})}),e("li",{children:e(Q,{to:"/forms/input-group",children:c("input_group")})}),e("li",{children:e(Q,{to:"/forms/layouts",children:c("layouts")})}),e("li",{children:e(Q,{to:"/forms/validation",children:c("validation")})}),e("li",{children:e(Q,{to:"/forms/input-mask",children:c("input_mask")})}),e("li",{children:e(Q,{to:"/forms/select2",children:c("select2")})}),e("li",{children:e(Q,{to:"/forms/touchspin",children:c("touchspin")})}),e("li",{children:e(Q,{to:"/forms/checkbox-radio",children:c("checkbox_and_radio")})}),e("li",{children:e(Q,{to:"/forms/switches",children:c("switches")})}),e("li",{children:e(Q,{to:"/forms/wizards",children:c("wizards")})}),e("li",{children:e(Q,{to:"/forms/file-upload",children:c("file_upload")})}),e("li",{children:e(Q,{to:"/forms/quill-editor",children:c("quill_editor")})}),e("li",{children:e(Q,{to:"/forms/markdown-editor",children:c("markdown_editor")})}),e("li",{children:e(Q,{to:"/forms/date-picker",children:c("date_and_range_picker")})}),e("li",{children:e(Q,{to:"/forms/clipboard",children:c("clipboard")})})]})})]}),s("h2",{className:"py-3 px-7 flex items-center uppercase font-extrabold bg-white-light/30 dark:bg-dark dark:bg-opacity-[0.08] -mx-4 mb-1",children:[e("svg",{className:"w-4 h-5 flex-none hidden",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),e("span",{children:c("user_and_pages")})]}),s("li",{className:"menu nav-item",children:[s("button",{type:"button",className:`${t==="users"?"active":""} nav-link group w-full`,onClick:()=>p("users"),children:[s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("circle",{opacity:"0.5",cx:"15",cy:"6",r:"3",fill:"currentColor"}),e("ellipse",{opacity:"0.5",cx:"16",cy:"17",rx:"5",ry:"3",fill:"currentColor"}),e("circle",{cx:"9.00098",cy:"6",r:"4",fill:"currentColor"}),e("ellipse",{cx:"9.00098",cy:"17.001",rx:"7",ry:"4",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("users")})]}),e("div",{className:t==="users"?"rotate-90":"rtl:rotate-180",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e(_t,{duration:300,height:t==="users"?"auto":0,children:s("ul",{className:"sub-menu text-gray-500",children:[e("li",{children:e(Q,{to:"/users/profile",children:c("profile")})}),e("li",{children:e(Q,{to:"/users/user-account-settings",children:c("account_settings")})})]})})]}),s("li",{className:"menu nav-item",children:[s("button",{type:"button",className:`${t==="page"?"active":""} nav-link group w-full`,onClick:()=>p("page"),children:[s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",fillRule:"evenodd",clipRule:"evenodd",d:"M14 22H10C6.22876 22 4.34315 22 3.17157 20.8284C2 19.6569 2 17.7712 2 14V10C2 6.22876 2 4.34315 3.17157 3.17157C4.34315 2 6.23869 2 10.0298 2C10.6358 2 11.1214 2 11.53 2.01666C11.5166 2.09659 11.5095 2.17813 11.5092 2.26057L11.5 5.09497C11.4999 6.19207 11.4998 7.16164 11.6049 7.94316C11.7188 8.79028 11.9803 9.63726 12.6716 10.3285C13.3628 11.0198 14.2098 11.2813 15.0569 11.3952C15.8385 11.5003 16.808 11.5002 17.9051 11.5001L18 11.5001H21.9574C22 12.0344 22 12.6901 22 13.5629V14C22 17.7712 22 19.6569 20.8284 20.8284C19.6569 22 17.7712 22 14 22Z",fill:"currentColor"}),e("path",{d:"M6 13.75C5.58579 13.75 5.25 14.0858 5.25 14.5C5.25 14.9142 5.58579 15.25 6 15.25H14C14.4142 15.25 14.75 14.9142 14.75 14.5C14.75 14.0858 14.4142 13.75 14 13.75H6Z",fill:"currentColor"}),e("path",{d:"M6 17.25C5.58579 17.25 5.25 17.5858 5.25 18C5.25 18.4142 5.58579 18.75 6 18.75H11.5C11.9142 18.75 12.25 18.4142 12.25 18C12.25 17.5858 11.9142 17.25 11.5 17.25H6Z",fill:"currentColor"}),e("path",{d:"M11.5092 2.2601L11.5 5.0945C11.4999 6.1916 11.4998 7.16117 11.6049 7.94269C11.7188 8.78981 11.9803 9.6368 12.6716 10.3281C13.3629 11.0193 14.2098 11.2808 15.057 11.3947C15.8385 11.4998 16.808 11.4997 17.9051 11.4996L21.9574 11.4996C21.9698 11.6552 21.9786 11.821 21.9848 11.9995H22C22 11.732 22 11.5983 21.9901 11.4408C21.9335 10.5463 21.5617 9.52125 21.0315 8.79853C20.9382 8.6713 20.8743 8.59493 20.7467 8.44218C19.9542 7.49359 18.911 6.31193 18 5.49953C17.1892 4.77645 16.0787 3.98536 15.1101 3.3385C14.2781 2.78275 13.862 2.50487 13.2915 2.29834C13.1403 2.24359 12.9408 2.18311 12.7846 2.14466C12.4006 2.05013 12.0268 2.01725 11.5 2.00586L11.5092 2.2601Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("pages")})]}),e("div",{className:t==="page"?"rotate-90":"rtl:rotate-180",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e(_t,{duration:300,height:t==="page"?"auto":0,children:s("ul",{className:"sub-menu text-gray-500",children:[e("li",{children:e(Q,{to:"/pages/knowledge-base",children:c("knowledge_base")})}),e("li",{children:e(Q,{to:"/pages/contact-us",target:"_blank",children:c("contact_form")})}),e("li",{children:e(Q,{to:"/pages/faq",children:c("faq")})}),e("li",{children:e(Q,{to:"/pages/coming-soon",target:"_blank",children:c("coming_soon")})}),s("li",{className:"menu nav-item",children:[s("button",{type:"button",className:`${n?"open":""} w-full before:bg-gray-300 before:w-[5px] before:h-[5px] before:rounded ltr:before:mr-2 rtl:before:ml-2 dark:text-[#888ea8] hover:bg-gray-100 dark:hover:bg-gray-900`,onClick:()=>r(!n),children:[c("error"),e("div",{className:`${n?"!rotate-90":""} ltr:ml-auto rtl:mr-auto rtl:rotate-180`,children:s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M6.25 19C6.25 19.3139 6.44543 19.5946 6.73979 19.7035C7.03415 19.8123 7.36519 19.7264 7.56944 19.4881L13.5694 12.4881C13.8102 12.2073 13.8102 11.7928 13.5694 11.5119L7.56944 4.51194C7.36519 4.27364 7.03415 4.18773 6.73979 4.29662C6.44543 4.40551 6.25 4.68618 6.25 5.00004L6.25 19Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5119 19.5695C10.1974 19.2999 10.161 18.8264 10.4306 18.5119L16.0122 12L10.4306 5.48811C10.161 5.17361 10.1974 4.70014 10.5119 4.43057C10.8264 4.161 11.2999 4.19743 11.5695 4.51192L17.5695 11.5119C17.8102 11.7928 17.8102 12.2072 17.5695 12.4881L11.5695 19.4881C11.2999 19.8026 10.8264 19.839 10.5119 19.5695Z",fill:"currentColor"})]})})]}),e(_t,{duration:300,height:n?"auto":0,children:s("ul",{className:"sub-menu text-gray-500",children:[e("li",{children:e("a",{href:"/pages/error404",target:"_blank",children:c("404")})}),e("li",{children:e("a",{href:"/pages/error500",target:"_blank",children:c("500")})}),e("li",{children:e("a",{href:"/pages/error503",target:"_blank",children:c("503")})})]})})]}),e("li",{children:e(Q,{to:"/pages/maintenence",target:"_blank",children:c("maintenence")})})]})})]}),s("li",{className:"menu nav-item",children:[s("button",{type:"button",className:`${t==="auth"?"active":""} nav-link group w-full`,onClick:()=>p("auth"),children:[s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{opacity:"0.5",d:"M2 16C2 13.1716 2 11.7574 2.87868 10.8787C3.75736 10 5.17157 10 8 10H16C18.8284 10 20.2426 10 21.1213 10.8787C22 11.7574 22 13.1716 22 16C22 18.8284 22 20.2426 21.1213 21.1213C20.2426 22 18.8284 22 16 22H8C5.17157 22 3.75736 22 2.87868 21.1213C2 20.2426 2 18.8284 2 16Z",fill:"currentColor"}),e("path",{d:"M8 17C8.55228 17 9 16.5523 9 16C9 15.4477 8.55228 15 8 15C7.44772 15 7 15.4477 7 16C7 16.5523 7.44772 17 8 17Z",fill:"currentColor"}),e("path",{d:"M12 17C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16C11 16.5523 11.4477 17 12 17Z",fill:"currentColor"}),e("path",{d:"M17 16C17 16.5523 16.5523 17 16 17C15.4477 17 15 16.5523 15 16C15 15.4477 15.4477 15 16 15C16.5523 15 17 15.4477 17 16Z",fill:"currentColor"}),e("path",{d:"M6.75 8C6.75 5.10051 9.10051 2.75 12 2.75C14.8995 2.75 17.25 5.10051 17.25 8V10.0036C17.8174 10.0089 18.3135 10.022 18.75 10.0546V8C18.75 4.27208 15.7279 1.25 12 1.25C8.27208 1.25 5.25 4.27208 5.25 8V10.0546C5.68651 10.022 6.18264 10.0089 6.75 10.0036V8Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("authentication")})]}),e("div",{className:t==="auth"?"rotate-90":"rtl:rotate-180",children:e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("path",{d:"M9 5L15 12L9 19",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),e(_t,{duration:300,height:t==="auth"?"auto":0,children:s("ul",{className:"sub-menu text-gray-500",children:[e("li",{children:e(Q,{to:"/auth/boxed-signin",target:"_blank",children:c("login_boxed")})}),e("li",{children:e(Q,{to:"/auth/boxed-signup",target:"_blank",children:c("register_boxed")})}),e("li",{children:e(Q,{to:"/auth/boxed-lockscreen",target:"_blank",children:c("unlock_boxed")})}),e("li",{children:e(Q,{to:"/auth/boxed-password-reset",target:"_blank",children:c("recover_id_boxed")})}),e("li",{children:e(Q,{to:"/auth/cover-login",target:"_blank",children:c("login_cover")})}),e("li",{children:e(Q,{to:"/auth/cover-register",target:"_blank",children:c("register_cover")})}),e("li",{children:e(Q,{to:"/auth/cover-lockscreen",target:"_blank",children:c("unlock_cover")})}),e("li",{children:e(Q,{to:"/auth/cover-password-reset",target:"_blank",children:c("recover_id_cover")})})]})})]}),s("h2",{className:"py-3 px-7 flex items-center uppercase font-extrabold bg-white-light/30 dark:bg-dark dark:bg-opacity-[0.08] -mx-4 mb-1",children:[e("svg",{className:"w-4 h-5 flex-none hidden",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})}),e("span",{children:c("supports")})]}),e("li",{className:"menu nav-item",children:e(Q,{to:"/",target:"_blank",className:"nav-link group",children:s("div",{className:"flex items-center",children:[s("svg",{className:"group-hover:!text-primary shrink-0",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 4.69434V18.6943C4 20.3512 5.34315 21.6943 7 21.6943H17C18.6569 21.6943 20 20.3512 20 18.6943V8.69434C20 7.03748 18.6569 5.69434 17 5.69434H5C4.44772 5.69434 4 5.24662 4 4.69434ZM7.25 11.6943C7.25 11.2801 7.58579 10.9443 8 10.9443H16C16.4142 10.9443 16.75 11.2801 16.75 11.6943C16.75 12.1085 16.4142 12.4443 16 12.4443H8C7.58579 12.4443 7.25 12.1085 7.25 11.6943ZM7.25 15.1943C7.25 14.7801 7.58579 14.4443 8 14.4443H13.5C13.9142 14.4443 14.25 14.7801 14.25 15.1943C14.25 15.6085 13.9142 15.9443 13.5 15.9443H8C7.58579 15.9443 7.25 15.6085 7.25 15.1943Z",fill:"currentColor"}),e("path",{opacity:"0.5",d:"M18 4.00038V5.86504C17.6872 5.75449 17.3506 5.69434 17 5.69434H5C4.44772 5.69434 4 5.24662 4 4.69434V4.62329C4 4.09027 4.39193 3.63837 4.91959 3.56299L15.7172 2.02048C16.922 1.84835 18 2.78328 18 4.00038Z",fill:"currentColor"})]}),e("span",{className:"ltr:pl-3 rtl:pr-3 text-black dark:text-[#506690] dark:group-hover:text-white-dark",children:c("documentation")})]})})})]})})]})})})},Ub=()=>s(J,{children:[e("div",{id:"popper-portal"}),e("div",{id:"modal-portal"})]});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=function(t){const a=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?a[n++]=i:i<2048?(a[n++]=i>>6|192,a[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),a[n++]=i>>18|240,a[n++]=i>>12&63|128,a[n++]=i>>6&63|128,a[n++]=i&63|128):(a[n++]=i>>12|224,a[n++]=i>>6&63|128,a[n++]=i&63|128)}return a},Hb=function(t){const a=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)a[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];a[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],m=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(m&63)<<6|u&63)-65536;a[r++]=String.fromCharCode(55296+(c>>10)),a[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],m=t[n++];a[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|m&63)}}return a.join("")},Pm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,a){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=a?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],m=i+1<t.length,u=m?t[i+1]:0,c=i+2<t.length,p=c?t[i+2]:0,f=o>>2,h=(o&3)<<4|u>>4;let b=(u&15)<<2|p>>6,S=p&63;c||(S=64,m||(b=64)),r.push(n[f],n[h],n[b],n[S])}return r.join("")},encodeString(t,a){return this.HAS_NATIVE_SUPPORT&&!a?btoa(t):this.encodeByteArray(Am(t),a)},decodeString(t,a){return this.HAS_NATIVE_SUPPORT&&!a?atob(t):Hb(this.decodeStringToByteArray(t,a))},decodeStringToByteArray(t,a){this.init_();const n=a?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||p==null||h==null)throw new Wb;const b=o<<2|u>>4;if(r.push(b),p!==64){const S=u<<4&240|p>>2;if(r.push(S),h!==64){const I=p<<6&192|h;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qb=function(t){const a=Am(t);return Pm.encodeByteArray(a,!0)},Im=function(t){return qb(t).replace(/\./g,"")},Lm=function(t){try{return Pm.decodeString(t,!0)}catch(a){console.error("base64Decode failed: ",a)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=()=>Zb().__FIREBASE_DEFAULTS__,Kb=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Jb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const a=t&&Lm(t[1]);return a&&JSON.parse(a)},Sl=()=>{try{return Gb()||Kb()||Jb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Yb=t=>{var a,n;return(n=(a=Sl())===null||a===void 0?void 0:a.emulatorHosts)===null||n===void 0?void 0:n[t]},Fm=()=>{var t;return(t=Sl())===null||t===void 0?void 0:t.config},Mm=t=>{var a;return(a=Sl())===null||a===void 0?void 0:a[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((a,n)=>{this.resolve=a,this.reject=n})}wrapCallback(a){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof a=="function"&&(this.promise.catch(()=>{}),a.length===1?a(n):a(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function ev(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function av(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Om(){try{return typeof indexedDB=="object"}catch{return!1}}function Bm(){return new Promise((t,a)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;a(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){a(n)}})}function nv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="FirebaseError";class ga extends Error{constructor(a,n,r){super(n),this.code=a,this.customData=r,this.name=sv,Object.setPrototypeOf(this,ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ja.prototype.create)}}class Ja{constructor(a,n,r){this.service=a,this.serviceName=n,this.errors=r}create(a,...n){const r=n[0]||{},i=`${this.service}/${a}`,o=this.errors[a],m=o?rv(o,r):"Error",u=`${this.serviceName}: ${m} (${i}).`;return new ga(i,u,r)}}function rv(t,a){return t.replace(iv,(n,r)=>{const i=a[r];return i!=null?String(i):`<${r}?>`})}const iv=/\{\$([^}]+)}/g;function lv(t){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a))return!1;return!0}function ar(t,a){if(t===a)return!0;const n=Object.keys(t),r=Object.keys(a);for(const i of n){if(!r.includes(i))return!1;const o=t[i],m=a[i];if(Uc(o)&&Uc(m)){if(!ar(o,m))return!1}else if(o!==m)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Uc(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t){const a=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{a.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):a.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return a.length?"&"+a.join("&"):""}function ov(t,a){const n=new cv(t,a);return n.subscribe.bind(n)}class cv{constructor(a,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{a(this)}).catch(r=>{this.error(r)})}next(a){this.forEachObserver(n=>{n.next(a)})}error(a){this.forEachObserver(n=>{n.error(a)}),this.close(a)}complete(){this.forEachObserver(a=>{a.complete()}),this.close()}subscribe(a,n,r){let i;if(a===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dv(a,["next","error","complete"])?i=a:i={next:a,error:n,complete:r},i.next===void 0&&(i.next=Kr),i.error===void 0&&(i.error=Kr),i.complete===void 0&&(i.complete=Kr);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(a){this.observers===void 0||this.observers[a]===void 0||(delete this.observers[a],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(a){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,a)}sendOne(a,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[a]!==void 0)try{n(this.observers[a])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(a){this.finalized||(this.finalized=!0,a!==void 0&&(this.finalError=a),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dv(t,a){if(typeof t!="object"||t===null)return!1;for(const n of a)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kr(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){return t&&t._delegate?t._delegate:t}class Qt{constructor(a,n,r){this.name=a,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(a){return this.instantiationMode=a,this}setMultipleInstances(a){return this.multipleInstances=a,this}setServiceProps(a){return this.serviceProps=a,this}setInstanceCreatedCallback(a){return this.onInstanceCreated=a,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(a,n){this.name=a,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(a){const n=this.normalizeInstanceIdentifier(a);if(!this.instancesDeferred.has(n)){const r=new Xb;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(a){var n;const r=this.normalizeInstanceIdentifier(a==null?void 0:a.identifier),i=(n=a==null?void 0:a.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(a){if(a.name!==this.name)throw Error(`Mismatching Component ${a.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=a,!!this.shouldAutoInitialize()){if(hv(a))try{this.getOrInitializeService({instanceIdentifier:Ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(a=Ba){this.instancesDeferred.delete(a),this.instancesOptions.delete(a),this.instances.delete(a)}async delete(){const a=Array.from(this.instances.values());await Promise.all([...a.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...a.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(a=Ba){return this.instances.has(a)}getOptions(a=Ba){return this.instancesOptions.get(a)||{}}initialize(a={}){const{options:n={}}=a,r=this.normalizeInstanceIdentifier(a.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,m]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&m.resolve(i)}return i}onInit(a,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(a),this.onInitCallbacks.set(i,o);const m=this.instances.get(i);return m&&a(m,i),()=>{o.delete(a)}}invokeOnInitCallbacks(a,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(a,n)}catch{}}getOrInitializeService({instanceIdentifier:a,options:n={}}){let r=this.instances.get(a);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mv(a),options:n}),this.instances.set(a,r),this.instancesOptions.set(a,n),this.invokeOnInitCallbacks(r,a),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,a,r)}catch{}return r||null}normalizeInstanceIdentifier(a=Ba){return this.component?this.component.multipleInstances?a:Ba:a}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mv(t){return t===Ba?void 0:t}function hv(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(a){this.name=a,this.providers=new Map}addComponent(a){const n=this.getProvider(a.name);if(n.isComponentSet())throw new Error(`Component ${a.name} has already been registered with ${this.name}`);n.setComponent(a)}addOrOverwriteComponent(a){this.getProvider(a.name).isComponentSet()&&this.providers.delete(a.name),this.addComponent(a)}getProvider(a){if(this.providers.has(a))return this.providers.get(a);const n=new uv(a,this);return this.providers.set(a,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const fv={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},gv=st.INFO,bv={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},vv=(t,a,...n)=>{if(a<t.logLevel)return;const r=new Date().toISOString(),i=bv[a];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${a})`)};class Rm{constructor(a){this.name=a,this._logLevel=gv,this._logHandler=vv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(a){if(!(a in st))throw new TypeError(`Invalid value "${a}" assigned to \`logLevel\``);this._logLevel=a}setLogLevel(a){this._logLevel=typeof a=="string"?fv[a]:a}get logHandler(){return this._logHandler}set logHandler(a){if(typeof a!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a}get userLogHandler(){return this._userLogHandler}set userLogHandler(a){this._userLogHandler=a}debug(...a){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...a),this._logHandler(this,st.DEBUG,...a)}log(...a){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...a),this._logHandler(this,st.VERBOSE,...a)}info(...a){this._userLogHandler&&this._userLogHandler(this,st.INFO,...a),this._logHandler(this,st.INFO,...a)}warn(...a){this._userLogHandler&&this._userLogHandler(this,st.WARN,...a),this._logHandler(this,st.WARN,...a)}error(...a){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...a),this._logHandler(this,st.ERROR,...a)}}const xv=(t,a)=>a.some(n=>t instanceof n);let Hc,Wc;function yv(){return Hc||(Hc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wv(){return Wc||(Wc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $m=new WeakMap,zi=new WeakMap,jm=new WeakMap,Jr=new WeakMap,El=new WeakMap;function Nv(t){const a=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",m)},o=()=>{n(da(t.result)),i()},m=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",m)});return a.then(n=>{n instanceof IDBCursor&&$m.set(n,t)}).catch(()=>{}),El.set(a,t),a}function _v(t){if(zi.has(t))return;const a=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",m),t.removeEventListener("abort",m)},o=()=>{n(),i()},m=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",m),t.addEventListener("abort",m)});zi.set(t,a)}let Di={get(t,a,n){if(t instanceof IDBTransaction){if(a==="done")return zi.get(t);if(a==="objectStoreNames")return t.objectStoreNames||jm.get(t);if(a==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return da(t[a])},set(t,a,n){return t[a]=n,!0},has(t,a){return t instanceof IDBTransaction&&(a==="done"||a==="store")?!0:a in t}};function kv(t){Di=t(Di)}function Cv(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(a,...n){const r=t.call(Yr(this),a,...n);return jm.set(r,a.sort?a.sort():[a]),da(r)}:wv().includes(t)?function(...a){return t.apply(Yr(this),a),da($m.get(this))}:function(...a){return da(t.apply(Yr(this),a))}}function Sv(t){return typeof t=="function"?Cv(t):(t instanceof IDBTransaction&&_v(t),xv(t,yv())?new Proxy(t,Di):t)}function da(t){if(t instanceof IDBRequest)return Nv(t);if(Jr.has(t))return Jr.get(t);const a=Sv(t);return a!==t&&(Jr.set(t,a),El.set(a,t)),a}const Yr=t=>El.get(t);function Er(t,a,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const m=indexedDB.open(t,a),u=da(m);return r&&m.addEventListener("upgradeneeded",c=>{r(da(m.result),c.oldVersion,c.newVersion,da(m.transaction),c)}),n&&m.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}function Xr(t,{blocked:a}={}){const n=indexedDB.deleteDatabase(t);return a&&n.addEventListener("blocked",r=>a(r.oldVersion,r)),da(n).then(()=>{})}const Ev=["get","getKey","getAll","getAllKeys","count"],Tv=["put","add","delete","clear"],Qr=new Map;function qc(t,a){if(!(t instanceof IDBDatabase&&!(a in t)&&typeof a=="string"))return;if(Qr.get(a))return Qr.get(a);const n=a.replace(/FromIndex$/,""),r=a!==n,i=Tv.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ev.includes(n)))return;const o=async function(m,...u){const c=this.transaction(m,i?"readwrite":"readonly");let p=c.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[n](...u),i&&c.done]))[0]};return Qr.set(a,o),o}kv(t=>({...t,get:(a,n,r)=>qc(a,n)||t.get(a,n,r),has:(a,n)=>!!qc(a,n)||t.has(a,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(a){this.container=a}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pv(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pv(t){const a=t.getComponent();return(a==null?void 0:a.type)==="VERSION"}const Vi="@firebase/app",Zc="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Rm("@firebase/app"),Iv="@firebase/app-compat",Lv="@firebase/analytics-compat",Fv="@firebase/analytics",Mv="@firebase/app-check-compat",Ov="@firebase/app-check",Bv="@firebase/auth",Rv="@firebase/auth-compat",$v="@firebase/database",jv="@firebase/database-compat",zv="@firebase/functions",Dv="@firebase/functions-compat",Vv="@firebase/installations",Uv="@firebase/installations-compat",Hv="@firebase/messaging",Wv="@firebase/messaging-compat",qv="@firebase/performance",Zv="@firebase/performance-compat",Gv="@firebase/remote-config",Kv="@firebase/remote-config-compat",Jv="@firebase/storage",Yv="@firebase/storage-compat",Xv="@firebase/firestore",Qv="@firebase/vertexai-preview",e2="@firebase/firestore-compat",t2="firebase",a2="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]",n2={[Vi]:"fire-core",[Iv]:"fire-core-compat",[Fv]:"fire-analytics",[Lv]:"fire-analytics-compat",[Ov]:"fire-app-check",[Mv]:"fire-app-check-compat",[Bv]:"fire-auth",[Rv]:"fire-auth-compat",[$v]:"fire-rtdb",[jv]:"fire-rtdb-compat",[zv]:"fire-fn",[Dv]:"fire-fn-compat",[Vv]:"fire-iid",[Uv]:"fire-iid-compat",[Hv]:"fire-fcm",[Wv]:"fire-fcm-compat",[qv]:"fire-perf",[Zv]:"fire-perf-compat",[Gv]:"fire-rc",[Kv]:"fire-rc-compat",[Jv]:"fire-gcs",[Yv]:"fire-gcs-compat",[Xv]:"fire-fst",[e2]:"fire-fst-compat",[Qv]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Map,s2=new Map,Hi=new Map;function Gc(t,a){try{t.container.addComponent(a)}catch(n){ua.debug(`Component ${a.name} failed to register with FirebaseApp ${t.name}`,n)}}function ma(t){const a=t.name;if(Hi.has(a))return ua.debug(`There were multiple attempts to register component ${a}.`),!1;Hi.set(a,t);for(const n of nr.values())Gc(n,t);for(const n of s2.values())Gc(n,t);return!0}function ps(t,a){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(a)}function ra(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ta=new Ja("app","Firebase",r2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(a,n,r){this._isDeleted=!1,this._options=Object.assign({},a),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this.checkDestroyed(),this._automaticDataCollectionEnabled=a}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(a){this._isDeleted=a}checkDestroyed(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=a2;function zm(t,a={}){let n=t;typeof a!="object"&&(a={name:a});const r=Object.assign({name:Ui,automaticDataCollectionEnabled:!1},a),i=r.name;if(typeof i!="string"||!i)throw Ta.create("bad-app-name",{appName:String(i)});if(n||(n=Fm()),!n)throw Ta.create("no-options");const o=nr.get(i);if(o){if(ar(n,o.options)&&ar(r,o.config))return o;throw Ta.create("duplicate-app",{appName:i})}const m=new pv(i);for(const c of Hi.values())m.addComponent(c);const u=new i2(n,r,m);return nr.set(i,u),u}function Dm(t=Ui){const a=nr.get(t);if(!a&&t===Ui&&Fm())return zm();if(!a)throw Ta.create("no-app",{appName:t});return a}function Xt(t,a,n){var r;let i=(r=n2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),m=a.match(/\s|\//);if(o||m){const u=[`Unable to register library "${i}" with version "${a}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&m&&u.push("and"),m&&u.push(`version name "${a}" contains illegal characters (whitespace or "/")`),ua.warn(u.join(" "));return}ma(new Qt(`${i}-version`,()=>({library:i,version:a}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="firebase-heartbeat-database",o2=1,Yn="firebase-heartbeat-store";let ei=null;function Vm(){return ei||(ei=Er(l2,o2,{upgrade:(t,a)=>{switch(a){case 0:try{t.createObjectStore(Yn)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ta.create("idb-open",{originalErrorMessage:t.message})})),ei}async function c2(t){try{const n=(await Vm()).transaction(Yn),r=await n.objectStore(Yn).get(Um(t));return await n.done,r}catch(a){if(a instanceof ga)ua.warn(a.message);else{const n=Ta.create("idb-get",{originalErrorMessage:a==null?void 0:a.message});ua.warn(n.message)}}}async function Kc(t,a){try{const r=(await Vm()).transaction(Yn,"readwrite");await r.objectStore(Yn).put(a,Um(t)),await r.done}catch(n){if(n instanceof ga)ua.warn(n.message);else{const r=Ta.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ua.warn(r.message)}}}function Um(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=1024,u2=30*24*60*60*1e3;class m2{constructor(a){this.container=a,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var a,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Jc();return((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(m=>m.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(m=>{const u=new Date(m.date).valueOf();return Date.now()-u<=u2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ua.warn(r)}}async getHeartbeatsHeader(){var a;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((a=this._heartbeatsCache)===null||a===void 0?void 0:a.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jc(),{heartbeatsToSend:r,unsentEntries:i}=h2(this._heartbeatsCache.heartbeats),o=Im(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ua.warn(n),""}}}function Jc(){return new Date().toISOString().substring(0,10)}function h2(t,a=d2){const n=[];let r=t.slice();for(const i of t){const o=n.find(m=>m.agent===i.agent);if(o){if(o.dates.push(i.date),Yc(n)>a){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yc(n)>a){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class p2{constructor(a){this.app=a,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Om()?Bm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(a){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kc(this.app,{lastSentHeartbeatDate:(n=a.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:a.heartbeats})}else return}async add(a){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kc(this.app,{lastSentHeartbeatDate:(n=a.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...a.heartbeats]})}else return}}function Yc(t){return Im(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t){ma(new Qt("platform-logger",a=>new Av(a),"PRIVATE")),ma(new Qt("heartbeat",a=>new m2(a),"PRIVATE")),Xt(Vi,Zc,t),Xt(Vi,Zc,"esm2017"),Xt("fire-js","")}f2("");const Hm="@firebase/installations",Tl="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm=1e4,qm=`w:${Tl}`,Zm="FIS_v2",g2="https://firebaseinstallations.googleapis.com/v1",b2=60*60*1e3,v2="installations",x2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wa=new Ja(v2,x2,y2);function Gm(t){return t instanceof ga&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km({projectId:t}){return`${g2}/projects/${t}/installations`}function Jm(t){return{token:t.token,requestStatus:2,expiresIn:N2(t.expiresIn),creationTime:Date.now()}}async function Ym(t,a){const r=(await a.json()).error;return Wa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Xm({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function w2(t,{refreshToken:a}){const n=Xm(t);return n.append("Authorization",_2(a)),n}async function Qm(t){const a=await t();return a.status>=500&&a.status<600?t():a}function N2(t){return Number(t.replace("s","000"))}function _2(t){return`${Zm} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2({appConfig:t,heartbeatServiceProvider:a},{fid:n}){const r=Km(t),i=Xm(t),o=a.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const m={fid:n,authVersion:Zm,appId:t.appId,sdkVersion:qm},u={method:"POST",headers:i,body:JSON.stringify(m)},c=await Qm(()=>fetch(r,u));if(c.ok){const p=await c.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:Jm(p.authToken)}}else throw await Ym("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return new Promise(a=>{setTimeout(a,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^[cdef][\w-]{21}$/,Wi="";function E2(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=T2(t);return S2.test(n)?n:Wi}catch{return Wi}}function T2(t){return C2(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map;function ah(t,a){const n=Tr(t);nh(n,a),A2(n,a)}function nh(t,a){const n=th.get(t);if(n)for(const r of n)r(a)}function A2(t,a){const n=P2();n&&n.postMessage({key:t,fid:a}),I2()}let za=null;function P2(){return!za&&"BroadcastChannel"in self&&(za=new BroadcastChannel("[Firebase] FID Change"),za.onmessage=t=>{nh(t.data.key,t.data.fid)}),za}function I2(){th.size===0&&za&&(za.close(),za=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="firebase-installations-database",F2=1,qa="firebase-installations-store";let ti=null;function Al(){return ti||(ti=Er(L2,F2,{upgrade:(t,a)=>{switch(a){case 0:t.createObjectStore(qa)}}})),ti}async function sr(t,a){const n=Tr(t),i=(await Al()).transaction(qa,"readwrite"),o=i.objectStore(qa),m=await o.get(n);return await o.put(a,n),await i.done,(!m||m.fid!==a.fid)&&ah(t,a.fid),a}async function sh(t){const a=Tr(t),r=(await Al()).transaction(qa,"readwrite");await r.objectStore(qa).delete(a),await r.done}async function Ar(t,a){const n=Tr(t),i=(await Al()).transaction(qa,"readwrite"),o=i.objectStore(qa),m=await o.get(n),u=a(m);return u===void 0?await o.delete(n):await o.put(u,n),await i.done,u&&(!m||m.fid!==u.fid)&&ah(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pl(t){let a;const n=await Ar(t.appConfig,r=>{const i=M2(r),o=O2(t,i);return a=o.registrationPromise,o.installationEntry});return n.fid===Wi?{installationEntry:await a}:{installationEntry:n,registrationPromise:a}}function M2(t){const a=t||{fid:E2(),registrationStatus:0};return rh(a)}function O2(t,a){if(a.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Wa.create("app-offline"));return{installationEntry:a,registrationPromise:i}}const n={fid:a.fid,registrationStatus:1,registrationTime:Date.now()},r=B2(t,n);return{installationEntry:n,registrationPromise:r}}else return a.registrationStatus===1?{installationEntry:a,registrationPromise:R2(t)}:{installationEntry:a}}async function B2(t,a){try{const n=await k2(t,a);return sr(t.appConfig,n)}catch(n){throw Gm(n)&&n.customData.serverCode===409?await sh(t.appConfig):await sr(t.appConfig,{fid:a.fid,registrationStatus:0}),n}}async function R2(t){let a=await Xc(t.appConfig);for(;a.registrationStatus===1;)await eh(100),a=await Xc(t.appConfig);if(a.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Pl(t);return r||n}return a}function Xc(t){return Ar(t,a=>{if(!a)throw Wa.create("installation-not-found");return rh(a)})}function rh(t){return $2(t)?{fid:t.fid,registrationStatus:0}:t}function $2(t){return t.registrationStatus===1&&t.registrationTime+Wm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j2({appConfig:t,heartbeatServiceProvider:a},n){const r=z2(t,n),i=w2(t,n),o=a.getImmediate({optional:!0});if(o){const p=await o.getHeartbeatsHeader();p&&i.append("x-firebase-client",p)}const m={installation:{sdkVersion:qm,appId:t.appId}},u={method:"POST",headers:i,body:JSON.stringify(m)},c=await Qm(()=>fetch(r,u));if(c.ok){const p=await c.json();return Jm(p)}else throw await Ym("Generate Auth Token",c)}function z2(t,{fid:a}){return`${Km(t)}/${a}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,a=!1){let n;const r=await Ar(t.appConfig,o=>{if(!ih(o))throw Wa.create("not-registered");const m=o.authToken;if(!a&&U2(m))return o;if(m.requestStatus===1)return n=D2(t,a),o;{if(!navigator.onLine)throw Wa.create("app-offline");const u=W2(o);return n=V2(t,u),u}});return n?await n:r.authToken}async function D2(t,a){let n=await Qc(t.appConfig);for(;n.authToken.requestStatus===1;)await eh(100),n=await Qc(t.appConfig);const r=n.authToken;return r.requestStatus===0?Il(t,a):r}function Qc(t){return Ar(t,a=>{if(!ih(a))throw Wa.create("not-registered");const n=a.authToken;return q2(n)?Object.assign(Object.assign({},a),{authToken:{requestStatus:0}}):a})}async function V2(t,a){try{const n=await j2(t,a),r=Object.assign(Object.assign({},a),{authToken:n});return await sr(t.appConfig,r),n}catch(n){if(Gm(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await sh(t.appConfig);else{const r=Object.assign(Object.assign({},a),{authToken:{requestStatus:0}});await sr(t.appConfig,r)}throw n}}function ih(t){return t!==void 0&&t.registrationStatus===2}function U2(t){return t.requestStatus===2&&!H2(t)}function H2(t){const a=Date.now();return a<t.creationTime||t.creationTime+t.expiresIn<a+b2}function W2(t){const a={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:a})}function q2(t){return t.requestStatus===1&&t.requestTime+Wm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(t){const a=t,{installationEntry:n,registrationPromise:r}=await Pl(a);return r?r.catch(console.error):Il(a).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,a=!1){const n=t;return await K2(n),(await Il(n,a)).token}async function K2(t){const{registrationPromise:a}=await Pl(t);a&&await a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){if(!t||!t.options)throw ai("App Configuration");if(!t.name)throw ai("App Name");const a=["projectId","apiKey","appId"];for(const n of a)if(!t.options[n])throw ai(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ai(t){return Wa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="installations",Y2="installations-internal",X2=t=>{const a=t.getProvider("app").getImmediate(),n=J2(a),r=ps(a,"heartbeat");return{app:a,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Q2=t=>{const a=t.getProvider("app").getImmediate(),n=ps(a,lh).getImmediate();return{getId:()=>Z2(n),getToken:i=>G2(n,i)}};function e5(){ma(new Qt(lh,X2,"PUBLIC")),ma(new Qt(Y2,Q2,"PRIVATE"))}e5();Xt(Hm,Tl);Xt(Hm,Tl,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="/firebase-messaging-sw.js",a5="/firebase-cloud-messaging-push-scope",oh="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",n5="https://fcmregistrations.googleapis.com/v1",ch="google.c.a.c_id",s5="google.c.a.c_l",r5="google.c.a.ts",i5="google.c.a.e";var ed;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(ed||(ed={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Xn;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Xn||(Xn={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t){const a=new Uint8Array(t);return btoa(String.fromCharCode(...a)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l5(t){const a="=".repeat((4-t.length%4)%4),n=(t+a).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="fcm_token_details_db",o5=5,td="fcm_token_object_Store";async function c5(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(o=>o.name).includes(ni))return null;let a=null;return(await Er(ni,o5,{upgrade:async(r,i,o,m)=>{var u;if(i<2||!r.objectStoreNames.contains(td))return;const c=m.objectStore(td),p=await c.index("fcmSenderId").get(t);if(await c.clear(),!!p){if(i===2){const f=p;if(!f.auth||!f.p256dh||!f.endpoint)return;a={token:f.fcmToken,createTime:(u=f.createTime)!==null&&u!==void 0?u:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:sa(f.vapidKey)}}}else if(i===3){const f=p;a={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:sa(f.auth),p256dh:sa(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:sa(f.vapidKey)}}}else if(i===4){const f=p;a={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:sa(f.auth),p256dh:sa(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:sa(f.vapidKey)}}}}}})).close(),await Xr(ni),await Xr("fcm_vapid_details_db"),await Xr("undefined"),d5(a)?a:null}function d5(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:a}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof a.auth=="string"&&a.auth.length>0&&typeof a.p256dh=="string"&&a.p256dh.length>0&&typeof a.endpoint=="string"&&a.endpoint.length>0&&typeof a.swScope=="string"&&a.swScope.length>0&&typeof a.vapidKey=="string"&&a.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="firebase-messaging-database",m5=1,Qn="firebase-messaging-store";let si=null;function dh(){return si||(si=Er(u5,m5,{upgrade:(t,a)=>{switch(a){case 0:t.createObjectStore(Qn)}}})),si}async function h5(t){const a=uh(t),r=await(await dh()).transaction(Qn).objectStore(Qn).get(a);if(r)return r;{const i=await c5(t.appConfig.senderId);if(i)return await Ll(t,i),i}}async function Ll(t,a){const n=uh(t),i=(await dh()).transaction(Qn,"readwrite");return await i.objectStore(Qn).put(a,n),await i.done,a}function uh({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Ct=new Ja("messaging","Messaging",p5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(t,a){const n=await Ml(t),r=mh(a),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(Fl(t.appConfig),i)).json()}catch(m){throw Ct.create("token-subscribe-failed",{errorInfo:m==null?void 0:m.toString()})}if(o.error){const m=o.error.message;throw Ct.create("token-subscribe-failed",{errorInfo:m})}if(!o.token)throw Ct.create("token-subscribe-no-token");return o.token}async function g5(t,a){const n=await Ml(t),r=mh(a.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=await(await fetch(`${Fl(t.appConfig)}/${a.token}`,i)).json()}catch(m){throw Ct.create("token-update-failed",{errorInfo:m==null?void 0:m.toString()})}if(o.error){const m=o.error.message;throw Ct.create("token-update-failed",{errorInfo:m})}if(!o.token)throw Ct.create("token-update-no-token");return o.token}async function b5(t,a){const r={method:"DELETE",headers:await Ml(t)};try{const o=await(await fetch(`${Fl(t.appConfig)}/${a}`,r)).json();if(o.error){const m=o.error.message;throw Ct.create("token-unsubscribe-failed",{errorInfo:m})}}catch(i){throw Ct.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function Fl({projectId:t}){return`${n5}/projects/${t}/registrations`}async function Ml({appConfig:t,installations:a}){const n=await a.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function mh({p256dh:t,auth:a,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:a,p256dh:t}};return r!==oh&&(i.web.applicationPubKey=r),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=7*24*60*60*1e3;async function x5(t){const a=await w5(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:a.endpoint,auth:sa(a.getKey("auth")),p256dh:sa(a.getKey("p256dh"))},r=await h5(t.firebaseDependencies);if(r){if(N5(r.subscriptionOptions,n))return Date.now()>=r.createTime+v5?y5(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await b5(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ad(t.firebaseDependencies,n)}else return ad(t.firebaseDependencies,n)}async function y5(t,a){try{const n=await g5(t.firebaseDependencies,a),r=Object.assign(Object.assign({},a),{token:n,createTime:Date.now()});return await Ll(t.firebaseDependencies,r),n}catch(n){throw n}}async function ad(t,a){const r={token:await f5(t,a),createTime:Date.now(),subscriptionOptions:a};return await Ll(t,r),r.token}async function w5(t,a){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:l5(a)})}function N5(t,a){const n=a.vapidKey===t.vapidKey,r=a.endpoint===t.endpoint,i=a.auth===t.auth,o=a.p256dh===t.p256dh;return n&&r&&i&&o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(t){const a={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return _5(a,t),k5(a,t),C5(a,t),a}function _5(t,a){if(!a.notification)return;t.notification={};const n=a.notification.title;n&&(t.notification.title=n);const r=a.notification.body;r&&(t.notification.body=r);const i=a.notification.image;i&&(t.notification.image=i);const o=a.notification.icon;o&&(t.notification.icon=o)}function k5(t,a){a.data&&(t.data=a.data)}function C5(t,a){var n,r,i,o,m;if(!a.fcmOptions&&!(!((n=a.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};const u=(i=(r=a.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(o=a.notification)===null||o===void 0?void 0:o.click_action;u&&(t.fcmOptions.link=u);const c=(m=a.fcmOptions)===null||m===void 0?void 0:m.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){return typeof t=="object"&&!!t&&ch in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");hh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function hh(t,a){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<a.length&&n.push(a.charAt(r));return n.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t){if(!t||!t.options)throw ri("App Configuration Object");if(!t.name)throw ri("App Name");const a=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of a)if(!n[r])throw ri(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function ri(t){return Ct.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(a,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=E5(a);this.firebaseDependencies={app:a,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(t){try{t.swRegistration=await navigator.serviceWorker.register(t5,{scope:a5}),t.swRegistration.update().catch(()=>{})}catch(a){throw Ct.create("failed-service-worker-registration",{browserErrorMessage:a==null?void 0:a.message})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5(t,a){if(!a&&!t.swRegistration&&await A5(t),!(!a&&t.swRegistration)){if(!(a instanceof ServiceWorkerRegistration))throw Ct.create("invalid-sw-registration");t.swRegistration=a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(t,a){a?t.vapidKey=a:t.vapidKey||(t.vapidKey=oh)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t,a){if(!navigator)throw Ct.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Ct.create("permission-blocked");return await I5(t,a==null?void 0:a.vapidKey),await P5(t,a==null?void 0:a.serviceWorkerRegistration),x5(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(t,a,n){const r=F5(a);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[ch],message_name:n[s5],message_time:n[r5],message_device_time:Math.floor(Date.now()/1e3)})}function F5(t){switch(t){case Xn.NOTIFICATION_CLICKED:return"notification_open";case Xn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M5(t,a){const n=a.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Xn.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(nd(n)):t.onMessageHandler.next(nd(n)));const r=n.data;S5(r)&&r[i5]==="1"&&await L5(t,n.messageType,r)}const sd="@firebase/messaging",rd="0.12.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=t=>{const a=new T5(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>M5(a,n)),a},B5=t=>{const a=t.getProvider("messaging").getImmediate();return{getToken:r=>ph(a,r)}};function R5(){ma(new Qt("messaging",O5,"PUBLIC")),ma(new Qt("messaging-internal",B5,"PRIVATE")),Xt(sd,rd),Xt(sd,rd,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(){try{await Bm()}catch{return!1}return typeof window<"u"&&Om()&&nv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t,a){if(!navigator)throw Ct.create("only-available-in-window");return t.onMessageHandler=a,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t=Dm()){return $5().then(a=>{if(!a)throw Ct.create("unsupported-browser")},a=>{throw Ct.create("indexed-db-unsupported")}),ps(ea(t),"messaging").getImmediate()}async function D5(t,a){return t=ea(t),ph(t,a)}function V5(t,a){return t=ea(t),j5(t,a)}R5();var U5="firebase",H5="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt(U5,H5,"app");function Ol(t,a){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)a.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function En(t,a,n,r){function i(o){return o instanceof n?o:new n(function(m){m(o)})}return new(n||(n=Promise))(function(o,m){function u(f){try{p(r.next(f))}catch(h){m(h)}}function c(f){try{p(r.throw(f))}catch(h){m(h)}}function p(f){f.done?o(f.value):i(f.value).then(u,c)}p((r=r.apply(t,a||[])).next())})}function Tn(t,a){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,m=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return m.next=u(0),m.throw=u(1),m.return=u(2),typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function u(p){return function(f){return c([p,f])}}function c(p){if(r)throw new TypeError("Generator is already executing.");for(;m&&(m=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=a.call(t,n)}catch(f){p=[6,f],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function id(t,a){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],m;try{for(;(a===void 0||a-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){m={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(m)throw m.error}}return o}function ld(t,a,n){if(n||arguments.length===2)for(var r=0,i=a.length,o;r<i;r++)(o||!(r in a))&&(o||(o=Array.prototype.slice.call(a,0,r)),o[r]=a[r]);return t.concat(o||Array.prototype.slice.call(a))}function fh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const W5=fh,gh=new Ja("auth","Firebase",fh());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Rm("@firebase/auth");function q5(t,...a){rr.logLevel<=st.WARN&&rr.warn(`Auth (${fs}): ${t}`,...a)}function Hs(t,...a){rr.logLevel<=st.ERROR&&rr.error(`Auth (${fs}): ${t}`,...a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t,...a){throw Bl(t,...a)}function Ot(t,...a){return Bl(t,...a)}function bh(t,a,n){const r=Object.assign(Object.assign({},W5()),{[a]:n});return new Ja("auth","Firebase",r).create(a,{appName:t.name})}function Aa(t){return bh(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bl(t,...a){if(typeof t!="string"){const n=a[0],r=[...a.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gh.create(t,...a)}function Fe(t,a,...n){if(!t)throw Bl(a,...n)}function ia(t){const a="INTERNAL ASSERTION FAILED: "+t;throw Hs(a),new Error(a)}function pa(t,a){t||ia(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vh(){return od()==="http:"||od()==="https:"}function od(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vh()||ev()||"connection"in navigator)?navigator.onLine:!0}function G5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(a,n){this.shortDelay=a,this.longDelay=n,pa(n>a,"Short delay should be less than long delay!"),this.isMobile=Qb()||tv()}get(){return Z5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t,a){pa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return a?`${n}${a.startsWith("/")?a.slice(1):a}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{static initialize(a,n,r){this.fetchImpl=a,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ia("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ia("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ia("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=new gs(3e4,6e4);function ba(t,a){return t.tenantId&&!a.tenantId?Object.assign(Object.assign({},a),{tenantId:t.tenantId}):a}async function ta(t,a,n,r,i={}){return yh(t,i,async()=>{let o={},m={};r&&(a==="GET"?m=r:o={body:JSON.stringify(r)});const u=Sn(Object.assign({key:t.config.apiKey},m)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),xh.fetch()(wh(t,t.config.apiHost,n,u),Object.assign({method:a,headers:c,referrerPolicy:"no-referrer"},o))})}async function yh(t,a,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},K5),a);try{const i=new Y5(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const m=await o.json();if("needConfirmation"in m)throw $n(t,"account-exists-with-different-credential",m);if(o.ok&&!("errorMessage"in m))return m;{const u=o.ok?m.errorMessage:m.error.message,[c,p]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw $n(t,"credential-already-in-use",m);if(c==="EMAIL_EXISTS")throw $n(t,"email-already-in-use",m);if(c==="USER_DISABLED")throw $n(t,"user-disabled",m);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw bh(t,f,p);ha(t,f)}}catch(i){if(i instanceof ga)throw i;ha(t,"network-request-failed",{message:String(i)})}}async function Pr(t,a,n,r,i={}){const o=await ta(t,a,n,r,i);return"mfaPendingCredential"in o&&ha(t,"multi-factor-auth-required",{_serverResponse:o}),o}function wh(t,a,n,r){const i=`${a}${n}?${r}`;return t.config.emulator?Rl(t.config,i):`${t.config.apiScheme}://${i}`}class Y5{constructor(a){this.auth=a,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ot(this.auth,"network-request-failed")),J5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $n(t,a,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ot(t,a,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(t){return t!==void 0&&t.getResponse!==void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(t){return(await ta(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(t,a){return ta(t,"POST","/v1/accounts:delete",a)}async function Nh(t,a){return ta(t,"POST","/v1/accounts:lookup",a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t){if(t)try{const a=new Date(Number(t));if(!isNaN(a.getTime()))return a.toUTCString()}catch{}}async function ex(t,a=!1){const n=ea(t),r=await n.getIdToken(a),i=$l(r);Fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,m=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Vn(ii(i.auth_time)),issuedAtTime:Vn(ii(i.iat)),expirationTime:Vn(ii(i.exp)),signInProvider:m||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ii(t){return Number(t)*1e3}function $l(t){const[a,n,r]=t.split(".");if(a===void 0||n===void 0||r===void 0)return Hs("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lm(n);return i?JSON.parse(i):(Hs("Failed to decode base64 JWT payload"),null)}catch(i){return Hs("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dd(t){const a=$l(t);return Fe(a,"internal-error"),Fe(typeof a.exp<"u","internal-error"),Fe(typeof a.iat<"u","internal-error"),Number(a.exp)-Number(a.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function es(t,a,n=!1){if(n)return a;try{return await a}catch(r){throw r instanceof ga&&tx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(a){this.user=a,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(a){var n;if(a){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(a=!1){if(!this.isRunning)return;const n=this.getInterval(a);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(a){(a==null?void 0:a.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(a,n){this.createdAt=a,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vn(this.lastLoginAt),this.creationTime=Vn(this.createdAt)}_copy(a){this.createdAt=a.createdAt,this.lastLoginAt=a.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ir(t){var a;const n=t.auth,r=await t.getIdToken(),i=await es(t,Nh(n,{idToken:r}));Fe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const m=!((a=o.providerUserInfo)===null||a===void 0)&&a.length?_h(o.providerUserInfo):[],u=sx(t.providerData,m),c=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),f=c?p:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zi(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function nx(t){const a=ea(t);await ir(a),await a.auth._persistUserIfCurrent(a),a.auth._notifyListenersIfCurrent(a)}function sx(t,a){return[...t.filter(r=>!a.some(i=>i.providerId===r.providerId)),...a]}function _h(t){return t.map(a=>{var{providerId:n}=a,r=Ol(a,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(t,a){const n=await yh(t,{},async()=>{const r=Sn({grant_type:"refresh_token",refresh_token:a}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,m=wh(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",xh.fetch()(m,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ix(t,a){return ta(t,"POST","/v2/accounts:revokeToken",ba(t,a))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(a){Fe(a.idToken,"internal-error"),Fe(typeof a.idToken<"u","internal-error"),Fe(typeof a.refreshToken<"u","internal-error");const n="expiresIn"in a&&typeof a.expiresIn<"u"?Number(a.expiresIn):dd(a.idToken);this.updateTokensAndExpiration(a.idToken,a.refreshToken,n)}updateFromIdToken(a){Fe(a.length!==0,"internal-error");const n=dd(a);this.updateTokensAndExpiration(a,null,n)}async getToken(a,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,a,"user-token-expired"),this.refreshToken?(await this.refresh(a,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(a,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await rx(a,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(a,n,r){this.refreshToken=n||null,this.accessToken=a||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(a,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,m=new mn;return r&&(Fe(typeof r=="string","internal-error",{appName:a}),m.refreshToken=r),i&&(Fe(typeof i=="string","internal-error",{appName:a}),m.accessToken=i),o&&(Fe(typeof o=="number","internal-error",{appName:a}),m.expirationTime=o),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(a){this.accessToken=a.accessToken,this.refreshToken=a.refreshToken,this.expirationTime=a.expirationTime}_clone(){return Object.assign(new mn,this.toJSON())}_performRefresh(){return ia("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t,a){Fe(typeof t=="string"||typeof t>"u","internal-error",{appName:a})}class la{constructor(a){var{uid:n,auth:r,stsTokenManager:i}=a,o=Ol(a,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ax(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zi(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(a){const n=await es(this,this.stsTokenManager.getToken(this.auth,a));return Fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(a){return ex(this,a)}reload(){return nx(this)}_assign(a){this!==a&&(Fe(this.uid===a.uid,this.auth,"internal-error"),this.displayName=a.displayName,this.photoURL=a.photoURL,this.email=a.email,this.emailVerified=a.emailVerified,this.phoneNumber=a.phoneNumber,this.isAnonymous=a.isAnonymous,this.tenantId=a.tenantId,this.providerData=a.providerData.map(n=>Object.assign({},n)),this.metadata._copy(a.metadata),this.stsTokenManager._assign(a.stsTokenManager))}_clone(a){const n=new la(Object.assign(Object.assign({},this),{auth:a,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(a){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=a,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(a){this.reloadListener?this.reloadListener(a):this.reloadUserInfo=a}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(a,n=!1){let r=!1;a.idToken&&a.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(a),r=!0),n&&await ir(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ra(this.auth.app))return Promise.reject(Aa(this.auth));const a=await this.getIdToken();return await es(this,Q5(this.auth,{idToken:a})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(a=>Object.assign({},a)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(a,n){var r,i,o,m,u,c,p,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,b=(i=n.email)!==null&&i!==void 0?i:void 0,S=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,I=(m=n.photoURL)!==null&&m!==void 0?m:void 0,T=(u=n.tenantId)!==null&&u!==void 0?u:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(p=n.createdAt)!==null&&p!==void 0?p:void 0,A=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:k,emailVerified:g,isAnonymous:E,providerData:N,stsTokenManager:v}=n;Fe(k&&v,a,"internal-error");const d=mn.fromJSON(this.name,v);Fe(typeof k=="string",a,"internal-error"),wa(h,a.name),wa(b,a.name),Fe(typeof g=="boolean",a,"internal-error"),Fe(typeof E=="boolean",a,"internal-error"),wa(S,a.name),wa(I,a.name),wa(T,a.name),wa(w,a.name),wa(_,a.name),wa(A,a.name);const y=new la({uid:k,auth:a,email:b,emailVerified:g,displayName:h,isAnonymous:E,photoURL:I,phoneNumber:S,tenantId:T,stsTokenManager:d,createdAt:_,lastLoginAt:A});return N&&Array.isArray(N)&&(y.providerData=N.map(M=>Object.assign({},M))),w&&(y._redirectEventId=w),y}static async _fromIdTokenResponse(a,n,r=!1){const i=new mn;i.updateFromServerResponse(n);const o=new la({uid:n.localId,auth:a,stsTokenManager:i,isAnonymous:r});return await ir(o),o}static async _fromGetAccountInfoResponse(a,n,r){const i=n.users[0];Fe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?_h(i.providerUserInfo):[],m=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new mn;u.updateFromIdToken(r);const c=new la({uid:i.localId,auth:a,stsTokenManager:u,isAnonymous:m}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Zi(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,p),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map;function oa(t){pa(t instanceof Function,"Expected a class definition");let a=ud.get(t);return a?(pa(a instanceof t,"Instance stored in cache mismatched with class"),a):(a=new t,ud.set(t,a),a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(a,n){this.storage[a]=n}async _get(a){const n=this.storage[a];return n===void 0?null:n}async _remove(a){delete this.storage[a]}_addListener(a,n){}_removeListener(a,n){}}kh.type="NONE";const md=kh;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,a,n){return`firebase:${t}:${a}:${n}`}class hn{constructor(a,n,r){this.persistence=a,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ws(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ws("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(a){return this.persistence._set(this.fullUserKey,a.toJSON())}async getCurrentUser(){const a=await this.persistence._get(this.fullUserKey);return a?la._fromJSON(this.auth,a):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(a){if(this.persistence===a)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=a,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(a,n,r="authUser"){if(!n.length)return new hn(oa(md),a,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||oa(md);const m=Ws(r,a.config.apiKey,a.name);let u=null;for(const p of n)try{const f=await p._get(m);if(f){const h=la._fromJSON(a,f);p!==o&&(u=h),o=p;break}}catch{}const c=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new hn(o,a,r):(o=c[0],u&&await o._set(m,u.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(m)}catch{}})),new hn(o,a,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t){const a=t.toLowerCase();if(a.includes("opera/")||a.includes("opr/")||a.includes("opios/"))return"Opera";if(Th(a))return"IEMobile";if(a.includes("msie")||a.includes("trident/"))return"IE";if(a.includes("edge/"))return"Edge";if(Ch(a))return"Firefox";if(a.includes("silk/"))return"Silk";if(Ph(a))return"Blackberry";if(Ih(a))return"Webos";if(Sh(a))return"Safari";if((a.includes("chrome/")||Eh(a))&&!a.includes("edge/"))return"Chrome";if(Ah(a))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ch(t=Pt()){return/firefox\//i.test(t)}function Sh(t=Pt()){const a=t.toLowerCase();return a.includes("safari/")&&!a.includes("chrome/")&&!a.includes("crios/")&&!a.includes("android")}function Eh(t=Pt()){return/crios\//i.test(t)}function Th(t=Pt()){return/iemobile/i.test(t)}function Ah(t=Pt()){return/android/i.test(t)}function Ph(t=Pt()){return/blackberry/i.test(t)}function Ih(t=Pt()){return/webos/i.test(t)}function jl(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lx(t=Pt()){var a;return jl(t)&&!!(!((a=window.navigator)===null||a===void 0)&&a.standalone)}function ox(){return av()&&document.documentMode===10}function Lh(t=Pt()){return jl(t)||Ah(t)||Ih(t)||Ph(t)||/windows phone/i.test(t)||Th(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(t,a=[]){let n;switch(t){case"Browser":n=hd(Pt());break;case"Worker":n=`${hd(Pt())}-${t}`;break;default:n=t}const r=a.length?a.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(a){this.auth=a,this.queue=[]}pushCallback(a,n){const r=o=>new Promise((m,u)=>{try{const c=a(o);m(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(a){if(this.auth.currentUser===a)return;const n=[];try{for(const r of this.queue)await r(a),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(t,a={}){return ta(t,"GET","/v2/passwordPolicy",ba(t,a))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=6;class mx{constructor(a){var n,r,i,o;const m=a.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=m.minPasswordLength)!==null&&n!==void 0?n:ux,m.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=m.maxPasswordLength),m.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=m.containsLowercaseCharacter),m.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=m.containsUppercaseCharacter),m.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=m.containsNumericCharacter),m.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=m.containsNonAlphanumericCharacter),this.enforcementState=a.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=a.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=a.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=a.schemaVersion}validatePassword(a){var n,r,i,o,m,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(a,c),this.validatePasswordCharacterOptions(a,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(m=c.containsNumericCharacter)!==null&&m!==void 0?m:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(a,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=a.length>=r),i&&(n.meetsMaxPasswordLength=a.length<=i)}validatePasswordCharacterOptions(a,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<a.length;i++)r=a.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(a,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(a.containsLowercaseLetter||(a.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(a.containsUppercaseLetter||(a.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(a.containsNumericCharacter||(a.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(a.containsNonAlphanumericCharacter||(a.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(a,n,r,i){this.app=a,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pd(this),this.idTokenSubscription=new pd(this),this.beforeStateQueue=new cx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=a.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(a,n){return n&&(this._popupRedirectResolver=oa(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await hn.create(this,a),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const a=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!a)){if(this.currentUser&&a&&this.currentUser.uid===a.uid){this._currentUser._assign(a),await this.currentUser.getIdToken();return}await this._updateCurrentUser(a,!0)}}async initializeCurrentUserFromIdToken(a){try{const n=await Nh(this,{idToken:a}),r=await la._fromGetAccountInfoResponse(this,n,a);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(a){var n;if(ra(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(a&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(a);(!m||m===u)&&(c!=null&&c.user)&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(m){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(a){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,a,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(a){try{await ir(a)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(a)}useDeviceLanguage(){this.languageCode=G5()}async _delete(){this._deleted=!0}async updateCurrentUser(a){if(ra(this.app))return Promise.reject(Aa(this));const n=a?ea(a):null;return n&&Fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(a,n=!1){if(!this._deleted)return a&&Fe(this.tenantId===a.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(a),this.queue(async()=>{await this.directlySetCurrentUser(a),this.notifyAuthListeners()})}async signOut(){return ra(this.app)?Promise.reject(Aa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(a){return ra(this.app)?Promise.reject(Aa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oa(a))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(a){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(a)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const a=await dx(this),n=new mx(a);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(a){this._errorFactory=new Ja("auth","Firebase",a())}onAuthStateChanged(a,n,r){return this.registerStateListener(this.authStateSubscription,a,n,r)}beforeAuthStateChanged(a,n){return this.beforeStateQueue.pushCallback(a,n)}onIdTokenChanged(a,n,r){return this.registerStateListener(this.idTokenSubscription,a,n,r)}authStateReady(){return new Promise((a,n)=>{if(this.currentUser)a();else{const r=this.onAuthStateChanged(()=>{r(),a()},n)}})}async revokeAccessToken(a){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:a,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ix(this,r)}}toJSON(){var a;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(a=this._currentUser)===null||a===void 0?void 0:a.toJSON()}}async _setRedirectUser(a,n){const r=await this.getOrInitRedirectPersistenceManager(n);return a===null?r.removeCurrentUser():r.setCurrentUser(a)}async getOrInitRedirectPersistenceManager(a){if(!this.redirectPersistenceManager){const n=a&&oa(a)||this._popupRedirectResolver;Fe(n,this,"argument-error"),this.redirectPersistenceManager=await hn.create(this,[oa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(a){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===a?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===a?this.redirectUser:null}async _persistUserIfCurrent(a){if(a===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(a))}_notifyListenersIfCurrent(a){a===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var a,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(a=this.currentUser)===null||a===void 0?void 0:a.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(a,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let m=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(u,this,"internal-error"),u.then(()=>{m||o(this.currentUser)}),typeof n=="function"){const c=a.addObserver(n,r,i);return()=>{m=!0,c()}}else{const c=a.addObserver(n);return()=>{m=!0,c()}}}async directlySetCurrentUser(a){this.currentUser&&this.currentUser!==a&&this._currentUser._stopProactiveRefresh(),a&&this.isProactiveRefreshEnabled&&a._startProactiveRefresh(),this.currentUser=a,a?await this.assertedPersistence.setCurrentUser(a):await this.assertedPersistence.removeCurrentUser()}queue(a){return this.operations=this.operations.then(a,a),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(a){!a||this.frameworks.includes(a)||(this.frameworks.push(a),this.frameworks.sort(),this.clientVersion=Fh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||a===void 0?void 0:a.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var a;const n=await((a=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||a===void 0?void 0:a.getToken());return n!=null&&n.error&&q5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function An(t){return ea(t)}class pd{constructor(a){this.auth=a,this.observer=null,this.addObserver=ov(n=>this.observer=n)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function px(t){Ir=t}function Mh(t){return Ir.loadJS(t)}function fx(){return Ir.recaptchaV2Script}function gx(){return Ir.gapiScript}function Oh(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t,a){const n=ps(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ar(o,a??{}))return i;ha(i,"already-initialized")}return n.initialize({options:a})}function vx(t,a){const n=(a==null?void 0:a.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oa);a!=null&&a.errorMap&&t._updateErrorMap(a.errorMap),t._initializeWithPersistence(r,a==null?void 0:a.popupRedirectResolver)}function xx(t,a,n){const r=An(t);Fe(r._canInitEmulator,r,"emulator-config-failed"),Fe(/^https?:\/\//.test(a),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Bh(a),{host:m,port:u}=yx(a),c=u===null?"":`:${u}`;r.config.emulator={url:`${o}//${m}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:m,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||wx()}function Bh(t){const a=t.indexOf(":");return a<0?"":t.substr(0,a+1)}function yx(t){const a=Bh(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(a.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:fd(r.substr(o.length+1))}}else{const[o,m]=r.split(":");return{host:o,port:fd(m)}}}function fd(t){if(!t)return null;const a=Number(t);return isNaN(a)?null:a}function wx(){function t(){const a=document.createElement("p"),n=a.style;a.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",a.classList.add("firebase-emulator-warning"),document.body.appendChild(a)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(a,n){this.providerId=a,this.signInMethod=n}toJSON(){return ia("not implemented")}_getIdTokenResponse(a){return ia("not implemented")}_linkToIdToken(a,n){return ia("not implemented")}_getReauthenticationResolver(a){return ia("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pn(t,a){return Pr(t,"POST","/v1/accounts:signInWithIdp",ba(t,a))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="http://localhost";class Za extends zl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(a){const n=new Za(a.providerId,a.signInMethod);return a.idToken||a.accessToken?(a.idToken&&(n.idToken=a.idToken),a.accessToken&&(n.accessToken=a.accessToken),a.nonce&&!a.pendingToken&&(n.nonce=a.nonce),a.pendingToken&&(n.pendingToken=a.pendingToken)):a.oauthToken&&a.oauthTokenSecret?(n.accessToken=a.oauthToken,n.secret=a.oauthTokenSecret):ha("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(a){const n=typeof a=="string"?JSON.parse(a):a,{providerId:r,signInMethod:i}=n,o=Ol(n,["providerId","signInMethod"]);if(!r||!i)return null;const m=new Za(r,i);return m.idToken=o.idToken||void 0,m.accessToken=o.accessToken||void 0,m.secret=o.secret,m.nonce=o.nonce,m.pendingToken=o.pendingToken||null,m}_getIdTokenResponse(a){const n=this.buildRequest();return pn(a,n)}_linkToIdToken(a,n){const r=this.buildRequest();return r.idToken=n,pn(a,r)}_getReauthenticationResolver(a){const n=this.buildRequest();return n.autoCreate=!1,pn(a,n)}buildRequest(){const a={requestUri:Nx,returnSecureToken:!0};if(this.pendingToken)a.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),a.postBody=Sn(n)}return a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(t,a){return ta(t,"POST","/v1/accounts:sendVerificationCode",ba(t,a))}async function kx(t,a){return Pr(t,"POST","/v1/accounts:signInWithPhoneNumber",ba(t,a))}async function Cx(t,a){const n=await Pr(t,"POST","/v1/accounts:signInWithPhoneNumber",ba(t,a));if(n.temporaryProof)throw $n(t,"account-exists-with-different-credential",n);return n}const Sx={USER_NOT_FOUND:"user-not-found"};async function Ex(t,a){const n=Object.assign(Object.assign({},a),{operation:"REAUTH"});return Pr(t,"POST","/v1/accounts:signInWithPhoneNumber",ba(t,n),Sx)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un extends zl{constructor(a){super("phone","phone"),this.params=a}static _fromVerification(a,n){return new Un({verificationId:a,verificationCode:n})}static _fromTokenResponse(a,n){return new Un({phoneNumber:a,temporaryProof:n})}_getIdTokenResponse(a){return kx(a,this._makeVerificationRequest())}_linkToIdToken(a,n){return Cx(a,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(a){return Ex(a,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:a,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return a&&n?{temporaryProof:a,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const a={providerId:this.providerId};return this.params.phoneNumber&&(a.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(a.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(a.verificationCode=this.params.verificationCode),this.params.verificationId&&(a.verificationId=this.params.verificationId),a}static fromJSON(a){typeof a=="string"&&(a=JSON.parse(a));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=a;return!r&&!n&&!i&&!o?null:new Un({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(a){this.providerId=a,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(a){this.defaultLanguageCode=a}setCustomParameters(a){return this.customParameters=a,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Rh{constructor(){super(...arguments),this.scopes=[]}addScope(a){return this.scopes.includes(a)||this.scopes.push(a),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends bs{constructor(){super("facebook.com")}static credential(a){return Za._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.FACEBOOK_SIGN_IN_METHOD,accessToken:a})}static credentialFromResult(a){return _a.credentialFromTaggedObject(a)}static credentialFromError(a){return _a.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a||!("oauthAccessToken"in a)||!a.oauthAccessToken)return null;try{return _a.credential(a.oauthAccessToken)}catch{return null}}}_a.FACEBOOK_SIGN_IN_METHOD="facebook.com";_a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends bs{constructor(){super("google.com"),this.addScope("profile")}static credential(a,n){return Za._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GOOGLE_SIGN_IN_METHOD,idToken:a,accessToken:n})}static credentialFromResult(a){return ka.credentialFromTaggedObject(a)}static credentialFromError(a){return ka.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;const{oauthIdToken:n,oauthAccessToken:r}=a;if(!n&&!r)return null;try{return ka.credential(n,r)}catch{return null}}}ka.GOOGLE_SIGN_IN_METHOD="google.com";ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends bs{constructor(){super("github.com")}static credential(a){return Za._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:a})}static credentialFromResult(a){return Ca.credentialFromTaggedObject(a)}static credentialFromError(a){return Ca.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a||!("oauthAccessToken"in a)||!a.oauthAccessToken)return null;try{return Ca.credential(a.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends bs{constructor(){super("twitter.com")}static credential(a,n){return Za._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:a,oauthTokenSecret:n})}static credentialFromResult(a){return Sa.credentialFromTaggedObject(a)}static credentialFromError(a){return Sa.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=a;if(!n||!r)return null;try{return Sa.credential(n,r)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(a){this.user=a.user,this.providerId=a.providerId,this._tokenResponse=a._tokenResponse,this.operationType=a.operationType}static async _fromIdTokenResponse(a,n,r,i=!1){const o=await la._fromIdTokenResponse(a,r,i),m=gd(r);return new Nn({user:o,providerId:m,_tokenResponse:r,operationType:n})}static async _forOperation(a,n,r){await a._updateTokensIfNecessary(r,!0);const i=gd(r);return new Nn({user:a,providerId:i,_tokenResponse:r,operationType:n})}}function gd(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends ga{constructor(a,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lr.prototype),this.customData={appName:a.name,tenantId:(o=a.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(a,n,r,i){return new lr(a,n,r,i)}}function $h(t,a,n,r){return(a==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?lr._fromErrorAndOperation(t,o,a,r):o})}async function Tx(t,a,n=!1){const r=await es(t,a._linkToIdToken(t.auth,await t.getIdToken()),n);return Nn._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(t,a,n=!1){const{auth:r}=t;if(ra(r.app))return Promise.reject(Aa(r));const i="reauthenticate";try{const o=await es(t,$h(r,i,a,t),n);Fe(o.idToken,r,"internal-error");const m=$l(o.idToken);Fe(m,r,"internal-error");const{sub:u}=m;return Fe(t.uid===u,r,"user-mismatch"),Nn._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ha(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t,a,n=!1){if(ra(t.app))return Promise.reject(Aa(t));const r="signIn",i=await $h(t,r,a),o=await Nn._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Px(t,a){return jh(An(t),a)}function Ix(t,a,n,r){return ea(t).onIdTokenChanged(a,n,r)}function Lx(t,a,n){return ea(t).beforeAuthStateChanged(a,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,a){return ta(t,"POST","/v2/accounts/mfaEnrollment:start",ba(t,a))}const or="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(a,n){this.storageRetriever=a,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(or,"1"),this.storage.removeItem(or),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(a,n){return this.storage.setItem(a,JSON.stringify(n)),Promise.resolve()}_get(a){const n=this.storage.getItem(a);return Promise.resolve(n?JSON.parse(n):null)}_remove(a){return this.storage.removeItem(a),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=1e3,Ox=10;class Dh extends zh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(a,n)=>this.onStorageEvent(a,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lh(),this._shouldAllowMigration=!0}forAllChangedKeys(a){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&a(n,i,r)}}onStorageEvent(a,n=!1){if(!a.key){this.forAllChangedKeys((m,u,c)=>{this.notifyListeners(m,c)});return}const r=a.key;n?this.detachListener():this.stopPolling();const i=()=>{const m=this.storage.getItem(r);!n&&this.localCache[r]===m||this.notifyListeners(r,m)},o=this.storage.getItem(r);ox()&&o!==a.newValue&&a.newValue!==a.oldValue?setTimeout(i,Ox):i()}notifyListeners(a,n){this.localCache[a]=n;const r=this.listeners[a];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((a,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:a,oldValue:n,newValue:r}),!0)})},Mx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(a,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[a]||(this.listeners[a]=new Set,this.localCache[a]=this.storage.getItem(a)),this.listeners[a].add(n)}_removeListener(a,n){this.listeners[a]&&(this.listeners[a].delete(n),this.listeners[a].size===0&&delete this.listeners[a]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(a,n){await super._set(a,n),this.localCache[a]=JSON.stringify(n)}async _get(a){const n=await super._get(a);return this.localCache[a]=JSON.stringify(n),n}async _remove(a){await super._remove(a),delete this.localCache[a]}}Dh.type="LOCAL";const Bx=Dh;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends zh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(a,n){}_removeListener(a,n){}}Vh.type="SESSION";const Uh=Vh;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t){return Promise.all(t.map(async a=>{try{return{fulfilled:!0,value:await a}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(a){this.eventTarget=a,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(a){const n=this.receivers.find(i=>i.isListeningto(a));if(n)return n;const r=new Lr(a);return this.receivers.push(r),r}isListeningto(a){return this.eventTarget===a}async handleEvent(a){const n=a,{eventId:r,eventType:i,data:o}=n.data,m=this.handlersMap[i];if(!(m!=null&&m.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(m).map(async p=>p(n.origin,o)),c=await Rx(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(a,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[a]||(this.handlersMap[a]=new Set),this.handlersMap[a].add(n)}_unsubscribe(a,n){this.handlersMap[a]&&n&&this.handlersMap[a].delete(n),(!n||this.handlersMap[a].size===0)&&delete this.handlersMap[a],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lr.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t="",a=10){let n="";for(let r=0;r<a;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(a){this.target=a,this.handlers=new Set}removeMessageHandler(a){a.messageChannel&&(a.messageChannel.port1.removeEventListener("message",a.onMessage),a.messageChannel.port1.close()),this.handlers.delete(a)}async _send(a,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,m;return new Promise((u,c)=>{const p=Dl("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);m={messageChannel:i,onMessage(h){const b=h;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(b.data.response);break;default:clearTimeout(f),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(m),i.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:a,eventId:p,data:n},[i.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return window}function jx(t){vt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(){return typeof vt().WorkerGlobalScope<"u"&&typeof vt().importScripts=="function"}async function zx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Vx(){return Vl()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="firebaseLocalStorageDb",Ux=1,cr="firebaseLocalStorage",Wh="fbase_key";class vs{constructor(a){this.request=a}toPromise(){return new Promise((a,n)=>{this.request.addEventListener("success",()=>{a(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fr(t,a){return t.transaction([cr],a?"readwrite":"readonly").objectStore(cr)}function Hx(){const t=indexedDB.deleteDatabase(Hh);return new vs(t).toPromise()}function Gi(){const t=indexedDB.open(Hh,Ux);return new Promise((a,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cr,{keyPath:Wh})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cr)?a(r):(r.close(),await Hx(),a(await Gi()))})})}async function bd(t,a,n){const r=Fr(t,!0).put({[Wh]:a,value:n});return new vs(r).toPromise()}async function Wx(t,a){const n=Fr(t,!1).get(a),r=await new vs(n).toPromise();return r===void 0?null:r.value}function vd(t,a){const n=Fr(t,!0).delete(a);return new vs(n).toPromise()}const qx=800,Zx=3;class qh{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gi(),this.db)}async _withRetries(a){let n=0;for(;;)try{const r=await this._openDb();return await a(r)}catch(r){if(n++>Zx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vl()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lr._getInstance(Vx()),this.receiver._subscribe("keyChanged",async(a,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(a,n)=>["keyChanged"])}async initializeSender(){var a,n;if(this.activeServiceWorker=await zx(),!this.activeServiceWorker)return;this.sender=new $x(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((a=r[0])===null||a===void 0)&&a.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(a){if(!(!this.sender||!this.activeServiceWorker||Dx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:a},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const a=await Gi();return await bd(a,or,"1"),await vd(a,or),!0}catch{}return!1}async _withPendingWrite(a){this.pendingWrites++;try{await a()}finally{this.pendingWrites--}}async _set(a,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bd(r,a,n)),this.localCache[a]=n,this.notifyServiceWorker(a)))}async _get(a){const n=await this._withRetries(r=>Wx(r,a));return this.localCache[a]=n,n}async _remove(a){return this._withPendingWrite(async()=>(await this._withRetries(n=>vd(n,a)),delete this.localCache[a],this.notifyServiceWorker(a)))}async _poll(){const a=await this._withRetries(i=>{const o=Fr(i,!1).getAll();return new vs(o).toPromise()});if(!a)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(a.length!==0)for(const{fbase_key:i,value:o}of a)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(a,n){this.localCache[a]=n;const r=this.listeners[a];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(a,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[a]||(this.listeners[a]=new Set,this._get(a)),this.listeners[a].add(n)}_removeListener(a,n){this.listeners[a]&&(this.listeners[a].delete(n),this.listeners[a].size===0&&delete this.listeners[a]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qh.type="LOCAL";const Gx=qh;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,a){return ta(t,"POST","/v2/accounts/mfaSignIn:start",ba(t,a))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=500,Yx=6e4,Ls=1e12;class Xx{constructor(a){this.auth=a,this.counter=Ls,this._widgets=new Map}render(a,n){const r=this.counter;return this._widgets.set(r,new Qx(a,this.auth.name,n||{})),this.counter++,r}reset(a){var n;const r=a||Ls;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(a){var n;const r=a||Ls;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(a){var n;const r=a||Ls;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class Qx{constructor(a,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof a=="string"?document.getElementById(a):a;Fe(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=ey(50);const{callback:a,"expired-callback":n}=this.params;if(a)try{a(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Yx)},Jx))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function ey(t){const a=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)a.push(n.charAt(Math.floor(Math.random()*n.length)));return a.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=Oh("rcb"),ty=new gs(3e4,6e4);class ay{constructor(){var a;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((a=vt().grecaptcha)===null||a===void 0)&&a.render)}load(a,n=""){return Fe(ny(n),a,"argument-error"),this.shouldResolveImmediately(n)&&cd(vt().grecaptcha)?Promise.resolve(vt().grecaptcha):new Promise((r,i)=>{const o=vt().setTimeout(()=>{i(Ot(a,"network-request-failed"))},ty.get());vt()[li]=()=>{vt().clearTimeout(o),delete vt()[li];const u=vt().grecaptcha;if(!u||!cd(u)){i(Ot(a,"internal-error"));return}const c=u.render;u.render=(p,f)=>{const h=c(p,f);return this.counter++,h},this.hostLanguage=n,r(u)};const m=`${fx()}?${Sn({onload:li,render:"explicit",hl:n})}`;Mh(m).catch(()=>{clearTimeout(o),i(Ot(a,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(a){var n;return!!(!((n=vt().grecaptcha)===null||n===void 0)&&n.render)&&(a===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function ny(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class sy{async load(a){return new Xx(a)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="recaptcha",ry={theme:"light",type:"image"};class iy{constructor(a,n,r=Object.assign({},ry)){this.parameters=r,this.type=Zh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(a),this.isInvisible=this.parameters.size==="invisible",Fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;Fe(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sy:new ay,this.validateStartingState()}async verify(){this.assertNotDestroyed();const a=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(a);return r||new Promise(i=>{const o=m=>{m&&(this.tokenChangeListeners.delete(o),i(m))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(a)})}render(){try{this.assertNotDestroyed()}catch(a){return Promise.reject(a)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(a=>{throw this.renderPromise=null,a}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(a=>{this.container.removeChild(a)})}validateStartingState(){Fe(!this.parameters.sitekey,this.auth,"argument-error"),Fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(a){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof a=="function")a(n);else if(typeof a=="string"){const r=vt()[a];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Fe(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let a=this.container;if(!this.isInvisible){const n=document.createElement("div");a.appendChild(n),a=n}this.widgetId=this.getAssertedRecaptcha().render(a,this.parameters)}return this.widgetId}async init(){Fe(vh()&&!Vl(),this.auth,"internal-error"),await ly(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const a=await X5(this.auth);Fe(a,this.auth,"internal-error"),this.parameters.sitekey=a}getAssertedRecaptcha(){return Fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function ly(){let t=null;return new Promise(a=>{if(document.readyState==="complete"){a();return}t=()=>a(),window.addEventListener("load",t)}).catch(a=>{throw t&&window.removeEventListener("load",t),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(a,n){this.verificationId=a,this.onConfirmation=n}confirm(a){const n=Un._fromVerification(this.verificationId,a);return this.onConfirmation(n)}}async function cy(t,a,n){if(ra(t.app))return Promise.reject(Aa(t));const r=An(t),i=await dy(r,a,ea(n));return new oy(i,o=>Px(r,o))}async function dy(t,a,n){var r;const i=await n.verify();try{Fe(typeof i=="string",t,"argument-error"),Fe(n.type===Zh,t,"argument-error");let o;if(typeof a=="string"?o={phoneNumber:a}:o=a,"session"in o){const m=o.session;if("phoneNumber"in o)return Fe(m.type==="enroll",t,"internal-error"),(await Fx(t,{idToken:m.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{Fe(m.type==="signin",t,"internal-error");const u=((r=o.multiFactorHint)===null||r===void 0?void 0:r.uid)||o.multiFactorUid;return Fe(u,t,"missing-multi-factor-info"),(await Kx(t,{mfaPendingCredential:m.credential,mfaEnrollmentId:u,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:m}=await _x(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return m}}finally{n._reset()}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,a){return a?oa(a):(Fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends zl{constructor(a){super("custom","custom"),this.params=a}_getIdTokenResponse(a){return pn(a,this._buildIdpRequest())}_linkToIdToken(a,n){return pn(a,this._buildIdpRequest(n))}_getReauthenticationResolver(a){return pn(a,this._buildIdpRequest())}_buildIdpRequest(a){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return a&&(n.idToken=a),n}}function my(t){return jh(t.auth,new Ul(t),t.bypassAuthState)}function hy(t){const{auth:a,user:n}=t;return Fe(n,a,"internal-error"),Ax(n,new Ul(t),t.bypassAuthState)}async function py(t){const{auth:a,user:n}=t;return Fe(n,a,"internal-error"),Tx(n,new Ul(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(a,n,r,i,o=!1){this.auth=a,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(a,n)=>{this.pendingPromise={resolve:a,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(a){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:m,type:u}=a;if(m){this.reject(m);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(p){this.reject(p)}}onError(a){this.reject(a)}getIdpTask(a){switch(a){case"signInViaPopup":case"signInViaRedirect":return my;case"linkViaPopup":case"linkViaRedirect":return py;case"reauthViaPopup":case"reauthViaRedirect":return hy;default:ha(this.auth,"internal-error")}}resolve(a){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(a),this.unregisterAndCleanUp()}reject(a){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(a),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new gs(2e3,1e4);class dn extends Gh{constructor(a,n,r,i,o){super(a,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,dn.currentPopupAction&&dn.currentPopupAction.cancel(),dn.currentPopupAction=this}async executeNotNull(){const a=await this.execute();return Fe(a,this.auth,"internal-error"),a}async onExecution(){pa(this.filter.length===1,"Popup operations only handle one event");const a=Dl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],a),this.authWindow.associatedEvent=a,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ot(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var a;return((a=this.authWindow)===null||a===void 0?void 0:a.associatedEvent)||null}cancel(){this.reject(Ot(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dn.currentPopupAction=null}pollUserCancellation(){const a=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ot(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(a,fy.get())};a()}}dn.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="pendingRedirect",qs=new Map;class by extends Gh{constructor(a,n,r=!1){super(a,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let a=qs.get(this.auth._key());if(!a){try{const r=await vy(this.resolver,this.auth)?await super.execute():null;a=()=>Promise.resolve(r)}catch(n){a=()=>Promise.reject(n)}qs.set(this.auth._key(),a)}return this.bypassAuthState||qs.set(this.auth._key(),()=>Promise.resolve(null)),a()}async onAuthEvent(a){if(a.type==="signInViaRedirect")return super.onAuthEvent(a);if(a.type==="unknown"){this.resolve(null);return}if(a.eventId){const n=await this.auth._redirectUserForId(a.eventId);if(n)return this.user=n,super.onAuthEvent(a);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vy(t,a){const n=wy(a),r=yy(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xy(t,a){qs.set(t._key(),a)}function yy(t){return oa(t._redirectPersistence)}function wy(t){return Ws(gy,t.config.apiKey,t.name)}async function Ny(t,a,n=!1){if(ra(t.app))return Promise.reject(Aa(t));const r=An(t),i=uy(r,a),m=await new by(r,i,n).execute();return m&&!n&&(delete m.user._redirectEventId,await r._persistUserIfCurrent(m.user),await r._setRedirectUser(null,a)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=10*60*1e3;class ky{constructor(a){this.auth=a,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(a){this.consumers.add(a),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,a)&&(this.sendToConsumer(this.queuedRedirectEvent,a),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(a){this.consumers.delete(a)}onEvent(a){if(this.hasEventBeenHandled(a))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(a,r)&&(n=!0,this.sendToConsumer(a,r),this.saveEventToCache(a))}),this.hasHandledPotentialRedirect||!Cy(a)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=a,n=!0)),n}sendToConsumer(a,n){var r;if(a.error&&!Kh(a)){const i=((r=a.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ot(this.auth,i))}else n.onAuthEvent(a)}isEventForConsumer(a,n){const r=n.eventId===null||!!a.eventId&&a.eventId===n.eventId;return n.filter.includes(a.type)&&r}hasEventBeenHandled(a){return Date.now()-this.lastProcessedEventTime>=_y&&this.cachedEventUids.clear(),this.cachedEventUids.has(xd(a))}saveEventToCache(a){this.cachedEventUids.add(xd(a)),this.lastProcessedEventTime=Date.now()}}function xd(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(a=>a).join("-")}function Kh({type:t,error:a}){return t==="unknown"&&(a==null?void 0:a.code)==="auth/no-auth-event"}function Cy(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kh(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sy(t,a={}){return ta(t,"GET","/v1/projects",a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ty=/^https?/;async function Ay(t){if(t.config.emulator)return;const{authorizedDomains:a}=await Sy(t);for(const n of a)try{if(Py(n))return}catch{}ha(t,"unauthorized-domain")}function Py(t){const a=qi(),{protocol:n,hostname:r}=new URL(a);if(t.startsWith("chrome-extension://")){const m=new URL(t);return m.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===a.replace("chrome-extension://",""):n==="chrome-extension:"&&m.hostname===r}if(!Ty.test(n))return!1;if(Ey.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new gs(3e4,6e4);function yd(){const t=vt().___jsl;if(t!=null&&t.H){for(const a of Object.keys(t.H))if(t.H[a].r=t.H[a].r||[],t.H[a].L=t.H[a].L||[],t.H[a].r=[...t.H[a].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ly(t){return new Promise((a,n)=>{var r,i,o;function m(){yd(),gapi.load("gapi.iframes",{callback:()=>{a(gapi.iframes.getContext())},ontimeout:()=>{yd(),n(Ot(t,"network-request-failed"))},timeout:Iy.get()})}if(!((i=(r=vt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)a(gapi.iframes.getContext());else if(!((o=vt().gapi)===null||o===void 0)&&o.load)m();else{const u=Oh("iframefcb");return vt()[u]=()=>{gapi.load?m():n(Ot(t,"network-request-failed"))},Mh(`${gx()}?onload=${u}`).catch(c=>n(c))}}).catch(a=>{throw Zs=null,a})}let Zs=null;function Fy(t){return Zs=Zs||Ly(t),Zs}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My=new gs(5e3,15e3),Oy="__/auth/iframe",By="emulator/auth/iframe",Ry={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$y=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jy(t){const a=t.config;Fe(a.authDomain,t,"auth-domain-config-required");const n=a.emulator?Rl(a,By):`https://${t.config.authDomain}/${Oy}`,r={apiKey:a.apiKey,appName:t.name,v:fs},i=$y.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Sn(r).slice(1)}`}async function zy(t){const a=await Fy(t),n=vt().gapi;return Fe(n,t,"internal-error"),a.open({where:document.body,url:jy(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ry,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const m=Ot(t,"network-request-failed"),u=vt().setTimeout(()=>{o(m)},My.get());function c(){vt().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vy=500,Uy=600,Hy="_blank",Wy="http://localhost";class wd{constructor(a){this.window=a,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qy(t,a,n,r=Vy,i=Uy){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),m=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},Dy),{width:r.toString(),height:i.toString(),top:o,left:m}),p=Pt().toLowerCase();n&&(u=Eh(p)?Hy:n),Ch(p)&&(a=a||Wy,c.scrollbars="yes");const f=Object.entries(c).reduce((b,[S,I])=>`${b}${S}=${I},`,"");if(lx(p)&&u!=="_self")return Zy(a||"",u),new wd(null);const h=window.open(a||"",u,f);Fe(h,t,"popup-blocked");try{h.focus()}catch{}return new wd(h)}function Zy(t,a){const n=document.createElement("a");n.href=t,n.target=a;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="__/auth/handler",Ky="emulator/auth/handler",Jy=encodeURIComponent("fac");async function Nd(t,a,n,r,i,o){Fe(t.config.authDomain,t,"auth-domain-config-required"),Fe(t.config.apiKey,t,"invalid-api-key");const m={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fs,eventId:i};if(a instanceof Rh){a.setDefaultLanguage(t.languageCode),m.providerId=a.providerId||"",lv(a.getCustomParameters())||(m.customParameters=JSON.stringify(a.getCustomParameters()));for(const[f,h]of Object.entries(o||{}))m[f]=h}if(a instanceof bs){const f=a.getScopes().filter(h=>h!=="");f.length>0&&(m.scopes=f.join(","))}t.tenantId&&(m.tid=t.tenantId);const u=m;for(const f of Object.keys(u))u[f]===void 0&&delete u[f];const c=await t._getAppCheckToken(),p=c?`#${Jy}=${encodeURIComponent(c)}`:"";return`${Yy(t)}?${Sn(u).slice(1)}${p}`}function Yy({config:t}){return t.emulator?Rl(t,Ky):`https://${t.authDomain}/${Gy}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="webStorageSupport";class Xy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Uh,this._completeRedirectFn=Ny,this._overrideRedirectResult=xy}async _openPopup(a,n,r,i){var o;pa((o=this.eventManagers[a._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const m=await Nd(a,n,r,qi(),i);return qy(a,m,Dl())}async _openRedirect(a,n,r,i){await this._originValidation(a);const o=await Nd(a,n,r,qi(),i);return jx(o),new Promise(()=>{})}_initialize(a){const n=a._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(pa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(a);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(a){const n=await zy(a),r=new ky(a);return n.register("authEvent",i=>(Fe(i==null?void 0:i.authEvent,a,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[a._key()]={manager:r},this.iframes[a._key()]=n,r}_isIframeWebStorageSupported(a,n){this.iframes[a._key()].send(oi,{type:oi},i=>{var o;const m=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[oi];m!==void 0&&n(!!m),ha(a,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(a){const n=a._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ay(a)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lh()||Sh()||jl()}}const Qy=Xy;var _d="@firebase/auth",kd="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(a){this.auth=a,this.internalListeners=new Map}getUid(){var a;return this.assertAuthConfigured(),((a=this.auth.currentUser)===null||a===void 0?void 0:a.uid)||null}async getToken(a){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(a)}:null}addAuthTokenListener(a){if(this.assertAuthConfigured(),this.internalListeners.has(a))return;const n=this.auth.onIdTokenChanged(r=>{a((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(a,n),this.updateProactiveRefresh()}removeAuthTokenListener(a){this.assertAuthConfigured();const n=this.internalListeners.get(a);n&&(this.internalListeners.delete(a),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aw(t){ma(new Qt("auth",(a,{options:n})=>{const r=a.getProvider("app").getImmediate(),i=a.getProvider("heartbeat"),o=a.getProvider("app-check-internal"),{apiKey:m,authDomain:u}=r.options;Fe(m&&!m.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:m,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fh(t)},p=new hx(r,i,o,c);return vx(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((a,n,r)=>{a.getProvider("auth-internal").initialize()})),ma(new Qt("auth-internal",a=>{const n=An(a.getProvider("auth").getImmediate());return(r=>new ew(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xt(_d,kd,tw(t)),Xt(_d,kd,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=5*60,sw=Mm("authIdTokenMaxAge")||nw;let Cd=null;const rw=t=>async a=>{const n=a&&await a.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sw)return;const i=n==null?void 0:n.token;Cd!==i&&(Cd=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function iw(t=Dm()){const a=ps(t,"auth");if(a.isInitialized())return a.getImmediate();const n=bx(t,{popupRedirectResolver:Qy,persistence:[Gx,Bx,Uh]}),r=Mm("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const m=rw(o.toString());Lx(n,m,()=>m(n.currentUser)),Ix(n,u=>m(u))}}const i=Yb("auth");return i&&xx(n,`http://${i}`),n}function lw(){var t,a;return(a=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&a!==void 0?a:document}px({loadJS(t){return new Promise((a,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=a,r.onerror=i=>{const o=Ot("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",lw().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aw("Browser");const ow={apiKey:"AIzaSyB2l8M1GZiDSEDr7okoDk3SSfzOUNxqmxs",authDomain:"sfs-crm.firebaseapp.com",projectId:"sfs-crm",storageBucket:"sfs-crm.appspot.com",messagingSenderId:"729323945317",appId:"1:729323945317:web:69ad2e990f3057ac8ab58c",measurementId:"G-BN6TRD12P9"},Jh=zm(ow),Sd=iw(Jh),Ed=z5(Jh);function Yh(t){var a,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(a=0;a<i;a++)t[a]&&(n=Yh(t[a]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ea(){for(var t,a,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(a=Yh(t))&&(r&&(r+=" "),r+=a);return r}const ts=t=>typeof t=="number"&&!isNaN(t),Ua=t=>typeof t=="string",Mt=t=>typeof t=="function",Gs=t=>Ua(t)||Mt(t)?t:null,Ki=t=>l.isValidElement(t)||Ua(t)||Mt(t)||ts(t);function cw(t,a,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(a,n)})})}function Mr(t){let{enter:a,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=t;return function(m){let{children:u,position:c,preventExitTransition:p,done:f,nodeRef:h,isIn:b,playToast:S}=m;const I=r?`${a}--${c}`:a,T=r?`${n}--${c}`:n,w=l.useRef(0);return l.useLayoutEffect(()=>{const _=h.current,A=I.split(" "),k=g=>{g.target===h.current&&(S(),_.removeEventListener("animationend",k),_.removeEventListener("animationcancel",k),w.current===0&&g.type!=="animationcancel"&&_.classList.remove(...A))};_.classList.add(...A),_.addEventListener("animationend",k),_.addEventListener("animationcancel",k)},[]),l.useEffect(()=>{const _=h.current,A=()=>{_.removeEventListener("animationend",A),i?cw(_,f,o):f()};b||(p?A():(w.current=1,_.className+=` ${T}`,_.addEventListener("animationend",A)))},[b]),Me.createElement(Me.Fragment,null,u)}}function Td(t,a){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:a}:{}}const At=new Map;let as=[];const Ji=new Set,dw=t=>Ji.forEach(a=>a(t)),Xh=()=>At.size>0;function Qh(t,a){var n;if(a)return!((n=At.get(a))==null||!n.isToastActive(t));let r=!1;return At.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function ep(t,a){Ki(t)&&(Xh()||as.push({content:t,options:a}),At.forEach(n=>{n.buildToast(t,a)}))}function Ad(t,a){At.forEach(n=>{a!=null&&a!=null&&a.containerId?(a==null?void 0:a.containerId)===n.id&&n.toggle(t,a==null?void 0:a.id):n.toggle(t,a==null?void 0:a.id)})}function uw(t){const{subscribe:a,getSnapshot:n,setProps:r}=l.useRef(function(o){const m=o.containerId||1;return{subscribe(u){const c=function(f,h,b){let S=1,I=0,T=[],w=[],_=[],A=h;const k=new Map,g=new Set,E=()=>{_=Array.from(k.values()),g.forEach(d=>d())},N=d=>{w=d==null?[]:w.filter(y=>y!==d),E()},v=d=>{const{toastId:y,onOpen:M,updateId:C,children:x}=d.props,L=C==null;d.staleId&&k.delete(d.staleId),k.set(y,d),w=[...w,d.props.toastId].filter(F=>F!==d.staleId),E(),b(Td(d,L?"added":"updated")),L&&Mt(M)&&M(l.isValidElement(x)&&x.props)};return{id:f,props:A,observe:d=>(g.add(d),()=>g.delete(d)),toggle:(d,y)=>{k.forEach(M=>{y!=null&&y!==M.props.toastId||Mt(M.toggle)&&M.toggle(d)})},removeToast:N,toasts:k,clearQueue:()=>{I-=T.length,T=[]},buildToast:(d,y)=>{if((W=>{let{containerId:q,toastId:D,updateId:V}=W;const j=q?q!==f:f!==1,U=k.has(D)&&V==null;return j||U})(y))return;const{toastId:M,updateId:C,data:x,staleId:L,delay:F}=y,O=()=>{N(M)},$=C==null;$&&I++;const B={...A,style:A.toastStyle,key:S++,...Object.fromEntries(Object.entries(y).filter(W=>{let[q,D]=W;return D!=null})),toastId:M,updateId:C,data:x,closeToast:O,isIn:!1,className:Gs(y.className||A.toastClassName),bodyClassName:Gs(y.bodyClassName||A.bodyClassName),progressClassName:Gs(y.progressClassName||A.progressClassName),autoClose:!y.isLoading&&(R=y.autoClose,P=A.autoClose,R===!1||ts(R)&&R>0?R:P),deleteToast(){const W=k.get(M),{onClose:q,children:D}=W.props;Mt(q)&&q(l.isValidElement(D)&&D.props),b(Td(W,"removed")),k.delete(M),I--,I<0&&(I=0),T.length>0?v(T.shift()):E()}};var R,P;B.closeButton=A.closeButton,y.closeButton===!1||Ki(y.closeButton)?B.closeButton=y.closeButton:y.closeButton===!0&&(B.closeButton=!Ki(A.closeButton)||A.closeButton);let z=d;l.isValidElement(d)&&!Ua(d.type)?z=l.cloneElement(d,{closeToast:O,toastProps:B,data:x}):Mt(d)&&(z=d({closeToast:O,toastProps:B,data:x}));const H={content:z,props:B,staleId:L};A.limit&&A.limit>0&&I>A.limit&&$?T.push(H):ts(F)?setTimeout(()=>{v(H)},F):v(H)},setProps(d){A=d},setToggle:(d,y)=>{k.get(d).toggle=y},isToastActive:d=>w.some(y=>y===d),getSnapshot:()=>A.newestOnTop?_.reverse():_}}(m,o,dw);At.set(m,c);const p=c.observe(u);return as.forEach(f=>ep(f.content,f.options)),as=[],()=>{p(),At.delete(m)}},setProps(u){var c;(c=At.get(m))==null||c.setProps(u)},getSnapshot(){var u;return(u=At.get(m))==null?void 0:u.getSnapshot()}}}(t)).current;r(t);const i=l.useSyncExternalStore(a,n,n);return{getToastToRender:function(o){if(!i)return[];const m=new Map;return i.forEach(u=>{const{position:c}=u.props;m.has(c)||m.set(c,[]),m.get(c).push(u)}),Array.from(m,u=>o(u[0],u[1]))},isToastActive:Qh,count:i==null?void 0:i.length}}function mw(t){const[a,n]=l.useState(!1),[r,i]=l.useState(!1),o=l.useRef(null),m=l.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:c,closeToast:p,onClick:f,closeOnClick:h}=t;var b,S;function I(){n(!0)}function T(){n(!1)}function w(k){const g=o.current;m.canDrag&&g&&(m.didMove=!0,a&&T(),m.delta=t.draggableDirection==="x"?k.clientX-m.start:k.clientY-m.start,m.start!==k.clientX&&(m.canCloseOnClick=!1),g.style.transform=`translate3d(${t.draggableDirection==="x"?`${m.delta}px, var(--y)`:`0, calc(${m.delta}px + var(--y))`},0)`,g.style.opacity=""+(1-Math.abs(m.delta/m.removalDistance)))}function _(){document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",_);const k=o.current;if(m.canDrag&&m.didMove&&k){if(m.canDrag=!1,Math.abs(m.delta)>m.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}(S=At.get((b={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||S.setToggle(b.id,b.fn),l.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||T(),window.addEventListener("focus",I),window.addEventListener("blur",T),()=>{window.removeEventListener("focus",I),window.removeEventListener("blur",T)}},[t.pauseOnFocusLoss]);const A={onPointerDown:function(k){if(t.draggable===!0||t.draggable===k.pointerType){m.didMove=!1,document.addEventListener("pointermove",w),document.addEventListener("pointerup",_);const g=o.current;m.canCloseOnClick=!0,m.canDrag=!0,g.style.transition="none",t.draggableDirection==="x"?(m.start=k.clientX,m.removalDistance=g.offsetWidth*(t.draggablePercent/100)):(m.start=k.clientY,m.removalDistance=g.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(k){const{top:g,bottom:E,left:N,right:v}=o.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&t.pauseOnHover&&k.clientX>=N&&k.clientX<=v&&k.clientY>=g&&k.clientY<=E?T():I()}};return u&&c&&(A.onMouseEnter=T,t.stacked||(A.onMouseLeave=I)),h&&(A.onClick=k=>{f&&f(k),m.canCloseOnClick&&p()}),{playToast:I,pauseToast:T,isRunning:a,preventExitTransition:r,toastRef:o,eventHandlers:A}}function hw(t){let{delay:a,isRunning:n,closeToast:r,type:i="default",hide:o,className:m,style:u,controlledProgress:c,progress:p,rtl:f,isIn:h,theme:b}=t;const S=o||c&&p===0,I={...u,animationDuration:`${a}ms`,animationPlayState:n?"running":"paused"};c&&(I.transform=`scaleX(${p})`);const T=Ea("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":f}),w=Mt(m)?m({rtl:f,type:i,defaultClassName:T}):Ea(T,m),_={[c&&p>=1?"onTransitionEnd":"onAnimationEnd"]:c&&p<1?null:()=>{h&&r()}};return Me.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":S},Me.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${b} Toastify__progress-bar--${i}`}),Me.createElement("div",{role:"progressbar","aria-hidden":S?"true":"false","aria-label":"notification timer",className:w,style:I,..._}))}let pw=1;const tp=()=>""+pw++;function fw(t){return t&&(Ua(t.toastId)||ts(t.toastId))?t.toastId:tp()}function Hn(t,a){return ep(t,a),a.toastId}function dr(t,a){return{...a,type:a&&a.type||t,toastId:fw(a)}}function Fs(t){return(a,n)=>Hn(a,dr(t,n))}function it(t,a){return Hn(t,dr("default",a))}it.loading=(t,a)=>Hn(t,dr("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...a})),it.promise=function(t,a,n){let r,{pending:i,error:o,success:m}=a;i&&(r=Ua(i)?it.loading(i,n):it.loading(i.render,{...n,...i}));const u={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(f,h,b)=>{if(h==null)return void it.dismiss(r);const S={type:f,...u,...n,data:b},I=Ua(h)?{render:h}:h;return r?it.update(r,{...S,...I}):it(I.render,{...S,...I}),b},p=Mt(t)?t():t;return p.then(f=>c("success",m,f)).catch(f=>c("error",o,f)),p},it.success=Fs("success"),it.info=Fs("info"),it.error=Fs("error"),it.warning=Fs("warning"),it.warn=it.warning,it.dark=(t,a)=>Hn(t,dr("default",{theme:"dark",...a})),it.dismiss=function(t){(function(a){var n;if(Xh()){if(a==null||Ua(n=a)||ts(n))At.forEach(r=>{r.removeToast(a)});else if(a&&("containerId"in a||"id"in a)){const r=At.get(a.containerId);r?r.removeToast(a.id):At.forEach(i=>{i.removeToast(a.id)})}}else as=as.filter(r=>a!=null&&r.options.toastId!==a)})(t)},it.clearWaitingQueue=function(t){t===void 0&&(t={}),At.forEach(a=>{!a.props.limit||t.containerId&&a.id!==t.containerId||a.clearQueue()})},it.isActive=Qh,it.update=function(t,a){a===void 0&&(a={});const n=((r,i)=>{var o;let{containerId:m}=i;return(o=At.get(m||1))==null?void 0:o.toasts.get(r)})(t,a);if(n){const{props:r,content:i}=n,o={delay:100,...r,...a,toastId:a.toastId||t,updateId:tp()};o.toastId!==t&&(o.staleId=t);const m=o.render||i;delete o.render,Hn(m,o)}},it.done=t=>{it.update(t,{progress:1})},it.onChange=function(t){return Ji.add(t),()=>{Ji.delete(t)}},it.play=t=>Ad(!0,t),it.pause=t=>Ad(!1,t);const gw=typeof window<"u"?l.useLayoutEffect:l.useEffect,Ms=t=>{let{theme:a,type:n,isLoading:r,...i}=t;return Me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:a==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},ci={info:function(t){return Me.createElement(Ms,{...t},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Me.createElement(Ms,{...t},Me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Me.createElement(Ms,{...t},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Me.createElement(Ms,{...t},Me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Me.createElement("div",{className:"Toastify__spinner"})}},bw=t=>{const{isRunning:a,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:o}=mw(t),{closeButton:m,children:u,autoClose:c,onClick:p,type:f,hideProgressBar:h,closeToast:b,transition:S,position:I,className:T,style:w,bodyClassName:_,bodyStyle:A,progressClassName:k,progressStyle:g,updateId:E,role:N,progress:v,rtl:d,toastId:y,deleteToast:M,isIn:C,isLoading:x,closeOnClick:L,theme:F}=t,O=Ea("Toastify__toast",`Toastify__toast-theme--${F}`,`Toastify__toast--${f}`,{"Toastify__toast--rtl":d},{"Toastify__toast--close-on-click":L}),$=Mt(T)?T({rtl:d,position:I,type:f,defaultClassName:O}):Ea(O,T),B=function(H){let{theme:W,type:q,isLoading:D,icon:V}=H,j=null;const U={theme:W,type:q};return V===!1||(Mt(V)?j=V({...U,isLoading:D}):l.isValidElement(V)?j=l.cloneElement(V,U):D?j=ci.spinner():(Z=>Z in ci)(q)&&(j=ci[q](U))),j}(t),R=!!v||!c,P={closeToast:b,type:f,theme:F};let z=null;return m===!1||(z=Mt(m)?m(P):l.isValidElement(m)?l.cloneElement(m,P):function(H){let{closeToast:W,theme:q,ariaLabel:D="close"}=H;return Me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${q}`,type:"button",onClick:V=>{V.stopPropagation(),W(V)},"aria-label":D},Me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(P)),Me.createElement(S,{isIn:C,done:M,position:I,preventExitTransition:n,nodeRef:r,playToast:o},Me.createElement("div",{id:y,onClick:p,"data-in":C,className:$,...i,style:w,ref:r},Me.createElement("div",{...C&&{role:N},className:Mt(_)?_({type:f}):Ea("Toastify__toast-body",_),style:A},B!=null&&Me.createElement("div",{className:Ea("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!x})},B),Me.createElement("div",null,u)),z,Me.createElement(hw,{...E&&!R?{key:`pb-${E}`}:{},rtl:d,theme:F,delay:c,isRunning:a,isIn:C,closeToast:b,hide:h,type:f,style:g,className:k,controlledProgress:R,progress:v||0})))},Or=function(t,a){return a===void 0&&(a=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:a}},vw=Mr(Or("bounce",!0));Mr(Or("slide",!0));Mr(Or("zoom"));Mr(Or("flip"));const xw={position:"top-right",transition:vw,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function yw(t){let a={...xw,...t};const n=t.stacked,[r,i]=l.useState(!0),o=l.useRef(null),{getToastToRender:m,isToastActive:u,count:c}=uw(a),{className:p,style:f,rtl:h,containerId:b}=a;function S(T){const w=Ea("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":h});return Mt(p)?p({position:T,rtl:h,defaultClassName:w}):Ea(w,Gs(p))}function I(){n&&(i(!0),it.play())}return gw(()=>{if(n){var T;const w=o.current.querySelectorAll('[data-in="true"]'),_=12,A=(T=a.position)==null?void 0:T.includes("top");let k=0,g=0;Array.from(w).reverse().forEach((E,N)=>{const v=E;v.classList.add("Toastify__toast--stacked"),N>0&&(v.dataset.collapsed=`${r}`),v.dataset.pos||(v.dataset.pos=A?"top":"bot");const d=k*(r?.2:1)+(r?0:_*N);v.style.setProperty("--y",`${A?d:-1*d}px`),v.style.setProperty("--g",`${_}`),v.style.setProperty("--s",""+(1-(r?g:0))),k+=v.offsetHeight,g+=.025})}},[r,c,n]),Me.createElement("div",{ref:o,className:"Toastify",id:b,onMouseEnter:()=>{n&&(i(!1),it.pause())},onMouseLeave:I},m((T,w)=>{const _=w.length?{...f}:{...f,pointerEvents:"none"};return Me.createElement("div",{className:S(T),style:_,key:`container-${T}`},w.map(A=>{let{content:k,props:g}=A;return Me.createElement(bw,{...g,stacked:n,collapseAll:I,isIn:u(g.toastId,g.containerId),style:g.style,key:`toast-${g.key}`},k)}))}))}function ww({payload:t}){var i;const[a]=l.useState(()=>new Audio("/callback.wav")),n=ve();l.useEffect(()=>{t&&t.data&&(r(t.data),a.play())},[t,a]);const r=o=>{o.action==="lead-alert"&&n(ug(o.value))};return s("div",{id:"notification",children:[s("div",{id:"notificationHeader",children:[((i=t==null?void 0:t.notification)==null?void 0:i.image)&&e("div",{id:"imageContainer",children:e("img",{src:t.notification.image,alt:"Notification",width:100})}),e("span",{children:t.notification.title})]}),e("div",{id:"notificationBody",children:t.notification.body})]})}function Nw({callbackModal:t,setCallbackModal:a,callbackData:n}){const{logout:r,crmToken:i,apiUrl:o}=ee(),m=ve(),[u,c]=l.useState(!1),[p]=l.useState({date_time:"",description:"",lead_id:n==null?void 0:n.lead_id}),[f,h]=l.useState(p),[b,S]=l.useState({}),I=()=>{S({});let v={};return f.date_time||(v={...v,date_time:"Date Time is required"}),S(v),{totalErrors:Object.keys(v).length}},[T,w]=l.useState(!1),_=v=>{const{value:d,name:y}=v.target;S({...b,[y]:""}),h({...f,[y]:d}),console.log(f)},A=async v=>{var y,M;w(!0);try{const C=await K({method:"post",url:o+"/api/callbacks",data:v,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});C.data.status=="success"?(m(Wn(C.data.allCallbacks)),re.fire({icon:C.data.status,title:C.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),a(!1)):alert("Failed")}catch(C){if(console.log(C),((y=C==null?void 0:C.response)==null?void 0:y.status)==401&&r(),((M=C==null?void 0:C.response)==null?void 0:M.status)===422){const x=C.response.data.errors;let L={};for(var d in x)L={...L,[d]:x[d][0]},console.log(x[d][0]);S(L),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{w(!1)}},k=()=>{if(I().totalErrors)return!1;const d=new FormData;d.append("date_time",f.date_time),d.append("description",f.description),d.append("lead_id",n==null?void 0:n.lead_id),A(d)},g=async()=>{var v;c(!0);try{const d=await K({method:"get",url:o+"/api/lead-callbacks-close/"+n.id,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});d.data.status=="success"?(m(Wn(d.data.allCallbacks)),a(!1)):d.data.status=="error"&&re.fire({icon:d.data.status,title:d.data.title,text:d.data.message,padding:"2em",customClass:"sweet-alerts"})}catch(d){((v=d==null?void 0:d.response)==null?void 0:v.status)==401&&r()}finally{c(!1)}},[E,N]=l.useState("");return l.useEffect(()=>{const d=new Date().toISOString().slice(0,16);N(d)},[]),e("div",{children:e("div",{children:e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>a(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"standard_modal",className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"font-bold text-lg",children:"Callback"}),s("div",{className:"font-bold text-sm",children:["Created: ",n==null?void 0:n.created_at]})]}),s("div",{className:"p-5 bg-secondary-light",children:[s("div",{className:"flex justify-between items-center",children:[s("div",{className:"flex items-center",children:[e("div",{className:"flex-none",children:e("span",{className:"flex animate-ping me-4 justify-center items-center w-10 h-10 text-center rounded-full object-cover bg-success text-2xl",children:e(cl,{size:20,color:"#fff"})})}),s("div",{className:"mx-3",children:[s("p",{className:"mb-1 font-semibold",children:[n==null?void 0:n.first_name,"  ",n==null?void 0:n.last_name]}),e("p",{className:"text-xs text-white-dark",children:n==null?void 0:n.phone})]})]}),e("div",{children:e("span",{className:"badge bg-secondary",children:n==null?void 0:n.status})})]}),e("div",{className:"m-4 text-[12px]",children:n==null?void 0:n.description}),s("div",{className:"m-2 px-4 py-2 bg-black/10 rounded",children:[e("b",{className:"mb-2 text-[12px]",children:"Reset Callback"}),s("div",{children:[e("input",{className:"form-input",name:"date_time",value:f.date_time,onChange:v=>_(v),type:"datetime-local",min:E}),e("div",{className:"text-danger mt-1 text-[12px] font-bold",children:b.date_time})]}),s("div",{className:"flex flex-col md:flex-row gap-4 items-center max-w-[800px] mt-4",children:[e("textarea",{className:"form-textarea",name:"description",value:f.description,onChange:v=>_(v)}),e("button",{disabled:u||T,type:"button",className:"btn btn-primary",onClick:()=>k(),children:T?"Wait...":"Submit"})]}),e("div",{className:"text-danger mt-1 text-[12px] font-bold",children:b.description})]}),e("div",{className:"flex justify-end items-center mt-8",children:e("button",{disabled:u||T,onClick:()=>{g()},type:"button",className:"btn btn-sm btn-danger ltr:ml-4 rtl:mr-4",children:u?"Closing....":"Ok Close Callback Alert"})})]})]})})})})]})})})})}function _w(){const t=_e(p=>p.themeConfig.documentAlets),[a]=l.useState(()=>new Audio("/broadcast.wav")),n=ve(),r=Re();l.useEffect(()=>{t?(o(JSON.parse(t)),c(!0),a.play()):c(!1)},[t]);const[i,o]=l.useState(null),m=()=>{n(Bu(null))},[u,c]=l.useState(!1);return e(J,{children:u&&s("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"}),s("div",{className:"bg-white rounded-lg p-6 shadow-lg w-full max-w-lg transform transition-all scale-95 animate-fadeIn",children:[s("div",{className:"flex items-center space-x-4",children:[e(Eg,{className:"text-[#a60c6a] text-4xl animate-[spin_2s_linear_infinite]"}),s("div",{children:[e("h2",{className:"text-lg font-bold text-gray-800",children:i==null?void 0:i.action}),e("h4",{className:"font-bold text-blue-900",children:i==null?void 0:i.title})]})]}),s("div",{className:"flex justify-between mt-4 text-center",children:[s("div",{className:"flex items-center gap-2",children:[e(c1,{color:"#08735e"})," ",e("b",{className:"text-[16px] text-[#08735e]",children:i==null?void 0:i.phone})]}),s("div",{className:"flex items-center gap-3",children:[(i==null?void 0:i.action)=="Agreement"?e("button",{className:"btn btn-sm shadow btn-secondary",onClick:()=>{r("/sales/show",{state:{sale_id:i.sale_id,filterOwner:0,filterStatus:0}}),c(!1)},children:"View Sale"}):null,e("button",{className:"btn btn-sm shadow btn-info",onClick:()=>{r("/leads/viewleads/show",{state:{lead_id:i.lead_id,filterOwner:0,filterStatus:0,filterState:0,multyLead:0}}),c(!1)},children:"View Lead"})]})]}),e("div",{className:"mt-4 flex justify-end items-center",children:e("button",{onClick:m,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-200",children:"OK"})})]})]})})}function kw({authAlert:t}){var i,o,m,u,c;const a=()=>{r(!1)};l.useEffect(()=>{Object.keys(t).length!=0&&r(!0)},[t]);const[n,r]=l.useState(!1);return e(J,{children:n&&s("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"}),s("div",{className:"bg-white rounded-lg p-6 shadow-lg w-full max-w-lg transform transition-all scale-95 animate-fadeIn",children:[s("div",{className:"flex items-center space-x-4",children:[e(T0,{className:`${t.action=="login"?"text-[#0faa07]":"text-[#ff1e1e]"} animate__bounceIn text-4xl `}),s("div",{children:[e("h2",{className:"text-lg font-bold text-gray-800",children:t==null?void 0:t.title}),e("h4",{className:"font-bold text-blue-900",children:t==null?void 0:t.message})]})]}),s("div",{className:"flex justify-between mt-4 text-center",children:[s("div",{className:"flex items-center gap-2",children:[e(bf,{size:20,color:"#08735e"})," ",e("b",{className:"text-[16px] text-[#08735e]",children:(i=t==null?void 0:t.user)==null?void 0:i.email})]}),(o=t==null?void 0:t.user)!=null&&o.phone_number?s(J,{children:[" ",s("div",{className:"flex items-center gap-1",children:[e(Tu,{color:"#2196F3"})," ",e("b",{className:"text-[16px] text-[#2196F3]",children:(m=t==null?void 0:t.user)==null?void 0:m.phone_number})]})]}):null]}),s("div",{className:"mt-4 flex justify-between items-center",children:[e("div",{children:s("div",{className:"flex items-center gap-1",children:[e(Og,{size:20,color:"#fc5718"})," ",e("b",{className:"text-[16px] text-[#fc5718]",children:(u=t==null?void 0:t.track)==null?void 0:u.browser})]})}),e("div",{children:s("div",{className:"flex items-center gap-2",children:[e(d1,{size:20,color:"#a60c6a"})," ",e("b",{className:"text-[16px] text-[#a60c6a]",children:(c=t==null?void 0:t.track)==null?void 0:c.ip_address})]})}),e("button",{onClick:a,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-200",children:"OK"})]})]})]})})}function Cw(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM13.5003 8C13.8278 8.43606 14.0625 8.94584 14.175 9.5H16V11H14.175C13.8275 12.7117 12.3142 14 10.5 14H10.3107L14.0303 17.7197L12.9697 18.7803L8 13.8107V12.5H10.5C11.4797 12.5 12.3131 11.8739 12.622 11H8V9.5H12.622C12.3131 8.62611 11.4797 8 10.5 8H8V6.5H16V8H13.5003Z"},child:[]}]})(t)}function Hl(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.001 2C17.5238 2 22.001 6.47715 22.001 12C22.001 17.5228 17.5238 22 12.001 22C10.1671 22 8.44851 21.5064 6.97086 20.6447L2.00516 22L3.35712 17.0315C2.49494 15.5536 2.00098 13.8345 2.00098 12C2.00098 6.47715 6.47813 2 12.001 2ZM8.59339 7.30019L8.39232 7.30833C8.26293 7.31742 8.13607 7.34902 8.02057 7.40811C7.93392 7.45244 7.85348 7.51651 7.72709 7.63586C7.60774 7.74855 7.53857 7.84697 7.46569 7.94186C7.09599 8.4232 6.89729 9.01405 6.90098 9.62098C6.90299 10.1116 7.03043 10.5884 7.23169 11.0336C7.63982 11.9364 8.31288 12.8908 9.20194 13.7759C9.4155 13.9885 9.62473 14.2034 9.85034 14.402C10.9538 15.3736 12.2688 16.0742 13.6907 16.4482C13.6907 16.4482 14.2507 16.5342 14.2589 16.5347C14.4444 16.5447 14.6296 16.5313 14.8153 16.5218C15.1066 16.5068 15.391 16.428 15.6484 16.2909C15.8139 16.2028 15.8922 16.159 16.0311 16.0714C16.0311 16.0714 16.0737 16.0426 16.1559 15.9814C16.2909 15.8808 16.3743 15.81 16.4866 15.6934C16.5694 15.6074 16.6406 15.5058 16.6956 15.3913C16.7738 15.2281 16.8525 14.9166 16.8838 14.6579C16.9077 14.4603 16.9005 14.3523 16.8979 14.2854C16.8936 14.1778 16.8047 14.0671 16.7073 14.0201L16.1258 13.7587C16.1258 13.7587 15.2563 13.3803 14.7245 13.1377C14.6691 13.1124 14.6085 13.1007 14.5476 13.097C14.4142 13.0888 14.2647 13.1236 14.1696 13.2238C14.1646 13.2218 14.0984 13.279 13.3749 14.1555C13.335 14.2032 13.2415 14.3069 13.0798 14.2972C13.0554 14.2955 13.0311 14.292 13.0074 14.2858C12.9419 14.2685 12.8781 14.2457 12.8157 14.2193C12.692 14.1668 12.6486 14.1469 12.5641 14.1105C11.9868 13.8583 11.457 13.5209 10.9887 13.108C10.8631 12.9974 10.7463 12.8783 10.6259 12.7616C10.2057 12.3543 9.86169 11.9211 9.60577 11.4938C9.5918 11.4705 9.57027 11.4368 9.54708 11.3991C9.50521 11.331 9.45903 11.25 9.44455 11.1944C9.40738 11.0473 9.50599 10.9291 9.50599 10.9291C9.50599 10.9291 9.74939 10.663 9.86248 10.5183C9.97128 10.379 10.0652 10.2428 10.125 10.1457C10.2428 9.95633 10.2801 9.76062 10.2182 9.60963C9.93764 8.92565 9.64818 8.24536 9.34986 7.56894C9.29098 7.43545 9.11585 7.33846 8.95659 7.32007C8.90265 7.31384 8.84875 7.30758 8.79459 7.30402C8.66053 7.29748 8.5262 7.29892 8.39232 7.30833L8.59339 7.30019Z"},child:[]}]})(t)}function ap(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M10.5859 12L2.79297 4.20706L4.20718 2.79285L12.0001 10.5857L19.793 2.79285L21.2072 4.20706L13.4143 12L21.2072 19.7928L19.793 21.2071L12.0001 13.4142L4.20718 21.2071L2.79297 19.7928L10.5859 12Z"},child:[]}]})(t)}function Sw(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11 15V17H13V15H11ZM11 7V13H13V7H11Z"},child:[]}]})(t)}function Ew(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8ZM5 10V20H19V10H5ZM11 14H13V16H11V14ZM7 14H9V16H7V14ZM15 14H17V16H15V14ZM16 8V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8H16Z"},child:[]}]})(t)}function Tw({saleAlert:t}){var i,o,m,u;const a=()=>{r(!1)};l.useEffect(()=>{Object.keys(t).length!=0&&(new Audio("/sales-alert.wav").play(),r(!0))},[t]);const[n,r]=l.useState(!1);return e(J,{children:n&&s("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"}),s("div",{className:"bg-white rounded-lg p-6 shadow-lg w-full max-w-lg transform transition-all scale-95 animate-fadeIn",children:[s("div",{className:"flex items-center space-x-4",children:[e(Mg,{className:"text-[#0faa07] animate__bounceIn text-4xl "}),s("div",{children:[e("h2",{className:"text-lg font-bold text-gray-800",children:t==null?void 0:t.title}),e("h4",{className:"font-bold text-blue-900",children:t==null?void 0:t.message})]})]}),s("div",{className:"flex justify-between mt-4 text-center",children:[s("div",{className:"flex items-center gap-1",children:[e(Tu,{color:"#2196F3"})," ",e("b",{className:"text-[16px] text-[#2196F3]",children:(i=t==null?void 0:t.sale)==null?void 0:i.phone})]}),s("div",{className:"flex items-center gap-1",children:[e(Cw,{size:20,color:"#08735e"})," ",e("b",{className:"text-[16px] text-[#08735e]",children:(o=t==null?void 0:t.sale)==null?void 0:o.client_paid})]}),e("span",{className:"badge bg-[#075E54]",children:(m=t==null?void 0:t.sale)==null?void 0:m.status})]}),s("div",{className:"mt-4 flex justify-between items-center",children:[e("div",{className:"pr-2",children:e("b",{children:(u=t==null?void 0:t.sale)==null?void 0:u.product})}),e("button",{onClick:a,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-200",children:"OK"})]})]})]})})}const Aw="BKftQIV8GrvaQ5jb2FH-ohnYfJjTMQkXy9MW5GMmrcT_RQpPn3U-ZryMWSCwvhZhjVno1TcG-0ZCu7RRGr-NpNQ",Pw=({children:t})=>{const a=Re(),n=ve(),r=_e(x=>x.themeConfig),{settingData:i,crmToken:o,apiUrl:m,logout:u}=ee(),c=_e(x=>x.themeConfig.callBacktData);_e(x=>x.themeConfig.callBacktAlertIds),l.useEffect(()=>{o?setTimeout(()=>{E()},5e3):(console.log("#####################  UNAUTHENTICATED       ##########################"),console.log("#####################  CLEARED ALL AUTH DATA ##########################"),console.log("#####################  FOURCING TO LOGIN     ##########################"),localStorage.clear(),a("/login"))},[o]);const[p]=l.useState(new Audio("/callback.wav"));l.useEffect(()=>{const x=localStorage.getItem("callBacktAlertIds");(x?JSON.parse(x):[]).forEach(O=>clearTimeout(O));const F=[];if(c.length)return c.forEach(O=>{const $=O.date_time,B=new Date($.replace(" ","T")).getTime(),R=Date.now(),P=B-R;if(P>0){const z=P-6e4;if(z<0)I(O);else{const H=setTimeout(()=>{I(O)},z);F.push(H)}}}),localStorage.setItem("callBacktAlertIds",JSON.stringify(F)),()=>{F.forEach(O=>clearTimeout(O))}},[c]);const[f,h]=l.useState(),[b,S]=l.useState(!1),I=x=>{p.play(),S(!0),h(x)},[T,w]=l.useState(!0),[_,A]=l.useState(!1),k=()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0},g=()=>{document.body.scrollTop>50||document.documentElement.scrollTop>50?A(!0):A(!1)};l.useEffect(()=>{window.addEventListener("scroll",g);const x=document.getElementsByClassName("screen_loader");return x!=null&&x.length&&(x[0].classList.add("animate__fadeOut"),setTimeout(()=>{w(!1)},200)),()=>{window.removeEventListener("onscroll",g)}},[]);async function E(){const x=await Notification.requestPermission();if(console.log(x),x==="granted"){const L=await D5(Ed,{vapidKey:Aw});N(L)}else x==="denied"&&alert("You denied for the notification")}const N=async x=>{var L;try{const F=await K({method:"post",url:m+"/api/fcm-token",data:{fcm_token:x},headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});F.data.status=="success"&&(console.log("************************"),console.log(F.data.message),console.log("************************"))}catch(F){((L=F==null?void 0:F.response)==null?void 0:L.status)==401&&u()}};l.useEffect(()=>{const x=V5(Ed,L=>{v(L)});return()=>{x()}},[]);const v=x=>{var L,F,O,$,B,R,P,z,H,W,q,D;console.log(x==null?void 0:x.data),((L=x==null?void 0:x.data)==null?void 0:L.action)=="lead-move"&&n(dg(x.data)),((F=x==null?void 0:x.data)==null?void 0:F.action)=="lead-request"?it(e(ww,{payload:x})):((O=x==null?void 0:x.data)==null?void 0:O.action)=="new-chat-message"?n(cg(x.data)):(($=x==null?void 0:x.data)==null?void 0:$.action)=="lead-request"?n(Si(x.data.totalRequest)):((B=x==null?void 0:x.data)==null?void 0:B.action)=="new-broadcast"?n(qn((R=x==null?void 0:x.data)==null?void 0:R.message)):((P=x==null?void 0:x.data)==null?void 0:P.action)=="documents"?n(Bu((z=x==null?void 0:x.data)==null?void 0:z.message)):((H=x==null?void 0:x.data)==null?void 0:H.action)=="auth"?y(JSON.parse((W=x==null?void 0:x.data)==null?void 0:W.message)):((q=x==null?void 0:x.data)==null?void 0:q.action)=="sale"&&C(JSON.parse((D=x==null?void 0:x.data)==null?void 0:D.message))},[d,y]=l.useState({}),[M,C]=l.useState({});return e(zu,{children:s("div",{className:"relative",children:[e("div",{className:`${!r.sidebar&&"hidden"||""} fixed inset-0 bg-[black]/60 z-50 lg:hidden`,onClick:()=>n(Ti())}),e("div",{className:"fixed bottom-6 ltr:right-6 rtl:left-6 z-50",children:_&&e("button",{type:"button",className:"btn btn-outline-primary rounded-full p-2 animate-pulse bg-[#fafafa] dark:bg-[#060818] dark:hover:bg-primary",onClick:k,children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7l4-4m0 0l4 4m-4-4v18"})})})}),s("div",{className:`${r.navbar} main-container text-black dark:text-white-dark min-h-screen`,children:[e(Vb,{}),s("div",{className:"main-content flex flex-col min-h-screen",children:[e(Rb,{_CALLBACK:I}),e(Nw,{callbackModal:b,setCallbackModal:S,callbackData:f}),s(l.Suspense,{children:[e(_w,{}),e("div",{className:`${r.animation}   p-3 animate__animated`,children:t}),e(kw,{authAlert:d}),e(Tw,{saleAlert:M})]}),e(Cg,{}),e(Ub,{})]})]}),e(yw,{})]})})},Iw=({className:t,fill:a=!1,duotone:n=!0})=>s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M20.3116 12.6473L20.8293 10.7154C21.4335 8.46034 21.7356 7.3328 21.5081 6.35703C21.3285 5.58657 20.9244 4.88668 20.347 4.34587C19.6157 3.66095 18.4881 3.35883 16.2331 2.75458C13.978 2.15033 12.8504 1.84821 11.8747 2.07573C11.1042 2.25537 10.4043 2.65945 9.86351 3.23687C9.27709 3.86298 8.97128 4.77957 8.51621 6.44561C8.43979 6.7254 8.35915 7.02633 8.27227 7.35057L8.27222 7.35077L7.75458 9.28263C7.15033 11.5377 6.84821 12.6652 7.07573 13.641C7.25537 14.4115 7.65945 15.1114 8.23687 15.6522C8.96815 16.3371 10.0957 16.6392 12.3508 17.2435L12.3508 17.2435C14.3834 17.7881 15.4999 18.0873 16.415 17.9744C16.5152 17.9621 16.6129 17.9448 16.7092 17.9223C17.4796 17.7427 18.1795 17.3386 18.7203 16.7612C19.4052 16.0299 19.7074 14.9024 20.3116 12.6473Z",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{opacity:n?"0.5":"1",d:"M16.415 17.9741C16.2065 18.6126 15.8399 19.1902 15.347 19.6519C14.6157 20.3368 13.4881 20.6389 11.2331 21.2432C8.97798 21.8474 7.85044 22.1495 6.87466 21.922C6.10421 21.7424 5.40432 21.3383 4.86351 20.7609C4.17859 20.0296 3.87647 18.9021 3.27222 16.647L2.75458 14.7151C2.15033 12.46 1.84821 11.3325 2.07573 10.3567C2.25537 9.58627 2.65945 8.88638 3.23687 8.34557C3.96815 7.66065 5.09569 7.35853 7.35077 6.75428C7.77741 6.63996 8.16368 6.53646 8.51621 6.44531",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M11.7769 10L16.6065 11.2941",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M11 12.8975L13.8978 13.6739",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),Lw=({className:t,fill:a=!1,duotone:n=!0})=>s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M18.18 8.03933L18.6435 7.57589C19.4113 6.80804 20.6563 6.80804 21.4241 7.57589C22.192 8.34374 22.192 9.58868 21.4241 10.3565L20.9607 10.82M18.18 8.03933C18.18 8.03933 18.238 9.02414 19.1069 9.89309C19.9759 10.762 20.9607 10.82 20.9607 10.82M18.18 8.03933L13.9194 12.2999C13.6308 12.5885 13.4865 12.7328 13.3624 12.8919C13.2161 13.0796 13.0906 13.2827 12.9882 13.4975C12.9014 13.6797 12.8368 13.8732 12.7078 14.2604L12.2946 15.5L12.1609 15.901M20.9607 10.82L16.7001 15.0806C16.4115 15.3692 16.2672 15.5135 16.1081 15.6376C15.9204 15.7839 15.7173 15.9094 15.5025 16.0118C15.3203 16.0986 15.1268 16.1632 14.7396 16.2922L13.5 16.7054L13.099 16.8391M13.099 16.8391L12.6979 16.9728C12.5074 17.0363 12.2973 16.9867 12.1553 16.8447C12.0133 16.7027 11.9637 16.4926 12.0272 16.3021L12.1609 15.901M13.099 16.8391L12.1609 15.901",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M8 13H10.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M8 9H14.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M8 17H9.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M3 10C3 6.22876 3 4.34315 4.17157 3.17157C5.34315 2 7.22876 2 11 2H13C16.7712 2 18.6569 2 19.8284 3.17157C21 4.34315 21 6.22876 21 10V14C21 17.7712 21 19.6569 19.8284 20.8284C18.6569 22 16.7712 22 13 22H11C7.22876 22 5.34315 22 4.17157 20.8284C3 19.6569 3 17.7712 3 14V10Z",stroke:"currentColor",strokeWidth:"1.5"})]}),di=({className:t,fill:a=!1,duotone:n=!0})=>e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e("path",{d:"M9.15316 5.40838C10.4198 3.13613 11.0531 2 12 2C12.9469 2 13.5802 3.13612 14.8468 5.40837L15.1745 5.99623C15.5345 6.64193 15.7144 6.96479 15.9951 7.17781C16.2757 7.39083 16.6251 7.4699 17.3241 7.62805L17.9605 7.77203C20.4201 8.32856 21.65 8.60682 21.9426 9.54773C22.2352 10.4886 21.3968 11.4691 19.7199 13.4299L19.2861 13.9372C18.8096 14.4944 18.5713 14.773 18.4641 15.1177C18.357 15.4624 18.393 15.8341 18.465 16.5776L18.5306 17.2544C18.7841 19.8706 18.9109 21.1787 18.1449 21.7602C17.3788 22.3417 16.2273 21.8115 13.9243 20.7512L13.3285 20.4768C12.6741 20.1755 12.3469 20.0248 12 20.0248C11.6531 20.0248 11.3259 20.1755 10.6715 20.4768L10.0757 20.7512C7.77268 21.8115 6.62118 22.3417 5.85515 21.7602C5.08912 21.1787 5.21588 19.8706 5.4694 17.2544L5.53498 16.5776C5.60703 15.8341 5.64305 15.4624 5.53586 15.1177C5.42868 14.773 5.19043 14.4944 4.71392 13.9372L4.2801 13.4299C2.60325 11.4691 1.76482 10.4886 2.05742 9.54773C2.35002 8.60682 3.57986 8.32856 6.03954 7.77203L6.67589 7.62805C7.37485 7.4699 7.72433 7.39083 8.00494 7.17781C8.28555 6.96479 8.46553 6.64194 8.82547 5.99623L9.15316 5.40838Z",stroke:"currentColor",strokeWidth:"1.5"})}),Zt=({className:t,fill:a=!1,duotone:n=!0})=>e("svg",{width:"15",height:"15",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e("path",{d:"M8.01731 8.01736C11.3506 4.68402 13.0173 3.01736 15.0884 3.01736C17.1594 3.01736 18.8261 4.68402 22.1594 8.01736C25.4927 11.3507 27.1595 13.0174 27.1594 15.0884C27.1594 17.1595 25.4928 18.8262 22.1594 22.1595C18.8261 25.4928 17.1594 27.1595 15.0884 27.1594C13.0173 27.1595 11.3506 25.4928 8.01731 22.1595C4.68397 18.8262 3.01731 17.1595 3.01734 15.0884C3.01729 13.0174 4.68401 11.3507 8.01731 8.01736Z",stroke:"currentColor",strokeWidth:"1.5"})}),Fw=({className:t,fill:a=!1,duotone:n=!0})=>s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),ns=({className:t,fill:a=!1,duotone:n=!0})=>s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M20 7L4 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M20 12L4 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M20 17L4 17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),Mw=({className:t,fill:a=!1,duotone:n=!0})=>s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M20.5001 6H3.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M18.8334 8.5L18.3735 15.3991C18.1965 18.054 18.108 19.3815 17.243 20.1907C16.378 21 15.0476 21 12.3868 21H11.6134C8.9526 21 7.6222 21 6.75719 20.1907C5.89218 19.3815 5.80368 18.054 5.62669 15.3991L5.16675 8.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M9.5 11L10 16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M14.5 11L14 16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M6.5 6C6.55588 6 6.58382 6 6.60915 5.99936C7.43259 5.97849 8.15902 5.45491 8.43922 4.68032C8.44784 4.65649 8.45667 4.62999 8.47434 4.57697L8.57143 4.28571C8.65431 4.03708 8.69575 3.91276 8.75071 3.8072C8.97001 3.38607 9.37574 3.09364 9.84461 3.01877C9.96213 3 10.0932 3 10.3553 3H13.6447C13.9068 3 14.0379 3 14.1554 3.01877C14.6243 3.09364 15.03 3.38607 15.2493 3.8072C15.3043 3.91276 15.3457 4.03708 15.4286 4.28571L15.5257 4.57697C15.5433 4.62992 15.5522 4.65651 15.5608 4.68032C15.841 5.45491 16.5674 5.97849 17.3909 5.99936C17.4162 6 17.4441 6 17.5 6",stroke:"currentColor",strokeWidth:"1.5"})]}),Ht=({className:t,fill:a=!1,duotone:n=!0})=>s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});function Ow(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 16 16 12 12 8"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function Bw(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Wl(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}const Rw=()=>{const{apiUrl:t,crmToken:a,logout:n}=ee(),{addToast:r}=ct(),[i,o]=l.useState(!0),[m,u]=l.useState(""),[c,p]=l.useState(0),[f,h]=l.useState([]),b=async()=>{var P;console.log("Fetching Notes....."),o(!0);try{const z=await K({method:"get",url:t+"/api/notepads",params:{filterTag:m,filterFavourite:c},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});z.data.status=="success"&&h(z.data.notes)}catch(z){((P=z==null?void 0:z.response)==null?void 0:P.status)==401&&n()}finally{o(!1)}};l.useEffect(()=>{b()},[c,m]);const S=ve();l.useEffect(()=>{S(Se("Notes"))});const[I,T]=l.useState(!1),[w,_]=l.useState(!1),[A,k]=l.useState(!1),[g]=l.useState({id:"",title:"",tag:"",description:"",is_favourite:0}),[E,N]=l.useState(g),[v,d]=l.useState({}),y=()=>{d({});let P={};return E.title||(P={...P,title:"title is required"}),E.description||(P={...P,description:"Description is required"}),d(P),{totalErrors:Object.keys(P).length}},[M,C]=l.useState(!1),x=P=>{const{value:z,name:H}=P.target;d({...v,[H]:""}),N({...E,[H]:z})},L=async P=>{var H,W;C(!0);try{const q=await K({method:"post",url:t+"/api/notepads",data:P,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});if(q.data.status=="success"){const D=q.data.note;if(q.data.action=="update"){const V=[...f],j=f.findIndex(U=>U.id==D.id);V[j]={...D,is_favourite:D.is_favourite==1?1:0},h(V)}else if(q.data.action=="add"){const V=[{...D,is_favourite:D.is_favourite==1?1:0},...f];h(V)}r({variant:"success",title:q.data.message}),T(!1)}else alert("Failed")}catch(q){if(console.log(q),((H=q==null?void 0:q.response)==null?void 0:H.status)==401&&n(),((W=q==null?void 0:q.response)==null?void 0:W.status)===422){const D=q.response.data.errors;let V={};for(var z in D)V={...V,[z]:D[z][0]};d(V),r({variant:"error",title:q.response.data.message})}}finally{C(!1)}},F=()=>{if(y().totalErrors)return r({variant:"error",title:"Validation Error! Please Solve"}),!1;const z=new FormData;z.append("id",E.id),z.append("title",E.title),z.append("tag",E.tag),z.append("description",E.description),z.append("is_favourite",E.is_favourite),L(z)},O=P=>{d({}),N(P?{id:P.id,title:P.title,tag:P.tag,description:P.description,is_favourite:P.is_favourite}:g),T(!0)},$=P=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async z=>{var H;if(z.value)try{const W=await K({method:"delete",url:t+"/api/notepads/"+P.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});W.data.status==="success"&&(h(f.filter(q=>q.id!=P.id)),r({variant:"success",title:W.data.message}))}catch(W){((H=W==null?void 0:W.response)==null?void 0:H.status)==401&&n()}finally{}})},B=P=>{const z=new FormData;z.append("id",P.id),z.append("title",P.title),z.append("tag",P.tag),z.append("description",P.description),z.append("is_favourite",P.is_favourite?0:1),L(z)},R=(P,z)=>{const H=new FormData;H.append("id",P.id),H.append("title",P.title),H.append("tag",z),H.append("description",P.description),H.append("is_favourite",P.is_favourite),L(H)};return e("div",{children:s("div",{className:"flex gap-5 relative sm:h-[calc(100vh_-_150px)] h-full",children:[e("div",{className:`bg-black/60 z-10 w-full h-full rounded-md absolute hidden ${w?"!block xl:!hidden":""}`,onClick:()=>_(!w)}),s("div",{className:`panel
                    p-4
                    flex-none
                    w-[240px]
                    absolute
                    xl:relative
                    z-10
                    space-y-4
                    h-full
                    xl:h-auto
                    hidden
                    xl:block
                    ltr:lg:rounded-r-md ltr:rounded-r-none
                    rtl:lg:rounded-l-md rtl:rounded-l-none
                    overflow-hidden ${w?"!block h-full ltr:left-0 rtl:right-0":"hidden shadow"}`,children:[s("div",{className:"flex flex-col h-full pb-16",children:[s("div",{className:"flex text-center items-center",children:[e("div",{className:"shrink-0",children:e(Iw,{})}),e("h3",{className:"text-lg font-semibold ltr:ml-3 rtl:mr-3",children:"Notes"})]}),e("div",{className:"h-px w-full border-b border-white-light dark:border-[#1b2e4b] my-4"}),e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:s("div",{className:"space-y-1",children:[e("button",{type:"button",className:`w-full flex justify-between items-center p-2 hover:bg-white-dark/10 rounded-md dark:hover:text-primary hover:text-primary dark:hover:bg-[#181F32] font-medium h-10
                                         ${!c&&"bg-gray-100 dark:text-primary text-primary dark:bg-[#181F32]"}`,onClick:()=>p(0),children:s("div",{className:"flex items-center",children:[e(Lw,{className:"shrink-0"}),e("div",{className:"ltr:ml-3 rtl:mr-3",children:"All Notes"})]})}),e("button",{type:"button",className:`w-full flex justify-between items-center p-2 hover:bg-white-dark/10 rounded-md dark:hover:text-primary hover:text-primary dark:hover:bg-[#181F32] font-medium h-10
                                        ${c&&"bg-gray-100 dark:text-primary text-primary dark:bg-[#181F32]"}`,onClick:()=>p(1),children:s("div",{className:"flex items-center",children:[e(di,{className:"shrink-0"}),e("div",{className:"ltr:ml-3 rtl:mr-3",children:"Favourites"})]})}),e("div",{className:"h-px w-full border-b border-white-light dark:border-[#1b2e4b]"}),e("div",{className:"px-1 py-3 text-white-dark",children:"Tags"}),s("button",{type:"button",className:`w-full flex items-center h-10 p-1 hover:bg-white-dark/10 rounded-md dark:hover:bg-[#181F32] font-medium text-dark ltr:hover:pl-3 rtl:hover:pr-3 duration-300
                                        ${!m&&"ltr:pl-3 rtl:pr-3 bg-gray-100 dark:bg-[#181F32]"}`,onClick:()=>u(""),children:[e(Zt,{className:"fill-primary shrink-0"}),e("div",{className:"ltr:ml-3 rtl:mr-3 dark:text-[#bfc9d4]",children:"All Tags"})]}),s("button",{type:"button",className:`w-full flex items-center h-10 p-1 hover:bg-white-dark/10 rounded-md dark:hover:bg-[#181F32] font-medium text-primary ltr:hover:pl-3 rtl:hover:pr-3 duration-300
                                        ${m==="personal"&&"ltr:pl-3 rtl:pr-3 bg-gray-100 dark:bg-[#181F32]"}`,onClick:()=>u("personal"),children:[e(Zt,{className:"fill-primary shrink-0"}),e("div",{className:"ltr:ml-3 rtl:mr-3",children:"Personal"})]}),s("button",{type:"button",className:`w-full flex items-center h-10 p-1 hover:bg-white-dark/10 rounded-md dark:hover:bg-[#181F32] font-medium text-warning ltr:hover:pl-3 rtl:hover:pr-3 duration-300
                                        ${m==="work"&&"ltr:pl-3 rtl:pr-3 bg-gray-100 dark:bg-[#181F32]"}`,onClick:()=>u("work"),children:[e(Zt,{className:"fill-warning shrink-0"}),e("div",{className:"ltr:ml-3 rtl:mr-3",children:"Work"})]}),s("button",{type:"button",className:`w-full flex items-center h-10 p-1 hover:bg-white-dark/10 rounded-md dark:hover:bg-[#181F32] font-medium text-info ltr:hover:pl-3 rtl:hover:pr-3 duration-300
                                        ${m==="social"&&"ltr:pl-3 rtl:pr-3 bg-gray-100 dark:bg-[#181F32]"}`,onClick:()=>u("social"),children:[e(Zt,{className:"fill-info shrink-0"}),e("div",{className:"ltr:ml-3 rtl:mr-3",children:"Social"})]}),s("button",{type:"button",className:`w-full flex items-center h-10 p-1 hover:bg-white-dark/10 rounded-md dark:hover:bg-[#181F32] font-medium text-danger ltr:hover:pl-3 rtl:hover:pr-3 duration-300
                                        ${m==="important"&&"ltr:pl-3 rtl:pr-3 bg-gray-100 dark:bg-[#181F32]"}`,onClick:()=>u("important"),children:[e(Zt,{className:"fill-danger shrink-0"}),e("div",{className:"ltr:ml-3 rtl:mr-3",children:"Important"})]})]})})]}),e("div",{className:"ltr:left-0 rtl:right-0 absolute bottom-0 p-4 w-full",children:s("button",{className:"btn btn-primary w-full",type:"button",onClick:()=>O(null),children:[e(Fw,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2 shrink-0"}),"Add New Note"]})})]}),s("div",{className:"panel flex-1 overflow-auto h-full",children:[e("div",{className:"pb-5",children:e("button",{type:"button",className:"xl:hidden hover:text-primary",onClick:()=>_(!w),children:e(ns,{})})}),i?e(be,{}):e(J,{children:f.length?e("div",{className:"sm:min-h-[300px] min-h-[400px]",children:e("div",{className:"grid 2xl:grid-cols-4 lg:grid-cols-3 sm:grid-cols-2 grid-cols-1 gap-5",children:f.map(P=>s("div",{className:`panel pb-12 ${P.tag==="personal"?"bg-primary-light shadow-primary":P.tag==="work"?"bg-warning-light shadow-warning":P.tag==="social"?"bg-info-light shadow-info":P.tag==="important"?"bg-danger-light shadow-danger":"dark:shadow-dark"}`,children:[s("div",{className:"min-h-[100px]",children:[s("div",{className:"flex justify-between",children:[e("div",{className:"flex items-center w-max",children:s("div",{className:"ltr:ml-2 rtl:mr-2",children:[e("div",{className:"font-semibold",children:P.title}),e("div",{className:"text-xs font-bold text-white-dark",children:P.created_at})]})}),P.description.length>120?e("button",{onClick:()=>{N(P),k(!0)},children:e(u1,{size:20})}):null]}),e("div",{className:"mt-3",children:s("p",{children:[" ",P.description.length>120?P.description.substring(0,120)+"...":P.description]})})]}),e("div",{className:"absolute bottom-5 left-0 w-full px-5",children:s("div",{className:"flex items-center justify-between mt-2",children:[e("div",{className:"dropdown fdfdf",children:e(us,{offset:[0,5],placement:"bottom-start",btnClassName:`${P.tag==="personal"?"text-primary":P.tag==="work"?"text-warning":P.tag==="social"?"text-info":P.tag==="important"?"text-danger":""}`,button:e("span",{children:e(Zt,{className:P.tag==="personal"?"fill-primary":P.tag==="work"?"fill-warning":P.tag==="social"?"fill-info":P.tag==="important"?"fill-danger":""})}),children:s("ul",{className:"text-sm font-medium",children:[e("li",{children:s("button",{type:"button",onClick:()=>R(P,"personal"),children:[e(Zt,{className:"ltr:mr-2 rtl:ml-2 fill-primary text-primary"}),"Personal"]})}),e("li",{children:s("button",{type:"button",onClick:()=>R(P,"work"),children:[e(Zt,{className:"ltr:mr-2 rtl:ml-2 fill-warning text-warning"}),"Work"]})}),e("li",{children:s("button",{type:"button",onClick:()=>R(P,"social"),children:[e(Zt,{className:"ltr:mr-2 rtl:ml-2 fill-info text-info"}),"Social"]})}),e("li",{children:s("button",{type:"button",onClick:()=>R(P,"important"),children:[e(Zt,{className:"ltr:mr-2 rtl:ml-2 fill-danger text-danger"}),"Important"]})})]})})}),s("div",{className:"flex items-center gap-2",children:[e("button",{type:"button",className:"text-info",onClick:()=>O(P),children:e(Bw,{})}),e("button",{type:"button",className:"text-warning  ",onClick:()=>B(P),children:e(di,{className:`w-4.5 h-4.5 group-hover:fill-warning ${P.is_favourite&&"fill-warning"}`})}),e("button",{type:"button",className:"text-danger",onClick:()=>$(P),children:e(Mw,{})})]})]})})]},P.id))})}):e("div",{className:"flex justify-center items-center sm:min-h-[300px] min-h-[400px] font-semibold text-lg h-full",children:"No data available"})}),e(ge,{appear:!0,show:I,as:l.Fragment,children:s(Ie,{as:"div",open:I,onClose:()=>T(!1),className:"relative z-[51]",children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-[black]/60"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex min-h-full items-center justify-center px-4 py-8",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg text-black dark:text-white-dark",children:[e("button",{type:"button",onClick:()=>T(!1),className:"absolute top-4 ltr:right-4 rtl:left-4 text-gray-400 hover:text-gray-800 dark:hover:text-gray-600 outline-none",children:e(Ht,{})}),e("div",{className:"text-lg font-medium bg-[#fbfbfb] dark:bg-[#121c2c] ltr:pl-5 rtl:pr-5 py-3 ltr:pr-[50px] rtl:pl-[50px]",children:E.id?"Edit Note":"Add Note"}),e("div",{className:"p-5",children:s("form",{children:[s("div",{className:"mb-5",children:[e("label",{htmlFor:"title",children:"Title"}),e("input",{name:"title",type:"text",placeholder:"Enter Title",className:"form-input",value:E.title,onChange:P=>x(P)}),e("div",{className:"text-danger mt-1",children:v.title})]}),s("div",{className:"mb-5",children:[e("label",{htmlFor:"tag",children:"Tag"}),s("select",{name:"tag",className:"form-select",value:E.tag,onChange:P=>x(P),children:[e("option",{value:"",children:"None"}),e("option",{value:"personal",children:"Personal"}),e("option",{value:"work",children:"Work"}),e("option",{value:"social",children:"Social"}),e("option",{value:"important",children:"Important"})]}),e("div",{className:"text-danger mt-1",children:v.tag})]}),s("div",{className:"mb-5",children:[e("label",{htmlFor:"desc",children:"Description"}),e("textarea",{name:"description",rows:3,className:"form-textarea resize-none min-h-[130px]",placeholder:"Enter Description",value:E.description,onChange:P=>x(P)}),e("div",{className:"text-danger mt-1",children:v.description})]}),s("div",{className:"flex justify-end items-center mt-8",children:[e("button",{type:"button",className:"btn btn-outline-danger gap-2",onClick:()=>T(!1),children:"Cancel"}),e("button",{type:"button",disabled:M,className:"btn btn-primary ltr:ml-4 rtl:mr-4",onClick:()=>F(),children:M?"Please Wait...":E.id?"Update Note":"Add Note"})]})]})})]})})})})]})}),e(ge,{appear:!0,show:A,as:l.Fragment,children:s(Ie,{as:"div",open:A,onClose:()=>k(!1),className:"relative z-[51]",children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0 bg-[black]/60"})}),e("div",{className:"fixed inset-0 overflow-y-auto",children:e("div",{className:"flex min-h-full items-center justify-center px-4 py-8",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg text-black dark:text-white-dark",children:[e("button",{type:"button",onClick:()=>k(!1),className:"absolute top-4 ltr:right-4 rtl:left-4 text-gray-400 hover:text-gray-800 dark:hover:text-gray-600 outline-none",children:e(Ht,{})}),s("div",{className:"flex items-center flex-wrap gap-2 text-lg font-medium bg-[#fbfbfb] dark:bg-[#121c2c] ltr:pl-5 rtl:pr-5 py-3 ltr:pr-[50px] rtl:pl-[50px]",children:[e("div",{className:"ltr:mr-3 rtl:ml-3",children:E.title}),E.tag&&e("button",{type:"button",className:`badge badge-outline-primary rounded-3xl capitalize ltr:mr-3 rtl:ml-3 ${E.tag,E.tag,E.tag,E.tag==="important"&&"shadow-danger"}`,children:E.tag}),E.isFav&&e("button",{type:"button",className:"text-warning",children:e(di,{className:"fill-warning"})})]}),s("div",{className:"p-5",children:[e("div",{className:"text-base",children:E.description}),e("div",{className:"ltr:text-right rtl:text-left mt-8",children:e("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>k(!1),children:"Close"})})]})]})})})})]})})]})]})})};var $w=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function jw(t){var a=t.defaultInputValue,n=a===void 0?"":a,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,o=t.defaultValue,m=o===void 0?null:o,u=t.inputValue,c=t.menuIsOpen,p=t.onChange,f=t.onInputChange,h=t.onMenuClose,b=t.onMenuOpen,S=t.value,I=fa(t,$w),T=l.useState(u!==void 0?u:n),w=ca(T,2),_=w[0],A=w[1],k=l.useState(c!==void 0?c:i),g=ca(k,2),E=g[0],N=g[1],v=l.useState(S!==void 0?S:m),d=ca(v,2),y=d[0],M=d[1],C=l.useCallback(function(R,P){typeof p=="function"&&p(R,P),M(R)},[p]),x=l.useCallback(function(R,P){var z;typeof f=="function"&&(z=f(R,P)),A(z!==void 0?z:R)},[f]),L=l.useCallback(function(){typeof b=="function"&&b(),N(!0)},[b]),F=l.useCallback(function(){typeof h=="function"&&h(),N(!1)},[h]),O=u!==void 0?u:_,$=c!==void 0?c:E,B=S!==void 0?S:y;return ze(ze({},I),{},{inputValue:O,menuIsOpen:$,onChange:C,onInputChange:x,onMenuClose:F,onMenuOpen:L,value:B})}function np(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(np=function(){return!!t})()}function zw(t){var a=np();return function(){var n,r=dc(t);if(a){var i=dc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vf(this,n)}}function Dw(t){if(Array.isArray(t))return xf(t)}function Vw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ql(t){return Dw(t)||yf(t)||wf(t)||Vw()}function Uw(t,a){return a||(a=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(a)}}))}var Hw=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],ur=function(){};function Ww(t,a){return a?a[0]==="-"?t+a:t+"__"+a:t}function qw(t,a){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(a&&t)for(var m in a)a.hasOwnProperty(m)&&a[m]&&o.push("".concat(Ww(t,m)));return o.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var Pd=function(a){return t4(a)?a.filter(Boolean):Nf(a)==="object"&&a!==null?[a]:[]},sp=function(a){a.className,a.clearValue,a.cx,a.getStyles,a.getClassNames,a.getValue,a.hasValue,a.isMulti,a.isRtl,a.options,a.selectOption,a.selectProps,a.setValue,a.theme;var n=fa(a,Hw);return ze({},n)},pt=function(a,n,r){var i=a.cx,o=a.getStyles,m=a.getClassNames,u=a.className;return{css:o(n,a),className:i(r??{},m(n,a),u)}};function Br(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Zw(t){return Br(t)?window.innerHeight:t.clientHeight}function rp(t){return Br(t)?window.pageYOffset:t.scrollTop}function mr(t,a){if(Br(t)){window.scrollTo(0,a);return}t.scrollTop=a}function Gw(t){var a=getComputedStyle(t),n=a.position==="absolute",r=/(auto|scroll)/;if(a.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(a=getComputedStyle(i),!(n&&a.position==="static")&&r.test(a.overflow+a.overflowY+a.overflowX))return i;return document.documentElement}function Kw(t,a,n,r){return n*((t=t/r-1)*t*t+1)+a}function Os(t,a){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ur,i=rp(t),o=a-i,m=10,u=0;function c(){u+=m;var p=Kw(u,i,o,n);mr(t,p),u<n?window.requestAnimationFrame(c):r(t)}c()}function Id(t,a){var n=t.getBoundingClientRect(),r=a.getBoundingClientRect(),i=a.offsetHeight/3;r.bottom+i>n.bottom?mr(t,Math.min(a.offsetTop+a.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&mr(t,Math.max(a.offsetTop-i,0))}function Jw(t){var a=t.getBoundingClientRect();return{bottom:a.bottom,height:a.height,left:a.left,right:a.right,top:a.top,width:a.width}}function Ld(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Yw(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ip=!1,Xw={get passive(){return ip=!0}},Bs=typeof window<"u"?window:{};Bs.addEventListener&&Bs.removeEventListener&&(Bs.addEventListener("p",ur,Xw),Bs.removeEventListener("p",ur,!1));var Qw=ip;function e4(t){return t!=null}function t4(t){return Array.isArray(t)}function Rs(t,a,n){return t?a:n}var a4=function(a){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(a).filter(function(m){var u=ca(m,1),c=u[0];return!r.includes(c)});return o.reduce(function(m,u){var c=ca(u,2),p=c[0],f=c[1];return m[p]=f,m},{})},n4=["children","innerProps"],s4=["children","innerProps"];function r4(t){var a=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,m=t.isFixedPosition,u=t.controlHeight,c=Gw(n),p={placement:"bottom",maxHeight:a};if(!n||!n.offsetParent)return p;var f=c.getBoundingClientRect(),h=f.height,b=n.getBoundingClientRect(),S=b.bottom,I=b.height,T=b.top,w=n.offsetParent.getBoundingClientRect(),_=w.top,A=m?window.innerHeight:Zw(c),k=rp(c),g=parseInt(getComputedStyle(n).marginBottom,10),E=parseInt(getComputedStyle(n).marginTop,10),N=_-E,v=A-T,d=N+k,y=h-k-T,M=S-A+k+g,C=k+T-E,x=160;switch(i){case"auto":case"bottom":if(v>=I)return{placement:"bottom",maxHeight:a};if(y>=I&&!m)return o&&Os(c,M,x),{placement:"bottom",maxHeight:a};if(!m&&y>=r||m&&v>=r){o&&Os(c,M,x);var L=m?v-g:y-g;return{placement:"bottom",maxHeight:L}}if(i==="auto"||m){var F=a,O=m?N:d;return O>=r&&(F=Math.min(O-g-u,a)),{placement:"top",maxHeight:F}}if(i==="bottom")return o&&mr(c,M),{placement:"bottom",maxHeight:a};break;case"top":if(N>=I)return{placement:"top",maxHeight:a};if(d>=I&&!m)return o&&Os(c,C,x),{placement:"top",maxHeight:a};if(!m&&d>=r||m&&N>=r){var $=a;return(!m&&d>=r||m&&N>=r)&&($=m?N-E:d-E),o&&Os(c,C,x),{placement:"top",maxHeight:$}}return{placement:"bottom",maxHeight:a};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return p}function i4(t){var a={bottom:"top",top:"bottom"};return t?a[t]:"bottom"}var lp=function(a){return a==="auto"?"bottom":a},l4=function(a,n){var r,i=a.placement,o=a.theme,m=o.borderRadius,u=o.spacing,c=o.colors;return ze((r={label:"menu"},ks(r,i4(i),"100%"),ks(r,"position","absolute"),ks(r,"width","100%"),ks(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:m,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},op=l.createContext(null),o4=function(a){var n=a.children,r=a.minMenuHeight,i=a.maxMenuHeight,o=a.menuPlacement,m=a.menuPosition,u=a.menuShouldScrollIntoView,c=a.theme,p=l.useContext(op)||{},f=p.setPortalPlacement,h=l.useRef(null),b=l.useState(i),S=ca(b,2),I=S[0],T=S[1],w=l.useState(null),_=ca(w,2),A=_[0],k=_[1],g=c.spacing.controlHeight;return ki(function(){var E=h.current;if(E){var N=m==="fixed",v=u&&!N,d=r4({maxHeight:i,menuEl:E,minHeight:r,placement:o,shouldScroll:v,isFixedPosition:N,controlHeight:g});T(d.maxHeight),k(d.placement),f==null||f(d.placement)}},[i,o,m,u,r,f,g]),n({ref:h,placerProps:ze(ze({},a),{},{placement:A||lp(o),maxHeight:I})})},c4=function(a){var n=a.children,r=a.innerRef,i=a.innerProps;return $e("div",We({},pt(a,"menu",{menu:!0}),{ref:r},i),n)},d4=c4,u4=function(a,n){var r=a.maxHeight,i=a.theme.spacing.baseUnit;return ze({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},m4=function(a){var n=a.children,r=a.innerProps,i=a.innerRef,o=a.isMulti;return $e("div",We({},pt(a,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},cp=function(a,n){var r=a.theme,i=r.spacing.baseUnit,o=r.colors;return ze({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},h4=cp,p4=cp,f4=function(a){var n=a.children,r=n===void 0?"No options":n,i=a.innerProps,o=fa(a,n4);return $e("div",We({},pt(ze(ze({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},g4=function(a){var n=a.children,r=n===void 0?"Loading...":n,i=a.innerProps,o=fa(a,s4);return $e("div",We({},pt(ze(ze({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},b4=function(a){var n=a.rect,r=a.offset,i=a.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},v4=function(a){var n=a.appendTo,r=a.children,i=a.controlElement,o=a.innerProps,m=a.menuPlacement,u=a.menuPosition,c=l.useRef(null),p=l.useRef(null),f=l.useState(lp(m)),h=ca(f,2),b=h[0],S=h[1],I=l.useMemo(function(){return{setPortalPlacement:S}},[]),T=l.useState(null),w=ca(T,2),_=w[0],A=w[1],k=l.useCallback(function(){if(i){var v=Jw(i),d=u==="fixed"?0:window.pageYOffset,y=v[b]+d;(y!==(_==null?void 0:_.offset)||v.left!==(_==null?void 0:_.rect.left)||v.width!==(_==null?void 0:_.rect.width))&&A({offset:y,rect:v})}},[i,u,b,_==null?void 0:_.offset,_==null?void 0:_.rect.left,_==null?void 0:_.rect.width]);ki(function(){k()},[k]);var g=l.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),i&&c.current&&(p.current=s1(i,c.current,k,{elementResize:"ResizeObserver"in window}))},[i,k]);ki(function(){g()},[g]);var E=l.useCallback(function(v){c.current=v,g()},[g]);if(!n&&u!=="fixed"||!_)return null;var N=$e("div",We({ref:E},pt(ze(ze({},a),{},{offset:_.offset,position:u,rect:_.rect}),"menuPortal",{"menu-portal":!0}),o),r);return $e(op.Provider,{value:I},n?fu.createPortal(N,n):N)},x4=function(a){var n=a.isDisabled,r=a.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},y4=function(a){var n=a.children,r=a.innerProps,i=a.isDisabled,o=a.isRtl;return $e("div",We({},pt(a,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},w4=function(a,n){var r=a.theme.spacing,i=a.isMulti,o=a.hasValue,m=a.selectProps.controlShouldRenderValue;return ze({alignItems:"center",display:i&&o&&m?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},N4=function(a){var n=a.children,r=a.innerProps,i=a.isMulti,o=a.hasValue;return $e("div",We({},pt(a,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},_4=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},k4=function(a){var n=a.children,r=a.innerProps;return $e("div",We({},pt(a,"indicatorsContainer",{indicators:!0}),r),n)},Fd,C4=["size"],S4=["innerProps","isRtl","size"],E4={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},dp=function(a){var n=a.size,r=fa(a,C4);return $e("svg",We({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:E4},r))},Zl=function(a){return $e(dp,We({size:20},a),$e("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},up=function(a){return $e(dp,We({size:20},a),$e("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},mp=function(a,n){var r=a.isFocused,i=a.theme,o=i.spacing.baseUnit,m=i.colors;return ze({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?m.neutral60:m.neutral20,padding:o*2,":hover":{color:r?m.neutral80:m.neutral40}})},T4=mp,A4=function(a){var n=a.children,r=a.innerProps;return $e("div",We({},pt(a,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||$e(up,null))},P4=mp,I4=function(a){var n=a.children,r=a.innerProps;return $e("div",We({},pt(a,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||$e(Zl,null))},L4=function(a,n){var r=a.isDisabled,i=a.theme,o=i.spacing.baseUnit,m=i.colors;return ze({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?m.neutral10:m.neutral20,marginBottom:o*2,marginTop:o*2})},F4=function(a){var n=a.innerProps;return $e("span",We({},n,pt(a,"indicatorSeparator",{"indicator-separator":!0})))},M4=F1(Fd||(Fd=Uw([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),O4=function(a,n){var r=a.isFocused,i=a.size,o=a.theme,m=o.colors,u=o.spacing.baseUnit;return ze({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?m.neutral60:m.neutral20,padding:u*2})},ui=function(a){var n=a.delay,r=a.offset;return $e("span",{css:fl({animation:"".concat(M4," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},B4=function(a){var n=a.innerProps,r=a.isRtl,i=a.size,o=i===void 0?4:i,m=fa(a,S4);return $e("div",We({},pt(ze(ze({},m),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),$e(ui,{delay:0,offset:r}),$e(ui,{delay:160,offset:!0}),$e(ui,{delay:320,offset:!r}))},R4=function(a,n){var r=a.isDisabled,i=a.isFocused,o=a.theme,m=o.colors,u=o.borderRadius,c=o.spacing;return ze({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?m.neutral5:m.neutral0,borderColor:r?m.neutral10:i?m.primary:m.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(m.primary):void 0,"&:hover":{borderColor:i?m.primary:m.neutral30}})},$4=function(a){var n=a.children,r=a.isDisabled,i=a.isFocused,o=a.innerRef,m=a.innerProps,u=a.menuIsOpen;return $e("div",We({ref:o},pt(a,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":u}),m,{"aria-disabled":r||void 0}),n)},j4=$4,z4=["data"],D4=function(a,n){var r=a.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},V4=function(a){var n=a.children,r=a.cx,i=a.getStyles,o=a.getClassNames,m=a.Heading,u=a.headingProps,c=a.innerProps,p=a.label,f=a.theme,h=a.selectProps;return $e("div",We({},pt(a,"group",{group:!0}),c),$e(m,We({},u,{selectProps:h,theme:f,getStyles:i,getClassNames:o,cx:r}),p),$e("div",null,n))},U4=function(a,n){var r=a.theme,i=r.colors,o=r.spacing;return ze({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},H4=function(a){var n=sp(a);n.data;var r=fa(n,z4);return $e("div",We({},pt(a,"groupHeading",{"group-heading":!0}),r))},W4=V4,q4=["innerRef","isDisabled","isHidden","inputClassName"],Z4=function(a,n){var r=a.isDisabled,i=a.value,o=a.theme,m=o.spacing,u=o.colors;return ze(ze({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},G4),n?{}:{margin:m.baseUnit/2,paddingBottom:m.baseUnit/2,paddingTop:m.baseUnit/2,color:u.neutral80})},hp={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},G4={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ze({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},hp)},K4=function(a){return ze({label:"input",color:"inherit",background:0,opacity:a?0:1,width:"100%"},hp)},J4=function(a){var n=a.cx,r=a.value,i=sp(a),o=i.innerRef,m=i.isDisabled,u=i.isHidden,c=i.inputClassName,p=fa(i,q4);return $e("div",We({},pt(a,"input",{"input-container":!0}),{"data-value":r||""}),$e("input",We({className:n({input:!0},c),ref:o,style:K4(u),disabled:m},p)))},Y4=J4,X4=function(a,n){var r=a.theme,i=r.spacing,o=r.borderRadius,m=r.colors;return ze({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:m.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},Q4=function(a,n){var r=a.theme,i=r.borderRadius,o=r.colors,m=a.cropWithEllipsis;return ze({overflow:"hidden",textOverflow:m||m===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},eN=function(a,n){var r=a.theme,i=r.spacing,o=r.borderRadius,m=r.colors,u=a.isFocused;return ze({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:u?m.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:m.dangerLight,color:m.danger}})},pp=function(a){var n=a.children,r=a.innerProps;return $e("div",r,n)},tN=pp,aN=pp;function nN(t){var a=t.children,n=t.innerProps;return $e("div",We({role:"button"},n),a||$e(Zl,{size:14}))}var sN=function(a){var n=a.children,r=a.components,i=a.data,o=a.innerProps,m=a.isDisabled,u=a.removeProps,c=a.selectProps,p=r.Container,f=r.Label,h=r.Remove;return $e(p,{data:i,innerProps:ze(ze({},pt(a,"multiValue",{"multi-value":!0,"multi-value--is-disabled":m})),o),selectProps:c},$e(f,{data:i,innerProps:ze({},pt(a,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),$e(h,{data:i,innerProps:ze(ze({},pt(a,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},u),selectProps:c}))},rN=sN,iN=function(a,n){var r=a.isDisabled,i=a.isFocused,o=a.isSelected,m=a.theme,u=m.spacing,c=m.colors;return ze({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?c.primary:i?c.primary25:"transparent",color:r?c.neutral20:o?c.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?c.primary:c.primary50}})},lN=function(a){var n=a.children,r=a.isDisabled,i=a.isFocused,o=a.isSelected,m=a.innerRef,u=a.innerProps;return $e("div",We({},pt(a,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:m,"aria-disabled":r},u),n)},oN=lN,cN=function(a,n){var r=a.theme,i=r.spacing,o=r.colors;return ze({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},dN=function(a){var n=a.children,r=a.innerProps;return $e("div",We({},pt(a,"placeholder",{placeholder:!0}),r),n)},uN=dN,mN=function(a,n){var r=a.isDisabled,i=a.theme,o=i.spacing,m=i.colors;return ze({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?m.neutral40:m.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},hN=function(a){var n=a.children,r=a.isDisabled,i=a.innerProps;return $e("div",We({},pt(a,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},pN=hN,fN={ClearIndicator:I4,Control:j4,DropdownIndicator:A4,DownChevron:up,CrossIcon:Zl,Group:W4,GroupHeading:H4,IndicatorsContainer:k4,IndicatorSeparator:F4,Input:Y4,LoadingIndicator:B4,Menu:d4,MenuList:m4,MenuPortal:v4,LoadingMessage:g4,NoOptionsMessage:f4,MultiValue:rN,MultiValueContainer:tN,MultiValueLabel:aN,MultiValueRemove:nN,Option:oN,Placeholder:uN,SelectContainer:y4,SingleValue:pN,ValueContainer:N4},gN=function(a){return ze(ze({},fN),a.components)},Md=Number.isNaN||function(a){return typeof a=="number"&&a!==a};function bN(t,a){return!!(t===a||Md(t)&&Md(a))}function vN(t,a){if(t.length!==a.length)return!1;for(var n=0;n<t.length;n++)if(!bN(t[n],a[n]))return!1;return!0}function xN(t,a){a===void 0&&(a=vN);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&a(i,n.lastArgs))return n.lastResult;var m=t.apply(this,i);return n={lastResult:m,lastArgs:i,lastThis:this},m}return r.clear=function(){n=null},r}var yN={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},wN=function(a){return $e("span",We({css:yN},a))},Od=wN,NN={guidance:function(a){var n=a.isSearchable,r=a.isMulti,i=a.tabSelectsValue,o=a.context,m=a.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return m?"".concat(a["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(a){var n=a.action,r=a.label,i=r===void 0?"":r,o=a.labels,m=a.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return m?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(a){var n=a.context,r=a.focused,i=a.options,o=a.label,m=o===void 0?"":o,u=a.selectValue,c=a.isDisabled,p=a.isSelected,f=a.isAppleDevice,h=function(T,w){return T&&T.length?"".concat(T.indexOf(w)+1," of ").concat(T.length):""};if(n==="value"&&u)return"value ".concat(m," focused, ").concat(h(u,r),".");if(n==="menu"&&f){var b=c?" disabled":"",S="".concat(p?" selected":"").concat(b);return"".concat(m).concat(S,", ").concat(h(i,r),".")}return""},onFilter:function(a){var n=a.inputValue,r=a.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},_N=function(a){var n=a.ariaSelection,r=a.focusedOption,i=a.focusedValue,o=a.focusableOptions,m=a.isFocused,u=a.selectValue,c=a.selectProps,p=a.id,f=a.isAppleDevice,h=c.ariaLiveMessages,b=c.getOptionLabel,S=c.inputValue,I=c.isMulti,T=c.isOptionDisabled,w=c.isSearchable,_=c.menuIsOpen,A=c.options,k=c.screenReaderStatus,g=c.tabSelectsValue,E=c.isLoading,N=c["aria-label"],v=c["aria-live"],d=l.useMemo(function(){return ze(ze({},NN),h||{})},[h]),y=l.useMemo(function(){var O="";if(n&&d.onChange){var $=n.option,B=n.options,R=n.removedValue,P=n.removedValues,z=n.value,H=function(Z){return Array.isArray(Z)?null:Z},W=R||$||H(z),q=W?b(W):"",D=B||P||void 0,V=D?D.map(b):[],j=ze({isDisabled:W&&T(W,u),label:q,labels:V},n);O=d.onChange(j)}return O},[n,d,T,u,b]),M=l.useMemo(function(){var O="",$=r||i,B=!!(r&&u&&u.includes(r));if($&&d.onFocus){var R={focused:$,label:b($),isDisabled:T($,u),isSelected:B,options:o,context:$===r?"menu":"value",selectValue:u,isAppleDevice:f};O=d.onFocus(R)}return O},[r,i,b,T,d,o,u,f]),C=l.useMemo(function(){var O="";if(_&&A.length&&!E&&d.onFilter){var $=k({count:o.length});O=d.onFilter({inputValue:S,resultsMessage:$})}return O},[o,S,_,d,A,k,E]),x=(n==null?void 0:n.action)==="initial-input-focus",L=l.useMemo(function(){var O="";if(d.guidance){var $=i?"value":_?"menu":"input";O=d.guidance({"aria-label":N,context:$,isDisabled:r&&T(r,u),isMulti:I,isSearchable:w,tabSelectsValue:g,isInitialFocus:x})}return O},[N,r,i,I,T,w,_,d,u,g,x]),F=$e(l.Fragment,null,$e("span",{id:"aria-selection"},y),$e("span",{id:"aria-focused"},M),$e("span",{id:"aria-results"},C),$e("span",{id:"aria-guidance"},L));return $e(l.Fragment,null,$e(Od,{id:p},x&&F),$e(Od,{"aria-live":v,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},m&&!x&&F))},kN=_N,Yi=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],CN=new RegExp("["+Yi.map(function(t){return t.letters}).join("")+"]","g"),fp={};for(var mi=0;mi<Yi.length;mi++)for(var hi=Yi[mi],pi=0;pi<hi.letters.length;pi++)fp[hi.letters[pi]]=hi.base;var gp=function(a){return a.replace(CN,function(n){return fp[n]})},SN=xN(gp),Bd=function(a){return a.replace(/^\s+|\s+$/g,"")},EN=function(a){return"".concat(a.label," ").concat(a.value)},TN=function(a){return function(n,r){if(n.data.__isNew__)return!0;var i=ze({ignoreCase:!0,ignoreAccents:!0,stringify:EN,trim:!0,matchFrom:"any"},a),o=i.ignoreCase,m=i.ignoreAccents,u=i.stringify,c=i.trim,p=i.matchFrom,f=c?Bd(r):r,h=c?Bd(u(n)):u(n);return o&&(f=f.toLowerCase(),h=h.toLowerCase()),m&&(f=SN(f),h=gp(h)),p==="start"?h.substr(0,f.length)===f:h.indexOf(f)>-1}},AN=["innerRef"];function PN(t){var a=t.innerRef,n=fa(t,AN),r=a4(n,"onExited","in","enter","exit","appear");return $e("input",We({ref:a},r,{css:fl({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var IN=function(a){a.cancelable&&a.preventDefault(),a.stopPropagation()};function LN(t){var a=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,o=t.onTopLeave,m=l.useRef(!1),u=l.useRef(!1),c=l.useRef(0),p=l.useRef(null),f=l.useCallback(function(w,_){if(p.current!==null){var A=p.current,k=A.scrollTop,g=A.scrollHeight,E=A.clientHeight,N=p.current,v=_>0,d=g-E-k,y=!1;d>_&&m.current&&(r&&r(w),m.current=!1),v&&u.current&&(o&&o(w),u.current=!1),v&&_>d?(n&&!m.current&&n(w),N.scrollTop=g,y=!0,m.current=!0):!v&&-_>k&&(i&&!u.current&&i(w),N.scrollTop=0,y=!0,u.current=!0),y&&IN(w)}},[n,r,i,o]),h=l.useCallback(function(w){f(w,w.deltaY)},[f]),b=l.useCallback(function(w){c.current=w.changedTouches[0].clientY},[]),S=l.useCallback(function(w){var _=c.current-w.changedTouches[0].clientY;f(w,_)},[f]),I=l.useCallback(function(w){if(w){var _=Qw?{passive:!1}:!1;w.addEventListener("wheel",h,_),w.addEventListener("touchstart",b,_),w.addEventListener("touchmove",S,_)}},[S,b,h]),T=l.useCallback(function(w){w&&(w.removeEventListener("wheel",h,!1),w.removeEventListener("touchstart",b,!1),w.removeEventListener("touchmove",S,!1))},[S,b,h]);return l.useEffect(function(){if(a){var w=p.current;return I(w),function(){T(w)}}},[a,I,T]),function(w){p.current=w}}var Rd=["boxSizing","height","overflow","paddingRight","position"],$d={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function jd(t){t.preventDefault()}function zd(t){t.stopPropagation()}function Dd(){var t=this.scrollTop,a=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===a&&(this.scrollTop=t-1)}function Vd(){return"ontouchstart"in window||navigator.maxTouchPoints}var Ud=!!(typeof window<"u"&&window.document&&window.document.createElement),Ln=0,rn={capture:!1,passive:!1};function FN(t){var a=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=l.useRef({}),o=l.useRef(null),m=l.useCallback(function(c){if(Ud){var p=document.body,f=p&&p.style;if(r&&Rd.forEach(function(I){var T=f&&f[I];i.current[I]=T}),r&&Ln<1){var h=parseInt(i.current.paddingRight,10)||0,b=document.body?document.body.clientWidth:0,S=window.innerWidth-b+h||0;Object.keys($d).forEach(function(I){var T=$d[I];f&&(f[I]=T)}),f&&(f.paddingRight="".concat(S,"px"))}p&&Vd()&&(p.addEventListener("touchmove",jd,rn),c&&(c.addEventListener("touchstart",Dd,rn),c.addEventListener("touchmove",zd,rn))),Ln+=1}},[r]),u=l.useCallback(function(c){if(Ud){var p=document.body,f=p&&p.style;Ln=Math.max(Ln-1,0),r&&Ln<1&&Rd.forEach(function(h){var b=i.current[h];f&&(f[h]=b)}),p&&Vd()&&(p.removeEventListener("touchmove",jd,rn),c&&(c.removeEventListener("touchstart",Dd,rn),c.removeEventListener("touchmove",zd,rn)))}},[r]);return l.useEffect(function(){if(a){var c=o.current;return m(c),function(){u(c)}}},[a,m,u]),function(c){o.current=c}}var MN=function(a){var n=a.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},ON={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function BN(t){var a=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,o=t.onBottomArrive,m=t.onBottomLeave,u=t.onTopArrive,c=t.onTopLeave,p=LN({isEnabled:i,onBottomArrive:o,onBottomLeave:m,onTopArrive:u,onTopLeave:c}),f=FN({isEnabled:n}),h=function(S){p(S),f(S)};return $e(l.Fragment,null,n&&$e("div",{onClick:MN,css:ON}),a(h))}var RN={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},$N=function(a){var n=a.name,r=a.onFocus;return $e("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:RN,value:"",onChange:function(){}})},jN=$N;function Gl(t){var a;return typeof window<"u"&&window.navigator!=null?t.test(((a=window.navigator.userAgentData)===null||a===void 0?void 0:a.platform)||window.navigator.platform):!1}function zN(){return Gl(/^iPhone/i)}function bp(){return Gl(/^Mac/i)}function DN(){return Gl(/^iPad/i)||bp()&&navigator.maxTouchPoints>1}function VN(){return zN()||DN()}function UN(){return bp()||VN()}var HN=function(a){return a.label},WN=function(a){return a.label},qN=function(a){return a.value},ZN=function(a){return!!a.isDisabled},GN={clearIndicator:P4,container:x4,control:R4,dropdownIndicator:T4,group:D4,groupHeading:U4,indicatorsContainer:_4,indicatorSeparator:L4,input:Z4,loadingIndicator:O4,loadingMessage:p4,menu:l4,menuList:u4,menuPortal:b4,multiValue:X4,multiValueLabel:Q4,multiValueRemove:eN,noOptionsMessage:h4,option:iN,placeholder:cN,singleValue:mN,valueContainer:w4},KN={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},JN=4,vp=4,YN=38,XN=vp*2,QN={baseUnit:vp,controlHeight:YN,menuGutter:XN},fi={borderRadius:JN,colors:KN,spacing:QN},e_={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ld(),captureMenuScroll:!Ld(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:TN(),formatGroupLabel:HN,getOptionLabel:WN,getOptionValue:qN,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:ZN,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Yw(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(a){var n=a.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Hd(t,a,n,r){var i=wp(t,a,n),o=Np(t,a,n),m=yp(t,a),u=hr(t,a);return{type:"option",data:a,isDisabled:i,isSelected:o,label:m,value:u,index:r}}function Ks(t,a){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(m,u){return Hd(t,m,a,u)}).filter(function(m){return qd(t,m)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=Hd(t,n,a,r);return qd(t,o)?o:void 0}).filter(e4)}function xp(t){return t.reduce(function(a,n){return n.type==="group"?a.push.apply(a,ql(n.options.map(function(r){return r.data}))):a.push(n.data),a},[])}function Wd(t,a){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,ql(r.options.map(function(i){return{data:i.data,id:"".concat(a,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(a,"-").concat(r.index)}),n},[])}function t_(t,a){return xp(Ks(t,a))}function qd(t,a){var n=t.inputValue,r=n===void 0?"":n,i=a.data,o=a.isSelected,m=a.label,u=a.value;return(!kp(t)||!o)&&_p(t,{label:m,value:u,data:i},r)}function a_(t,a){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var o=a.indexOf(n);if(o>-1)return n;if(i<a.length)return a[i]}return null}function n_(t,a){var n=t.focusedOption;return n&&a.indexOf(n)>-1?n:a[0]}var gi=function(a,n){var r,i=(r=a.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},yp=function(a,n){return a.getOptionLabel(n)},hr=function(a,n){return a.getOptionValue(n)};function wp(t,a,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(a,n):!1}function Np(t,a,n){if(n.indexOf(a)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(a,n);var r=hr(t,a);return n.some(function(i){return hr(t,i)===r})}function _p(t,a,n){return t.filterOption?t.filterOption(a,n):!0}var kp=function(a){var n=a.hideSelectedOptions,r=a.isMulti;return n===void 0?r:n},s_=1,Cp=function(t){_f(n,t);var a=zw(n);function n(r){var i;if(kf(this,n),i=a.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=UN(),i.controlRef=null,i.getControlRef=function(c){i.controlRef=c},i.focusedOptionRef=null,i.getFocusedOptionRef=function(c){i.focusedOptionRef=c},i.menuListRef=null,i.getMenuListRef=function(c){i.menuListRef=c},i.inputRef=null,i.getInputRef=function(c){i.inputRef=c},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(c,p){var f=i.props,h=f.onChange,b=f.name;p.name=b,i.ariaOnChange(c,p),h(c,p)},i.setValue=function(c,p,f){var h=i.props,b=h.closeMenuOnSelect,S=h.isMulti,I=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:I}),b&&(i.setState({inputIsHiddenAfterUpdate:!S}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(c,{action:p,option:f})},i.selectOption=function(c){var p=i.props,f=p.blurInputOnSelect,h=p.isMulti,b=p.name,S=i.state.selectValue,I=h&&i.isOptionSelected(c,S),T=i.isOptionDisabled(c,S);if(I){var w=i.getOptionValue(c);i.setValue(S.filter(function(_){return i.getOptionValue(_)!==w}),"deselect-option",c)}else if(!T)h?i.setValue([].concat(ql(S),[c]),"select-option",c):i.setValue(c,"select-option");else{i.ariaOnChange(c,{action:"select-option",option:c,name:b});return}f&&i.blurInput()},i.removeValue=function(c){var p=i.props.isMulti,f=i.state.selectValue,h=i.getOptionValue(c),b=f.filter(function(I){return i.getOptionValue(I)!==h}),S=Rs(p,b,b[0]||null);i.onChange(S,{action:"remove-value",removedValue:c}),i.focusInput()},i.clearValue=function(){var c=i.state.selectValue;i.onChange(Rs(i.props.isMulti,[],null),{action:"clear",removedValues:c})},i.popValue=function(){var c=i.props.isMulti,p=i.state.selectValue,f=p[p.length-1],h=p.slice(0,p.length-1),b=Rs(c,h,h[0]||null);i.onChange(b,{action:"pop-value",removedValue:f})},i.getFocusedOptionId=function(c){return gi(i.state.focusableOptionsWithIds,c)},i.getFocusableOptionsWithIds=function(){return Wd(Ks(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var c=arguments.length,p=new Array(c),f=0;f<c;f++)p[f]=arguments[f];return qw.apply(void 0,[i.props.classNamePrefix].concat(p))},i.getOptionLabel=function(c){return yp(i.props,c)},i.getOptionValue=function(c){return hr(i.props,c)},i.getStyles=function(c,p){var f=i.props.unstyled,h=GN[c](p,f);h.boxSizing="border-box";var b=i.props.styles[c];return b?b(h,p):h},i.getClassNames=function(c,p){var f,h;return(f=(h=i.props.classNames)[c])===null||f===void 0?void 0:f.call(h,p)},i.getElementId=function(c){return"".concat(i.state.instancePrefix,"-").concat(c)},i.getComponents=function(){return gN(i.props)},i.buildCategorizedOptions=function(){return Ks(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return xp(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(c,p){i.setState({ariaSelection:ze({value:c},p)})},i.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(c){i.blockOptionHover=!1},i.onControlMouseDown=function(c){if(!c.defaultPrevented){var p=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&i.onMenuClose():p&&i.openMenu("first"):(p&&(i.openAfterFocus=!0),i.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},i.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!i.props.isDisabled){var p=i.props,f=p.isMulti,h=p.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!f}),i.onMenuClose()):i.openMenu("first"),c.preventDefault()}},i.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(i.clearValue(),c.preventDefault(),i.openAfterFocus=!1,c.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(c){typeof i.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Br(c.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(c)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(c){var p=c.touches,f=p&&p.item(0);f&&(i.initialTouchX=f.clientX,i.initialTouchY=f.clientY,i.userIsDragging=!1)},i.onTouchMove=function(c){var p=c.touches,f=p&&p.item(0);if(f){var h=Math.abs(f.clientX-i.initialTouchX),b=Math.abs(f.clientY-i.initialTouchY),S=5;i.userIsDragging=h>S||b>S}},i.onTouchEnd=function(c){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(c.target)&&i.menuListRef&&!i.menuListRef.contains(c.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(c){i.userIsDragging||i.onControlMouseDown(c)},i.onClearIndicatorTouchEnd=function(c){i.userIsDragging||i.onClearIndicatorMouseDown(c)},i.onDropdownIndicatorTouchEnd=function(c){i.userIsDragging||i.onDropdownIndicatorMouseDown(c)},i.handleInputChange=function(c){var p=i.props.inputValue,f=c.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(f,{action:"input-change",prevInputValue:p}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(c){i.props.onFocus&&i.props.onFocus(c),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(c){var p=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(c),i.onInputChange("",{action:"input-blur",prevInputValue:p}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(c){if(!(i.blockOptionHover||i.state.focusedOption===c)){var p=i.getFocusableOptions(),f=p.indexOf(c);i.setState({focusedOption:c,focusedOptionId:f>-1?i.getFocusedOptionId(c):null})}},i.shouldHideSelectedOptions=function(){return kp(i.props)},i.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),i.focus()},i.onKeyDown=function(c){var p=i.props,f=p.isMulti,h=p.backspaceRemovesValue,b=p.escapeClearsValue,S=p.inputValue,I=p.isClearable,T=p.isDisabled,w=p.menuIsOpen,_=p.onKeyDown,A=p.tabSelectsValue,k=p.openMenuOnFocus,g=i.state,E=g.focusedOption,N=g.focusedValue,v=g.selectValue;if(!T&&!(typeof _=="function"&&(_(c),c.defaultPrevented))){switch(i.blockOptionHover=!0,c.key){case"ArrowLeft":if(!f||S)return;i.focusValue("previous");break;case"ArrowRight":if(!f||S)return;i.focusValue("next");break;case"Delete":case"Backspace":if(S)return;if(N)i.removeValue(N);else{if(!h)return;f?i.popValue():I&&i.clearValue()}break;case"Tab":if(i.isComposing||c.shiftKey||!w||!A||!E||k&&i.isOptionSelected(E,v))return;i.selectOption(E);break;case"Enter":if(c.keyCode===229)break;if(w){if(!E||i.isComposing)return;i.selectOption(E);break}return;case"Escape":w?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:S}),i.onMenuClose()):I&&b&&i.clearValue();break;case" ":if(S)return;if(!w){i.openMenu("first");break}if(!E)return;i.selectOption(E);break;case"ArrowUp":w?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":w?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!w)return;i.focusOption("pageup");break;case"PageDown":if(!w)return;i.focusOption("pagedown");break;case"Home":if(!w)return;i.focusOption("first");break;case"End":if(!w)return;i.focusOption("last");break;default:return}c.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++s_),i.state.selectValue=Pd(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),m=i.buildFocusableOptions(),u=m.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=m[u],i.state.focusedOptionId=gi(o,m[u])}return i}return Cf(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Id(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var o=this.props,m=o.isDisabled,u=o.menuIsOpen,c=this.state.isFocused;(c&&!m&&i.isDisabled||c&&u&&!i.menuIsOpen)&&this.focusInput(),c&&m&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!m&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Id(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,m=this.state,u=m.selectValue,c=m.isFocused,p=this.buildFocusableOptions(),f=i==="first"?0:p.length-1;if(!this.props.isMulti){var h=p.indexOf(u[0]);h>-1&&(f=h)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[f],focusedOptionId:this.getFocusedOptionId(p[f])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,m=o.selectValue,u=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=m.indexOf(u);u||(c=-1);var p=m.length-1,f=-1;if(m.length){switch(i){case"previous":c===0?f=0:c===-1?f=p:f=c-1;break;case"next":c>-1&&c<p&&(f=c+1);break}this.setState({inputIsHidden:f!==-1,focusedValue:m[f]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,m=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var c=0,p=u.indexOf(m);m||(p=-1),i==="up"?c=p>0?p-1:u.length-1:i==="down"?c=(p+1)%u.length:i==="pageup"?(c=p-o,c<0&&(c=0)):i==="pagedown"?(c=p+o,c>u.length-1&&(c=u.length-1)):i==="last"&&(c=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(fi):ze(ze({},fi),this.props.theme):fi}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,m=this.getStyles,u=this.getClassNames,c=this.getValue,p=this.selectOption,f=this.setValue,h=this.props,b=h.isMulti,S=h.isRtl,I=h.options,T=this.hasValue();return{clearValue:i,cx:o,getStyles:m,getClassNames:u,getValue:c,hasValue:T,isMulti:b,isRtl:S,options:I,selectOption:p,selectProps:h,setValue:f,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,m=i.isMulti;return o===void 0?m:o}},{key:"isOptionDisabled",value:function(i,o){return wp(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return Np(this.props,i,o)}},{key:"filterOption",value:function(i,o){return _p(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var m=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:m,selectValue:u})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,m=i.isSearchable,u=i.inputId,c=i.inputValue,p=i.tabIndex,f=i.form,h=i.menuIsOpen,b=i.required,S=this.getComponents(),I=S.Input,T=this.state,w=T.inputIsHidden,_=T.ariaSelection,A=this.commonProps,k=u||this.getElementId("input"),g=ze(ze(ze({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":b,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!m&&{"aria-readonly":!0}),this.hasValue()?(_==null?void 0:_.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return m?l.createElement(I,We({},A,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:k,innerRef:this.getInputRef,isDisabled:o,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:f,type:"text",value:c},g)):l.createElement(PN,We({id:k,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:ur,onFocus:this.onInputFocus,disabled:o,tabIndex:p,inputMode:"none",form:f,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),m=o.MultiValue,u=o.MultiValueContainer,c=o.MultiValueLabel,p=o.MultiValueRemove,f=o.SingleValue,h=o.Placeholder,b=this.commonProps,S=this.props,I=S.controlShouldRenderValue,T=S.isDisabled,w=S.isMulti,_=S.inputValue,A=S.placeholder,k=this.state,g=k.selectValue,E=k.focusedValue,N=k.isFocused;if(!this.hasValue()||!I)return _?null:l.createElement(h,We({},b,{key:"placeholder",isDisabled:T,isFocused:N,innerProps:{id:this.getElementId("placeholder")}}),A);if(w)return g.map(function(d,y){var M=d===E,C="".concat(i.getOptionLabel(d),"-").concat(i.getOptionValue(d));return l.createElement(m,We({},b,{components:{Container:u,Label:c,Remove:p},isFocused:M,isDisabled:T,key:C,index:y,removeProps:{onClick:function(){return i.removeValue(d)},onTouchEnd:function(){return i.removeValue(d)},onMouseDown:function(L){L.preventDefault()}},data:d}),i.formatOptionLabel(d,"value"))});if(_)return null;var v=g[0];return l.createElement(f,We({},b,{data:v,isDisabled:T}),this.formatOptionLabel(v,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,m=this.commonProps,u=this.props,c=u.isDisabled,p=u.isLoading,f=this.state.isFocused;if(!this.isClearable()||!o||c||!this.hasValue()||p)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return l.createElement(o,We({},m,{innerProps:h,isFocused:f}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,m=this.commonProps,u=this.props,c=u.isDisabled,p=u.isLoading,f=this.state.isFocused;if(!o||!p)return null;var h={"aria-hidden":"true"};return l.createElement(o,We({},m,{innerProps:h,isDisabled:c,isFocused:f}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,m=i.IndicatorSeparator;if(!o||!m)return null;var u=this.commonProps,c=this.props.isDisabled,p=this.state.isFocused;return l.createElement(m,We({},u,{isDisabled:c,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var m=this.commonProps,u=this.props.isDisabled,c=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return l.createElement(o,We({},m,{innerProps:p,isDisabled:u,isFocused:c}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),m=o.Group,u=o.GroupHeading,c=o.Menu,p=o.MenuList,f=o.MenuPortal,h=o.LoadingMessage,b=o.NoOptionsMessage,S=o.Option,I=this.commonProps,T=this.state.focusedOption,w=this.props,_=w.captureMenuScroll,A=w.inputValue,k=w.isLoading,g=w.loadingMessage,E=w.minMenuHeight,N=w.maxMenuHeight,v=w.menuIsOpen,d=w.menuPlacement,y=w.menuPosition,M=w.menuPortalTarget,C=w.menuShouldBlockScroll,x=w.menuShouldScrollIntoView,L=w.noOptionsMessage,F=w.onMenuScrollToTop,O=w.onMenuScrollToBottom;if(!v)return null;var $=function(q,D){var V=q.type,j=q.data,U=q.isDisabled,Z=q.isSelected,Y=q.label,X=q.value,ae=T===j,he=U?void 0:function(){return i.onOptionHover(j)},te=U?void 0:function(){return i.selectOption(j)},G="".concat(i.getElementId("option"),"-").concat(D),fe={id:G,onClick:te,onMouseMove:he,onMouseOver:he,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Z};return l.createElement(S,We({},I,{innerProps:fe,data:j,isDisabled:U,isSelected:Z,key:G,label:Y,type:V,value:X,isFocused:ae,innerRef:ae?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(q.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(W){if(W.type==="group"){var q=W.data,D=W.options,V=W.index,j="".concat(i.getElementId("group"),"-").concat(V),U="".concat(j,"-heading");return l.createElement(m,We({},I,{key:j,data:q,options:D,Heading:u,headingProps:{id:U,data:W.data},label:i.formatGroupLabel(W.data)}),W.options.map(function(Z){return $(Z,"".concat(V,"-").concat(Z.index))}))}else if(W.type==="option")return $(W,"".concat(W.index))});else if(k){var R=g({inputValue:A});if(R===null)return null;B=l.createElement(h,I,R)}else{var P=L({inputValue:A});if(P===null)return null;B=l.createElement(b,I,P)}var z={minMenuHeight:E,maxMenuHeight:N,menuPlacement:d,menuPosition:y,menuShouldScrollIntoView:x},H=l.createElement(o4,We({},I,z),function(W){var q=W.ref,D=W.placerProps,V=D.placement,j=D.maxHeight;return l.createElement(c,We({},I,z,{innerRef:q,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:k,placement:V}),l.createElement(BN,{captureEnabled:_,onTopArrive:F,onBottomArrive:O,lockEnabled:C},function(U){return l.createElement(p,We({},I,{innerRef:function(Y){i.getMenuListRef(Y),U(Y)},innerProps:{role:"listbox","aria-multiselectable":I.isMulti,id:i.getElementId("listbox")},isLoading:k,maxHeight:j,focusedOption:T}),B)}))});return M||y==="fixed"?l.createElement(f,We({},I,{appendTo:M,controlElement:this.controlRef,menuPlacement:d,menuPosition:y}),H):H}},{key:"renderFormField",value:function(){var i=this,o=this.props,m=o.delimiter,u=o.isDisabled,c=o.isMulti,p=o.name,f=o.required,h=this.state.selectValue;if(f&&!this.hasValue()&&!u)return l.createElement(jN,{name:p,onFocus:this.onValueInputFocus});if(!(!p||u))if(c)if(m){var b=h.map(function(T){return i.getOptionValue(T)}).join(m);return l.createElement("input",{name:p,type:"hidden",value:b})}else{var S=h.length>0?h.map(function(T,w){return l.createElement("input",{key:"i-".concat(w),name:p,type:"hidden",value:i.getOptionValue(T)})}):l.createElement("input",{name:p,type:"hidden",value:""});return l.createElement("div",null,S)}else{var I=h[0]?this.getOptionValue(h[0]):"";return l.createElement("input",{name:p,type:"hidden",value:I})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,m=o.ariaSelection,u=o.focusedOption,c=o.focusedValue,p=o.isFocused,f=o.selectValue,h=this.getFocusableOptions();return l.createElement(kN,We({},i,{id:this.getElementId("live-region"),ariaSelection:m,focusedOption:u,focusedValue:c,isFocused:p,selectValue:f,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,m=i.IndicatorsContainer,u=i.SelectContainer,c=i.ValueContainer,p=this.props,f=p.className,h=p.id,b=p.isDisabled,S=p.menuIsOpen,I=this.state.isFocused,T=this.commonProps=this.getCommonProps();return l.createElement(u,We({},T,{className:f,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:b,isFocused:I}),this.renderLiveRegion(),l.createElement(o,We({},T,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:b,isFocused:I,menuIsOpen:S}),l.createElement(c,We({},T,{isDisabled:b}),this.renderPlaceholderOrValue(),this.renderInput()),l.createElement(m,We({},T,{isDisabled:b}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var m=o.prevProps,u=o.clearFocusValueOnUpdate,c=o.inputIsHiddenAfterUpdate,p=o.ariaSelection,f=o.isFocused,h=o.prevWasFocused,b=o.instancePrefix,S=i.options,I=i.value,T=i.menuIsOpen,w=i.inputValue,_=i.isMulti,A=Pd(I),k={};if(m&&(I!==m.value||S!==m.options||T!==m.menuIsOpen||w!==m.inputValue)){var g=T?t_(i,A):[],E=T?Wd(Ks(i,A),"".concat(b,"-option")):[],N=u?a_(o,A):null,v=n_(o,g),d=gi(E,v);k={selectValue:A,focusedOption:v,focusedOptionId:d,focusableOptionsWithIds:E,focusedValue:N,clearFocusValueOnUpdate:!1}}var y=c!=null&&i!==m?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},M=p,C=f&&h;return f&&!C&&(M={value:Rs(_,A,A[0]||null),options:A,action:"initial-input-focus"},C=!h),(p==null?void 0:p.action)==="initial-input-focus"&&(M=null),ze(ze(ze({},k),y),{},{prevProps:i,ariaSelection:M,prevWasFocused:C})}}]),n}(l.Component);Cp.defaultProps=e_;var r_=l.forwardRef(function(t,a){var n=jw(t);return l.createElement(Cp,We({ref:a},n))}),rt=r_;const jt=({className:t,fill:a=!1,duotone:n=!0})=>e(J,{children:a?s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M12.4044 8.30273L15.8351 11.6296C16.0549 11.8428 16.0549 12.1573 15.8351 12.3704L9.20467 18.8001C8.79094 19.2013 8 18.9581 8 18.4297V12.7071L12.4044 8.30273Z",fill:"currentColor"}),e("path",{opacity:n?"0.5":"1",d:"M8 11.2929L8 5.5703C8 5.04189 8.79094 4.79869 9.20467 5.1999L11.6864 7.60648L8 11.2929Z",fill:"currentColor"})]}):e("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e("path",{d:"M19 9L12 15L5 9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})});function i_({referredData:t}){const a=_e(n=>n.themeConfig.rtlClass)==="rtl";return e("div",{children:s("div",{className:"flex flex-col h-screen overflow-hidden py-4",children:[s("div",{className:"w-full text-center",children:[e("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4 px-4",children:e("div",{className:"ltr:mr-3 rtl:ml-3 flex items-center",children:s("h5",{className:"font-semibold text-lg dark:text-white-light",children:["  Referred Client (",e("span",{children:t==null?void 0:t.owner})," - ",t==null?void 0:t.updated_at,")"]})})}),e("hr",{className:"mt-4 dark:border-[#191e3a]"})]}),s("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5 px-2",children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{children:[e("label",{children:"Lead Owner "}),e("input",{type:"text",name:"user_id",value:t==null?void 0:t.owner,placeholder:"Lead Owner Name",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"First Name"}),e("input",{type:"text",name:"first_name",value:t==null?void 0:t.first_name,placeholder:"Enter First Name",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Last Name"}),e("input",{type:"text",name:"last_name",value:t==null?void 0:t.last_name,placeholder:"Enter Last Name",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Lead Mobile Number"}),e("input",{type:"tel",name:"phone",value:t==null?void 0:t.phone,placeholder:"Enter Lead Mobile Number",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Alternative Mobile Number"}),e("input",{type:"tel",name:"second_phone",value:t==null?void 0:t.second_phone,placeholder:"Enter Lead Mobile Number",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Lead Email"}),e("input",{type:"email",name:"email",value:t==null?void 0:t.email,placeholder:"Enter Lead Email Address",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Lead Status"}),e("select",{name:"status",className:"form-select text-white-dark bg-danger/10",disabled:!0,value:t==null?void 0:t.owner,children:e("option",{value:"",children:t==null?void 0:t.owner})})]}),s("div",{children:[e("label",{children:"Lead Source"}),e("input",{name:"source",type:"text",value:t==null?void 0:t.source,placeholder:"Enter Lead Mobile Number",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"State"}),e("select",{name:"state",className:"form-select text-white-dark bg-danger/10",disabled:!0,value:t==null?void 0:t.owner,children:e("option",{value:"",children:t==null?void 0:t.state})})]}),s("div",{children:[e("label",{children:"City"}),e("input",{name:"city",type:"text",value:t==null?void 0:t.city,placeholder:"Enter City",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Followup Date"}),e(Je,{name:"followup",value:t==null?void 0:t.followup,options:{dateFormat:"Y-m-d",position:a?"auto right":"auto left"},className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"First Free Trial"}),e(Je,{name:"first_trial",value:t==null?void 0:t.first_trial,options:{dateFormat:"Y-m-d",position:a?"auto right":"auto left"},className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Second Free Trial"}),e(Je,{name:"second_trial",value:t==null?void 0:t.second_trial,options:{dateFormat:"Y-m-d",position:a?"auto right":"auto left"},className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Investment Size"}),e("select",{name:"invest",value:t==null?void 0:t.invest,className:"form-select text-white-dark bg-danger/10",disabled:!0,children:e("option",{value:"",children:t==null?void 0:t.invest})})]}),s("div",{children:[e("label",{children:"Lot Size"}),e("select",{name:"lot_size",value:t==null?void 0:t.lot_size,className:"form-select text-white-dark bg-danger/10",disabled:!0,children:e("option",{value:"",children:t==null?void 0:t.lot_size})})]}),s("div",{children:[e("label",{children:"DND Status"}),e("select",{name:"dnd",value:t==null?void 0:t.dnd,className:"form-select text-white-dark bg-danger/10",disabled:!0,children:e("option",{value:"",children:t==null?void 0:t.dnd})})]}),s("div",{children:[e("label",{children:"Products"}),e("select",{name:"products",value:t==null?void 0:t.products,className:"form-select text-white-dark bg-danger/10",disabled:!0,children:e("option",{value:"",children:t==null?void 0:t.products})})]})]}),e("div",{className:"mt-4 mb-2",children:s("div",{className:"flex",children:[e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b] whitespace-nowrap",children:"Description"}),e("textarea",{name:"desc",rows:4,className:"form-textarea ltr:rounded-l-none rtl:rounded-r-none bg-danger/10",disabled:!0,children:t==null?void 0:t.desc})]})})]})]})})}function l_({showAllReferClientDrawer:t,setShowReferClientDrawer:a,referClient:n,tab:r,referredData:i}){return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""}  bg-white fixed ltr:-right-[900px] rtl:-left-[900px] top-0 bottom-0 w-full max-w-[700px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:r=="view-referred-client"?s("div",{className:"flex flex-col h-screen overflow-hidden py-4",children:[s("div",{className:"w-full text-center",children:[e("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4 px-4",children:e("div",{className:"ltr:mr-3 rtl:ml-3 flex items-center",children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:" All Referred Clients"})})}),e("hr",{className:"mt-4 dark:border-[#191e3a]"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar py-6 px-4",children:e("div",{className:"gap-6 w-full",children:n.map(o=>s("div",{className:" py-1.5 relative group",children:[s("div",{className:"flex items-center  relative group",children:[e("div",{className:"flex-1",children:o.client}),e("div",{className:"ltr:ml-auto rtl:mr-auto text-xs text-dark dark:text-gray-500",children:o.phone})]}),e("div",{className:"flex items-center",children:s("div",{className:"ltr:ml-auto rtl:mr-auto text-xs text-dark dark:text-gray-500",children:["Refered by:",o.owner]})}),e("hr",{})]}))})})]}):e(i_,{referredData:i})})]})}function o_({showAllTransferClientDrawer:t,setShowAllTransferClientDrawer:a,transferClient:n,setTransferClient:r,data:i}){const o=_e(I=>I.themeConfig.rtlClass)==="rtl",m=ve(),{crmToken:u,apiUrl:c}=ee(),[p,f]=l.useState(!1),h=async I=>{var w;f(!0),console.log("Fetching Leads Approved data");try{const _=await K({method:"post",url:c+"/api/approved-transfer-lead",data:I,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+u}});_.data.status=="success"?(b("Message Sent"),a(!1)):alert(_.data.message)}catch(_){if(console.log(_),_.response.status==401&&m(at("")),((w=_==null?void 0:_.response)==null?void 0:w.status)===422){const A=_.response.data.errors;let k={};for(var T in A)k={...k,[T]:A[T][0]},console.log(A[T][0]);re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{f(!1)}},b=(I="",T="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:T,title:I,padding:"10px 20px"})},S=()=>{const I=new FormData;I.append("transfer_lead_id",i.transfer_lead_id),I.append("action",1),h(I)};return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""}  bg-white fixed ltr:-right-[900px] rtl:-left-[900px] top-0 bottom-0 w-full max-w-[800px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden py-4",children:[s("div",{className:"w-full text-center",children:[s("div",{className:"p-1 flex justify-between sm:flex-row flex-col w-full sm:items-center gap-4 px-4",children:[e("div",{className:"ltr:mr-3 rtl:ml-3 flex items-center",children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"  Transferred Client "})}),e("button",{type:"button",onClick:()=>{S()},className:"btn btn-primary",children:"Approve Transfer Data"})]}),e("hr",{className:"mt-4 dark:border-[#191e3a]"})]}),s("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5 px-2",children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{children:[e("label",{children:"Lead Owner "}),e("input",{type:"text",name:"user_id",defaultValue:i.owner,placeholder:"Lead Owner Name",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"First Name"}),e("input",{type:"text",name:"first_name",defaultValue:i.first_name,placeholder:"Enter First Name",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Last Name"}),e("input",{type:"text",name:"last_name",defaultValue:i.last_name,placeholder:"Enter Last Name",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Lead Mobile Number"}),e("input",{type:"tel",name:"phone",defaultValue:i.phone,placeholder:"Enter Lead Mobile Number",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Alternative Mobile Number"}),e("input",{type:"tel",name:"second_phone",defaultValue:i.second_phone,placeholder:"Enter Lead Mobile Number",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Lead Email"}),e("input",{type:"email",name:"email",defaultValue:i.email,placeholder:"Enter Lead Email Address",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"Lead Status"}),e("select",{name:"status",className:"form-select text-white-dark",defaultValue:i.status,disabled:i.status=="Closed Won",children:e("option",{defaultValue:"",children:i.status})})]}),s("div",{children:[e("label",{children:"Lead Source"}),e("input",{name:"source",type:"text",defaultValue:i.source,placeholder:"Enter Lead Mobile Number",className:"form-input bg-danger/10",disabled:!0})]}),s("div",{children:[e("label",{children:"State"}),e("select",{name:"state",className:"form-select text-white-dark",defaultValue:i.state,children:e("option",{defaultValue:"",children:i.state})})]}),s("div",{children:[e("label",{children:"City"}),e("input",{name:"city",type:"text",defaultValue:i.city,placeholder:"Enter City",className:"form-input"})]}),s("div",{children:[e("label",{children:"Followup Date"}),e(Je,{name:"followup",defaultValue:i.followup,options:{dateFormat:"Y-m-d",position:o?"auto right":"auto left"},className:"form-input"})]}),s("div",{children:[e("label",{children:"First Free Trial"}),e(Je,{name:"first_trial",defaultValue:i.first_trial,options:{dateFormat:"Y-m-d",position:o?"auto right":"auto left"},className:"form-input"})]}),s("div",{children:[e("label",{children:"Second Free Trial"}),e(Je,{name:"second_trial",defaultValue:i.second_trial,options:{dateFormat:"Y-m-d",position:o?"auto right":"auto left"},className:"form-input"})]}),s("div",{children:[e("label",{children:"Investment Size"}),e("select",{name:"invest",defaultValue:i.invest,className:"form-select text-white-dark",children:e("option",{children:i.invest})})]}),s("div",{children:[e("label",{children:"Lot Size"}),e("select",{name:"lot_size",defaultValue:i.lot_size,className:"form-select text-white-dark",children:e("option",{children:i.lot_size})})]}),s("div",{children:[e("label",{children:"DND Status"}),e("select",{name:"dnd",defaultValue:i.dnd,className:"form-select text-white-dark",children:e("option",{children:i.dnd})})]}),s("div",{children:[e("label",{children:"Products"}),e("select",{name:"products",defaultValue:i.products,className:"form-select text-white-dark",children:e("option",{children:i.products})})]})]}),e("div",{className:"mt-4 mb-2",children:s("div",{className:"flex",children:[e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b] whitespace-nowrap",children:"Description"}),e("textarea",{name:"desc",rows:4,className:"form-textarea ltr:rounded-l-none rtl:rounded-r-none",defaultValue:i.desc})]})})]})]})})]})}function xs({children:t}){var te,G,fe,ne,pe,ue;const{logout:a,authUser:n,settingData:r,crmToken:i,apiUrl:o}=ee(),m=_e(le=>le.themeConfig.leadRequestCount),u=ve();l.useState(!1);const[c,p]=l.useState(""),f=le=>{p(Ce=>Ce===le?"":le)};l.useEffect(()=>{c&&S()},[c]);const[h,b]=l.useState(!1),S=async()=>{console.log("Fetching Left nav data for "+c),b(!0);try{const le=await K({method:"get",url:o+"/api/lef-nav-data",params:{action:c},headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});le.data.status=="success"?F(le.data):alert("error")}catch(le){le.response.status==401&&u(at(""))}finally{b(!1)}},[I,T]=l.useState([]),[w,_]=l.useState([]),[A,k]=l.useState([]),[g,E]=l.useState([]),[N,v]=l.useState([]),[d,y]=l.useState([]),[M,C]=l.useState([]),[x,L]=l.useState([]),F=le=>{le.action=="lead-upload"?T(le.data):le.action=="recent-activity"?_(le.data):le.action=="month-sale"?k(le.data):le.action=="refer-client"?E(le.data):le.action=="calls-details"?y(le.data):le.action=="sales-details"?C(le.data):le.action=="transfer-clients"?v(le.data):le.action=="lead-request"&&(L(le.data),u(Si(le.data.length)))},[O,$]=l.useState(!1),B=g.slice(0,10),[R,P]=l.useState(!1),[z,H]=l.useState(!1),[W,q]=l.useState([]),D=le=>{q(le),H(!0)},[V,j]=l.useState(""),[U,Z]=l.useState(""),Y=le=>{P(!0),Z(le),j("view-referred-client")},X=le=>{E(le),P(!0),j("referred-client-lead-data")},ae=le=>{re.fire({title:"Cancel Request?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Cancel Now",cancelButtonText:"No",padding:"2em",customClass:"sweet-alerts",preConfirm:async()=>{try{const Ce=await K({method:"post",url:o+"/api/cancel-lead-request",data:{id:le.id},headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});Ce.data.status=="success"?(L(x.filter(Be=>Be.id!=le.id)),u(Si(m-1))):alert(Ce.data.message)}catch(Ce){console.log(Ce)}}})},he={position:"sticky",bottom:"0px",backgroundColor:"rgb(33, 150, 243)",color:"#fff",borderRadius:"5px",padding:2,cursor:"pointer",zIndex:1e3,textAlign:"center"};return s("div",{className:"flex relative  h-full sm:min-h-0 ",children:[s("div",{className:"panel p-2 w-[275px] mr-2",children:[n.user_type=="Admin"?s(J,{children:[s("div",{className:"border border-[#d3d3d3] dark:border-[#1b2e4b]  rounded  mb-2",children:[s("button",{type:"button",className:"p-4 w-full flex items-center dark:text-[#bfc9d4] text-dark dark:text-[#bfc9d4] dark:bg-[#1b2e4b] ",onClick:()=>f("lead-request"),children:["Lead Requests",e("div",{className:"ltr:ml-auto rtl:mr-auto ",children:e(Ig,{size:20})})]}),e("div",{children:e(_t,{duration:300,height:c==="lead-request"?"auto":0,children:e("div",{className:" text-[13px] border-t border-[#d3d3d3] dark:border-[#1b2e4b]",children:e(qe,{className:"relative ",children:h&&c=="lead-request"?e(be,{}):e(J,{children:x.length?e("div",{className:"text-sm cursor-pointer",children:e("div",{className:"table-responsive",children:s("table",{children:[e("thead",{children:s("tr",{children:[e("th",{children:"User"}),e("th",{children:"State"}),e("th",{children:"Count"})]})}),e("tbody",{children:x.map((le,Ce)=>s("tr",{onClick:()=>ae(le),children:[e("td",{children:s("div",{className:"whitespace-nowrap",children:[le.first_name," ",le.last_name]})}),e("td",{children:le.state}),e("td",{children:le.count})]},Ce))})]})})}):e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Request Found!"})})})})})})})})]}),s("div",{className:"border border-[#d3d3d3] rounded dark:border-[#1b2e4b]  mb-2",children:[s("button",{type:"button",className:`p-4 w-full flex items-center dark:text-[#bfc9d4] text-dark dark:text-[#bfc9d4] dark:bg-[#1b2e4b] ${c==="lead-upload"?"!text-primary":""}`,onClick:()=>f("lead-upload"),children:["Leads Uploaded Activities",e("div",{className:`ltr:ml-auto rtl:mr-auto ${c==="lead-upload"?"rotate-180":""}`,children:e(jt,{})})]}),e("div",{children:e(_t,{duration:300,height:c==="lead-upload"?"auto":0,children:e("div",{className:"space-y-2 p-4 text-dark dark:text-[#bfc9d4] text-[13px] border-t border-[#d3d3d3] dark:border-[#1b2e4b]",children:e(qe,{className:"relative h-[100px] ltr:pr-3 rtl:pl-3 ltr:-mr-3 rtl:-ml-3 mb-4",children:h&&c=="lead-upload"?e(be,{}):e("div",{className:"text-sm cursor-pointer",children:I.map(le=>e(lt,{placement:"right",content:`Inseted: ${le.inserted}  Duplicate: ${le.duplicate} Invalid: ${le.invalid}`,children:s("div",{className:"flex items-center py-1.5 relative group",children:[e("div",{className:"flex-1",children:le.unique_id}),e("div",{className:"ltr:ml-auto rtl:mr-auto text-xs text-dark dark:text-[#bfc9d4] dark:text-gray-500",children:le.created_at})]})},le.id))})})})})})]})]}):null,s("div",{className:"border border-[#d3d3d3] dark:border-[#1b2e4b] rounded mb-2",children:[s("button",{type:"button",className:"p-4 w-full flex items-center text-dark dark:text-[#bfc9d4] dark:bg-[#1b2e4b] ",onClick:()=>f("month-sale"),children:["Last 4 Month Sales",e("div",{className:"ltr:ml-auto rtl:mr-auto ",children:e(jt,{})})]}),e("div",{children:e(_t,{duration:300,height:c==="month-sale"?"auto":0,children:e("div",{className:"p-4 text-[13px] border-t border-[#d3d3d3] dark:border-[#1b2e4b]",children:e(qe,{className:"relative h-[160px] ltr:pr-3 rtl:pl-3 ltr:-mr-3 rtl:-ml-3 mb-4",children:h&&c=="month-sale"?e(be,{}):e("div",{className:"text-sm cursor-pointer",children:A.map((le,Ce)=>s("div",{className:"flex items-center py-1.5 relative group",children:[e("div",{className:"flex-1",children:le.month}),s("div",{className:"ltr:ml-auto rtl:mr-auto text-xs text-dark dark:text-[#bfc9d4] dark:text-gray-500",children:["₹",le.amount]})]},Ce))})})})})})]}),s("div",{className:"border border-[#d3d3d3] dark:border-[#1b2e4b] rounded  mb-2",children:[s("button",{type:"button",className:"p-4 w-full flex items-center text-dark dark:text-[#bfc9d4] dark:bg-[#1b2e4b] ",onClick:()=>f("calls-details"),children:["Call Details",e("div",{className:"ltr:ml-auto rtl:mr-auto ",children:e(jt,{})})]}),e("div",{children:e(_t,{duration:300,height:c==="calls-details"?"auto":0,children:e("div",{className:"p-1 text-[13px] border-t border-[#d3d3d3] dark:border-[#1b2e4b]",children:h&&c=="calls-details"?e(be,{}):e("div",{className:"table-responsive mb-5",children:s("table",{children:[e("thead",{children:s("tr",{children:[e("th",{children:"Value"}),e("th",{children:"Daily"}),e("th",{children:"Monthly"})]})}),s("tbody",{children:[s("tr",{children:[e("td",{children:e("div",{className:"whitespace-nowrap",children:"Calls"})}),e("td",{children:(te=d.calls)==null?void 0:te.daily}),e("td",{children:(G=d.calls)==null?void 0:G.monthly})]}),s("tr",{children:[e("td",{children:e("div",{className:"whitespace-nowrap",children:"Free Trial"})}),e("td",{children:(fe=d.freeTrail)==null?void 0:fe.daily}),e("td",{children:(ne=d.freeTrail)==null?void 0:ne.monthly})]}),s("tr",{children:[e("td",{children:e("div",{className:"whitespace-nowrap",children:"Follow Up"})}),e("td",{children:(pe=d.followUp)==null?void 0:pe.daily}),e("td",{children:(ue=d.followUp)==null?void 0:ue.monthly})]})]})]})})})})})]}),s("div",{className:"border border-[#d3d3d3] dark:border-[#1b2e4b] rounded  mb-2",children:[s("button",{type:"button",className:"p-4 w-full flex items-center text-dark dark:text-[#bfc9d4] dark:bg-[#1b2e4b] ",onClick:()=>f("sales-details"),children:["Sales Details",e("div",{className:"ltr:ml-auto rtl:mr-auto ",children:e(jt,{})})]}),e("div",{children:e(_t,{duration:300,height:c==="sales-details"?"auto":0,children:e("div",{className:"p-1 text-[13px] border-t border-[#d3d3d3] dark:border-[#1b2e4b]",children:h&&c=="sales-details"?e(be,{}):e("div",{className:"table-responsive mb-5",children:s("table",{children:[e("thead",{children:s("tr",{children:[e("th",{children:"Name"}),e("th",{children:"Amount"}),e("th",{children:"Status"})]})}),e("tbody",{children:M.map(le=>s("tr",{children:[e("td",{children:e("div",{className:"whitespace-nowrap",children:le.name})}),s("td",{children:["₹",le.amount]}),e("td",{children:le.status})]},le.id))})]})})})})})]}),(r==null?void 0:r.transfer_permission)==1&&(n==null?void 0:n.user_type)==="Admin"&&s("div",{className:"border border-[#d3d3d3] dark:border-[#1b2e4b] rounded  mb-2",children:[s("button",{type:"button",className:"p-4 w-full flex items-center text-dark dark:text-[#bfc9d4] dark:bg-[#1b2e4b] ",onClick:()=>f("transfer-clients"),children:["Transfer Clients",e("div",{className:"ltr:ml-auto rtl:mr-auto ",children:e(jt,{})})]}),e("div",{children:e(_t,{duration:300,height:c==="transfer-clients"?"auto":0,children:e("div",{className:"p-4 text-[13px] border-t border-[#d3d3d3] dark:border-[#1b2e4b]",children:e(qe,{className:"relative h-[160px] ltr:pr-3 rtl:pl-3 ltr:-mr-3 rtl:-ml-3 mb-4",children:h&&c=="transfer-clients"?e(be,{}):s("div",{className:"text-sm cursor-pointer",children:[e("div",{className:"text-sm cursor-pointer",children:N==null?void 0:N.map(le=>s("div",{className:" py-1.5 relative group",onClick:()=>{D(le)},children:[s("div",{className:"flex items-center  relative group",children:[e("div",{className:"flex-1",children:le.first_name}),e("div",{className:"ltr:ml-auto rtl:mr-auto text-xs text-dark dark:text-[#bfc9d4] dark:text-gray-500",children:le.phone})]}),e("div",{className:"flex items-center",children:s("div",{className:"ltr:ml-auto rtl:mr-auto text-xs text-dark dark:text-[#bfc9d4] dark:text-gray-500",children:["Transferred by:",le.owner]})}),e("hr",{})]},le.id))}),e(o_,{showAllTransferClientDrawer:z,setShowAllTransferClientDrawer:H,transferClient:N,setTransferClient:v,data:W})]})})})})})]}),(r==null?void 0:r.refer_permission)==1&&s("div",{className:"border border-[#d3d3d3] dark:border-[#1b2e4b] rounded  mb-2",children:[s("button",{type:"button",className:"p-4 w-full flex items-center text-dark dark:text-[#bfc9d4] dark:bg-[#1b2e4b] ",onClick:()=>f("refer-client"),children:["Refer Clients",e("div",{className:"ltr:ml-auto rtl:mr-auto ",children:e(jt,{})})]}),e("div",{children:e(_t,{duration:300,height:c==="refer-client"?"auto":0,children:e("div",{className:"p-4 text-[13px] border-t border-[#d3d3d3] dark:border-[#1b2e4b]",children:e(qe,{className:"relative h-[160px] ltr:pr-3 rtl:pl-3 ltr:-mr-3 rtl:-ml-3 mb-4",children:h&&c=="refer-client"?e(be,{}):s("div",{className:"text-sm cursor-pointer",children:[(O?g:B).map(le=>s("div",{className:" py-1.5 relative group",onClick:()=>{Y(le),j("referred-client-lead-data")},children:[s("div",{className:"flex items-center  relative group",children:[e("div",{className:"flex-1",children:le.client}),e("div",{className:"ltr:ml-auto rtl:mr-auto text-xs text-dark dark:text-[#bfc9d4] dark:text-gray-500",children:le.phone})]}),e("div",{className:"flex items-center",children:s("div",{className:"ltr:ml-auto rtl:mr-auto text-xs text-dark dark:text-[#bfc9d4] dark:text-gray-500",children:["Refered by:",le.owner]})}),e("hr",{})]},le.id)),g.length>10&&e("div",{style:he,onClick:()=>{X(g),j("view-referred-client")},children:"View All"}),e(l_,{showAllReferClientDrawer:R,setShowReferClientDrawer:P,referClient:g,setReferClient:E,tab:V,referredData:U})]})})})})})]})]}),t]})}const c_=()=>{const{logout:t,crmToken:a,authUser:n,apiUrl:r}=ee(),i=Re();St();const o=ve(),[m,u]=l.useState(!0),[c,p]=l.useState(null);l.useEffect(()=>{a?(o(Se("Add Lead")),I()):i("/")},[]);const[f,h]=l.useState([]),[b,S]=l.useState([]),I=async()=>{var L,F;console.log("Fetching Data for Create Lead"),u(!0),p(null);try{const O=await K({method:"get",url:r+"/api/leads/create",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});O.data.status=="success"&&(h(O.data.dropdowns),S((L=O.data.dropdowns)==null?void 0:L.filter($=>$.type=="Lead Products")))}catch(O){console.log(O),p(O),((F=O==null?void 0:O.response)==null?void 0:F.status)==401&&t()}finally{u(!1)}},[T]=l.useState({user_id:"",first_name:"",last_name:"",phone:"",second_phone:"",email:"",status:"",invest:"",free_trial:"",followup:"",source:"",dnd:"",city:"",state:"",products:[],desc:"",lot_size:""}),[w,_]=l.useState(T),[A,k]=l.useState({}),[g,E]=l.useState(!1),N=L=>{const{value:F,name:O}=L.target;k({...A,[O]:""}),_({...w,[O]:F})},v=L=>L&&L.length?L.map(F=>({value:F,label:F})):[],d=()=>{k({});let L={};return!w.first_name&&w.status=="Closed Won"&&(L={...L,first_name:"first name is required"}),w.phone||(L={...L,phone:"phone number is required"}),w.status||(L={...L,status:"status is required"}),w.state||(L={...L,state:"status is required"}),w.status=="Free Trial"&&!w.free_trial&&(L={...L,free_trial:"First Free Trial date is mandatory"}),w.status=="Free Trial"&&!w.products.length&&(L={...L,products:"products is mandatory"}),w.status==="Follow Up"&&!w.followup&&(L={...L,followup:"Follow Up Date is mandatory"}),console.log(L),k(L),{totalErrors:Object.keys(L).length}},y=async L=>{var O,$,B;console.log("Sending Create Lead Data ..."),E(!0);try{const R=await K({method:"post",url:r+"/api/leads",data:L,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});R.data.status=="success"?(C(R.data.message),i("/leads/viewleads")):alert("Failed")}catch(R){if(console.log(R),((O=R==null?void 0:R.response)==null?void 0:O.status)==401&&t(),(($=R==null?void 0:R.response)==null?void 0:$.status)===422){const P=R.response.data.errors;let z={};for(var F in P)z={...z,[F]:P[F][0]},console.log(P[F][0]);k(z),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}else((B=R==null?void 0:R.response)==null?void 0:B.status)===500&&alert(R==null?void 0:R.message)}finally{E(!1)}},M=()=>{if(d().totalErrors)return!1;const F=new FormData;F.append("user_id",w.user_id),F.append("first_name",w.first_name),F.append("last_name",w.last_name),F.append("phone",w.phone),F.append("second_phone",w.second_phone),F.append("email",w.email),F.append("status",w.status),F.append("invest",w.invest),F.append("followup",w.status=="Follow Up"?w.followup:""),F.append("free_trial",w.status=="Free Trial"?w.free_trial:""),F.append("source",w.source),F.append("dnd",w.dnd),F.append("city",w.city),F.append("state",w.state),F.append("products",w.products.length?JSON.stringify(w.products):JSON.stringify([])),F.append("desc",w.desc),F.append("lot_size",w.lot_size),y(F)},C=(L="",F="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:F,title:L,padding:"10px 20px"})},x=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return e(xs,{children:e("div",{className:"p-0 flex-1 overflow-x-hidden h-full",children:m?e(be,{}):c?e(d_,{error:c,fetch:I}):e("div",{className:"flex flex-col h-full",children:s("div",{id:"forms_grid",className:"panel",children:[s("div",{className:"flex items-center justify-between mb-5",children:[s("h5",{className:"font-semibold text-lg dark:text-white-light",children:["Create New Leads (",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name,")"]}),e("button",{type:"button",className:"btn btn-primary",onClick:()=>M(),disabled:g,children:g?"Please Loading":"Submit"})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s("div",{children:[s("label",{children:["Lead Mobile Number ",e("span",{className:" text-red-600 text-[15px] ",children:"*"})]}),e("input",{type:"tel",max:10,name:"phone",value:w.phone,maxLength:10,onChange:L=>N(L),placeholder:"Enter Lead Mobile Number",className:"form-input"}),e("div",{className:"text-danger mt-1",children:A.phone})]}),s("div",{children:[e("label",{children:"Alternative Mobile Number"}),e("input",{type:"tel",max:10,name:"second_phone",value:w.second_phone,maxLength:10,onChange:L=>N(L),placeholder:"Enter Lead Mobile Number",className:"form-input"}),e("div",{className:"text-danger mt-1",children:A.second_phone})]}),s("div",{children:[e("label",{children:"First Name"}),e("input",{type:"text",name:"first_name",value:w.first_name,onChange:L=>N(L),placeholder:"Enter First Name",className:"form-input"}),e("div",{className:"text-danger mt-1",children:A.first_name})]}),s("div",{children:[e("label",{children:"Last Name"}),e("input",{type:"text",name:"last_name",value:w.last_name,onChange:L=>N(L),placeholder:"Enter Last Name",className:"form-input"}),e("div",{className:"text-danger mt-1",children:A.last_name})]}),s("div",{children:[e("label",{children:"Lead Email"}),e("input",{type:"email",name:"email",value:w.email,onChange:L=>N(L),placeholder:"Enter Lead Email Address",className:"form-input"}),e("div",{className:"text-danger mt-1",children:A.email})]}),s("div",{children:[s("label",{children:["Lead Status ",e("span",{className:" text-red-600 text-[15px] ",children:"*"})]}),s("select",{name:"status",className:"form-select text-white-dark",value:w.status,onChange:L=>N(L),children:[e("option",{children:"Choose..."}),f==null?void 0:f.filter(L=>L.type=="Lead Status").map(L=>e("option",{children:L.value},L.id))]}),e("div",{className:"text-danger mt-1",children:A.status})]}),s("div",{children:[e("label",{children:"Lead Source"}),e("input",{name:"source",type:"text",value:"Incoming",onChange:L=>N(L),className:"form-input bg-info-light",disabled:!0})]}),s("div",{children:[s("label",{children:["State ",e("span",{className:" text-red-600 text-[15px] ",children:"*"})]}),s("select",{name:"state",className:"form-select text-white-dark",value:w.state,onChange:L=>N(L),children:[e("option",{children:"Choose..."}),f==null?void 0:f.filter(L=>L.type=="State").map(L=>e("option",{children:L.value},L.id))]}),e("div",{className:"text-danger mt-1",children:A.state})]}),s("div",{children:[e("label",{children:"City"}),e("input",{name:"city",type:"text",value:w.city,onChange:L=>N(L),placeholder:"Enter City",className:"form-input"}),e("div",{className:"text-danger mt-1",children:A.city})]}),s("div",{children:[s("label",{children:["Followup Date ",(w==null?void 0:w.status)=="Follow Up"?e("span",{className:" text-red-600 text-[15px] ",children:"*"}):null," "]}),e(Je,{name:"followup",value:w.followup,onChange:L=>{const F=L.map(O=>x.format(new Date(O)).split("/").reverse().join("-"));N({target:{value:F[0],name:"followup"}})},options:{dateFormat:"Y-m-d",position:"auto left",minDate:"today"},className:"form-input"}),e("div",{className:"text-danger mt-1",children:A.followup})]}),s("div",{children:[s("label",{children:["Free Trial  ",(w==null?void 0:w.status)=="Free Trial"?e("span",{className:" text-red-600 text-[15px] ",children:"*"}):null]}),e(Je,{name:"free_trial",value:w.free_trial,onChange:L=>{const F=L.map(O=>x.format(new Date(O)).split("/").reverse().join("-"));N({target:{value:F[0],name:"free_trial"}})},options:{dateFormat:"Y-m-d",position:"auto left",minDate:"today"},className:"form-input"}),e("div",{className:"text-danger mt-1",children:A.free_trial})]}),s("div",{children:[e("label",{children:"Investment Size"}),s("select",{name:"invest",value:w.invest,onChange:L=>N(L),className:"form-select text-white-dark",children:[e("option",{children:"Choose..."}),f==null?void 0:f.filter(L=>L.type=="Investment Size").map(L=>e("option",{children:L.value},L.id))]}),e("div",{className:"text-danger mt-1",children:A.invest})]}),s("div",{children:[e("label",{children:"Lot Size"}),s("select",{name:"lot_size",value:w.lot_size,onChange:L=>N(L),className:"form-select text-white-dark",children:[e("option",{children:"Choose..."}),f==null?void 0:f.filter(L=>L.type=="Lot Size").map(L=>e("option",{children:L.value},L.id))]}),e("div",{className:"text-danger mt-1",children:A.lot_size})]}),s("div",{children:[e("label",{children:"DND Status"}),s("select",{name:"dnd",value:w.dnd,onChange:L=>N(L),className:"form-select text-white-dark",children:[e("option",{children:"Choose..."}),f==null?void 0:f.filter(L=>L.type=="DND Status").map(L=>e("option",{children:L.value},L.id))]}),e("div",{className:"text-danger mt-1",children:A.dnd})]}),s("div",{className:"sm:col-span-2",children:[s("label",{children:["Products  ",(w==null?void 0:w.status)=="Free Trial"?e("span",{className:" text-red-600 text-[15px] ",children:"*"}):null]}),e(rt,{name:"products",onChange:L=>N({target:{name:"products",value:L.map(F=>F.value)}}),value:v(w.products),options:f==null?void 0:f.filter(L=>L.type=="Lead Products"),placeholder:"Select User Type",isMulti:!0,className:" text-white-dark",isSearchable:!1}),e("div",{className:"text-danger mt-1",children:A.products})]})]}),s("div",{children:[s("div",{className:"flex",children:[e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b] whitespace-nowrap",children:"Description"}),e("textarea",{name:"desc",value:w.desc,onChange:L=>N(L),rows:4,className:"form-textarea ltr:rounded-l-none rtl:rounded-r-none"})]}),e("div",{className:"text-danger mt-1",children:A.desc})]})]})]})})})})},d_=({error:t,fetch:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})};var u_=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ys(t,a){var n=m_(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof a=="string"?a:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function m_(t){var a=t.name,n=a&&a.lastIndexOf(".")!==-1;if(n&&!t.type){var r=a.split(".").pop().toLowerCase(),i=u_.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var h_=[".DS_Store","Thumbs.db"];function p_(t){return En(this,void 0,void 0,function(){return Tn(this,function(a){return pr(t)&&f_(t.dataTransfer)?[2,x_(t.dataTransfer,t.type)]:g_(t)?[2,b_(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,v_(t)]:[2,[]]})})}function f_(t){return pr(t)}function g_(t){return pr(t)&&pr(t.target)}function pr(t){return typeof t=="object"&&t!==null}function b_(t){return Xi(t.target.files).map(function(a){return ys(a)})}function v_(t){return En(this,void 0,void 0,function(){var a;return Tn(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return a=n.sent(),[2,a.map(function(r){return ys(r)})]}})})}function x_(t,a){return En(this,void 0,void 0,function(){var n,r;return Tn(this,function(i){switch(i.label){case 0:return t.items?(n=Xi(t.items).filter(function(o){return o.kind==="file"}),a!=="drop"?[2,n]:[4,Promise.all(n.map(y_))]):[3,2];case 1:return r=i.sent(),[2,Zd(Sp(r))];case 2:return[2,Zd(Xi(t.files).map(function(o){return ys(o)}))]}})})}function Zd(t){return t.filter(function(a){return h_.indexOf(a.name)===-1})}function Xi(t){if(t===null)return[];for(var a=[],n=0;n<t.length;n++){var r=t[n];a.push(r)}return a}function y_(t){if(typeof t.webkitGetAsEntry!="function")return Gd(t);var a=t.webkitGetAsEntry();return a&&a.isDirectory?Ep(a):Gd(t)}function Sp(t){return t.reduce(function(a,n){return ld(ld([],id(a),!1),id(Array.isArray(n)?Sp(n):[n]),!1)},[])}function Gd(t){var a=t.getAsFile();if(!a)return Promise.reject("".concat(t," is not a File"));var n=ys(a);return Promise.resolve(n)}function w_(t){return En(this,void 0,void 0,function(){return Tn(this,function(a){return[2,t.isDirectory?Ep(t):N_(t)]})})}function Ep(t){var a=t.createReader();return new Promise(function(n,r){var i=[];function o(){var m=this;a.readEntries(function(u){return En(m,void 0,void 0,function(){var c,p,f;return Tn(this,function(h){switch(h.label){case 0:if(u.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return c=h.sent(),n(c),[3,4];case 3:return p=h.sent(),r(p),[3,4];case 4:return[3,6];case 5:f=Promise.all(u.map(w_)),i.push(f),o(),h.label=6;case 6:return[2]}})})},function(u){r(u)})}o()})}function N_(t){return En(this,void 0,void 0,function(){return Tn(this,function(a){return[2,new Promise(function(n,r){t.file(function(i){var o=ys(i,t.fullPath);n(o)},function(i){r(i)})})]})})}var __=function(t,a){if(t&&a){var n=Array.isArray(a)?a:a.split(","),r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(m){var u=m.trim().toLowerCase();return u.charAt(0)==="."?r.toLowerCase().endsWith(u):u.endsWith("/*")?o===u.replace(/\/.*$/,""):i===u})}return!0};function Kd(t){return S_(t)||C_(t)||Ap(t)||k_()}function k_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C_(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S_(t){if(Array.isArray(t))return Qi(t)}function Jd(t,a){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?Jd(Object(n),!0).forEach(function(r){Tp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tp(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function ss(t,a){return A_(t)||T_(t,a)||Ap(t,a)||E_()}function E_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ap(t,a){if(t){if(typeof t=="string")return Qi(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qi(t,a)}}function Qi(t,a){(a==null||a>t.length)&&(a=t.length);for(var n=0,r=new Array(a);n<a;n++)r[n]=t[n];return r}function T_(t,a){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,m,u;try{for(n=n.call(t);!(i=(m=n.next()).done)&&(r.push(m.value),!(a&&r.length===a));i=!0);}catch(c){o=!0,u=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw u}}return r}}function A_(t){if(Array.isArray(t))return t}var P_="file-invalid-type",I_="file-too-large",L_="file-too-small",F_="too-many-files",M_=function(a){a=Array.isArray(a)&&a.length===1?a[0]:a;var n=Array.isArray(a)?"one of ".concat(a.join(", ")):a;return{code:P_,message:"File type must be ".concat(n)}},Xd=function(a){return{code:I_,message:"File is larger than ".concat(a," ").concat(a===1?"byte":"bytes")}},Qd=function(a){return{code:L_,message:"File is smaller than ".concat(a," ").concat(a===1?"byte":"bytes")}},O_={code:F_,message:"Too many files"};function Pp(t,a){var n=t.type==="application/x-moz-file"||__(t,a);return[n,n?null:M_(a)]}function Ip(t,a,n){if(Ra(t.size))if(Ra(a)&&Ra(n)){if(t.size>n)return[!1,Xd(n)];if(t.size<a)return[!1,Qd(a)]}else{if(Ra(a)&&t.size<a)return[!1,Qd(a)];if(Ra(n)&&t.size>n)return[!1,Xd(n)]}return[!0,null]}function Ra(t){return t!=null}function B_(t){var a=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,m=t.maxFiles,u=t.validator;return!o&&a.length>1||o&&m>=1&&a.length>m?!1:a.every(function(c){var p=Pp(c,n),f=ss(p,1),h=f[0],b=Ip(c,r,i),S=ss(b,1),I=S[0],T=u?u(c):null;return h&&I&&!T})}function fr(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function $s(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(a){return a==="Files"||a==="application/x-moz-file"}):!!t.target&&!!t.target.files}function eu(t){t.preventDefault()}function R_(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function $_(t){return t.indexOf("Edge/")!==-1}function j_(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return R_(t)||$_(t)}function Gt(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),m=1;m<i;m++)o[m-1]=arguments[m];return a.some(function(u){return!fr(r)&&u&&u.apply(void 0,[r].concat(o)),fr(r)})}}function z_(){return"showOpenFilePicker"in window}function D_(t){if(Ra(t)){var a=Object.entries(t).filter(function(n){var r=ss(n,2),i=r[0],o=r[1],m=!0;return Lp(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),m=!1),(!Array.isArray(o)||!o.every(Fp))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),m=!1),m}).reduce(function(n,r){var i=ss(r,2),o=i[0],m=i[1];return Yd(Yd({},n),{},Tp({},o,m))},{});return[{description:"Files",accept:a}]}return t}function V_(t){if(Ra(t))return Object.entries(t).reduce(function(a,n){var r=ss(n,2),i=r[0],o=r[1];return[].concat(Kd(a),[i],Kd(o))},[]).filter(function(a){return Lp(a)||Fp(a)}).join(",")}function U_(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function H_(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function Lp(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function Fp(t){return/^.*\.[\w]+$/.test(t)}var W_=["children"],q_=["open"],Z_=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],G_=["refKey","onChange","onClick"];function K_(t){return X_(t)||Y_(t)||Mp(t)||J_()}function J_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y_(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X_(t){if(Array.isArray(t))return el(t)}function bi(t,a){return t3(t)||e3(t,a)||Mp(t,a)||Q_()}function Q_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mp(t,a){if(t){if(typeof t=="string")return el(t,a);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return el(t,a)}}function el(t,a){(a==null||a>t.length)&&(a=t.length);for(var n=0,r=new Array(a);n<a;n++)r[n]=t[n];return r}function e3(t,a){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,m,u;try{for(n=n.call(t);!(i=(m=n.next()).done)&&(r.push(m.value),!(a&&r.length===a));i=!0);}catch(c){o=!0,u=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw u}}return r}}function t3(t){if(Array.isArray(t))return t}function tu(t,a){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);a&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?tu(Object(n),!0).forEach(function(r){tl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tl(t,a,n){return a in t?Object.defineProperty(t,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[a]=n,t}function gr(t,a){if(t==null)return{};var n=a3(t,a),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a3(t,a){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(a.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Kl=l.forwardRef(function(t,a){var n=t.children,r=gr(t,W_),i=Bp(r),o=i.open,m=gr(i,q_);return l.useImperativeHandle(a,function(){return{open:o}},[o]),Me.createElement(l.Fragment,null,n(ut(ut({},m),{},{open:o})))});Kl.displayName="Dropzone";var Op={disabled:!1,getFilesFromEvent:p_,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Kl.defaultProps=Op;Kl.propTypes={children:nt.func,accept:nt.objectOf(nt.arrayOf(nt.string)),multiple:nt.bool,preventDropOnDocument:nt.bool,noClick:nt.bool,noKeyboard:nt.bool,noDrag:nt.bool,noDragEventsBubbling:nt.bool,minSize:nt.number,maxSize:nt.number,maxFiles:nt.number,disabled:nt.bool,getFilesFromEvent:nt.func,onFileDialogCancel:nt.func,onFileDialogOpen:nt.func,useFsAccessApi:nt.bool,autoFocus:nt.bool,onDragEnter:nt.func,onDragLeave:nt.func,onDragOver:nt.func,onDrop:nt.func,onDropAccepted:nt.func,onDropRejected:nt.func,onError:nt.func,validator:nt.func};var al={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Bp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=ut(ut({},Op),t),n=a.accept,r=a.disabled,i=a.getFilesFromEvent,o=a.maxSize,m=a.minSize,u=a.multiple,c=a.maxFiles,p=a.onDragEnter,f=a.onDragLeave,h=a.onDragOver,b=a.onDrop,S=a.onDropAccepted,I=a.onDropRejected,T=a.onFileDialogCancel,w=a.onFileDialogOpen,_=a.useFsAccessApi,A=a.autoFocus,k=a.preventDropOnDocument,g=a.noClick,E=a.noKeyboard,N=a.noDrag,v=a.noDragEventsBubbling,d=a.onError,y=a.validator,M=l.useMemo(function(){return V_(n)},[n]),C=l.useMemo(function(){return D_(n)},[n]),x=l.useMemo(function(){return typeof w=="function"?w:au},[w]),L=l.useMemo(function(){return typeof T=="function"?T:au},[T]),F=l.useRef(null),O=l.useRef(null),$=l.useReducer(n3,al),B=bi($,2),R=B[0],P=B[1],z=R.isFocused,H=R.isFileDialogActive,W=l.useRef(typeof window<"u"&&window.isSecureContext&&_&&z_()),q=function(){!W.current&&H&&setTimeout(function(){if(O.current){var ye=O.current.files;ye.length||(P({type:"closeDialog"}),L())}},300)};l.useEffect(function(){return window.addEventListener("focus",q,!1),function(){window.removeEventListener("focus",q,!1)}},[O,H,L,W]);var D=l.useRef([]),V=function(ye){F.current&&F.current.contains(ye.target)||(ye.preventDefault(),D.current=[])};l.useEffect(function(){return k&&(document.addEventListener("dragover",eu,!1),document.addEventListener("drop",V,!1)),function(){k&&(document.removeEventListener("dragover",eu),document.removeEventListener("drop",V))}},[F,k]),l.useEffect(function(){return!r&&A&&F.current&&F.current.focus(),function(){}},[F,A,r]);var j=l.useCallback(function(xe){d?d(xe):console.error(xe)},[d]),U=l.useCallback(function(xe){xe.preventDefault(),xe.persist(),Ce(xe),D.current=[].concat(K_(D.current),[xe.target]),$s(xe)&&Promise.resolve(i(xe)).then(function(ye){if(!(fr(xe)&&!v)){var Ge=ye.length,Ke=Ge>0&&B_({files:ye,accept:M,minSize:m,maxSize:o,multiple:u,maxFiles:c,validator:y}),de=Ge>0&&!Ke;P({isDragAccept:Ke,isDragReject:de,isDragActive:!0,type:"setDraggedFiles"}),p&&p(xe)}}).catch(function(ye){return j(ye)})},[i,p,j,v,M,m,o,u,c,y]),Z=l.useCallback(function(xe){xe.preventDefault(),xe.persist(),Ce(xe);var ye=$s(xe);if(ye&&xe.dataTransfer)try{xe.dataTransfer.dropEffect="copy"}catch{}return ye&&h&&h(xe),!1},[h,v]),Y=l.useCallback(function(xe){xe.preventDefault(),xe.persist(),Ce(xe);var ye=D.current.filter(function(Ke){return F.current&&F.current.contains(Ke)}),Ge=ye.indexOf(xe.target);Ge!==-1&&ye.splice(Ge,1),D.current=ye,!(ye.length>0)&&(P({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),$s(xe)&&f&&f(xe))},[F,f,v]),X=l.useCallback(function(xe,ye){var Ge=[],Ke=[];xe.forEach(function(de){var Ne=Pp(de,M),ie=bi(Ne,2),we=ie[0],Pe=ie[1],Qe=Ip(de,m,o),se=bi(Qe,2),ke=se[0],Ae=se[1],me=y?y(de):null;if(we&&ke&&!me)Ge.push(de);else{var Ee=[Pe,Ae];me&&(Ee=Ee.concat(me)),Ke.push({file:de,errors:Ee.filter(function(He){return He})})}}),(!u&&Ge.length>1||u&&c>=1&&Ge.length>c)&&(Ge.forEach(function(de){Ke.push({file:de,errors:[O_]})}),Ge.splice(0)),P({acceptedFiles:Ge,fileRejections:Ke,type:"setFiles"}),b&&b(Ge,Ke,ye),Ke.length>0&&I&&I(Ke,ye),Ge.length>0&&S&&S(Ge,ye)},[P,u,M,m,o,c,b,S,I,y]),ae=l.useCallback(function(xe){xe.preventDefault(),xe.persist(),Ce(xe),D.current=[],$s(xe)&&Promise.resolve(i(xe)).then(function(ye){fr(xe)&&!v||X(ye,xe)}).catch(function(ye){return j(ye)}),P({type:"reset"})},[i,X,j,v]),he=l.useCallback(function(){if(W.current){P({type:"openDialog"}),x();var xe={multiple:u,types:C};window.showOpenFilePicker(xe).then(function(ye){return i(ye)}).then(function(ye){X(ye,null),P({type:"closeDialog"})}).catch(function(ye){U_(ye)?(L(ye),P({type:"closeDialog"})):H_(ye)?(W.current=!1,O.current?(O.current.value=null,O.current.click()):j(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):j(ye)});return}O.current&&(P({type:"openDialog"}),x(),O.current.value=null,O.current.click())},[P,x,L,_,X,j,C,u]),te=l.useCallback(function(xe){!F.current||!F.current.isEqualNode(xe.target)||(xe.key===" "||xe.key==="Enter"||xe.keyCode===32||xe.keyCode===13)&&(xe.preventDefault(),he())},[F,he]),G=l.useCallback(function(){P({type:"focus"})},[]),fe=l.useCallback(function(){P({type:"blur"})},[]),ne=l.useCallback(function(){g||(j_()?setTimeout(he,0):he())},[g,he]),pe=function(ye){return r?null:ye},ue=function(ye){return E?null:pe(ye)},le=function(ye){return N?null:pe(ye)},Ce=function(ye){v&&ye.stopPropagation()},Be=l.useMemo(function(){return function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=xe.refKey,Ge=ye===void 0?"ref":ye,Ke=xe.role,de=xe.onKeyDown,Ne=xe.onFocus,ie=xe.onBlur,we=xe.onClick,Pe=xe.onDragEnter,Qe=xe.onDragOver,se=xe.onDragLeave,ke=xe.onDrop,Ae=gr(xe,Z_);return ut(ut(tl({onKeyDown:ue(Gt(de,te)),onFocus:ue(Gt(Ne,G)),onBlur:ue(Gt(ie,fe)),onClick:pe(Gt(we,ne)),onDragEnter:le(Gt(Pe,U)),onDragOver:le(Gt(Qe,Z)),onDragLeave:le(Gt(se,Y)),onDrop:le(Gt(ke,ae)),role:typeof Ke=="string"&&Ke!==""?Ke:"presentation"},Ge,F),!r&&!E?{tabIndex:0}:{}),Ae)}},[F,te,G,fe,ne,U,Z,Y,ae,E,N,r]),Ue=l.useCallback(function(xe){xe.stopPropagation()},[]),Te=l.useMemo(function(){return function(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ye=xe.refKey,Ge=ye===void 0?"ref":ye,Ke=xe.onChange,de=xe.onClick,Ne=gr(xe,G_),ie=tl({accept:M,multiple:u,type:"file",style:{display:"none"},onChange:pe(Gt(Ke,ae)),onClick:pe(Gt(de,Ue)),tabIndex:-1},Ge,O);return ut(ut({},ie),Ne)}},[O,n,u,ae,r]);return ut(ut({},R),{},{isFocused:z&&!r,getRootProps:Be,getInputProps:Te,rootRef:F,inputRef:O,open:pe(he)})}function n3(t,a){switch(a.type){case"focus":return ut(ut({},t),{},{isFocused:!0});case"blur":return ut(ut({},t),{},{isFocused:!1});case"openDialog":return ut(ut({},al),{},{isFileDialogActive:!0});case"closeDialog":return ut(ut({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return ut(ut({},t),{},{isDragActive:a.isDragActive,isDragAccept:a.isDragAccept,isDragReject:a.isDragReject});case"setFiles":return ut(ut({},t),{},{acceptedFiles:a.acceptedFiles,fileRejections:a.fileRejections});case"reset":return ut({},al);default:return t}}function au(){}var Rp={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,a){(function(n,r){t.exports=r()})(Mn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,m={},u=0,c={parse:function(d,y){var M=(y=y||{}).dynamicTyping||!1;if(v(M)&&(y.dynamicTypingFunction=M,M={}),y.dynamicTyping=M,y.transform=!!v(y.transform)&&y.transform,y.worker&&c.WORKERS_SUPPORTED){var C=function(){if(!c.WORKERS_SUPPORTED)return!1;var L=(O=r.URL||r.webkitURL||null,$=n.toString(),c.BLOB_URL||(c.BLOB_URL=O.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",$,")();"],{type:"text/javascript"})))),F=new r.Worker(L),O,$;return F.onmessage=A,F.id=u++,m[F.id]=F}();return C.userStep=y.step,C.userChunk=y.chunk,C.userComplete=y.complete,C.userError=y.error,y.step=v(y.step),y.chunk=v(y.chunk),y.complete=v(y.complete),y.error=v(y.error),delete y.worker,void C.postMessage({input:d,config:y,workerId:C.id})}var x=null;return c.NODE_STREAM_INPUT,typeof d=="string"?(d=function(L){return L.charCodeAt(0)===65279?L.slice(1):L}(d),x=y.download?new h(y):new S(y)):d.readable===!0&&v(d.read)&&v(d.on)?x=new I(y):(r.File&&d instanceof File||d instanceof Object)&&(x=new b(y)),x.stream(d)},unparse:function(d,y){var M=!1,C=!0,x=",",L=`\r
`,F='"',O=F+F,$=!1,B=null,R=!1;(function(){if(typeof y=="object"){if(typeof y.delimiter!="string"||c.BAD_DELIMITERS.filter(function(W){return y.delimiter.indexOf(W)!==-1}).length||(x=y.delimiter),(typeof y.quotes=="boolean"||typeof y.quotes=="function"||Array.isArray(y.quotes))&&(M=y.quotes),typeof y.skipEmptyLines!="boolean"&&typeof y.skipEmptyLines!="string"||($=y.skipEmptyLines),typeof y.newline=="string"&&(L=y.newline),typeof y.quoteChar=="string"&&(F=y.quoteChar),typeof y.header=="boolean"&&(C=y.header),Array.isArray(y.columns)){if(y.columns.length===0)throw new Error("Option columns is empty");B=y.columns}y.escapeChar!==void 0&&(O=y.escapeChar+F),(typeof y.escapeFormulae=="boolean"||y.escapeFormulae instanceof RegExp)&&(R=y.escapeFormulae instanceof RegExp?y.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var P=new RegExp(w(F),"g");if(typeof d=="string"&&(d=JSON.parse(d)),Array.isArray(d)){if(!d.length||Array.isArray(d[0]))return z(null,d,$);if(typeof d[0]=="object")return z(B||Object.keys(d[0]),d,$)}else if(typeof d=="object")return typeof d.data=="string"&&(d.data=JSON.parse(d.data)),Array.isArray(d.data)&&(d.fields||(d.fields=d.meta&&d.meta.fields||B),d.fields||(d.fields=Array.isArray(d.data[0])?d.fields:typeof d.data[0]=="object"?Object.keys(d.data[0]):[]),Array.isArray(d.data[0])||typeof d.data[0]=="object"||(d.data=[d.data])),z(d.fields||[],d.data||[],$);throw new Error("Unable to serialize unrecognized input");function z(W,q,D){var V="";typeof W=="string"&&(W=JSON.parse(W)),typeof q=="string"&&(q=JSON.parse(q));var j=Array.isArray(W)&&0<W.length,U=!Array.isArray(q[0]);if(j&&C){for(var Z=0;Z<W.length;Z++)0<Z&&(V+=x),V+=H(W[Z],Z);0<q.length&&(V+=L)}for(var Y=0;Y<q.length;Y++){var X=j?W.length:q[Y].length,ae=!1,he=j?Object.keys(q[Y]).length===0:q[Y].length===0;if(D&&!j&&(ae=D==="greedy"?q[Y].join("").trim()==="":q[Y].length===1&&q[Y][0].length===0),D==="greedy"&&j){for(var te=[],G=0;G<X;G++){var fe=U?W[G]:G;te.push(q[Y][fe])}ae=te.join("").trim()===""}if(!ae){for(var ne=0;ne<X;ne++){0<ne&&!he&&(V+=x);var pe=j&&U?W[ne]:ne;V+=H(q[Y][pe],ne)}Y<q.length-1&&(!D||0<X&&!he)&&(V+=L)}}return V}function H(W,q){if(W==null)return"";if(W.constructor===Date)return JSON.stringify(W).slice(1,25);var D=!1;R&&typeof W=="string"&&R.test(W)&&(W="'"+W,D=!0);var V=W.toString().replace(P,O);return(D=D||M===!0||typeof M=="function"&&M(W,q)||Array.isArray(M)&&M[q]||function(j,U){for(var Z=0;Z<U.length;Z++)if(-1<j.indexOf(U[Z]))return!0;return!1}(V,c.BAD_DELIMITERS)||-1<V.indexOf(x)||V.charAt(0)===" "||V.charAt(V.length-1)===" ")?F+V+F:V}}};if(c.RECORD_SEP=String.fromCharCode(30),c.UNIT_SEP=String.fromCharCode(31),c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=_,c.ParserHandle=T,c.NetworkStreamer=h,c.FileStreamer=b,c.StringStreamer=S,c.ReadableStreamStreamer=I,r.jQuery){var p=r.jQuery;p.fn.parse=function(d){var y=d.config||{},M=[];return this.each(function(L){if(!(p(this).prop("tagName").toUpperCase()==="INPUT"&&p(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var F=0;F<this.files.length;F++)M.push({file:this.files[F],inputElem:this,instanceConfig:p.extend({},y)})}),C(),this;function C(){if(M.length!==0){var L,F,O,$,B=M[0];if(v(d.before)){var R=d.before(B.file,B.inputElem);if(typeof R=="object"){if(R.action==="abort")return L="AbortError",F=B.file,O=B.inputElem,$=R.reason,void(v(d.error)&&d.error({name:L},F,O,$));if(R.action==="skip")return void x();typeof R.config=="object"&&(B.instanceConfig=p.extend(B.instanceConfig,R.config))}else if(R==="skip")return void x()}var P=B.instanceConfig.complete;B.instanceConfig.complete=function(z){v(P)&&P(z,B.file,B.inputElem),x()},c.parse(B.file,B.instanceConfig)}else v(d.complete)&&d.complete()}function x(){M.splice(0,1),C()}}}function f(d){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(y){var M=E(y);M.chunkSize=parseInt(M.chunkSize),y.step||y.chunk||(M.chunkSize=null),this._handle=new T(M),(this._handle.streamer=this)._config=M}).call(this,d),this.parseChunk=function(y,M){if(this.isFirstChunk&&v(this._config.beforeFirstChunk)){var C=this._config.beforeFirstChunk(y);C!==void 0&&(y=C)}this.isFirstChunk=!1,this._halted=!1;var x=this._partialLine+y;this._partialLine="";var L=this._handle.parse(x,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var F=L.meta.cursor;this._finished||(this._partialLine=x.substring(F-this._baseIndex),this._baseIndex=F),L&&L.data&&(this._rowCount+=L.data.length);var O=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)r.postMessage({results:L,workerId:c.WORKER_ID,finished:O});else if(v(this._config.chunk)&&!M){if(this._config.chunk(L,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);L=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(L.data),this._completeResults.errors=this._completeResults.errors.concat(L.errors),this._completeResults.meta=L.meta),this._completed||!O||!v(this._config.complete)||L&&L.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),O||L&&L.meta.paused||this._nextChunk(),L}this._halted=!0},this._sendError=function(y){v(this._config.error)?this._config.error(y):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:y,finished:!1})}}function h(d){var y;(d=d||{}).chunkSize||(d.chunkSize=c.RemoteChunkSize),f.call(this,d),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),i||(y.onload=N(this._chunkLoaded,this),y.onerror=N(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var M=this._config.downloadRequestHeaders;for(var C in M)y.setRequestHeader(C,M[C])}if(this._config.chunkSize){var x=this._start+this._config.chunkSize-1;y.setRequestHeader("Range","bytes="+this._start+"-"+x)}try{y.send(this._config.downloadRequestBody)}catch(L){this._chunkError(L.message)}i&&y.status===0&&this._chunkError()}},this._chunkLoaded=function(){y.readyState===4&&(y.status<200||400<=y.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:y.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(M){var C=M.getResponseHeader("Content-Range");return C===null?-1:parseInt(C.substring(C.lastIndexOf("/")+1))}(y),this.parseChunk(y.responseText)))},this._chunkError=function(M){var C=y.statusText||M;this._sendError(new Error(C))}}function b(d){var y,M;(d=d||{}).chunkSize||(d.chunkSize=c.LocalChunkSize),f.call(this,d);var C=typeof FileReader<"u";this.stream=function(x){this._input=x,M=x.slice||x.webkitSlice||x.mozSlice,C?((y=new FileReader).onload=N(this._chunkLoaded,this),y.onerror=N(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var x=this._input;if(this._config.chunkSize){var L=Math.min(this._start+this._config.chunkSize,this._input.size);x=M.call(x,this._start,L)}var F=y.readAsText(x,this._config.encoding);C||this._chunkLoaded({target:{result:F}})},this._chunkLoaded=function(x){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(x.target.result)},this._chunkError=function(){this._sendError(y.error)}}function S(d){var y;f.call(this,d=d||{}),this.stream=function(M){return y=M,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var M,C=this._config.chunkSize;return C?(M=y.substring(0,C),y=y.substring(C)):(M=y,y=""),this._finished=!y,this.parseChunk(M)}}}function I(d){f.call(this,d=d||{});var y=[],M=!0,C=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(x){this._input=x,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&y.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):M=!0},this._streamData=N(function(x){try{y.push(typeof x=="string"?x:x.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(L){this._streamError(L)}},this),this._streamError=N(function(x){this._streamCleanUp(),this._sendError(x)},this),this._streamEnd=N(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function T(d){var y,M,C,x=Math.pow(2,53),L=-x,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,O=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,$=this,B=0,R=0,P=!1,z=!1,H=[],W={data:[],errors:[],meta:{}};if(v(d.step)){var q=d.step;d.step=function(Y){if(W=Y,j())V();else{if(V(),W.data.length===0)return;B+=Y.data.length,d.preview&&B>d.preview?M.abort():(W.data=W.data[0],q(W,$))}}}function D(Y){return d.skipEmptyLines==="greedy"?Y.join("").trim()==="":Y.length===1&&Y[0].length===0}function V(){return W&&C&&(Z("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),C=!1),d.skipEmptyLines&&(W.data=W.data.filter(function(Y){return!D(Y)})),j()&&function(){if(!W)return;function Y(ae,he){v(d.transformHeader)&&(ae=d.transformHeader(ae,he)),H.push(ae)}if(Array.isArray(W.data[0])){for(var X=0;j()&&X<W.data.length;X++)W.data[X].forEach(Y);W.data.splice(0,1)}else W.data.forEach(Y)}(),function(){if(!W||!d.header&&!d.dynamicTyping&&!d.transform)return W;function Y(ae,he){var te,G=d.header?{}:[];for(te=0;te<ae.length;te++){var fe=te,ne=ae[te];d.header&&(fe=te>=H.length?"__parsed_extra":H[te]),d.transform&&(ne=d.transform(ne,fe)),ne=U(fe,ne),fe==="__parsed_extra"?(G[fe]=G[fe]||[],G[fe].push(ne)):G[fe]=ne}return d.header&&(te>H.length?Z("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+te,R+he):te<H.length&&Z("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+te,R+he)),G}var X=1;return!W.data.length||Array.isArray(W.data[0])?(W.data=W.data.map(Y),X=W.data.length):W.data=Y(W.data,0),d.header&&W.meta&&(W.meta.fields=H),R+=X,W}()}function j(){return d.header&&H.length===0}function U(Y,X){return ae=Y,d.dynamicTypingFunction&&d.dynamicTyping[ae]===void 0&&(d.dynamicTyping[ae]=d.dynamicTypingFunction(ae)),(d.dynamicTyping[ae]||d.dynamicTyping)===!0?X==="true"||X==="TRUE"||X!=="false"&&X!=="FALSE"&&(function(he){if(F.test(he)){var te=parseFloat(he);if(L<te&&te<x)return!0}return!1}(X)?parseFloat(X):O.test(X)?new Date(X):X===""?null:X):X;var ae}function Z(Y,X,ae,he){var te={type:Y,code:X,message:ae};he!==void 0&&(te.row=he),W.errors.push(te)}this.parse=function(Y,X,ae){var he=d.quoteChar||'"';if(d.newline||(d.newline=function(fe,ne){fe=fe.substring(0,1048576);var pe=new RegExp(w(ne)+"([^]*?)"+w(ne),"gm"),ue=(fe=fe.replace(pe,"")).split("\r"),le=fe.split(`
`),Ce=1<le.length&&le[0].length<ue[0].length;if(ue.length===1||Ce)return`
`;for(var Be=0,Ue=0;Ue<ue.length;Ue++)ue[Ue][0]===`
`&&Be++;return Be>=ue.length/2?`\r
`:"\r"}(Y,he)),C=!1,d.delimiter)v(d.delimiter)&&(d.delimiter=d.delimiter(Y),W.meta.delimiter=d.delimiter);else{var te=function(fe,ne,pe,ue,le){var Ce,Be,Ue,Te;le=le||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var xe=0;xe<le.length;xe++){var ye=le[xe],Ge=0,Ke=0,de=0;Ue=void 0;for(var Ne=new _({comments:ue,delimiter:ye,newline:ne,preview:10}).parse(fe),ie=0;ie<Ne.data.length;ie++)if(pe&&D(Ne.data[ie]))de++;else{var we=Ne.data[ie].length;Ke+=we,Ue!==void 0?0<we&&(Ge+=Math.abs(we-Ue),Ue=we):Ue=we}0<Ne.data.length&&(Ke/=Ne.data.length-de),(Be===void 0||Ge<=Be)&&(Te===void 0||Te<Ke)&&1.99<Ke&&(Be=Ge,Ce=ye,Te=Ke)}return{successful:!!(d.delimiter=Ce),bestDelimiter:Ce}}(Y,d.newline,d.skipEmptyLines,d.comments,d.delimitersToGuess);te.successful?d.delimiter=te.bestDelimiter:(C=!0,d.delimiter=c.DefaultDelimiter),W.meta.delimiter=d.delimiter}var G=E(d);return d.preview&&d.header&&G.preview++,y=Y,M=new _(G),W=M.parse(y,X,ae),V(),P?{meta:{paused:!0}}:W||{meta:{paused:!1}}},this.paused=function(){return P},this.pause=function(){P=!0,M.abort(),y=v(d.chunk)?"":y.substring(M.getCharIndex())},this.resume=function(){$.streamer._halted?(P=!1,$.streamer.parseChunk(y,!0)):setTimeout($.resume,3)},this.aborted=function(){return z},this.abort=function(){z=!0,M.abort(),W.meta.aborted=!0,v(d.complete)&&d.complete(W),y=""}}function w(d){return d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(d){var y,M=(d=d||{}).delimiter,C=d.newline,x=d.comments,L=d.step,F=d.preview,O=d.fastMode,$=y=d.quoteChar===void 0||d.quoteChar===null?'"':d.quoteChar;if(d.escapeChar!==void 0&&($=d.escapeChar),(typeof M!="string"||-1<c.BAD_DELIMITERS.indexOf(M))&&(M=","),x===M)throw new Error("Comment character same as delimiter");x===!0?x="#":(typeof x!="string"||-1<c.BAD_DELIMITERS.indexOf(x))&&(x=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var B=0,R=!1;this.parse=function(P,z,H){if(typeof P!="string")throw new Error("Input must be a string");var W=P.length,q=M.length,D=C.length,V=x.length,j=v(L),U=[],Z=[],Y=[],X=B=0;if(!P)return Pe();if(d.header&&!z){var ae=P.split(C)[0].split(M),he=[],te={},G=!1;for(var fe in ae){var ne=ae[fe];v(d.transformHeader)&&(ne=d.transformHeader(ne,fe));var pe=ne,ue=te[ne]||0;for(0<ue&&(G=!0,pe=ne+"_"+ue),te[ne]=ue+1;he.includes(pe);)pe=pe+"_"+ue;he.push(pe)}if(G){var le=P.split(C);le[0]=he.join(M),P=le.join(C)}}if(O||O!==!1&&P.indexOf(y)===-1){for(var Ce=P.split(C),Be=0;Be<Ce.length;Be++){if(Y=Ce[Be],B+=Y.length,Be!==Ce.length-1)B+=C.length;else if(H)return Pe();if(!x||Y.substring(0,V)!==x){if(j){if(U=[],de(Y.split(M)),Qe(),R)return Pe()}else de(Y.split(M));if(F&&F<=Be)return U=U.slice(0,F),Pe(!0)}}return Pe()}for(var Ue=P.indexOf(M,B),Te=P.indexOf(C,B),xe=new RegExp(w($)+w(y),"g"),ye=P.indexOf(y,B);;)if(P[B]!==y)if(x&&Y.length===0&&P.substring(B,B+V)===x){if(Te===-1)return Pe();B=Te+D,Te=P.indexOf(C,B),Ue=P.indexOf(M,B)}else if(Ue!==-1&&(Ue<Te||Te===-1))Y.push(P.substring(B,Ue)),B=Ue+q,Ue=P.indexOf(M,B);else{if(Te===-1)break;if(Y.push(P.substring(B,Te)),we(Te+D),j&&(Qe(),R))return Pe();if(F&&U.length>=F)return Pe(!0)}else for(ye=B,B++;;){if((ye=P.indexOf(y,ye+1))===-1)return H||Z.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:U.length,index:B}),ie();if(ye===W-1)return ie(P.substring(B,ye).replace(xe,y));if(y!==$||P[ye+1]!==$){if(y===$||ye===0||P[ye-1]!==$){Ue!==-1&&Ue<ye+1&&(Ue=P.indexOf(M,ye+1)),Te!==-1&&Te<ye+1&&(Te=P.indexOf(C,ye+1));var Ge=Ne(Te===-1?Ue:Math.min(Ue,Te));if(P.substr(ye+1+Ge,q)===M){Y.push(P.substring(B,ye).replace(xe,y)),P[B=ye+1+Ge+q]!==y&&(ye=P.indexOf(y,B)),Ue=P.indexOf(M,B),Te=P.indexOf(C,B);break}var Ke=Ne(Te);if(P.substring(ye+1+Ke,ye+1+Ke+D)===C){if(Y.push(P.substring(B,ye).replace(xe,y)),we(ye+1+Ke+D),Ue=P.indexOf(M,B),ye=P.indexOf(y,B),j&&(Qe(),R))return Pe();if(F&&U.length>=F)return Pe(!0);break}Z.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:U.length,index:B}),ye++}}else ye++}return ie();function de(se){U.push(se),X=B}function Ne(se){var ke=0;if(se!==-1){var Ae=P.substring(ye+1,se);Ae&&Ae.trim()===""&&(ke=Ae.length)}return ke}function ie(se){return H||(se===void 0&&(se=P.substring(B)),Y.push(se),B=W,de(Y),j&&Qe()),Pe()}function we(se){B=se,de(Y),Y=[],Te=P.indexOf(C,B)}function Pe(se){return{data:U,errors:Z,meta:{delimiter:M,linebreak:C,aborted:R,truncated:!!se,cursor:X+(z||0)}}}function Qe(){L(Pe()),U=[],Z=[]}},this.abort=function(){R=!0},this.getCharIndex=function(){return B}}function A(d){var y=d.data,M=m[y.workerId],C=!1;if(y.error)M.userError(y.error,y.file);else if(y.results&&y.results.data){var x={abort:function(){C=!0,k(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:g,resume:g};if(v(M.userStep)){for(var L=0;L<y.results.data.length&&(M.userStep({data:y.results.data[L],errors:y.results.errors,meta:y.results.meta},x),!C);L++);delete y.results}else v(M.userChunk)&&(M.userChunk(y.results,x,y.file),delete y.results)}y.finished&&!C&&k(y.workerId,y.results)}function k(d,y){var M=m[d];v(M.userComplete)&&M.userComplete(y),M.terminate(),delete m[d]}function g(){throw new Error("Not implemented.")}function E(d){if(typeof d!="object"||d===null)return d;var y=Array.isArray(d)?[]:{};for(var M in d)y[M]=E(d[M]);return y}function N(d,y){return function(){d.apply(y,arguments)}}function v(d){return typeof d=="function"}return o&&(r.onmessage=function(d){var y=d.data;if(c.WORKER_ID===void 0&&y&&(c.WORKER_ID=y.workerId),typeof y.input=="string")r.postMessage({workerId:c.WORKER_ID,results:c.parse(y.input,y.config),finished:!0});else if(r.File&&y.input instanceof File||y.input instanceof Object){var M=c.parse(y.input,y.config);M&&r.postMessage({workerId:c.WORKER_ID,results:M,finished:!0})}}),(h.prototype=Object.create(f.prototype)).constructor=h,(b.prototype=Object.create(f.prototype)).constructor=b,(S.prototype=Object.create(S.prototype)).constructor=S,(I.prototype=Object.create(f.prototype)).constructor=I,c})})(Rp);var s3=Rp.exports;const r3=Sf(s3),i3=({states:t,statuses:a,setAction:n,checkLeadUpload:r,employees:i})=>{l.useState(!1);const[o,m]=l.useState([]),[u,c]=l.useState(""),[p,f]=l.useState(!1),h=w=>{const _=w[0];console.log(_.type),_?r3.parse(_,{header:!0,complete:(A,k)=>{m(A.data),c(k),f(!0)},error:A=>{console.error("Error parsing CSV file:",A)}}):alert("No File")},{getRootProps:b,getInputProps:S}=Bp({onDrop:h}),[I,T]=l.useState(!1);return l.useEffect(()=>{p&&(o.length>1?T(!0):alert("no file record"))},[o,p]),s(J,{children:[e("div",{children:s("div",{...b({className:"dropzone max-w-[450px] m-auto mt-10 border-2 border-dashed p-3 rounded"}),children:[e("input",{...S()}),s("div",{className:"flex justify-around items-center",children:[e("div",{className:"animate animate-pulse",children:e(m1,{size:50,color:"green"})}),s("div",{children:[" ",e("h1",{className:"font-extrabold text-[15px] text-gray-500",children:"Drag 'n' drop a file here, or click to select a file"})]})]})]})}),e(l3,{modal3:I,setModal3:T,csvDatas:o,csvFileInfo:u,states:t,statuses:a,setAction:n,checkLeadUpload:r,employees:i})]})},l3=({modal3:t,setModal3:a,csvDatas:n,csvFileInfo:r,states:i,statuses:o,setAction:m,checkLeadUpload:u,employees:c})=>{const p=n.length?n.slice(0,3):[],f=p.length?Object.keys(p[0]):[],[h,b]=l.useState("select");function S(){const B=new Date,R=B.getFullYear(),P=String(B.getMonth()+1).padStart(2,"0"),z=String(B.getDate()).padStart(2,"0");return`${R}-${P}-${z} 09:00:00`}const[I,T]=l.useState({}),[w]=l.useState({state:"",status:"",phone:"",source:"",name:"",email:"",city:"",user_id:0,is_to_employee:0,created_at:S()}),[_,A]=l.useState(w),k=B=>{let{value:R,name:P,type:z}=B.target;z=="checkbox"&&(R=B.target.checked?1:0),T({...I,[P]:""}),A({..._,[P]:R}),console.table(_)},[g,E]=l.useState(!1),N=()=>{E(!0),T({});let B={};if(_.phone||(B={...B,phone:"phone field is required"}),_.source||(B={...B,source:"source field is required"}),_.state||(B={...B,state:"state field is required"}),_.status||(B={...B,status:"status field is required"}),_.is_to_employee&&!_.user_id&&(B={...B,user_id:"employee is required"}),console.log(B),T(B),Object.keys(B).length)return E(!1),!1;x()},[v,d]=l.useState([]),[y,M]=l.useState({invalid:0,total:0,duplicate:0}),C=Date.now(),x=()=>{const R=(()=>{const q=O(F(_));return n.filter(V=>$(V[_.phone])).map(V=>Object.keys(q).reduce((j,U)=>(V.hasOwnProperty(U)&&(j[q[U]]=V[U]),j.state=_.state,j.status=_.status,j.unique_id=C,j.user_id=_.is_to_employee?_.user_id:1,j.created_at=_.created_at,j),{}))})(),P=L(R),z=n.length,H=z-R.length,W=R.length-P.length;M({total:z,invalid:H,duplicate:W,valid:z-(W+H)}),d(P),b("import"),E(!1)},L=B=>{const R=new Set;return B.filter(P=>R.has(P.phone)?!1:(R.add(P.phone),!0))},F=B=>{const R={};return Object.keys(B).forEach(P=>{B[P]!==""&&(R[P]=B[P])}),R},O=B=>{const R={};for(const[P,z]of Object.entries(B))R[z]=P;return R},$=B=>/^\d{3}[-.\s]?\d{3}[-.\s]?\d{4}$/.test(B);return e("div",{className:"mb-5",children:e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>a(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden  w-full max-w-5xl  my-8 text-black dark:text-white-dark",children:[e("div",{className:"flex bg-danger/10 dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:e("div",{className:"font-bold text-lg",children:"Bulk Lead Upload"})}),h=="select"?s("div",{className:"p-5",children:[s("div",{className:"grid grid-cols-12  gap-4",children:[e("div",{className:"col-span-8 panel bg-[#ebedf2]",children:e("div",{className:"table-responsive mb-5 max-h-[calc(100vh-300px)]",children:s("table",{children:[e("thead",{children:s("tr",{children:[e("th",{children:"File Column"}),e("th",{children:"Column Data"})]})}),e("tbody",{children:f.map((B,R)=>s("tr",{children:[e("td",{children:e("div",{className:"whitespace-nowrap",children:B})}),e("td",{children:e("div",{className:"max-w-[350px] truncate",children:p.map((P,z)=>e("span",{className:"badge bg-[#3b3f5c] me-1",children:P[B]},z+1))})})]},R+1))})]})})}),s("div",{className:"col-span-4 panel bg-primary/10",children:[s("div",{className:"flex items-center",children:[s("label",{className:"w-12 h-6 relative mr-2 mb-0",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1",onChange:B=>k(B),name:"is_to_employee",checked:!!_.is_to_employee}),e("span",{className:"bg-red-500 block h-full rounded-full before:absolute before:left-1 before:bg-white before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:bg-green-500 peer-checked:before:left-7 before:transition-all before:duration-300"})]}),e("span",{className:"font-bold",children:"Sending To Employee"})]}),_.is_to_employee?s("div",{className:"mt-2",children:[s("select",{className:"form-select text-white-dark",onChange:B=>k(B),name:"user_id",value:_.user_id,children:[e("option",{value:"",children:"Select Employee"}),c==null?void 0:c.map(B=>s("option",{value:B.id,children:[B.user_type," - ",(B==null?void 0:B.first_name)+" "+(B==null?void 0:B.last_name)]},B.id))]}),e("span",{className:"text-danger text-[13px]",children:I==null?void 0:I.user_id})]}):null,e("hr",{className:"my-4"}),e("div",{className:"text-center mb-2",children:e("h6",{className:"font-extrabold",children:"Select Fields"})}),s("div",{className:"mb-2",children:[s("div",{className:"flex",children:[e("div",{className:"bg-danger-light w-[100px] flex  items-center ltr:rounded-l-md rtl:rounded-r-md px-2 text-[16px]  border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:"State"}),s("select",{onChange:B=>k(B),name:"state",value:_.state,className:"form-select text-white-dark  py-2 text-xs ltr:rounded-l-none rtl:rounded-r-none",children:[e("option",{value:"",children:"-- Select State --"}),i.map(B=>e("option",{value:B.value,children:B.value},B.id))]})]}),e("span",{className:"text-danger text-[13px]",children:I==null?void 0:I.state})]}),s("div",{className:"mb-5",children:[s("div",{className:"flex",children:[e("div",{className:"bg-danger-light w-[100px] flex  items-center ltr:rounded-l-md rtl:rounded-r-md px-2 text-[16px]  border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:"Status"}),s("select",{onChange:B=>k(B),name:"status",className:"form-select text-white-dark  py-2 text-xs ltr:rounded-l-none rtl:rounded-r-none",children:[e("option",{value:"",children:"-- Select Status --"}),o.map(B=>e("option",{value:B.value,children:B.value},B.id))]})]}),e("span",{className:"text-danger text-[13px]",children:I==null?void 0:I.status})]}),s("div",{className:"mb-2",children:[s("div",{className:"flex",children:[e("div",{className:"bg-danger-light w-[100px] flex  items-center ltr:rounded-l-md rtl:rounded-r-md px-2 text-[16px]  border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:"Phone"}),s("select",{onChange:B=>k(B),name:"phone",className:"form-select text-white-dark  py-2 text-xs ltr:rounded-l-none rtl:rounded-r-none",children:[e("option",{value:"",children:"-- Select Phone --"}),f.map((B,R)=>e("option",{value:B,children:B},R+1))]})]}),e("span",{className:"text-danger text-[13px]",children:I==null?void 0:I.phone})]}),s("div",{className:"mb-2",children:[s("div",{className:"flex",children:[e("div",{className:"bg-danger-light w-[100px] flex  items-center ltr:rounded-l-md rtl:rounded-r-md px-2 text-[16px]  border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:"Source"}),s("select",{onChange:B=>k(B),name:"source",className:"form-select text-white-dark  py-2 text-xs ltr:rounded-l-none rtl:rounded-r-none",children:[e("option",{value:"",children:"-- Select Source --"}),f.map((B,R)=>e("option",{value:B,children:B},R+1))]})]}),e("span",{className:"text-danger text-[13px]",children:I==null?void 0:I.source})]}),s("div",{className:"mb-2",children:[s("div",{className:"flex",children:[e("div",{className:"bg-[#eee] w-[100px] flex  items-center ltr:rounded-l-md rtl:rounded-r-md px-2 text-[16px]  border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:"Name"}),s("select",{onChange:B=>k(B),name:"name",className:"form-select text-white-dark  py-2 text-xs ltr:rounded-l-none rtl:rounded-r-none",children:[e("option",{value:"",children:"-- Select Name --"}),f.map((B,R)=>e("option",{value:B,children:B},R+1))]})]}),e("span",{className:"text-danger text-[13px]",children:I==null?void 0:I.name})]}),s("div",{className:"mb-2",children:[s("div",{className:"flex",children:[e("div",{className:"bg-[#eee] w-[100px] flex  items-center ltr:rounded-l-md rtl:rounded-r-md px-2 text-[16px]  border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:"Email"}),s("select",{onChange:B=>k(B),name:"email",className:"form-select text-white-dark  py-2 text-xs ltr:rounded-l-none rtl:rounded-r-none",children:[e("option",{value:"",children:"-- Select Email --"}),f.map((B,R)=>e("option",{value:B,children:B},R+1))]})]}),e("span",{className:"text-danger text-[13px]",children:I==null?void 0:I.email})]}),s("div",{className:"mb-2",children:[s("div",{className:"flex",children:[e("div",{className:"bg-[#eee] w-[100px] flex  items-center ltr:rounded-l-md rtl:rounded-r-md px-2 text-[16px]  border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:"City"}),s("select",{onChange:B=>k(B),name:"city",className:"form-select text-white-dark  py-2 text-xs ltr:rounded-l-none rtl:rounded-r-none",children:[e("option",{value:"",children:"-- Select City --"}),f.map((B,R)=>e("option",{value:B,children:B},R+1))]})]}),e("span",{className:"text-danger text-[13px]",children:I==null?void 0:I.city})]})]})]}),s("div",{className:"flex justify-between px-8 items-center mt-8",children:[e("button",{type:"button",onClick:()=>a(!1),className:"btn btn-danger shadow",children:"Discard"}),e("button",{type:"button",disabled:!!g,onClick:()=>N(),className:"btn btn-success shadow ltr:ml-4 rtl:mr-4",children:"Validate"})]})]}):h=="import"?e(J,{children:e(o3,{setModal3:a,validInfo:y,importData:v,unique_id:C,setAction:m,checkLeadUpload:u,params:_})}):null]})})})})]})})})},o3=({setModal3:t,validInfo:a,importData:n,unique_id:r,setAction:i,checkLeadUpload:o,params:m})=>{const{logout:u,crmToken:c,apiUrl:p}=ee(),[f,h]=l.useState(0),[b,S]=l.useState(!1),I=w=>{let _=0;return w<=4999?_=200:w>=5e3&&w<=9999?_=250:w>=1e4&&w<=24999?_=500:w>=25e3&&w<=49999?_=1e3:w>=5e4&&w<=99999?_=2e3:w>=1e5&&w<=249999?_=2500:(w>=25e4&&w<=499999,_=5e3),_},T=async()=>{var E;const w=n;console.log(w);const _=w.length;if(_>5e6)return alert("Maximum 5k records per upload"),0;let A=I(_);const g=100/Math.ceil(_/A);h(0),console.log(_),S(!0);try{for(let N=0;N<_;N+=A){const d={leads:w.slice(N,N+A).map(M=>M),total:N?null:_,unique_id:N?null:r,is_to_employee:N?null:m.is_to_employee,user_id:N?null:m.user_id};(await K({method:"post",data:d,url:p+"/api/lead-bulk-upload",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}})).data.status=="success"&&(h(M=>M+g),console.log(g))}i("move"),o(),console.log("completed")}catch(N){console.log(N),((E=N==null?void 0:N.response)==null?void 0:E.status)==401&&u()}finally{}};return s(J,{children:[s("div",{className:"flex justify-around m-5 text-white",children:[s("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400",children:[e("div",{className:"",children:e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Total Leads"})}),e("div",{className:" items-center mt-5",children:e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.total})})]}),s("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400",children:[e("div",{className:"",children:e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Invali Leads"})}),e("div",{className:" items-center mt-5",children:e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a.invalid})})]}),s("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400",children:[e("div",{className:"",children:e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Duplicate Leads"})}),e("div",{className:" items-center mt-5",children:e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a.duplicate})})]}),s("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400",children:[e("div",{className:"",children:e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Valid Leads"})}),e("div",{className:" items-center mt-5",children:e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a.valid})})]})]}),e("div",{className:"h-[100px] items-center p-3.5 rounded text-primary  text-center ",children:f?e("div",{className:"bg-black/10 rounded-full w-2/3 m-auto",children:e("div",{className:"bg-primary h-4 rounded-full animated-progress",style:{backgroundImage:"linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)",backgroundSize:"1rem 1rem",width:`${Math.round(f)}%`}})}):e("span",{className:"ltr:pr-2 rtl:pl-2",children:s("strong",{className:"ltr:mr-1 rtl:ml-1 text-2xl",children:[a.valid," leads are ready to upload to server!"]})})}),s("div",{className:"flex justify-between px-8 items-center mt-2 bg-danger/10 p-3",children:[e("button",{type:"button",onClick:()=>t(!1),className:"btn btn-danger shadow",children:"Discard"}),a.valid?e("button",{type:"button",onClick:()=>T(),className:"btn btn-success shadow ltr:ml-4 rtl:mr-4",children:"Upload To Server"}):""]})]})},c3=({className:t,fill:a=!1,duotone:n=!0})=>e("svg",{width:"111",height:"22",viewBox:"0 0 116 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e("path",{d:"M0.645796 11.44C0.215273 11.6829 0.0631375 12.2287 0.305991 12.6593C0.548845 13.0898 1.09472 13.2419 1.52525 12.9991L0.645796 11.44ZM49.0622 20.4639L48.9765 19.5731L48.9765 19.5731L49.0622 20.4639ZM115.315 2.33429L105.013 3.14964L110.87 11.6641L115.315 2.33429ZM1.52525 12.9991C10.3971 7.99452 17.8696 10.3011 25.3913 13.8345C29.1125 15.5825 32.9505 17.6894 36.8117 19.2153C40.7121 20.7566 44.7862 21.7747 49.148 21.3548L48.9765 19.5731C45.0058 19.9553 41.2324 19.0375 37.4695 17.5505C33.6675 16.0481 30.0265 14.0342 26.1524 12.2143C18.4834 8.61181 10.3 5.99417 0.645796 11.44L1.52525 12.9991ZM49.148 21.3548C52.4593 21.0362 54.7308 19.6545 56.4362 17.7498C58.1039 15.8872 59.2195 13.5306 60.2695 11.3266C61.3434 9.07217 62.3508 6.97234 63.8065 5.35233C65.2231 3.77575 67.0736 2.6484 69.8869 2.40495L69.7326 0.62162C66.4361 0.906877 64.1742 2.26491 62.475 4.15595C60.8148 6.00356 59.703 8.35359 58.6534 10.5568C57.5799 12.8105 56.5678 14.9194 55.1027 16.5557C53.6753 18.1499 51.809 19.3005 48.9765 19.5731L49.148 21.3548ZM69.8869 2.40495C72.2392 2.2014 75.0889 2.61953 78.2858 3.35001C81.4816 4.08027 84.9116 5.09374 88.4614 6.04603C91.9873 6.99189 95.6026 7.86868 99.0694 8.28693C102.533 8.70483 105.908 8.67299 108.936 7.75734L108.418 6.04396C105.72 6.85988 102.621 6.91239 99.2838 6.50981C95.9496 6.10757 92.4363 5.25904 88.9252 4.31715C85.4382 3.38169 81.9229 2.34497 78.6845 1.60499C75.4471 0.865243 72.3735 0.393097 69.7326 0.62162L69.8869 2.40495Z",fill:"currentColor"})}),d3=({fileInfo:t,setAction:a,checkLeadUpload:n})=>{const{logout:r,crmToken:i,apiUrl:o}=ee(),m=_e(T=>T.themeConfig.moveLeadData),u=ve();l.useEffect(()=>{u(Se("Move Lead"))});const[c,p]=l.useState("general"),[f,h]=l.useState(0),[b,S]=l.useState(0);l.useEffect(()=>{m!=null&&m.value&&(h(m.value),b||S(!0))},[m]),l.useEffect(()=>{S(t.is_moving),t.is_moving||h(0)},[t]);const I=async()=>{var T;S(!0);try{const w=await K({method:"post",url:o+"/api/move-leads",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});w.data.status=="success"&&re.fire({icon:"success",title:w.data.message,html:`<div class="text-dark font-extrabold w-[230px] m-auto">
                            <div class="mb-5 flex justify-between ">
                                <div><span>Total</span></div>
                                <div><b>${w.data.data.total}</b></div>
                            </div>
                            <div class="mb-5 flex justify-between ">
                                <div><span>Inserted</span></div>
                                <div><b>${w.data.data.inserted}</b></div>
                            </div>
                            <div class="mb-5 flex justify-between">
                                <div><span>Invalid</span></div>
                                <div><b>${w.data.data.invalid}</b></div>
                            </div>
                            <div class="mb-5 flex justify-between ">
                                <div><span>Duplicate</span></div>
                                <div><b>${w.data.data.duplicate}</b></div>
                            </div>
                          </div>`,showCloseButton:!0,showCancelButton:!1,focusConfirm:!1,allowOutsideClick:!1,confirmButtonText:'<i className="flaticon-checked-1"></i> Great!',padding:"2em",customClass:"sweet-alerts"}).then(_=>{_.value&&(a("upload"),n())})}catch(w){console.log(w),((T=w==null?void 0:w.response)==null?void 0:T.status)==401&&r()}finally{S(!1)}};return s("div",{children:[s("div",{className:"relative rounded-t-md bg-primary-light bg-[url(/assets/images/auth/map.png)] bg-contain bg-left-top bg-no-repeat px-5 py-10 dark:bg-black md:px-10",children:[e("div",{className:"absolute -bottom-1 -end-6 hidden text-[#DBE7FF] rtl:rotate-y-180 dark:text-[#1B2E4B] lg:block xl:end-0"}),s("div",{className:"relative",children:[s("div",{className:"flex flex-col items-center justify-center sm:-ms-32 sm:flex-row xl:-ms-60",children:[e("div",{className:"mb-2 flex gap-1 text-end text-base leading-5 sm:flex-col xl:text-xl",children:e("span",{children:"Lets Move"})}),e("div",{className:"me-4 ms-2 hidden sm:block text-[#0E1726] dark:text-white rtl:rotate-y-180",children:e(c3,{className:"w-16 xl:w-28"})}),s("div",{className:"mb-2 text-center text-2xl font-bold dark:text-white md:text-5xl",children:[t.total," Leads "]})]}),s("p",{className:"mb-9 text-center text-base font-semibold",children:[t.total," Leads are ready to move to leads table"]}),b?e("div",{className:"bg-black/10 rounded-full w-2/3 m-auto",children:e("div",{className:"bg-primary h-4 rounded-full animated-progress",style:{backgroundImage:"linear-gradient(45deg,hsla(0,0%,100%,.15) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.15) 0,hsla(0,0%,100%,.15) 75%,transparent 0,transparent)",backgroundSize:"1rem 1rem",width:`${Math.round(f)}%`}})}):"",e("div",{className:"mt-4",children:e("button",{type:"button",onClick:()=>I(),className:"btn btn-primary  shadow-none m-auto",disabled:!!b,children:b?"Moving....":"Move Leads"})}),e("div",{className:"text-center mt-5",children:e("p",{children:s("b",{children:[e("span",{className:"text-black/75",children:"Leads Uploaded "}),t.created_at]})})})]})]}),e("div",{className:"mb-12 flex items-center rounded-b-md bg-[#DBE7FF] dark:bg-[#141F31]",children:s("ul",{className:"mx-auto flex items-center gap-5 overflow-auto whitespace-nowrap px-3 py-4.5 xl:gap-8",children:[s("li",{className:`group flex min-w-[120px] cursor-pointer flex-col items-center justify-center gap-2 rounded-md px-8 py-2.5 text-center text-[#506690] duration-300 hover:bg-white hover:text-primary dark:hover:bg-[#1B2E4B]
                    bg-white text-primary dark:bg-[#1B2E4B] `,children:[s("b",{children:[" ",t.total]}),e("h6",{className:"font-bold text-black dark:text-white",children:"Total Leads"})]}),s("li",{className:`group flex min-w-[120px] cursor-pointer flex-col items-center justify-center gap-4 rounded-md px-8 py-2.5 text-center text-[#506690] duration-300 hover:bg-white hover:text-primary dark:hover:bg-[#1B2E4B]
                    ${c==="quick-support"?"bg-white text-primary dark:bg-[#1B2E4B]":""}`,children:[e("b",{children:"-"}),e("h6",{className:"font-bold text-black dark:text-white",children:"Invalid Leads"})]}),s("li",{className:`group flex min-w-[120px] cursor-pointer flex-col items-center justify-center gap-4 rounded-md px-8 py-2.5 text-center text-[#506690] duration-300 hover:bg-white hover:text-primary dark:hover:bg-[#1B2E4B]
                    ${c==="free-updates"?"bg-white text-primary dark:bg-[#1B2E4B]":""}`,children:[e("b",{children:" -"}),e("h6",{className:"font-bold text-black dark:text-white",children:"Duplicate Leads"})]}),s("li",{className:`group flex min-w-[120px] cursor-pointer flex-col items-center justify-center gap-4 rounded-md px-8 py-2.5 text-center text-[#506690] duration-300 hover:bg-white hover:text-primary dark:hover:bg-[#1B2E4B]
                    ${c==="pricing"?"bg-white text-primary dark:bg-[#1B2E4B]":""}`,children:[e("b",{children:"-"}),e("h6",{className:"font-bold text-black dark:text-white",children:"Moved Leads"})]})]})})]})};function u3(){const{logout:t,crmToken:a,apiUrl:n}=ee();Re();const r=ve();l.useEffect(()=>{a&&(r(Se("Upload Lead")),w())},[a]);const[i,o]=l.useState(!0),[m,u]=l.useState(""),[c,p]=l.useState([]),[f,h]=l.useState([]),[b,S]=l.useState([]),[I,T]=l.useState([]),w=async()=>{var _;o(!0);try{const A=await K({method:"get",url:n+"/api/check-upload-lead",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});A.data.status=="success"&&(u(A.data.action),A.data.action=="upload"?(h(A.data.statuses),p(A.data.states),T(A.data.employees)):A.data.action=="move"&&S(A.data.fileInfo))}catch(A){console.log(A),((_=A==null?void 0:A.response)==null?void 0:_.status)==401&&t()}finally{o(!1)}};return e("div",{className:"panel p-3 flex-1 ",children:e("div",{className:"relative h-full",children:i?e(be,{}):m=="upload"?e(i3,{states:c,statuses:f,setAction:u,checkLeadUpload:w,employees:I}):m=="move"?e(d3,{fileInfo:b,setAction:u,checkLeadUpload:w}):null})})}function Ga({title:t,message:a,buttons:n}){return console.log(n),e("div",{className:"max-w-md mx-auto mt-8",children:e("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg shadow-lg overflow-hidden",children:s("div",{className:"p-6 text-white",children:[e("div",{className:"flex justify-center mb-4",children:e(vr,{size:50})}),e("h2",{className:"text-2xl font-bold text-center mb-2",children:t}),s("p",{className:"text-center mb-6",children:[a,"."]}),e("div",{className:"flex justify-center space-x-4",children:n==null?void 0:n.map(r=>e(m3,{button:r}))})]})})})}const m3=({button:t})=>e(J,{children:t.action=="link"?e(Q,{to:t.url,className:"bg-purple-700 text-white px-4 py-2 rounded-full font-semibold hover:bg-purple-800 transition-colors duration-300",children:t.title}):t.action=="click"?e("button",{onClick:t.callback,type:"button",className:"bg-purple-700 text-white px-4 py-2 rounded-full font-semibold hover:bg-purple-800 transition-colors duration-300",children:t.title}):null});function Jl({createSaleDrawer:t,setCreateSaleDrawer:a,selectedLead:n}){var W,q,D;const{logout:r,crmToken:i,authUser:o,apiUrl:m,settingData:u}=ee(),[c,p]=l.useState(!1),f=ve();l.useEffect(()=>{f(Se("Create Sale"))},[]);const[h,b]=l.useState([]),[S,I]=l.useState([]),[T,w]=l.useState([]);l.useEffect(()=>{n&&t&&_()},[n,t]);const _=async()=>{var V;p(!0);try{const j=await K({method:"get",url:m+"/api/sales/create",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});j.data.status=="success"&&(I(j.data.data.dropdowns),b(j.data.data.products),w(j.data.data.bankqrcode))}catch(j){((V=j==null?void 0:j.response)==null?void 0:V.status)==401&&r()}finally{p(!1)}},[A]=l.useState({bank:"",client_type:"",sale_service:"",sale_upload_reciept:"",sale_date:"",start_date:"",due_date:"",product_id:"",sale_price:"",client_paid:"",offer_price:"",inclusive_gst:"",gst_value:"",description:"",is_custom_price:0}),k=l.useRef(null),[g,E]=l.useState("https://dummyimage.com/600x400/000/fff"),N=V=>{const{name:j}=V.target,U=V.target.files[0];if(M({...y,[j]:""}),U){if(U.size>4194304){M({...y,[j]:"Maximum file size is 2 MB"});return}if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(U.type)){M({...y,[j]:"Invalid file type. Only JPG, PNG, PDF allowed"});return}const X=new FileReader;U.type.startsWith("image/")&&(X.onload=function(ae){E(X.result)},X.readAsDataURL(U)),d({...v,[j]:U})}},[v,d]=l.useState([]);l.useEffect(()=>{n&&d(A)},[n]);const[y,M]=l.useState({}),[C,x]=l.useState(!1),L=V=>{const{value:j,name:U}=V.target;console.log(j,U),M({...y,[U]:""}),d({...v,[U]:j})};l.useEffect(()=>{if(v.sale_price&&v.client_paid){let V="",j="",U="",Z=0;if(Number(v.client_paid)){if(u!=null&&u.gst_enabled){const Y=100+Number(u==null?void 0:u.gst_value);let X=Number(v.client_paid)/Y*100;V=(v.client_paid-X).toFixed(2),j=X.toFixed(2)}Number(v.client_paid)<=Number(v.sale_price)?U=v.sale_price-v.client_paid:U=0}else V=j=U="";parseFloat(v.client_paid)>parseFloat(v.sale_price)?Z=1:Z=0,Z=parseFloat(v.client_paid)>parseFloat(v.sale_price)?1:0,M({...y,offer_price:"",inclusive_gst:"",gst_value:"",client_paid:""}),d({...v,offer_price:U,inclusive_gst:j,gst_value:V,is_custom_price:Z})}},[v.sale_price,v.client_paid]),l.useEffect(()=>{if(v.product_id){const V=h.find(j=>j.id==v.product_id);M({...y,product_id:""}),d({...v,product_id:V.id,product_pricr:V.pro_price,sale_price:V.pro_price})}},[v.product_id]);const[F,O]=l.useState([]),$=V=>{M({...y,sale_service:""});const j=V.map(Y=>Y.value),U=j.includes("WhatsApp"),Z=j.includes("SMS");if(U&&Z){alert("You can select either 'WhatsApp' or 'SMS', but not both.");return}O(V),d({...v,sale_service:JSON.stringify(j)})};function B(V){return!!(/^[0-9]+(\.[0-9]+)?$/.test(V)&&parseFloat(V)>0)}const R=()=>{M({});let V={};return v.product_id||(V={...V,product_id:"product is required"}),v.bank||(V={...V,bank:"bank is required"}),v.client_type||(V={...V,client_type:"client type is required"}),v.client_paid?B(v.client_paid)||(V={...V,client_paid:"invalid amount"}):V={...V,client_paid:"client paid is required"},v.due_date&&v.start_date>v.due_date&&(V={...V,due_date:"Due Date can not be less than start date"}),v.sale_service?JSON.parse(v.sale_service).length||(V={...V,sale_service:"sale service is required"}):V={...V,sale_service:"sale service is required"},M(V),{totalErrors:Object.keys(V).length}},P=async V=>{var U,Z;x(!0);try{const Y=await K({method:"post",url:m+"/api/sales",data:V,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});Y.data.status=="success"?(re.fire({icon:Y.data.status,title:Y.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),d(A),O([]),a(!1)):alert("Failed")}catch(Y){if(console.log(Y),((U=Y==null?void 0:Y.response)==null?void 0:U.status)==401&&r(),((Z=Y==null?void 0:Y.response)==null?void 0:Z.status)===422){const X=Y.response.data.errors;let ae={};for(var j in X)ae={...ae,[j]:X[j][0]};M(ae),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{x(!1)}},z=()=>{if(R().totalErrors)return!1;const j=new FormData;j.append("lead_id",n.id),j.append("bank",v.bank),j.append("client_type",v.client_type),j.append("sale_service",v.sale_service),j.append("sale_upload_reciept",v.sale_upload_reciept),j.append("product_id",v.product_id),j.append("client_paid",v.client_paid),j.append("sale_date",v.sale_date?H(v.sale_date):""),j.append("start_date",v.start_date?H(v.start_date):""),j.append("due_date",v.due_date?H(v.due_date):""),j.append("description",v.description),P(j)};function H(V){let j=new Date(V),U=j.getFullYear(),Z=String(j.getMonth()+1).padStart(2,"0"),Y=String(j.getDate()).padStart(2,"0");return`${U}-${Z}-${Y}`}return l.useState(!1),s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[900px] rtl:-left-[900px] top-0 bottom-0 w-full max-w-[900px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:c?e(be,{}):t?s(J,{children:[s("div",{className:"w-full text-center",children:[s("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4",children:[e("div",{className:"ltr:mr-3 rtl:ml-3 flex items-center",children:s("h5",{className:"font-semibold text-lg dark:text-white-light",children:["Create Sale (",o==null?void 0:o.first_name," ",o==null?void 0:o.last_name," )"]})}),s("div",{className:"flex items-center gap-2 justify-center sm:justify-end sm:flex-auto flex-1",children:[e("button",{className:"badge bg-success mr-[15px] shadow",disabled:C,onClick:()=>z(),children:C?"Please Wait...":"Create Sale"}),e("button",{type:"button",className:"bg-[#f4f4f4] ml-[15px] rounded-md p-1 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30",onClick:()=>a(!1),children:e(It,{className:" w-5 h-5"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"})]}),T!=null&&T.length?h!=null&&h.length?s("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5 px-2",children:[e("div",{className:"gap-6 w-full",children:e("div",{className:"mb-5 flex items-center justify-center",children:e("div",{className:" w-full bg-white shadow-[4px_6px_10px_-3px_#bfc9d4] rounded border border-white-light dark:border-[#1b2e4b] dark:bg-[#191e3a] dark:shadow-none",children:s("div",{className:"p-5 flex items-center flex-col sm:flex-row",children:[e("div",{className:"mb-5 w-20 h-20 rounded-full overflow-hidden",children:e("img",{src:`https://ui-avatars.com/api/?background=0D8ABC&color=fff&name=${n.first_name+" "+n.last_name}`,className:"rounded-full h-12 w-12 w-full h-full object-cover",alt:""})}),s("div",{className:"flex-1 ltr:sm:pl-5 rtl:sm:pr-5 text-center sm:text-left",children:[e("h5",{className:"text-[#3b3f5c] text-[20px] font-semibold mb-2 dark:text-white-light",children:n.first_name+" "+n.last_name}),e("p",{className:"mb-2 text-dark",children:n.phone}),s("p",{className:"mb-2 text-white-dark",children:["Alt No.- ",n.second_phone]}),s("p",{className:"mb-2 text-white-dark",children:["Email - ",n.email]})]}),s("div",{className:"flex-1 ltr:sm:pl-5 rtl:sm:pr-5 text-center sm:text-left",children:[s("div",{children:[s("label",{children:["Sale Service ",e("span",{className:" text-red-600 text-[15px] ",children:"*"})," "]}),e(rt,{isMulti:!0,value:F,onChange:$,options:(q=(W=S==null?void 0:S.filter(V=>V.type==="Service By"))==null?void 0:W.map(V=>(u==null?void 0:u.sms_enabled)!==0&&V.value==="SMS"?{value:V.value,label:V.value}:(u==null?void 0:u.app_enabled)!==0&&V.value==="Mobile App"?{value:V.value,label:V.value}:(u==null?void 0:u.whatsapp_enabled)!==0&&V.value==="WhatsApp"?{value:V.value,label:V.value}:V.value==="Calls"?{value:V.value,label:V.value}:null))==null?void 0:q.filter(V=>V!==null)}),e("div",{className:"text-danger mt-1",children:y.sale_service})]}),s("div",{className:"mb-5",children:[e("label",{children:"Upload Receipt"}),e("input",{ref:k,name:"sale_upload_reciept",type:"file",onChange:V=>N(V),className:"form-input ",accept:".jpg,.jpeg,.png,.pdf"}),y!=null&&y.sale_upload_reciept?e("div",{className:"text-danger mt-1",children:y.sale_upload_reciept}):""]})]})]})})})}),s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4",children:[s("div",{children:[s("label",{children:["Bank Details ",e("span",{className:"text-red-600 text-[15px]",children:"*"})," "]}),s("select",{name:"bank",className:"form-select text-white-dark",value:v.bank,onChange:V=>L(V),children:[e("option",{value:"",disabled:!0,children:"Select Bank Details"}),T==null?void 0:T.map((V,j)=>e("option",{value:V.id,children:V.is_bank_upi=="bank"?"Bank - "+V.bank_name:"Upi - "+V.upi},j+1))]}),e("div",{className:"text-danger mt-1",children:y.bank})]}),s("div",{children:[s("label",{children:["Client Type ",e("span",{className:"text-red-600 text-[15px]",children:"*"})]}),s("select",{name:"client_type",className:"form-select text-white-dark",value:v.client_type,onChange:V=>L(V),disabled:v.client_type=="Closed Won",children:[e("option",{value:"",disabled:!0,children:"Select Client Type"}),(D=S==null?void 0:S.filter(V=>V.type=="Client Type"))==null?void 0:D.map(V=>e("option",{children:V.value},V.id))]}),e("div",{className:"text-danger mt-1",children:y.client_type})]}),s("div",{children:[s("label",{children:["Product ",e("span",{className:"text-red-600 text-[15px]",children:"*"})]}),s("select",{name:"product_id",className:"form-select text-white-dark",value:v.product_id,onChange:V=>L(V),disabled:v.product_id=="Closed Won",children:[e("option",{value:"",disabled:!0,children:"Select Product"}),h==null?void 0:h.map(V=>e("option",{value:V.id,children:V.pro_name},V.id))]}),e("div",{className:"text-danger mt-1",children:y.product_id})]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mt-4",children:[s("div",{children:[e("label",{children:"Sale Price"}),e("input",{name:"sale_price",type:"text",value:v.sale_price,onChange:V=>L(V),placeholder:"",className:"form-input bg-info-light",disabled:!0}),e("div",{className:"text-danger mt-1",children:y.sale_price})]}),s("div",{children:[s("label",{children:["Client Paid ",e("span",{className:"text-red-600 text-[15px]",children:"*"}),v.is_custom_price?e("span",{className:"mx-2 badge bg-[#ef4444]",children:"Custom Price"}):null]}),e("input",{name:"client_paid",type:"tel",value:v.client_paid,onChange:V=>L(V),placeholder:"Enter Amount",className:`form-input ${v.sale_price?"":"bg-[#ebedf2]"}`,disabled:!v.sale_price}),e("div",{className:"text-danger mt-1",children:y.client_paid})]}),s("div",{children:[e("label",{children:"Offer Price"}),e("input",{name:"offer_price",type:"text",value:v.offer_price,className:"form-input bg-info-light",disabled:!0}),e("div",{className:"text-danger mt-1",children:y.offer_price})]}),u!=null&&u.gst_enabled?s(J,{children:[s("div",{children:[e("label",{children:"Inclusive GST"}),e("input",{name:"inclusive_gst",type:"text",value:v.inclusive_gst,className:"form-input bg-info-light",disabled:!0}),e("div",{className:"text-danger mt-1",children:y.inclusive_gst})]}),s("div",{children:[e("label",{children:"GST Value"}),e("input",{name:"gst_value",type:"text",value:v.gst_value,className:"form-input bg-info-light",disabled:!0}),e("div",{className:"text-danger mt-1",children:y.gst_value})]})]}):null,s("div",{children:[e("label",{children:"Sale Date"}),e(Je,{name:"sale_date",disabled:(o==null?void 0:o.user_type)=="BDE",value:v.sale_date,onChange:V=>L({target:{value:V[0],name:"sale_date"}}),options:{dateFormat:"Y-m-d",position:"auto left"},className:`form-input ${(o==null?void 0:o.user_type)=="BDE"?"bg-[#ebedf2]":""}`}),e("div",{className:"text-danger mt-1",children:y.sale_date})]}),s("div",{children:[e("label",{children:"Start Date"}),e(Je,{name:"start_date",value:v.start_date,onChange:V=>L({target:{value:V[0],name:"start_date"}}),options:{dateFormat:"Y-m-d",position:"auto left"},className:"form-input"}),e("div",{className:"text-danger mt-1",children:y.start_date})]}),s("div",{children:[e("label",{children:"Due Date"}),e(Je,{name:"due_date",disabled:(o==null?void 0:o.user_type)=="BDE"||!v.start_date,value:v.due_date,onChange:V=>L({target:{value:V[0],name:"due_date"}}),options:{dateFormat:"Y-m-d",position:"auto left",minDate:v.start_date},className:`form-input ${(o==null?void 0:o.user_type)=="BDE"||!v.start_date?"bg-[#ebedf2]":""}`}),e("div",{className:"text-danger mt-1",children:y.due_date})]})]}),s("div",{className:"mt-4",children:[s("div",{className:"flex",children:[e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b] whitespace-nowrap",children:"Description"}),e("textarea",{name:"description",value:v.description,onChange:V=>L(V),rows:4,className:"form-textarea ltr:rounded-l-none rtl:rounded-r-none"})]}),e("div",{className:"text-danger mt-1",children:y.description})]})]}):e(Ga,{title:"No Product Found!",message:"To create a sale, you need to add a Product in the Settings Products",buttons:[{title:"Go to Products",url:"/settings/products",action:"link",color:""}]}):e(Ga,{title:"No Bank or QR Code Found!",message:"To create a sale, you need to add a bank account or QR code in the Settings Payments",buttons:[{title:"Go to Payments",url:"/settings/payments",action:"link",color:""}]})]}):null})})]})}function h3({statusModel:t,setStatusModel:a,selectedLead:n,leadStatus:r,fetchLeads:i,allLeadProducts:o}){const{logout:m,crmToken:u,apiUrl:c}=ee(),[p]=l.useState({status:"",free_trial:"",followup:"",products:[]}),[f,h]=l.useState(p),[b,S]=l.useState({});l.useEffect(()=>{n&&t&&(h({...f,status:n.status,free_trial:n.free_trial,followup:n.followup}),S({}))},[t,n]);const I=E=>{const{value:N,name:v}=E.target;S({...b,[v]:""}),h({...f,[v]:N})},[T,w]=l.useState(!1),_=()=>{S({});let E={};return f.status?f.status=="Free Trial"&&!f.free_trial?E={...E,free_trial:"Free Trial Date Is Required"}:f.status=="Follow Up"&&!f.followup&&(E={...E,followup:"Follow Up Date Is Required"}):E={...E,status:"status is required"},f.status=="Free Trial"&&!f.products.length&&(E={...E,products:"products is mandatory"}),S(E),{totalErrors:Object.keys(E).length}},A=async E=>{var v,d;w(!0);try{const y=await K({method:"post",url:c+"/api/update-lead-status",data:E,headers:{"Content-Type":"application/json",Authorization:"Bearer "+u}});y.data.status=="success"?(i(),re.fire({title:y.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),a(!1)):re.fire({icon:y.data.status,title:y.data.title,text:y.data.message,padding:"2em",customClass:"sweet-alerts"})}catch(y){if(console.log(y),((v=y==null?void 0:y.response)==null?void 0:v.status)==401&&m(),((d=y==null?void 0:y.response)==null?void 0:d.status)===422){const M=y.response.data.errors;let C={};for(var N in M)C={...C,[N]:M[N][0]};S(C),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{w(!1)}},k=()=>{var v;if(_().totalErrors)return!1;const N=new FormData;N.append("id",n.id),N.append("status",f.status),N.append("free_trial",f.free_trial),N.append("followup",f.followup),N.append("products",(v=f==null?void 0:f.products)!=null&&v.length?JSON.stringify(f.products):JSON.stringify([])),A(N)},g=E=>E&&E.length?E.map(N=>({value:N,label:N})):[];return e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>a(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"font-bold text-lg",children:"Update Lead Status "}),e("button",{type:"button",onClick:()=>a(!1),className:"text-white-dark hover:text-dark",children:e(xr,{size:25,color:"black"})})]}),s("div",{className:"p-5 bg-secondary-light",children:[s("div",{className:"flex justify-between items-center",children:[s("div",{className:"flex items-center",children:[e("div",{className:"flex-none",children:e("img",{src:`https://ui-avatars.com/api/?background=0D8ABC&color=fff&name=${n==null?void 0:n.first_name} ${n==null?void 0:n.last_name}`,className:"rounded-full h-12 w-12 object-cover",alt:""})}),s("div",{className:"mx-3",children:[s("p",{className:"mb-1 font-semibold",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),e("p",{className:"text-xs text-white-dark",children:n==null?void 0:n.phone})]})]}),e("div",{children:e("span",{className:"badge bg-secondary",children:n==null?void 0:n.status})})]}),s("div",{className:"m-4",children:[e("select",{className:"form-select",value:f==null?void 0:f.status,name:"status",onChange:E=>I(E),children:r==null?void 0:r.map((E,N)=>e("option",{value:E,children:E},N))}),e("div",{className:"text-danger text-[14px] font-bold mt-1",children:b.status})]}),(f==null?void 0:f.status)=="Free Trial"&&s(J,{children:[s("div",{className:"m-4",children:[e("label",{className:" text-[13px]",children:"Free Trial"}),e("input",{type:"date",name:"free_trial",className:"form-input",defaultValue:f.free_trial,onChange:E=>I(E),min:new Date().toISOString().split("T")[0]}),e("div",{className:"text-danger text-[14px] font-bold mt-1",children:b.free_trial})]}),s("div",{className:"m-4",children:[e("label",{children:"Products"}),e(rt,{name:"products",onChange:E=>I({target:{name:"products",value:E.map(N=>N.value)}}),value:g(f.products),options:o==null?void 0:o.filter(E=>E.type=="Lead Products"),placeholder:"Select Products",isMulti:!0,className:" text-white-dark",isSearchable:!1}),e("div",{className:"text-danger mt-1",children:b.products})]})]}),(f==null?void 0:f.status)=="Follow Up"&&s("div",{className:"m-4",children:[e("label",{className:" text-[13px]",children:"Follow Up"}),e("input",{type:"date",name:"followup",className:"form-input",defaultValue:f.followup,onChange:E=>I(E),min:new Date().toISOString().split("T")[0]}),e("div",{className:"text-danger text-[14px] font-bold mt-1",children:b.followup})]}),s("div",{className:"flex justify-end items-center mt-8",children:[e("button",{type:"button",onClick:()=>a(!1),className:"btn btn-sm btn-outline-danger",children:"Discard"}),e("button",{type:"button",onClick:()=>k(),disabled:T,className:"btn btn-sm btn-primary ltr:ml-4 rtl:mr-4",children:T?"Please Wait...":" Update Status"})]})]})]})})})})]})})}function p3({requestModal:t,setRequestModal:a}){const{logout:n,crmToken:r,apiUrl:i}=ee();ve();const[o,m]=l.useState(!0);l.useEffect(()=>{t&&p()},[t]);const[u,c]=l.useState([]),p=async()=>{var E;m(!0);try{const N=await K({method:"get",url:i+"/api/state-for-lead-request",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});N.data.status=="success"&&c(N.data.states)}catch(N){console.log(N),((E=N==null?void 0:N.response)==null?void 0:E.status)==401&&n()}finally{m(!1)}},[f]=l.useState({state:"",count:""}),[h,b]=l.useState(f),[S,I]=l.useState({}),T=()=>{I({});let E={};return u[h.state-1],h.state?h.count||(E={...E,count:"count is required"}):E={...E,state:"state is required"},I(E),{totalErrors:Object.keys(E).length}},w=E=>{const{value:N,name:v}=E.target;I({...S,[v]:""}),b({...h,[v]:N})},[_,A]=l.useState(!1),k=async E=>{var v,d;try{A(!0);const y=await K({method:"post",url:i+"/api/lead-request",data:E,headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});y.data.status=="success"?(a(!1),re.fire({title:y.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})):y.data.status=="error"&&re.fire({icon:y.data.status,title:y.data.title,text:y.data.message,padding:"2em",customClass:"sweet-alerts"})}catch(y){if(console.log(y),((v=y==null?void 0:y.response)==null?void 0:v.status)==401&&n(),((d=y==null?void 0:y.response)==null?void 0:d.status)===422){const M=y.response.data.errors;let C={};for(var N in M)C={...C,[N]:M[N][0]},console.log(M[N][0]);I(C),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{A(!1)}},g=()=>{if(T().totalErrors)return!1;const N=new FormData,v=u[h.state-1];N.append("state",v.state),N.append("count",h.count),k(N)};return e("div",{children:e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>{a(!1)},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"register_modal",className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 py-1 px-4 rounded-lg overflow-hidden w-full max-w-sm my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex items-center justify-between p-5 font-semibold text-lg dark:text-white",children:[e("h5",{children:"Lead Request"}),e("button",{type:"button",onClick:()=>a(!1),className:"text-white-dark hover:text-dark",children:e(Ht,{className:"w-5 h-5"})})]}),e("div",{className:"p-3",children:o?e(J,{children:"Loading..."}):s("form",{autoComplete:"off",children:[s("div",{className:"relative mb-4",children:[s("select",{id:"dataType",className:"form-select text-white-dark",name:"state",value:h.state,onChange:E=>w(E),children:[e("option",{value:"",children:"Select State"}),u==null?void 0:u.map((E,N)=>e("option",{value:N+1,children:E.state},N+1))]}),e("div",{className:"text-danger mt-1",children:S.state})]}),s("div",{className:"relative mb-4",children:[e("input",{name:"count",onChange:E=>w(E),value:h.count,type:"text",placeholder:"Enter Count",className:"form-input",disabled:!h.state}),e("div",{className:"text-danger mt-1",children:S.count})]}),e("button",{type:"button",onClick:()=>g(),disabled:_,className:"btn btn-primary w-full",children:_?"Please Wait":"Request"})]})})]})})})})]})})})}function f3({bulkUpdateModal:t,setBulkUpdateModal:a,leadOwners:n,leadStatuses:r,leadSources:i,selectedRecords:o,fetchLeads:m,setSelectedRecords:u,setFirstTime:c}){const{logout:p,crmToken:f,apiUrl:h}=ee();ve();const[b]=l.useState({action:"",value:""}),[S,I]=l.useState(b),[T,w]=l.useState({}),_=()=>{w({});let v={};return S.action||(v={...v,action:"action is required"}),S.value||(v={...v,value:"value is required"}),w(v),{totalErrors:Object.keys(v).length}},A=v=>{const{value:d,name:y}=v.target;y=="action"&&I({...S,value:""}),w({...T,[y]:""}),I({...S,[y]:d})},[k,g]=l.useState(!1),E=async v=>{var y;g(!0);try{const M=await K({method:"post",url:h+"/api/lead-bulk-update",data:v,headers:{"Content-Type":"application/json",Authorization:"Bearer "+f}});M.data.status=="success"?(a(!1),u([]),re.fire({title:M.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),m(1)):M.data.status=="error"&&re.fire({icon:M.data.status,title:M.data.title,text:M.data.message,padding:"2em",customClass:"sweet-alerts"})}catch(M){if(console.log(M),M.response.status==401&&p(),((y=M==null?void 0:M.response)==null?void 0:y.status)===422){const C=M.response.data.errors;let x={};for(var d in C)x={...x,[d]:C[d][0]};w(x),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{g(!1)}},N=()=>{if(_().totalErrors)return!1;const d=new FormData;d.append("action",S.action),d.append("leads",JSON.stringify(o.map(y=>y.id))),d.append("value",S.value),E(d)};return e("div",{className:"mr-1",children:e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>{a(!1)},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"register_modal",className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 py-1 px-4 rounded-lg overflow-hidden w-full max-w-sm my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex items-center justify-between p-5 font-semibold text-lg dark:text-white",children:[s("h5",{children:["Bulk Lead Update (",o.length," Leads)"]}),e("button",{type:"button",onClick:()=>a(!1),className:"text-white-dark hover:text-dark",children:e(Ht,{className:"w-5 h-5"})})]}),e("div",{className:"p-3",children:s("form",{autoComplete:"off",children:[e("div",{className:"relative mb-4",children:s("select",{className:"form-select text-white-dark",name:"action",onChange:v=>A(v),children:[e("option",{value:"",children:"Select DataType"}),e("option",{value:"owner",children:"Lead Owner"}),e("option",{value:"status",children:"Lead Status"}),e("option",{value:"source",children:"Lead Source"})]})}),S.action=="owner"?e(J,{children:e("div",{className:"relative mb-4",children:s("select",{id:"dataType",className:"form-select text-white-dark",name:"value",onChange:v=>A(v),value:S.value,children:[e("option",{value:"",children:"Select Owner"}),n==null?void 0:n.slice(1).map(v=>e("option",{value:v.value,children:v.label}))]})})}):S.action=="status"?e(J,{children:e("div",{className:"relative mb-4",children:s("select",{className:"form-select text-white-dark",name:"value",onChange:v=>A(v),value:S.value,children:[e("option",{children:"Select Status"}),r==null?void 0:r.map(v=>e("option",{value:v,children:v}))]})})}):S.action=="source"?e(J,{children:e("div",{className:"relative mb-4",children:s("select",{className:"form-select text-white-dark",name:"value",onChange:v=>A(v),value:S.value,children:[e("option",{value:"",children:"Select Source"}),i==null?void 0:i.map(v=>e("option",{value:v.value,children:v.value}))]})})}):null,e("button",{type:"button",onClick:()=>N(),className:"btn btn-primary w-full mt-6 mb-3",disabled:k?!0:!S.action,children:k?"Please Wait...":"Update"})]})})]})})})})]})})})}function g3({octModal:t,setOtcModal:a}){var v,d,y,M,C;const{logout:n,crmToken:r,authUser:i,apiUrl:o,selectedBranch:m}=ee(),[u,c]=l.useState([]),p=async()=>{try{const x=await K({method:"get",url:o+"/api/get-data-for-oct",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r,SelectedBranch:m}});x.data.status=="success"&&c(x.data.data),console.log(x)}catch{}finally{}},[f]=l.useState({state:"",status:"",employees:"",count:"",availableLeads:"",maxLeadCount:"",perLeadCount:""}),[h,b]=l.useState([]),[S,I]=l.useState({}),T=x=>{const{value:L,name:F}=x.target;I({...S,[F]:""}),b({...h,[F]:L})};l.useEffect(()=>{h.state&&h.status?w():b({...h,availableLeads:"",employees:"",count:"",maxLeadCount:""})},[h.state,h.status]);const w=async()=>{try{const x=await K({method:"get",url:o+"/api/get-leads-count-for-oct",params:{state:h.state,status:h.status},headers:{"Content-Type":"application/json",Authorization:"Bearer "+r,SelectedBranch:m}});x.data.status=="success"&&b({...h,availableLeads:x.data.leads})}catch{}finally{}};l.useEffect(()=>{t&&(p(),b(f))},[t]),l.useEffect(()=>{var x;if((x=h==null?void 0:h.employees)!=null&&x.length){const L=h.employees.length;b({...h,maxLeadCount:Math.floor(h.availableLeads/L)})}},[h.employees]),l.useEffect(()=>{h.count&&b({...h,perLeadCount:Math.floor(h.count/h.employees.length)})},[h.count,h.employees]);const _=()=>{I({});let x={};return h.status||(x={...x,status:"status is required"}),h.state||(x={...x,state:"state is required"}),h.employees||(x={...x,employees:"employees is required"}),h.count?h.count>h.availableLeads&&(x={...x,count:"count should be below avalilable leads"}):x={...x,count:"count is required"},I(x),{totalErrors:Object.keys(x).length}},[A,k]=l.useState(!1),g=async x=>{var F,O;k(!0);try{const $=await K({method:"post",url:o+"/api/oct-leads",data:x,params:{state:h.state,status:h.status},headers:{"Content-Type":"application/json",Authorization:"Bearer "+r,SelectedBranch:m}});$.data.status=="success"&&(a(!1),N($.data.message),b(f))}catch($){if(((F=$==null?void 0:$.response)==null?void 0:F.status)==401&&n(),((O=$==null?void 0:$.response)==null?void 0:O.status)===422){const B=$.response.data.errors;let R={};for(var L in B)R={...R,[L]:B[L][0]},console.log(B[L][0]);I(R),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{k(!1)}},E=()=>{if(_().totalErrors)return!1;const L=new FormData;L.append("employees",JSON.stringify(h.employees)),L.append("count",h.count),L.append("state",h.state),L.append("status",h.status),g(L)},N=(x="",L="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:L,title:x,padding:"10px 20px"})};return e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>a(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[40] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel bg-transparent h-screen border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg mt-8 text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"font-bold text-lg",children:"One Click Transfer"}),e("button",{type:"button",onClick:()=>a(!1),className:"text-white-dark hover:text-dark",children:e(xr,{size:25,color:"black"})})]}),s("div",{className:"p-5 bg-secondary-light rounded-b-lg",children:[s("div",{className:"grid grid-cols-1 sm:flex justify-between gap-5",children:[s("div",{className:"w-full",children:[e("label",{children:"Status"}),s("select",{id:"ctnSelect1",name:"status",className:"form-select text-white-dark",value:h.status,onChange:x=>T(x),children:[e("option",{value:"",children:"Select Status"}),(v=u==null?void 0:u.statuses)==null?void 0:v.map(x=>e("option",{value:x,children:x}))]}),e("div",{className:"text-danger mt-1",children:S.status})]}),s("div",{className:"w-full",children:[e("label",{children:"State"}),s("select",{id:"ctnSelect1",name:"state",value:h.state,onChange:x=>T(x),className:"form-select text-white-dark",children:[e("option",{value:"",children:"Select State"}),(d=u==null?void 0:u.states)==null?void 0:d.map(x=>e("option",{value:x,children:x}))]}),e("div",{className:"text-danger mt-1",children:S.state})]})]}),h.availableLeads||h.availableLeads=="0"?s(J,{children:[s("div",{className:"text-center mt-4 bg-white p-2 rounded w-fit m-auto px-5 shadow",children:[e("strong",{className:"text-3xl",children:h.availableLeads}),e("h2",{className:"font-semibold text-gray-500",children:"Available Leads"})]}),h.availableLeads?s("div",{className:"mt-4 ",children:[s("label",{children:["Select Employees ",(y=h==null?void 0:h.employees)!=null&&y.length?"(Maximum lead per employee :"+h.maxLeadCount+")":null]}),e(rt,{placeholder:"Select Employees",className:"z-999999999999",onChange:x=>T({target:{name:"employees",value:x.map(L=>L.value)}}),options:(M=u==null?void 0:u.employees)==null?void 0:M.map(x=>({label:x.first_name+" "+(x.last_name?x.last_name:""),value:x.id})),isMulti:!0,isSearchable:!0}),e("div",{className:"text-danger mt-1",children:S.employees}),(C=h==null?void 0:h.employees)!=null&&C.length?s(J,{children:[s("div",{className:"w-full mt-4",children:[e("label",{children:"Count"}),e("input",{type:"number",max:h.maxLeadCount,name:"count",value:h.count,onChange:x=>T(x),placeholder:"Enter Count",className:"form-input",required:!0}),e("div",{className:"text-danger mt-1",children:S.count})]}),h.perLeadCount?s("b",{className:"text-xs",children:[h.perLeadCount," per employee"]}):null]}):null]}):null]}):null,e("div",{className:"flex justify-end items-center mt-8",children:e("button",{type:"button",onClick:()=>E(),disabled:A,className:"btn btn-sm btn-primary ltr:ml-4 rtl:mr-4",children:A?"Please Wait...":" Transfer Now"})})]})]})})})})]})})}function b3(){const{logout:t,crmToken:a,authUser:n,apiUrl:r,selectedBranch:i}=ee(),o=Re(),m=St(),{fOwner:u,fStatus:c,fState:p}=m.state||{};console.log("fOwner",u),l.useEffect(()=>{f(Se("View Leads"))},[]);const f=ve(),h=_e(me=>me.themeConfig.hideCols),[b,S]=l.useState(1),I=[10,25,50,100,250,500,1e3],[T,w]=l.useState(I[0]),[_,A]=l.useState(""),[k,g]=l.useState(u??(localStorage.getItem("leadFilterOwner")||"0")),[E,N]=l.useState(c??(localStorage.getItem("leadFilterStatus")||"0")),[v,d]=l.useState(p??(localStorage.getItem("leadFilterState")||"0")),[y,M]=l.useState([]),[C,x]=l.useState(1),[L,F]=l.useState([]),[O,$]=l.useState([]),[B,R]=l.useState([]),[P,z]=l.useState([]),[H,W]=l.useState(q());function q(){const me=new Date,Ee=me.getFullYear(),He=String(me.getMonth()+1).padStart(2,"0"),mt=String(me.getDate()).padStart(2,"0"),Et=`${Ee}-${He}-${mt}`,$t=`${String(me.getFullYear()).slice(2)}-${He}-${mt}`;return[Et,$t]}const[D,V]=l.useState([]),[j,U]=l.useState(!0),Z=l.useMemo(()=>[{label:"All States",value:0},...B==null?void 0:B.map(me=>({label:me,value:me}))],[B]),Y=l.useCallback(me=>{d(me.value),localStorage.setItem("leadFilterState",me.value.toString())},[]),X=l.useMemo(()=>[{label:"All Status",value:0},{label:"Today's Free Trial",value:"today-free-trial"},{label:"Today's Follow Up",value:"today-follow-up"},...O==null?void 0:O.map(me=>({label:me,value:me}))],[O]),ae=l.useCallback(me=>{N(me.value),localStorage.setItem("leadFilterStatus",me.value.toString())},[]),[he,te]=l.useState(null),G=async(me=0)=>{var Ee;console.log("Fetching Leads........",me),U(!0),te(null);try{const He=await K({method:"get",url:r+"/api/get-leads",params:{page:b,pageSize:T,filterOwner:k,filterStatus:E,filterState:v,search:_,dateRange:H?JSON.stringify(H):0,firstTime:me||C},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a,SelectedBranch:i}});He.data.status=="success"?(M(He.data.data),(C||me)&&(F(He.data.allLeadOwners),$(He.data.allLeadStatus),V(He.data.leadSources),R(He.data.allLeadStates),z(He.data.allLeadProducts),x(0))):M([])}catch(He){((Ee=He==null?void 0:He.response)==null?void 0:Ee.status)==401&&t(),console.log(He),te(He)}finally{U(!1)}},[fe,ne]=l.useState(!1);l.useEffect(()=>{fe&&(G(),ne(!1))},[fe]),l.useEffect(()=>{b!==1?S(1):ne(!0)},[k,E,v,T,H]),l.useEffect(()=>{fe||ne(!0)},[b]),l.useEffect(()=>{C||(x(1),b!==1?S(1):ne(!0))},[i]);const pe=(me,Ee)=>h.includes(me)?f(un(h.filter(He=>He!==me))):f(un([...h,me])),ue=[{accessor:"id",title:"Lead Id",editable:!0},{accessor:"owner",title:"Owner",editable:!0},{accessor:"full_name",title:"Full Name",editable:!1},{accessor:"email",title:"Email",editable:!0},{accessor:"phone",title:"Phone",editable:!1},{accessor:"second_phone",title:"Second Phone",editable:!0},{accessor:"status",title:"Status",editable:!1},{accessor:"invest",title:"Invest",editable:!0},{accessor:"free_trial",title:"First Trail",editable:!0},{accessor:"followup",title:"Follow Up",editable:!0},{accessor:"source",title:"Source",editable:!0},{accessor:"dnd",title:"DND",editable:!0},{accessor:"city",title:"City",editable:!0},{accessor:"state",title:"State",editable:!1},{accessor:"products",title:"Products",editable:!0},{accessor:"desc",title:"Description",editable:!0},{accessor:"created_at",title:"Craeted At",editable:!0},{accessor:"updated_at",title:"Updated At",editable:!0}],le=(me,Ee)=>{un(me.target.value),pe(Ee,me.target.checked)},[Ce,Be]=l.useState([]),[Ue,Te]=l.useState(null),[xe,ye]=l.useState(!1),[Ge,Ke]=l.useState(!1);l.useState(!1);const[de,Ne]=l.useState(!1),[ie,we]=l.useState(!1),[Pe,Qe]=l.useState(!1),se=me=>{me.status=="Closed Won"?(Ke(!0),Te(me)):(Te(me),ye(!0))},ke=({first_name:me,last_name:Ee})=>{const mt=`${me}${Ee?` ${Ee}`:""}`.substring(0,15),Et=`${me}${Ee?` ${Ee}`:""}`;return e(lt,{content:Et,children:e("b",{children:mt})})},Ae=()=>{re.fire({icon:"info",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async me=>{if(me.value)try{(await K({method:"delete",url:r+"/api/leads-mass-delete",params:{leads:JSON.stringify(Ce.map(He=>He.id))},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}})).data.status==="success"&&(Be([]),G())}catch(Ee){console.log(Ee)}finally{}})};return e(J,{children:e(xs,{children:e(J,{children:he?e(v3,{error:he,fetch:G}):s(J,{children:[e("div",{className:"p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:" grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-3",children:[s("div",{className:"flex min-w-[230px] ",children:[e("input",{type:"text",placeholder:"Search by phone",className:"form-input ltr:rounded-r-none rtl:rounded-l-none",onChange:me=>A(me.target.value)}),e("div",{className:"bg-[#eee] cursor-pointer flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>b==1?G():S(1),children:e(Pa,{})})]}),e("div",{className:"flex gap-4",children:(n==null?void 0:n.user_type)=="Admin"?e("div",{children:e("div",{children:e(rt,{placeholder:"Select Lead Owner",onChange:me=>{g(me.value),localStorage.setItem("leadFilterOwner",me.value)},className:"w-[230px] z-10 ",value:L==null?void 0:L.find(me=>me.value==k),options:L})})}):null}),e("div",{className:"flex gap-4",children:e(rt,{placeholder:"Select Lead State",onChange:Y,className:"w-[230px] z-10 ",value:Z.find(me=>me.value===v),options:Z})}),e("div",{className:"flex gap-4",children:e(rt,{placeholder:"Select Lead Status",onChange:ae,className:"w-[230px] z-10 ",value:X.find(me=>me.value===E),options:X})})]}),e("hr",{className:"my-4"}),s("div",{className:"flex justify-between gap-4 items-center",children:[s("div",{className:"relative",children:[e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},value:H,className:"form-input w-[240px] pr-10",onChange:me=>{const Ee=me.map(He=>{const mt=He.getFullYear(),Et=String(He.getMonth()+1).padStart(2,"0"),xa=String(He.getDate()).padStart(2,"0");return`${mt}-${Et}-${xa}`});Ee.length===2&&W(Ee)}}),e("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 cursor-pointer",children:(H==null?void 0:H.length)==2?e(h1,{className:"h-5 w-5 text-gray-600 ",color:"red",onClick:()=>W(null)}):e(p1,{className:"h-5 w-5 text-gray-600"})})]}),s("div",{className:"flex gap-3 justify-end ",children:[n.user_type=="Admin"?s(J,{children:[e(lt,{content:"One Click Transfer",placement:"bottom",children:s("button",{type:"button",className:"btn btn-secondary shadow",onClick:()=>Qe(!0),children:[e(Rg,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"})," O.C.T"]})}),Ce.length?s(J,{children:[e("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>{Ce.length?we(!0):alert("Please select atleast one record")},children:"Data Transfer"}),e("button",{type:"button",className:"bg-[#ff0000] btn text-white",onClick:()=>{Ce.length?Ae():alert("Please select atleast one record")},children:"Mass Delete"})]}):null]}):e("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>Ne(!0),children:"Lead Request"}),e("div",{className:"dropdown mr-1",children:e(us,{btnClassName:"!btn btn-dark flex items-center border font-semibold border-white-light dark:border-[#253b5c] rounded-md px-4 py-2 text-sm dark:bg-[#1b2e4b] dark:text-white-dark",button:s(J,{children:[e("span",{className:"ltr:mr-1 rtl:ml-1",children:"Edit Table "}),e(jt,{className:"w-5 h-5"})]}),children:e("ul",{className:"!min-w-[200px]",children:ue.map(me=>e("li",{className:"flex flex-col",children:e("div",{className:"flex items-center px-4 py-1",children:s("label",{className:"cursor-pointer mb-0",children:[e("input",{type:"checkbox",checked:!h.includes(me.accessor),className:"form-checkbox text-dark",onChange:Ee=>le(Ee,me.accessor),disabled:!me.editable}),e("span",{className:"ltr:ml-2 rtl:mr-2",children:me.title})]})})},me.accessor))})})}),e("button",{disabled:!!j,onClick:()=>G(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables mt-4",children:e(je,{className:"whitespace-nowrap table-hover",records:y==null?void 0:y.data,columns:[{accessor:"id",title:"Lead Id",hidden:h.includes("id")},{accessor:"owner",title:"Owner",hidden:h.includes("owner")},{accessor:"first_name",title:"Full Name",hidden:h.includes("first_name"),render:({first_name:me,last_name:Ee})=>e(ke,{first_name:me,last_name:Ee})},{accessor:"status",title:"Status",hidden:h.includes("status"),render:me=>me.status=="Closed Won"?e("button",{type:"button",className:"btn btn-success btn-sm shadow-sm py-0.5",children:"Create Sale"}):e("span",{className:"badge bg-[#1d67a7] text-center cursor-pointer py-0.5 w-full",children:me.status})},{accessor:"email",title:"Email",hidden:h.includes("email")},{accessor:"phone",title:"Phone",hidden:h.includes("phone"),render:({phone:me,is_dialed:Ee})=>e(J,{children:s("b",{className:"inline-flex items-center gap-1",children:[me," ",Ee?e(Vu,{color:"green"}):""]})})},{accessor:"second_phone",title:"Second Phone",hidden:h.includes("second_phone")},{accessor:"invest",title:"Invest",hidden:h.includes("invest")},{accessor:"free_trial",title:"First Trail",hidden:h.includes("free_trial")},{accessor:"followup",title:"Followup",hidden:h.includes("followup")},{accessor:"source",title:"Source",hidden:h.includes("source")},{accessor:"dnd",title:"DND",hidden:h.includes("dnd")},{accessor:"city",title:"City",hidden:h.includes("city")},{accessor:"state",title:"State",hidden:h.includes("state")},{accessor:"products",title:"Products",hidden:h.includes("products")},{accessor:"desc",title:"Desc",hidden:h.includes("desc")},{accessor:"kyc_status",title:"KYC Status",hidden:h.includes("kyc_status")},{accessor:"rp_status",title:"RP Status",hidden:h.includes("rp_status")},{accessor:"created_at",title:"Created At",hidden:h.includes("created_at")},{accessor:"updated_at",title:"Updated At",hidden:h.includes("updated_at")}],onCellClick:({record:me,column:Ee})=>{Ee.accessor==="status"?se(me):Ee.accessor==="phone"?navigator.clipboard.writeText(me.phone).then(()=>{re.fire({icon:"success",title:"Number Copied!",toast:!0,position:"top",showConfirmButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})}).catch(He=>{console.error("Failed to copy: ",He)}):o("/leads/viewleads/show",{state:{lead_id:me.id,filterOwner:k,filterStatus:E,filterState:v,multyLead:1}})},totalRecords:y.totalItems,recordsPerPage:T,page:b,onPageChange:me=>S(me),recordsPerPageOptions:I,onRecordsPerPageChange:w,sortStatus:{columnAccessor:"id",direction:"asc"},selectedRecords:Ce,onSelectedRecordsChange:Be,isRecordSelectable:()=>n.user_type=="Admin",minHeight:500,fetching:j,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:me})=>`Showing  ${y==null?void 0:y.from} to ${y.to} of ${me} entries`})})]})})}),e(h3,{statusModel:xe,setStatusModel:ye,selectedLead:Ue,leadStatus:O,allLeadProducts:P,fetchLeads:G}),e(Jl,{createSaleDrawer:Ge,setCreateSaleDrawer:Ke,selectedLead:Ue}),",",e(p3,{requestModal:de,setRequestModal:Ne}),e(f3,{bulkUpdateModal:ie,setBulkUpdateModal:we,leadOwners:L,leadStatuses:O,leadSources:D,selectedRecords:Ce,fetchLeads:G,setSelectedRecords:Be,setFirstTime:x}),e(g3,{octModal:Pe,setOtcModal:Qe})]})})})})}const v3=({error:t,fetch:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})},x3=Me.createContext({}),$p=!0;function y3({baseColor:t,highlightColor:a,width:n,height:r,borderRadius:i,circle:o,direction:m,duration:u,enableAnimation:c=$p}){const p={};return m==="rtl"&&(p["--animation-direction"]="reverse"),typeof u=="number"&&(p["--animation-duration"]=`${u}s`),c||(p["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(p.width=n),(typeof r=="string"||typeof r=="number")&&(p.height=r),(typeof i=="string"||typeof i=="number")&&(p.borderRadius=i),o&&(p.borderRadius="50%"),typeof t<"u"&&(p["--base-color"]=t),typeof a<"u"&&(p["--highlight-color"]=a),p}function ce({count:t=1,wrapper:a,className:n,containerClassName:r,containerTestId:i,circle:o=!1,style:m,...u}){var c,p,f;const h=Me.useContext(x3),b={...u};for(const[k,g]of Object.entries(u))typeof g>"u"&&delete b[k];const S={...h,...b,circle:o},I={...m,...y3(S)};let T="react-loading-skeleton";n&&(T+=` ${n}`);const w=(c=S.inline)!==null&&c!==void 0?c:!1,_=[],A=Math.ceil(t);for(let k=0;k<A;k++){let g=I;if(A>t&&k===A-1){const N=(p=g.width)!==null&&p!==void 0?p:"100%",v=t%1,d=typeof N=="number"?N*v:`calc(${N} * ${v})`;g={...g,width:d}}const E=Me.createElement("span",{className:T,style:g,key:k},"‌");w?_.push(E):_.push(Me.createElement(Me.Fragment,{key:k},E,Me.createElement("br",null)))}return Me.createElement("span",{className:r,"data-testid":i,"aria-live":"polite","aria-busy":(f=S.enableAnimation)!==null&&f!==void 0?f:$p},a?_.map((k,g)=>Me.createElement(a,{key:g},k)):_)}function w3(){return s(J,{children:[e("div",{className:"text-end my-2",children:e(ce,{duration:1,inline:!0,width:100,height:20,count:3,className:"me-4 "})}),e("hr",{className:"mb-4 dark:border-[#191e3a]"}),s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-5",children:[s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-5",children:[s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-5",children:[s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-5",children:[s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-5",children:[s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]})]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-5",children:s("div",{children:[e(ce,{duration:1,inline:!0,height:15,width:100,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:40,className:"me-4 "})]})}),e("div",{className:"mt-4",children:e(ce,{duration:1,inline:!0,height:80,className:"me-4 "})})]})}function ws(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 1.75V3h5.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H8V1.75C8 .784 8.784 0 9.75 0h4.5C15.216 0 16 .784 16 1.75Zm-6.5 0V3h5V1.75a.25.25 0 0 0-.25-.25h-4.5a.25.25 0 0 0-.25.25ZM4.997 6.178a.75.75 0 1 0-1.493.144L4.916 20.92a1.75 1.75 0 0 0 1.742 1.58h10.684a1.75 1.75 0 0 0 1.742-1.581l1.413-14.597a.75.75 0 0 0-1.494-.144l-1.412 14.596a.25.25 0 0 1-.249.226H6.658a.25.25 0 0 1-.249-.226L4.997 6.178Z"},child:[]},{tag:"path",attr:{d:"M9.206 7.501a.75.75 0 0 1 .793.705l.5 8.5A.75.75 0 1 1 9 16.794l-.5-8.5a.75.75 0 0 1 .705-.793Zm6.293.793A.75.75 0 1 0 14 8.206l-.5 8.5a.75.75 0 0 0 1.498.088l.5-8.5Z"},child:[]}]})(t)}const N3=({one:t,two:a})=>{const{apiUrl:n,settingData:r}=ee();return e("div",{className:"flex justify-center items-center  ",children:s("div",{className:"w-80 min-h-[500px] bg-[#E5DDD5] rounded-lg overflow-hidden shadow-xl flex flex-col",children:[s("div",{className:"bg-[#075E54] text-white p-3 flex items-center",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-300 rounded-full mr-3",children:e("img",{className:"rounded-full h-full",src:`${n}/storage/${r==null?void 0:r.favicon}`})}),s("div",{className:"flex-grow",children:[e("p",{className:"font-semibold text-lg truncate w-[150px]",children:r==null?void 0:r.crm_name}),e("p",{className:"text-sm",children:"online"})]}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})]}),s("div",{className:"flex-grow p-4 overflow-y-auto",children:[s("div",{className:"bg-[#DCF8C6] rounded-lg p-2 max-w-[80%] ml-auto mb-2",children:[e("p",{className:"text-sm font-semibold",children:"This is just a priview of your message"}),s("p",{className:"text-right text-xs text-gray-500",children:["11:38 ",e("span",{className:"text-blue-500",children:"✓✓"})]})]}),t?s("div",{className:"bg-white rounded-lg mb-4 p-2 max-w-[80%] ",children:[e("p",{className:"text-sm font-semibold",style:{whiteSpace:"pre-line"},children:t}),e("p",{className:"text-right text-xs text-gray-500",children:"8:45"})]}):null,a?s("div",{className:"bg-white rounded-lg p-2 max-w-[80%] ",children:[e("p",{className:"text-sm font-semibold",style:{whiteSpace:"pre-line"},children:a}),e("p",{className:"text-right text-xs text-gray-500",children:"8:45"})]}):null]}),s("div",{className:"bg-[#F0F0F0] p-2 flex items-center",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("input",{type:"text",disabled:!0,placeholder:"Type a message",className:"flex-grow bg-white rounded-full py-2 px-4 text-sm focus:outline-none"}),s("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})]})]})})};function _3({lead_id:t,templates:a,payments:n,setBankModel:r}){const i={lead_id:t,is_bank:!0,bank:"",is_upi:!0,bank_template_id:"",upi_template_id:"",bank_final_template:"",upi_final_template:"",bankfields:[],upifields:[]},[o,m]=l.useState({}),[u,c]=l.useState(i),p=k=>{const{value:g,name:E,type:N,checked:v}=k.target;m({...o,[E]:""}),N=="checkbox"?c({...u,[E]:!!v}):c({...u,[E]:g})};l.useEffect(()=>{u.is_bank||c({...u,bank:"",bankfields:[],bank_final_template:"",bank_template_id:""})},[u.is_bank]),l.useEffect(()=>{u.is_upi||c({...u,upi:"",upifields:[],upi_final_template:"",upi_template_id:""})},[u.is_upi]);const f=()=>{m({});let k={};return m(k),{totalErrors:Object.keys(k).length}};l.useEffect(()=>{if(u.bank){const k=n==null?void 0:n.find(L=>L.id==u.bank),g=a==null?void 0:a.find(L=>L.template_type=="Bank Details"),{bank_name:E,account_holder_name:N,account_type:v,account_number:d,branch:y,ifsc_code:M}=k,C=[E,N,v,d,y,M];let x=g==null?void 0:g.template.replace(/{{(\d+)}}/g,(L,F)=>C[parseInt(F)-1]||L);c({...u,bankfields:C,bank_final_template:x,bank_template_id:g.id})}},[u.bank]),l.useEffect(()=>{var k;if(u.upi){const g=n==null?void 0:n.find(C=>C.id==u.upi),E=a==null?void 0:a.find(C=>C.template_type=="Upi Details"),{name:N,upi:v,image:d}=g,y=[N,v,d];let M=(k=E==null?void 0:E.template)==null?void 0:k.replace(/{{(\d+)}}/g,(C,x)=>y[parseInt(x)-1]||C);c({...u,upifields:y,upi_final_template:M,upi_template_id:E==null?void 0:E.id})}},[u.upi]);const{crmToken:h,apiUrl:b}=ee(),S=async k=>{var E;try{w(!0),(await K({method:"post",url:b+"/api/bank-details",data:k,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+h}})).data.status==="success"&&(re.fire({title:"Details Sent successfully",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),r(!1))}catch(N){if(console.log(N),((E=N==null?void 0:N.response)==null?void 0:E.status)===422){const v=N.response.data.errors;let d={};for(var g in v)d={...d,[g]:v[g][0]},console.log(v[g][0]);m(d),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{w(!1)}},I=()=>{if(f().totalErrors)return!1;const g=new FormData;g.append("lead_id",t),g.append("is_bank",u.is_bank),g.append("bank",u.bank),g.append("is_upi",u.is_upi),g.append(" bank_template_id",u.bank_template_id),g.append("upi_template_id",u.upi_template_id),g.append("bank_final_template",u.bank_final_template),g.append("upi_final_template",u.upi_final_template),g.append("bankfields",u.bankfields),g.append("upifields",u.upifields),g.append("api_url",b),console.log(u),S(g)},[T,w]=l.useState(!1),[_,A]=l.useState("bank");return e("div",{children:s("section",{className:"flex gap-2 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:[s("form",{autoComplete:"off",action:"",method:"post",className:"flex-1 bg-[#e3e7fc] p-4 rounded h-fit",children:[s("div",{className:"flex gap-4 justify-end",children:[e("button",{className:`${_=="bank"&&"text-secondary !outline-none before:!w-full"}
                            before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>A("bank"),type:"button",children:"Send Bank"}),e("button",{className:`${_=="upi"&&"text-secondary !outline-none before:!w-full"}
                            before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>A("upi"),type:"button",children:"Send Upi"})]}),e("h1",{className:" mb-3 font-bold text-lg",children:"Bank Details"}),s("div",{className:"mb-4 flex gap-4 ",children:[_=="bank"&&s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",className:"form-checkbox border-[#000]/25",onChange:k=>p(k),name:"is_bank",checked:!!u.is_bank}),e("span",{children:"Bank"})]}),_=="upi"&&s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",className:"form-checkbox  border-[#000]/25",onChange:k=>p(k),name:"is_upi",checked:!!u.is_upi}),e("span",{children:"Upi"})]})]}),_=="bank"&&u.is_bank?s("div",{className:"mb-4",children:[s("select",{onChange:k=>p(k),value:u.bank,name:"bank",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"","aria-readonly":!0,children:"Select Bank"}),n==null?void 0:n.filter(k=>k.is_bank_upi=="bank").map(k=>e("option",{value:k.id,children:k.bank_name},k.id))]}),e("div",{className:"text-danger font-semibold text-sm",children:o.bank})]}):null,_=="upi"&&u.is_upi?s("div",{className:"mb-4",children:[s("select",{onChange:k=>p(k),value:u.upi,name:"upi",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"","aria-readonly":!0,children:"Select Upi"}),n==null?void 0:n.filter(k=>k.is_bank_upi=="upi").map(k=>e("option",{value:k.id,children:k.upi},k.id))]}),e("div",{className:"text-danger font-semibold text-sm",children:o.upi})]}):null,u.bank_template_id||u.upi_final_template?s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn btn-danger shadow",onClick:()=>r(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>I(),disabled:T,className:"btn  btn-dark shadow bg-black",children:T?"Please Wait...":"Send"})]}):null]}),e(N3,{one:u.bank_final_template,two:u.upi_final_template})]})})}function k3({lead_id:t,templates:a,payments:n,setBankModel:r}){console.log("SMS-templates",a);const i={lead_id:t,is_bank:!0,bank:"",is_upi:!0,bank_template_id:"",upi_template_id:"",bank_final_template:"",upi_final_template:"",bankfields:[],upifields:[]};l.useState({});const[o,m]=l.useState(i);return l.useEffect(()=>{o.is_bank||m({...o,bank:"",bankfields:[],bank_final_template:"",bank_template_id:""})},[o.is_bank]),l.useEffect(()=>{o.is_upi||m({...o,upi:"",upifields:[],upi_final_template:"",upi_template_id:""})},[o.is_upi]),l.useEffect(()=>{if(o.bank){const u=n.find(_=>_.id==o.bank),c=a.find(_=>_.template_type=="Bank Details"),{bank_name:p,account_holder_name:f,account_type:h,account_number:b,branch:S,ifsc_code:I}=u,T=[p,f,h,b,S,I];let w=c.template.replace(/{{(\d+)}}/g,(_,A)=>T[parseInt(A)-1]||_);m({...o,bankfields:T,bank_final_template:w,bank_template_id:c.id})}},[o.bank]),l.useEffect(()=>{if(o.upi){const u=n.find(h=>h.id==o.upi),c=a.find(h=>h.template_type=="Upi Details"),p=[u.upi];let f=c==null?void 0:c.template.replace(/{{(\d+)}}/g,(h,b)=>p[parseInt(b)-1]||h);m({...o,upifields:p,upi_final_template:f,upi_template_id:c.id})}},[o.upi]),ee(),l.useState(!1),l.useState("bank"),e("div",{children:"sms is in progress"})}function C3({bankModel:t,setBankModel:a,lead_id:n}){const{crmToken:r,apiUrl:i}=ee(),[o,m]=l.useState(!0),[u,c]=l.useState([]),[p,f]=l.useState(null),h=async()=>{var I;m(!0),f(null);try{const T=await K({method:"get",url:i+"/api/get-send-babk-details-data",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});T.data.status=="success"&&c(T.data.data)}catch(T){(I=T==null?void 0:T.response)!=null&&I.status&&f(T==null?void 0:T.response)}finally{m(!1)}};l.useEffect(()=>{t&&h()},[t]);const[b,S]=l.useState("whatsapp");return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[750px] rtl:-left-[750px] top-0 bottom-0 w-full max-w-[750px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center  p-4 bg-[#3b3f5c] text-white rounded-b-md",children:[e("button",{type:"button",className:"px-4 py-4 absolute top-0 ltr:right-0 rtl:left-0  dark:text-white",onClick:()=>a(!1),children:e(It,{className:" w-5 h-5",color:"white"})}),e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:"Send Bank Details"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:o?e(be,{}):p?e(S3,{e:p,fetchSales:h}):e(J,{children:Array.isArray(u==null?void 0:u.whatsAppTemplates)?e(J,{children:u.whatsAppTemplates.length>0?s("div",{className:"mx-4",children:[s("div",{className:"flex gap-4 justify-end",children:[e("button",{className:`${b=="whatsapp"&&"text-secondary !outline-none before:!w-full"}
                            before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>S("whatsapp"),type:"button",children:"Whatsapp"}),e("button",{className:`${b=="sms"&&"text-secondary !outline-none before:!w-full"}
                            before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>S("sms"),type:"button",children:"SMS"})]}),b==="whatsapp"?e(_3,{lead_id:n,templates:u.whatsAppTemplates,payments:u==null?void 0:u.payments,setBankModel:a}):b==="sms"?e(k3,{lead_id:n,templates:u.smsTemplates,payments:u==null?void 0:u.payments,setBankModel:a}):null]}):e("div",{children:"No template found"})}):e("div",{children:"No template found"})})})]})})]})}const S3=({e:t,fetchSales:a})=>(console.log(t),e("div",{className:"",children:s("div",{className:"relative",children:[s("div",{className:"text-center ",children:[e("b",{className:"text-3xl",children:t.status}),e("p",{className:"mt-5 text-bold text-base dark:text-white text-center",children:t.statusText})]}),s("div",{className:"flex justify-center gap-5",children:[e(Q,{to:"/",className:"btn btn-gradient !mt-7  border-0 uppercase shadow-none",children:"Back to Home"}),e("button",{className:"btn btn-info  !mt-7  border-0 uppercase shadow-none",onClick:()=>a(),children:"Re Try"})]})]})}));function Yl({showRPViewDrawer:t,setRPViewShowDrawer:a,ridk_profile_id:n,setVerification:r,is_old_rp:i}){var y,M,C,x,L,F,O,$,B,R,P,z,H,W,q,D,V,j,U,Z,Y;const{logout:o,authUser:m,settingData:u,crmToken:c,apiUrl:p}=ee(),[f,h]=l.useState([]),[b,S]=l.useState(null),[I,T]=l.useState(!1),[w,_]=l.useState([]),A=async()=>{var X;try{T(!0),h([]),_([]),S(null);const ae=await K({method:"get",url:p+"/api/risk-profiles/"+n,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+c}});ae.data.status=="success"?(h(ae.data.data),_(JSON.parse(ae.data.data.riskProfile.risk_assessment))):ae.data.status=="error"&&S(ae.data.message)}catch(ae){((X=ae==null?void 0:ae.response)==null?void 0:X.status)==401&&o()}finally{T(!1)}};l.useEffect(()=>{t&&A()},[n,t]);const k=async()=>{var X;T(!0);try{const ae=await K({url:p+"/api/download-riskprofile",method:"GET",responseType:"blob",params:{id:n},headers:{Authorization:"Bearer "+c}}).then(he=>{const te=URL.createObjectURL(he.data),G=document.createElement("a");G.href=te,G.setAttribute("download","file.pdf"),document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(te)});console.log(ae)}catch(ae){console.log(ae),((X=ae==null?void 0:ae.response)==null?void 0:X.status)==401&&o()}finally{T(!1)}},[g,E]=l.useState(!1),N=()=>{var X;navigator.clipboard.writeText((X=f==null?void 0:f.riskProfile)==null?void 0:X.link).then(()=>{E(!0),setTimeout(()=>E(!1),2e3)})},[v,d]=l.useState(!1);return e(J,{children:s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),s("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[900px] rtl:-left-[900px] top-0 bottom-0 w-full max-w-[900px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4`,children:[s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center",children:[s("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4",children:[e("div",{className:"ltr:mr-3 rtl:ml-3 flex items-center",children:s("h5",{className:"font-semibold text-lg dark:text-white-light",children:["Investment Adviser Risk Profile ",e("span",{className:"text-[14px]"})]})}),s("div",{className:"flex items-center justify-between sm:flex-auto flex-1",children:[m.user_type=="Admin"||m.user_type=="Accounts"?e("button",{className:"badge bg-[#ef4444] py-1",onClick:()=>d(!0),children:"Reset Risk Profile"}):null,((y=f==null?void 0:f.riskProfile)!=null&&y.is_verified||i)&&(m.user_type=="Admin"||m.user_type=="Accounts")?s("button",{onClick:()=>{k()},className:"badge bg-[#1b254a] py-1",children:[" ",I?"Please Wait":"Download"," "]}):null,e("button",{className:"badge bg-[#000]/[0.08] py-1",onClick:()=>a(!1),children:e(ap,{color:"black"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"})]}),I?e(be,{}):b?e("div",{className:"bg-white  rounded-lg mt-9 max-w-[500px] m-auto",children:s("div",{className:"text-center px-5 pb-5",children:[e("div",{className:"flex-none mb-5",children:s("div",{className:"inline-flex -mt-9 w-[72px] h-[72px] fill-current rounded-full border-4 border-white box-content shadow mb-3",children:[e(bu,{className:"w-full h-full text-red-500 "})," "]})}),e("p",{className:"text-2xl font-bold text-[#e95f2b]",children:b})]})}):e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-1",children:e("div",{className:"mb-1 space-y-5",children:s("div",{className:"panel border mb-10",children:[e("div",{className:"flex justify-center flex-wrap gap-4 px-4",children:e("div",{className:"shrink-0",children:e("img",{className:"w-[230px] ltr:-ml-1 rtl:-mr-1 inline",src:p+"/storage/"+(u==null?void 0:u.logo),alt:"logo"})})}),s("div",{className:"px-4",children:[e("div",{className:"mb-3",children:e("h3",{className:"text-[16px]",children:e("b",{children:"Information"})})}),s("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[s("div",{className:"flex ",children:[e("b",{className:"w-[140px]",children:"Submited By :"}),e("b",{className:"text-[#009688]",children:(M=f==null?void 0:f.riskProfile)==null?void 0:M.submited})]}),s("div",{className:"flex ",children:[e("b",{className:"w-[100px]",children:"Submited At :"}),e("b",{className:"text-[#009688]",children:(C=f==null?void 0:f.riskProfile)==null?void 0:C.submited_at})]}),(x=f==null?void 0:f.riskProfile)!=null&&x.is_verified?s(J,{children:["  ",s("div",{className:"flex ",children:[e("b",{className:"w-[140px]",children:"Verified Through :"}),e("b",{className:"text-[#009688]",children:"Aadhaar e-Sign"})]}),s("div",{className:"flex ",children:[e("b",{className:"w-[100px]",children:"Verified At :"}),e("b",{className:"text-[#009688]",children:(L=f==null?void 0:f.riskProfile)==null?void 0:L.verified_at})]})]}):s("div",{className:"flex items-center gap-1 bg-[#DBE7FF] rounded justify-between  w-fit",children:[e("p",{className:"text-gray-800 font-bold italic truncate max-w-[70%] px-2",title:(F=f==null?void 0:f.riskProfile)==null?void 0:F.link,children:(O=f==null?void 0:f.riskProfile)==null?void 0:O.link}),e("button",{className:` px-4 py-1 text-sm font-medium text-white rounded-md ${g?"bg-green-500":"bg-blue-500 hover:bg-blue-600"}`,onClick:N,children:g?"Copied!":"Copy"})]})]})]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:e("div",{className:"space-y-1 text-dark",children:e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"ADVISORY DETAILS"})})})})}),s("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"NAME"})," "]}),e("div",{className:"mt-2",children:($=f==null?void 0:f.sebi)==null?void 0:$.company_name})]}),s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"Email"})," "]}),e("div",{className:"mt-2",children:(B=f==null?void 0:f.sebi)==null?void 0:B.email})]}),s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"SEBI Registration"})," "]}),e("div",{className:"mt-2",children:(R=f==null?void 0:f.sebi)==null?void 0:R.sebi_no})]})]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:e("div",{className:"space-y-1 text-dark",children:e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"CLIENT DETAILS"})})})})}),s("div",{className:" grid grid-cols-3 gap-4 px-4",children:[s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"NAME"})," "]}),e("div",{className:"mt-2",children:(P=f==null?void 0:f.riskProfile)==null?void 0:P.full_name})]}),s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"Email"})," "]}),e("div",{className:"mt-2",children:(z=f==null?void 0:f.riskProfile)!=null&&z.email?(H=f==null?void 0:f.riskProfile)==null?void 0:H.email:"NA"})]}),s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"Mobile Number"})," "]}),e("div",{className:"mt-2",children:(W=f==null?void 0:f.riskProfile)==null?void 0:W.phone})]}),s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"PAN"})," "]}),e("div",{className:"mt-2",children:(q=f==null?void 0:f.riskProfile)==null?void 0:q.pan})]}),s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"DOB"})," "]}),e("div",{className:"mt-2",children:(D=f==null?void 0:f.riskProfile)==null?void 0:D.dob})]}),s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"Age"})," "]}),e("div",{className:"mt-2",children:(V=f==null?void 0:f.riskProfile)!=null&&V.age?(j=f==null?void 0:f.riskProfile)==null?void 0:j.age:"NA"})]})]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:e("div",{className:"space-y-1 text-dark",children:e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"Risk Profile"})})})})}),e("div",{className:"justify-between flex-wrap gap-4 px-4",children:e("div",{children:(U=f==null?void 0:f.riskProfile)!=null&&U.answers?(()=>{try{return JSON.parse(f.riskProfile.answers).map((ae,he)=>{var te;return e("div",{style:{marginBottom:"20px"},children:s("div",{className:"shrink-0",children:[e("div",{className:"mt-2",children:e("b",{children:ae.question})}),e("div",{className:"mt-2",children:((te=ae.option)==null?void 0:te.option)||"No option available"})]})},he)})}catch(X){return console.error("Error parsing JSON:",X),e("div",{children:"Failed to load answers."})}})():e("div",{children:"No risk profile answers available."})})}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:e("div",{className:"space-y-1 text-dark",children:e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"Risk Assessment"})})})})}),s("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"Your Risk Result"})," "]}),e("div",{className:"mt-2",children:w!=null&&w.risk_image?e("img",{className:"w-[230px] ltr:-ml-1 rtl:-mr-1 inline",src:"/storage/"+w.risk_image,alt:"logo"}):null})]}),s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"Score"})," "]}),e("div",{className:"mt-2",children:(Z=f==null?void 0:f.riskProfile)==null?void 0:Z.score})]})]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),s("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[s("div",{className:"space-y-1 text-dark",children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"Description"})})}),e("div",{className:"mb-2 ",children:e("p",{style:{whiteSpace:"break-spaces"},children:w==null?void 0:w.description})})]}),s("div",{className:"space-y-1 text-dark",children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"Suitable Asset Allocation"})})}),e("div",{className:"mb-2 ",children:e("p",{style:{whiteSpace:"break-spaces"},children:w==null?void 0:w.allocation})})]}),s("div",{className:"space-y-1 text-dark",children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"PRODUCT SUITABILITY GUIDELINES"})})}),s("div",{className:"mb-2 ",children:[e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:"The suitability of an investment for a particular person is at the very heart of the investment process. This is a fundamental concept both from a legal perspective and in terms of putting an investor's money to work sensibly and prudently. When money is invested unsuitably, there is a high probability of unacceptable losses (or equally negative, very low returns) and considerable distress for the investor."}),e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:"A suitable investment is defined as one that is appropriate in terms of an investor's willingness and ability (personal circumstances) to take on a certain level of risk. Both criteria must be met. If an investment is to be suitable, it is not enough to state that an investor is risk friendly. They must also be in a financial position to take certain chances. It is also necessary to understand the nature of the risks and the possible consequences."}),e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:"Suitability is constantly in flux. As indicated above, what is suitable for someone who is 30 years old is very different from what that person will need when they are 60. Getting married, having children, getting a big raise, or losing a job altogether should prompt a reconsideration of suitability. As usual, this boils down to risk and liquidity. If someone will need their money soon, it may not be able to be tied up in stocks or other longer-term investments. For those who want to get the best out of their money over the long run, something like government bonds might be suitable."})]})]}),s("div",{className:"space-y-1 text-dark",children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"Risk Profile Suitability"})})}),s("div",{className:"mb-2 ",children:[s("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:["Based on the risk profile questionnaire it is observed that your Risk Score is ",(Y=f==null?void 0:f.riskProfile)==null?void 0:Y.score,", which fall under ",w==null?void 0:w.risk_name," category. Based on the risk profile, recommended asset allocation is mentioned in the table above and the same has been explained and communicated to you."]}),e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:"As per the discussion the investible corpus of the client is currently invested in different asset classes and want us to advise on the portion of assets invested in Equity/ Equity derivatives. Accordingly, the client is on-boarded for advisory service with respect to the portion of assets invested in Equity/ Equity derivatives."})]})]}),s("div",{className:"space-y-1 text-dark",children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"Client’s Declaration - Suitability Assessment"})})}),s("div",{className:"mb-2 ",children:[e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:" - Investment Advisor has communicated to me the Risk appetite score as calculated from the risk profile questionnaire. The risk score and corresponding appetite has been explained to me by the Investment advisor. I understand the risks involved with the investment based on the  Advice provided by the investment advisor."}),e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:" - I have all the information about the products, risk factors etc and have gone through all the relevant information about the product being advised and have sought requisite clarification about the same."}),e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:" - I intend to subscribe to the services, as offered by the investment advisor after understanding all the risk factors and my risk appetite."}),e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:" - I intend to subscribe to the services, as offered by the investment advisor after understanding all the risk factors and my risk appetite."}),e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:" - I intend to subscribe to the services, as offered by the investment advisor after understanding all the risk factors and my risk appetite."}),e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:" - The Investment adviser will not be held responsible for any direct or indirect losses due to execution of  Advice."})]})]})]})]})})})]}),v?e(E3,{setResetModal:d,id:n,setRPViewShowDrawer:a,setVerification:r}):null]})]})})}const E3=({setResetModal:t,id:a,setRPViewShowDrawer:n,setVerification:r})=>{const{logout:i,crmToken:o,apiUrl:m}=ee(),[u,c]=l.useState(!1),{addToast:p}=ct(),f=async()=>{var h;c(!0);try{const b=await K({method:"post",url:m+"/api/riskprofile-reset",data:{id:a},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});b.data.status=="success"?(t(!1),n(!1),p({variant:"success",title:b.data.message}),setTimeout(()=>{r(S=>({...S,riskProfile:{...b.data.riskProfile,is_reset:1}}))},500)):b.data.status=="error"&&p({variant:"error",title:b.data.message})}catch(b){console.log(b),((h=b==null?void 0:b.response)==null?void 0:h.status)==401&&i()}finally{c(!1)}};return e(J,{children:s("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"}),s("div",{className:"bg-white rounded-lg p-6 shadow-lg w-full max-w-lg transform transition-all scale-95 animate-fadeIn",children:[s("div",{className:"flex items-center space-x-4",children:[e(Uu,{size:100,color:"red"}),s("div",{children:[e("h2",{className:"text-lg font-bold text-gray-800",children:"Are You Sure"}),e("h4",{className:"font-bold text-blue-900",children:"You want to reset the risk profile? This will clear the current data and create a new risk profile link"})]})]}),s("div",{className:"mt-4 flex justify-end gap-10 items-center",children:[e("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-[#ff9800] text-white rounded-lg  transition duration-200",disabled:u,children:"No, Cancel"}),e("button",{onClick:()=>f(),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-200",disabled:u,children:u?"Please Waite...":"Yes, Reset Now"})]})]})]})})};function Xl({showKYCViewDrawer:t,setKYCViewShowDrawer:a,kyc:n,setVerification:r}){const i=ve();console.log("sssss",n);const{addToast:o}=ct();l.useEffect(()=>{i(Se("View Kyc"))});const{logout:m,crmToken:u,settingData:c,apiUrl:p,authUser:f}=ee(),[h,b]=l.useState(!0),S=async()=>{var x;b(!0);try{const L=await K({method:"get",url:p+"/api/kycs/"+n.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+u}});L.data.status=="success"&&r(F=>({...F,kycVerification:{...F.kycVerification,kyc:{...L.data.kyc,is_reset:0}}}))}catch(L){((x=L==null?void 0:L.response)==null?void 0:x.status)==401&&m()}finally{b(!1)}};l.useEffect(()=>{t&&S()},[t]);const T=new Date(n==null?void 0:n.created_at).toLocaleString("en-GB",{dateStyle:"medium",timeStyle:"short"}),w=l.useRef(null),[_,A]=l.useState(!1),k=async()=>{var x;try{A(!0);const L=await K({url:p+"/api/kyc-download",method:"GET",params:{id:n.id},responseType:"blob",headers:{Authorization:"Bearer "+u}}).then(F=>{const O=URL.createObjectURL(F.data),$=document.createElement("a");$.href=O,$.setAttribute("download","kyc-"+n.id+"-.pdf"),document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(O)});console.log(L)}catch(L){((x=L==null?void 0:L.response)==null?void 0:x.status)==401&&m()}finally{console.log("finnalyy"),A(!1)}},[g,E]=l.useState(!1),N=async()=>{var x;E(!0);try{const L=await K({method:"post",url:p+"/api/kyc-verify",data:{id:n.id},headers:{"Content-Type":"application/json",Authorization:"Bearer "+u}});console.log("verified response",L.data.kyc),L.data.status=="success"&&(r(F=>({...F,kycVerification:{...F.kycVerification,kyc:{...L.data.kyc,is_reset:1}}})),o({variant:"success",title:"KYC Verified Successfully!"}))}catch(L){((x=L==null?void 0:L.response)==null?void 0:x.status)==401&&m(),o({variant:"error",title:"Failed to send KYC!"})}finally{E(!1)}},[v,d]=l.useState(!1),y=()=>{navigator.clipboard.writeText(n.link).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})},[M,C]=l.useState(!1);return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),s("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[900px] rtl:-left-[900px] top-0 bottom-0 w-full  max-w-[900px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:[s("div",{ref:w,className:`flex flex-col h-screen overflow-hidden ${n!=null&&n.is_verified?"bg-[#09ff070f]":"bg-[#ff7f070f]"} `,children:[s("div",{className:"p-1 items-center flex justify-between bg-[#000]/[0.08] gap-4 px-4 rounded-b-lg",children:[e("h1",{className:"font-bold text-[16px]",children:"KYC Details"}),h?null:s(J,{children:[n.is_online?e("button",{className:"badge bg-[#075E54] py-1",children:"Online | Client"}):e("button",{className:"badge bg-[#1d67a7]",children:"Offline | Employee"}),f.user_type=="Admin"||f.user_type=="Accounts"?e("button",{className:"badge bg-[#ef4444] py-1",onClick:()=>C(!0),disabled:g||_,children:" Reset KYC"}):null,n!=null&&n.is_verified&&(f.user_type=="Admin"||f.user_type=="Accounts")?e("button",{onClick:()=>k(),className:"badge bg-[#1b254a] py-1",disabled:g||_,children:_?"Please Wait":"Download"}):!(n!=null&&n.is_verified)&&n.is_submited&&(f.user_type=="Admin"||f.user_type=="Accounts"||f.user_type=="Manager")?e("button",{onClick:()=>N(),disabled:g||_,className:"badge bg-[#1da740] py-1",children:g?"Please Wait...":"Verify KYC"}):null]}),e("button",{className:"badge bg-[#000]/[0.08] py-1",disabled:g||_,onClick:()=>a(!1),children:e(ap,{color:"black"})})]}),h?e(be,{}):s("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-4",children:[s("div",{className:"px-4",children:[e("div",{className:"mb-3",children:e("h3",{className:"text-[16px]",children:e("b",{children:"Information"})})}),s("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[s("div",{className:"flex ",children:[e("b",{className:"w-[100px]",children:"Submited By :"}),e("b",{className:"text-[#009688]",children:n.submited})]}),s("div",{className:"flex ",children:[e("b",{className:"w-[100px]",children:"Submited At :"}),e("b",{className:"text-[#009688]",children:n.submited_time})]}),n.is_verified?s(J,{children:["  ",s("div",{className:"flex ",children:[e("b",{className:"w-[100px]",children:"Verified By :"}),e("b",{className:"text-[#009688]",children:n.verified})]}),s("div",{className:"flex ",children:[e("b",{className:"w-[100px]",children:"Verified At :"}),e("b",{className:"text-[#009688]",children:n.verified_time})]})]}):s("div",{className:"flex items-center gap-1 bg-[#DBE7FF] rounded justify-between  w-fit",children:[e("p",{className:"text-gray-800 font-bold italic truncate max-w-[70%] px-2",title:n.link,children:n.link}),e("button",{className:` px-4 py-1 text-sm font-medium text-white rounded-md ${v?"bg-green-500":"bg-blue-500 hover:bg-blue-600"}`,onClick:y,children:v?"Copied!":"Copy"})]})]})]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-4"}),s("div",{className:"",children:[s("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[s("div",{className:"space-y-1 text-dark",children:[e("div",{className:"mb-3",children:e("h3",{className:"text-[16px]",children:e("b",{children:"PERSONAL DETAILS"})})}),s("div",{className:"mb-2",children:[s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"First Name:"})," ",n==null?void 0:n.first_name,"     ",e("span",{className:"text-[#a60c6a]",children:"Last Name:"})," ",n==null?void 0:n.last_name]})," "]}),s("div",{className:"mb-2",children:[s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"Phone:"})," ",n==null?void 0:n.phone,"     ",e("span",{className:"text-[#a60c6a]",children:"Email:"})," ",n==null?void 0:n.email]})," "]}),e("div",{className:"mb-2",children:s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"Father’s/ Spouse Name:"})," ",n==null?void 0:n.father_or_spouse_name]})}),s("div",{className:"mb-2",children:[s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"Gender:"})," ",n==null?void 0:n.gender,"     ",e("span",{className:"text-[#a60c6a]",children:"Date of Birth:"})," ",n==null?void 0:n.date_of_birth]})," "]}),e("div",{className:"mb-2",children:s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"Marital Status:"})," ",n==null?void 0:n.marital_status]})}),e("div",{className:"mb-2",children:s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"Residential Status:"})," ",n==null?void 0:n.residential_status]})}),e("div",{className:"mb-2",children:s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"Nationality:"})," ",n==null?void 0:n.nationality]})}),s("div",{className:"mb-2",children:[s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"PAN:"})," ",n==null?void 0:n.pan,"     ",e("span",{className:"text-[#a60c6a]",children:"Aadhaar:"})," ",n==null?void 0:n.aadhaar_number]})," "]})]}),e("div",{children:e("div",{children:n!=null&&n.photo?e("img",{src:`${p+(n==null?void 0:n.photo)}`,alt:"No Photo",className:"rounded w-[170px] max-h-[170px] ltr:ml-auto rtl:mr-auto"}):"No Photo"})})]}),s("div",{children:[e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-3"}),e("div",{className:" px-4",children:s("div",{className:"space-y-1 text-dark",children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"ADDRESS DETAILS"})})}),s("div",{className:"flex justify-between",children:[s("div",{children:[s("div",{className:"mb-2",children:[e("b",{className:"text-[#a60c6a]",children:"Permanent Address: "})," "]}),s("div",{className:"mb-2",children:[s("b",{children:[n.permanent_address_1," ",e("br",{}),n.permanent_address_2," "]})," "]}),s("div",{className:"mb-2",children:[s("b",{children:[n.permanent_address_city,", ",n.permanent_address_state," "]})," "]}),s("div",{className:"mb-2",children:[s("b",{children:[n.permanent_address_country," - ",n.permanent_address_pincode," "]})," "]})]}),s("div",{children:[s("div",{className:"mb-2",children:[e("b",{className:"text-[#a60c6a]",children:"Current Address: "})," "]}),s("div",{className:"mb-2",children:[s("b",{children:[n.current_address_1," ",e("br",{}),n.current_address_2," "]})," "]}),s("div",{className:"mb-2",children:[s("b",{children:[n.current_address_city,", ",n.current_address_state," "]})," "]}),s("div",{className:"mb-2",children:[s("b",{children:[n.current_address_country," - ",n.current_address_pincode," "]})," "]})]})]})]})})]}),s("div",{children:[e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-3"}),e("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:s("div",{className:"space-y-1 text-dark",children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"KYC:UNDERTAKING AND DECLARATION "})})}),e("div",{className:"mb-2",children:s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"Politician by profession:"})," ",n==null?void 0:n.politician_by_profession]})}),e("div",{className:"mb-2",children:s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"Years of experience in trading:"})," ",n==null?void 0:n.years_of_experience_in_trading]})}),e("div",{className:"mb-2",children:s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"Risk appetite:"})," ",n==null?void 0:n.risk_appetite]})}),e("div",{className:"mb-2",children:s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"Annual turnover:"})," ",n==null?void 0:n.annual_turnover]})}),e("div",{className:"mb-2",children:s("b",{children:[e("span",{className:"text-[#a60c6a]",children:"Age Declaration:"})," ",n==null?void 0:n.age_declaration]})}),e("br",{})]})})]}),s("div",{children:[e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-3"}),s("div",{className:"flex justify-between flex-wrap gap-4 px-4 items-center",children:[s("div",{className:"shrink-0",children:[n!=null&&n.signature?e("img",{src:`${n.signature}`,alt:"img",className:"w-[150px] ltr:ml-auto rtl:mr-auto"}):e("b",{children:"No Signature"}),s("div",{className:"mt-2 text-center",children:[e("b",{children:"Signature"})," "]})]}),e("div",{className:"space-y-1 text-dark",children:e("div",{className:"mb-3",style:{alignContent:"end"},children:e("h3",{className:"text-[14px]",children:s("b",{children:["Datetime : ",T," "]})})})})]})]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e("div",{className:"px-4",children:s("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[s("div",{className:"shrink-0",children:[e("img",{src:`${p+n.pan_document}`,alt:"Aadhar",className:"w-[200px]"}),s("div",{className:"mt-2 text-center",children:[e("b",{children:"PAN CARD"})," "]})]}),s("div",{className:"shrink-0",children:[e("img",{src:`${p+n.aadhaar_front_document}`,alt:"Aadhar",className:"w-[200px]"}),s("div",{className:"mt-2 text-center",children:[e("b",{children:"AADHAR CARD - FRONT"})," "]})]}),s("div",{className:"shrink-0",children:[e("img",{src:`${p+n.aadhar_back_document}`,alt:"Aadhar",className:"w-[200px]"}),s("div",{className:"mt-2 text-center",children:[e("b",{children:"AADHAR CARD - BACK"})," "]})]})]})})]})]})]}),M?e(T3,{setResetModal:C,lead_id:n==null?void 0:n.lead_id,setKYCViewShowDrawer:a,setVerification:r}):null]})]})}const T3=({setResetModal:t,lead_id:a,setKYCViewShowDrawer:n,setVerification:r})=>{const{logout:i,crmToken:o,apiUrl:m}=ee(),[u,c]=l.useState(!1),{addToast:p}=ct(),f=async()=>{var h;c(!0);try{const b=await K({method:"post",url:m+"/api/kyc-reset",data:{lead_id:a},headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});b.data.status=="success"?(t(!1),n(!1),p({variant:"success",title:b.data.message}),setTimeout(()=>{r(S=>({...S,kycVerification:{...S.kycVerification,kyc:{...b.data.kyc,is_reset:1}}}))},500)):b.data.status=="error"&&p({variant:"error",title:b.data.message})}catch(b){console.log(b),((h=b==null?void 0:b.response)==null?void 0:h.status)==401&&i()}finally{c(!1)}};return e(J,{children:s("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[e("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"}),s("div",{className:"bg-white rounded-lg p-6 shadow-lg w-full max-w-lg transform transition-all scale-95 animate-fadeIn",children:[s("div",{className:"flex items-center space-x-4",children:[e(Uu,{size:100,color:"red"}),s("div",{children:[e("h2",{className:"text-lg font-bold text-gray-800",children:"Are You Sure"}),e("h4",{className:"font-bold text-blue-900",children:"You want to reset the KYC? This will clear the current data and create a new KYC link"})]})]}),s("div",{className:"mt-4 flex justify-end gap-10 items-center",children:[e("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-[#ff9800] text-white rounded-lg  transition duration-200",disabled:u,children:"No, Cancel"}),e("button",{onClick:()=>f(),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition duration-200",disabled:u,children:u?"Please Waite...":"Yes, Reset Now"})]})]})]})})};function jp({sendModal:t,setSendModal:a,lead:n,link:r,activeLinks:i,kyc_id:o,setVerification:m}){const{addToast:u}=ct(),{logout:c,crmToken:p,apiUrl:f}=ee(),[h]=l.useState({send_sms:!1,send_email:!1,send_whatsapp:!1}),[b,S]=l.useState(h),[I,T]=l.useState({}),w=L=>{const{checked:F,name:O}=L.target;T({...I,[O]:""}),S({...b,[O]:F}),A(null)},[_,A]=l.useState(null),k=()=>{T({});let L={};return b.send_sms&&!n.phone&&(L={...L,send_sms:"please update lead phone number"}),b.send_whatsapp&&!n.phone&&(L={...L,send_whatsapp:"please update lead phone number"}),b.send_email&&!n.email&&(L={...L,send_email:"please update lead email address"}),!b.send_sms&&!b.send_whatsapp&&!b.send_email&&(A("Please select any one option"),L={...L,error:"Please select any one option"}),T(L),{totalErrors:Object.keys(L).length}},[g,E]=l.useState([]),[N,v]=l.useState(!1),d=async L=>{var F,O,$;E([]),v(!0),A(null);try{const B=await K({method:"post",url:f+"/api/send-kyc-link",data:L,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+p}});B.data.status=="success"?(m(R=>({...R,kycVerification:{...R.kycVerification,kyc:B.data.kyc}})),E((F=B.data)==null?void 0:F.response),S(h),u({variant:"success",title:B.data.message})):B.data.status=="info"?(m(R=>({...R,kycVerification:{...R.kycVerification,kyc:B.data.kyc}})),A(B.data.message)):B.data.status=="error"&&(A(B.data.message),E((O=B.data)==null?void 0:O.response))}catch(B){E([]),(($=B==null?void 0:B.response)==null?void 0:$.status)==401&&c()}finally{v(!1)}},y=()=>{if(k().totalErrors)return!1;const F=new FormData;F.append("id",o),F.append("send_sms",b.send_sms?1:0),F.append("send_email",b.send_email?1:0),F.append("send_whatsapp",b.send_whatsapp?1:0),d(F)},[M,C]=l.useState(!1),x=()=>{navigator.clipboard.writeText(r).then(()=>{C(!0),setTimeout(()=>C(!1),2e3)})};return e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>a(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/70 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#ece7f7] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"font-bold",children:"Send KYC Link"}),e("button",{type:"button",onClick:()=>a(!1),className:"text-white-dark hover:text-dark",children:e(xr,{size:25})})]}),s("div",{className:"p-5",children:[_&&e("div",{className:"mb-2",children:e("small",{children:e("b",{className:"text-[#ff1e1e]",children:_})})}),s("div",{children:[i.has_sms_link&&s("div",{className:"mb-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"send_sms",onChange:L=>w(L),checked:b.send_sms,className:"form-checkbox outline-success"}),e("span",{children:"Send by SMS"})]}),b.send_sms&&e("input",{type:"tel",maxLength:10,placeholder:"Enter Phone Number",value:n==null?void 0:n.phone,className:"form-input bg-[#dbe7ff38]",disabled:!0}),I.send_sms&&e("div",{children:e("small",{className:"text-[#ff1e1e]",children:e("b",{children:I.send_sms})})})]}),i.has_whatsapp_link&&s("div",{className:"mb-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"send_whatsapp",onChange:L=>w(L),checked:b.send_whatsapp,className:"form-checkbox outline-success"}),e("span",{children:"Send by Whatsapp"})]}),b.send_whatsapp&&e("input",{type:"tel",maxLength:10,placeholder:"Enter Phone Number",value:n==null?void 0:n.phone,className:"form-input bg-[#dbe7ff38]",disabled:!0}),I.send_whatsapp&&e("div",{children:e("small",{className:"text-[#ff1e1e]",children:e("b",{children:I.send_whatsapp})})})]}),i.has_email_link&&s("div",{className:"mb-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"send_email",onChange:L=>w(L),checked:b.send_email,className:"form-checkbox outline-success"}),e("span",{children:"Send by Email"})]}),b.send_email&&e("input",{type:"email",placeholder:"Enter Email Address",value:n==null?void 0:n.email,className:"form-input bg-[#dbe7ff38]",disabled:!0}),I.send_email&&e("div",{children:e("small",{className:"text-[#ff1e1e]",children:e("b",{children:I.send_email})})})]})]}),g==null?void 0:g.map(L=>e("div",{className:` ${L[0]?"bg-success-light":"bg-[#fbe5e6]"}  p-1 rounded mb-1`,children:e("small",{children:e("b",{children:L[1]})})})),s("div",{className:"flex justify-between items-center mt-4",children:[s("div",{className:"flex items-center gap-1 bg-[#DBE7FF] rounded justify-between w-[70%]",children:[e("p",{className:"text-gray-800 font-bold italic truncate max-w-[70%] px-2",title:r,children:r}),e("button",{className:` px-4 py-1 text-sm font-medium text-white rounded-md ${M?"bg-green-500":"bg-blue-500 hover:bg-blue-600"}`,onClick:x,children:M?"Copied!":"Copy"})]}),e("button",{type:"button",disabled:N,onClick:()=>y(),className:"btn btn-sm shadow btn-gradient ltr:ml-4 rtl:mr-4",children:N?"Sending...":"Send Now"})]})]})]})})})})]})})}function A3({verification:t,setVerification:a,lead_id:n,lead:r}){var m,u;const{settingData:i,authUser:o}=ee();return console.log("verification",t),JSON.parse(i.allowed_to_send_links),console.log("lead lead 2",r),s(J,{children:[e("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4",children:s("div",{className:"flex items-center justify-center sm:justify-end sm:flex-auto flex-1",children:[i!=null&&i.sms_enabled||i!=null&&i.whatsapp_enabled||i!=null&&i.app_enabled?e(P3,{verification:t,lead_id:n}):null,e(I3,{verification:t,lead_id:n}),(m=t==null?void 0:t.kycVerification)!=null&&m.is_enabled&&((u=t==null?void 0:t.kycVerification)!=null&&u.has_configured)?e(L3,{kycsettings:t.kycVerification,setVerification:a,authUser:o,lead:r}):null,e(F3,{riskProfile:t.riskProfile,setVerification:a})]})}),e("hr",{className:"mb-4 dark:border-[#191e3a]"})]})}const P3=({verification:t,lead_id:a})=>{const{addToast:n}=ct(),{logout:r,authUser:i,crmToken:o,apiUrl:m}=ee();if(!(t!=null&&t.websiteEnabled)||!(t!=null&&t.website))return null;const u=t.website;if(!u)return null;const[c,p]=l.useState(u),{is_viewed:f,count:h}=c,b=f?"btn-gradient":"btn-dark",S=f?"Website Viewed":"Send Website Link",I=f?e(Bt,{size:18}):e(Ha,{size:18}),[T,w]=l.useState(!1),_=async()=>{try{w(!0);const A=await K({method:"post",url:m+"/api/send-website-link",data:{lead_id:a},headers:{Accept:"application/json",Authorization:"Bearer "+o}});A.data.status=="success"?(p(A.data.website),n({variant:"success",title:A.data.message,time:"Today 10:30PM"})):A.data.status=="error"&&(navigator.clipboard.writeText(A.data.link).then(()=>{re.fire({icon:"success",title:"Link Copied!",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})}).catch(k=>{console.error("Failed to copy: ",k)}),n({variant:"error",title:A.data.message,time:"Today 10:30PM"}))}catch(A){console.log(A)}finally{w(!1)}};return e("div",{children:s("button",{onClick:()=>{_()},type:"button",className:`btn btn-sm gap-2 mr-2 p-1 shadow ${b}`,children:[I,T?"Sending.......":S,e("span",{className:"badge my-0 bg-white-light text-black",children:h})]})})},I3=({verification:t,lead_id:a})=>{if(!(t!=null&&t.bank))return null;const{is_viewed:n,count:r}=(t==null?void 0:t.bankDetails[0])||{},[i,o]=l.useState(!1);return s(J,{children:[e("div",{children:s("button",{type:"button",onClick:()=>{o(!i)},className:"btn btn-sm btn-success gap-2 mr-2 p-1 shadow",children:[n?e(Bt,{size:18}):e(Ha,{size:18}),"Send Bank Details",e("span",{className:"badge my-0 bg-white-light text-black",children:r})]})}),e(C3,{bankModel:i,setBankModel:o,lead_id:a})]})},L3=({kycsettings:t,setVerification:a,authUser:n,lead:r})=>{const{addToast:i}=ct(),{logout:o,crmToken:m,apiUrl:u}=ee(),c=t==null?void 0:t.kyc;if(!c)return null;const{is_verified:p,is_submited:f,is_viewed:h,count:b}=c,S=p?{class:"btn-success",icon:e(_n,{size:20}),text:"KYC Verified"}:f?{class:"btn-info",icon:e(rs,{size:18}),text:"KYC Submitted"}:h?{class:"btn-secondary",icon:e(Bt,{size:18}),text:"KYC Viewed"}:{class:"btn-danger",icon:e(Ha,{size:18}),text:"KYC Pending"},[I,T]=l.useState(!1),{has_email_link:w,has_sms_link:_,has_whatsapp_link:A}=t,k={has_email_link:w,has_sms_link:_,has_whatsapp_link:A},g=async()=>{var M,C;if(c.is_verified||c.is_submited)return v(!0),!1;if((M=t==null?void 0:t.allowedUserType)!=null&&M.includes(n.user_type))if(Object.values(k).filter(L=>L===!0).length>1)y(!0);else{y(!1),T(!0);try{const L=await K({method:"post",url:u+"/api/send-kyc-link",data:{id:c.id,send_sms:k.has_sms_link?1:0,send_email:k.has_email_link?1:0,send_whatsapp:k.has_whatsapp_link?1:0},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+m}});L.data.status=="success"?(a(F=>({...F,kycVerification:{...F.kycVerification,kyc:L.data.kyc}})),i({variant:"success",title:L.data.message}),navigator.clipboard.writeText(t.link).then(()=>{i({variant:"success",title:"KYC Link Copied!"})}).catch(F=>{console.error("Failed to copy: ",F)})):L.data.status=="info"?a(F=>({...F,kycVerification:{...F.kycVerification,kyc:L.data.kyc}})):L.data.status=="error"&&(i({variant:"error",title:L.data.message}),navigator.clipboard.writeText(t.link).then(()=>{i({variant:"success",title:"KYC Link Copied!"})}).catch(F=>{console.error("Failed to copy: ",F)}))}catch(L){((C=L==null?void 0:L.response)==null?void 0:C.status)==401&&o()}finally{T(!1)}}},E=e(ds,{size:18,className:"animate-spin"}),[N,v]=l.useState(!1),[d,y]=l.useState(!1);return s("div",{children:[s("button",{type:"button",disabled:I,onClick:()=>g(),className:`btn btn-sm gap-2 mr-2 p-1 shadow ${S.class}`,children:[I?E:S.icon,I?"Sending.......":S.text,e("span",{className:"badge my-0 bg-white-light text-black ",children:b})]}),e(Xl,{showKYCViewDrawer:N,setKYCViewShowDrawer:v,setVerification:a,kyc:{...c,link:t.link}}),d&&e(jp,{sendModal:d,setSendModal:y,lead:r,activeLinks:k,kyc_id:c.id,setVerification:a,link:t.link})]})},F3=({riskProfile:t,setVerification:a})=>{const{addToast:n}=ct(),{logout:r,authUser:i,crmToken:o,apiUrl:m}=ee();if(!t)return null;const{is_verified:u,is_submited:c,is_viewed:p,count:f}=t,h=u?{class:"btn-success",icon:e(_n,{size:20}),text:"Risk Profile Verified"}:c?{class:"btn-info",icon:e(rs,{size:18}),text:"Risk Profile Submitted"}:p?{class:"btn-secondary",icon:e(Bt,{size:18}),text:"Risk Profile Viewed"}:{class:"btn-danger",icon:e(Ha,{size:18}),text:"Risk Profile Pending"},b=e(ds,{size:18,className:"animate-spin"}),[S,I]=l.useState(!1),[T,w]=l.useState(!1),_=async()=>{if(t.is_submited)return w(!0),!1;I(!0);try{const A=await K({method:"post",url:m+"/api/send-riskprofile-link",data:{id:t.id},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});A.data.status=="success"?(a(k=>({...k,riskProfile:A.data.riskProfile})),navigator.clipboard.writeText(A.data.link).then(()=>{re.fire({icon:"success",title:"Link Copied!",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})}).catch(k=>{console.error("Failed to copy: ",k)})):A.data.status=="info"?(a(k=>({...k,riskProfile:A.data.riskProfile})),navigator.clipboard.writeText(A.data.link).then(()=>{re.fire({icon:"success",title:"Link Copied!",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})}).catch(k=>{console.error("Failed to copy: ",k)})):A.data.status=="error"&&(navigator.clipboard.writeText(A.data.link).then(()=>{re.fire({icon:"success",title:"Link Copied!",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})}).catch(k=>{console.error("Failed to copy: ",k)}),n({variant:"error",title:A.data.message,time:"Today 10:30 PM"}))}catch{}finally{I(!1)}};return s("div",{children:[s("button",{type:"button",disabled:S,onClick:()=>_(),className:`btn btn-sm gap-2 mr-2 p-1 shadow ${h.class}`,children:[S?b:h.icon,S?"Sending.......":h.text,e("span",{className:"badge my-0 bg-white-light text-black ",children:f})]}),e(Yl,{showRPViewDrawer:T,setRPViewShowDrawer:w,ridk_profile_id:t.id,setVerification:a,is_old_rp:t.is_old_rp})]})};function M3({leadHistoryDrawer:t,tab:a,lead_id:n}){const{logout:r,crmToken:i,apiUrl:o}=ee(),[m,u]=l.useState(!0),[c,p]=l.useState([]),f=async()=>{var h;console.log("Fetching Status History..."),u(!0);try{const b=await K({method:"post",url:o+"/api/get-lead-statuses/"+n,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});b.data.status=="success"?p(b.data.leadStatuses):alert("error")}catch(b){console.log(b),((h=b==null?void 0:b.response)==null?void 0:h.status)==401&&r()}finally{u(!1)}};return l.useEffect(()=>{t&&f()},[t]),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e(qe,{className:"relative h-full  ",children:e("div",{className:"space-y-5  sm:pb-0 pb-[68px] sm:min-h-[300px] min-h-[400px]",children:e(J,{children:m?e(be,{}):e(J,{children:c!=null&&c.length?e(qe,{className:" relative mx-4",children:c==null?void 0:c.map((h,b)=>s("div",{className:"bg-[#eee] rounded p-2 mb-2",children:[s("div",{className:"flex justify-between items-center",children:[s("div",{className:"flex items-center",children:[e("div",{className:"flex-none",children:e("img",{src:`https://ui-avatars.com/api/?background=random&name=${h.first_name} ${h.last_name}`,className:"rounded-full h-12 w-12 object-cover",alt:""})}),s("div",{className:"mx-3",children:[s("p",{className:"mb-1 font-semibold ",children:[h.first_name," ",h.last_name]}),e("p",{className:"text-xs text-white-dark",children:h.created_at})]})]}),e("div",{children:e("span",{className:"badge bg-secondary",children:h.status})})]}),e("div",{className:"bg-white p-2 my-2 rounded ",children:e("ol",{children:(()=>{try{return JSON.parse(h==null?void 0:h.changes).map((I,T)=>s("li",{className:"mb-1.5",children:[e("b",{children:I.field})," changed from",e("span",{className:"badge bg-[#888ea8] mx-2",children:I.original||"N/A"}),"to",e("span",{className:"badge bg-[#3b3f5c] mx-2",children:I.new})]},T))}catch(S){console.error("Error parsing JSON:",S)}})()})})]},b))}):e(J,{children:e("div",{className:"flex flex-wrap w-full justify-center mb-5",children:s("div",{className:"rounded-md bg-danger-light p-6 pt-12 mt-8 relative",children:[e("div",{className:"bg-danger/50 absolute text-white-light ltr:left-6 rtl:right-6 -top-8 w-16 h-16 rounded-md flex items-center justify-center mb-5 mx-auto",children:e(Au,{size:35})}),e("h5",{className:"text-dark text-lg font-semibold mb-3.5 dark:text-white-light",children:"No History"}),e("p",{className:"text-white-dark text-[15px]  mb-3.5",children:"No history found with this lead!"})]})})})})})})})})}function O3({leadHistoryDrawer:t,tab:a,lead_id:n}){const{logout:r,crmToken:i,apiUrl:o}=ee();console.log("tab",a),console.log("lead_id",n);const[m,u]=l.useState(!0),[c,p]=l.useState([]),f=async()=>{var h;console.log("Fetching Sales History..."),u(!0);try{const b=await K({method:"get",url:o+"/api/lead-sales-history",params:{lead_id:n},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});b.data.status=="success"&&p(b.data.sales)}catch(b){console.log(b),((h=b==null?void 0:b.response)==null?void 0:h.status)==401&&r()}finally{u(!1)}};return l.useEffect(()=>{t&&f()},[t]),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e(qe,{className:"relative h-full  ",children:e("div",{className:"space-y-5  sm:pb-0 pb-[68px] sm:min-h-[300px] min-h-[400px]",children:m?e(be,{}):e(J,{children:c.length?c.map((h,b)=>s("div",{className:`flex justify-between items-center mx-4 mb-2
                     ${h.status=="Approved"?"bg-success-light":h.status=="Verified"?"bg-info-light":h.status=="Pending"?"bg-warning-light":h.status=="Paused"?"bg-dark-light":"bg-danger-light"}
                 rounded p-2 mb-2`,children:[s("div",{className:"flex items-center ",children:[e("div",{className:"flex-none",children:e("img",{src:`https://ui-avatars.com/api/?background=random&name=${h.first_name+" "+h.last_name}`,className:"rounded-full h-12 w-12 object-cover",alt:""})}),s("div",{className:"mx-3",children:[e("div",{className:"flex justify-between w-[140px]",children:s("p",{className:"mb-1 font-semibold truncate",children:[h.first_name," "]})}),s("p",{className:"text-xs text-white-dark",children:[h.start_date,"  - ",h.due_date]})]})]}),e("div",{children:s("div",{className:"mx-3",children:[s("p",{className:"mb-1  text-xs text-dark font-bold",children:[h.bank_name," - ₹",h.client_paid]}),e("p",{className:"text-end",children:e("span",{className:`badge ${h.status=="Approved"?"bg-success":h.status=="Verified"?"bg-info":h.status=="Pending"?"bg-warning":h.status=="Paused"?"bg-dark":"bg-danger"}`,children:h.status})})]})})]},b)):e(J,{children:e("div",{className:"bg-danger-light rounded p-6 text-center font-bold text-2xl",children:e("h4",{children:"No Sale Found!"})})})})})})})}function B3({leadHistoryDrawer:t,setLeadHistoryDrawer:a,lead_id:n}){const[r,i]=l.useState("status-history");return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[650px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center  p-4 bg-[#3b3f5c] text-white rounded-b-md",children:[e("button",{type:"button",className:"px-4 py-4 absolute top-0 ltr:right-0 rtl:left-0 opacity-30 hover:opacity-100 dark:text-white",onClick:()=>a(!1),children:e(It,{className:" w-5 h-5"})}),e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:"Lead  History"})]}),s("div",{className:"flex gap-4",children:[e("button",{className:`${r=="status-history"&&"text-secondary !outline-none before:!w-full"}
                        before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>i("status-history"),type:"button",children:"Status History"}),e("button",{className:`${r=="sales-history"&&"text-secondary !outline-none before:!w-full"}
                        before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>i("sales-history"),type:"button",children:"Sales History"})]}),r=="status-history"?e(M3,{leadHistoryDrawer:t,tab:r,lead_id:n}):r=="sales-history"?e(O3,{leadHistoryDrawer:t,tab:r,lead_id:n}):null]})})]})}function R3({callbackModal:t,setCallbackModal:a,lead_id:n}){const{logout:r,crmToken:i,apiUrl:o}=ee(),m=ve(),[u,c]=l.useState([]),[p,f]=l.useState(!0);l.useEffect(()=>{t&&h()},[t]);const h=async()=>{var g;f(!0);try{const E=await K({method:"get",url:o+"/api/lead-callbacks/"+n,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});E.data.status=="success"&&c(E.data.callbacks)}catch(E){((g=E==null?void 0:E.response)==null?void 0:g.status)==401&&r()}finally{f(!1)}},[b,S]=l.useState(""),[I,T]=l.useState(""),w=async g=>{re.fire({icon:"question",title:"Are You Sure",confirmButtonText:"Yes",text:"Once closed, then never get alert",showLoaderOnConfirm:!0,customClass:"sweet-alerts",preConfirm:async()=>{var E;try{const N=await K({method:"get",url:o+"/api/lead-callbacks-close/"+g,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});if(N.data.status=="success"){m(Wn(N.data.allCallbacks));const v=N.data.callback,d=u.findIndex(M=>M.id==g),y=[...u];y[d]=v,c(y),re.fire({icon:N.data.status,title:N.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})}else N.data.status=="error"&&re.fire({icon:N.data.status,title:N.data.title,text:N.data.message,padding:"2em",customClass:"sweet-alerts"})}catch(N){((E=N==null?void 0:N.response)==null?void 0:E.status)==401&&r()}}})},_=async()=>{try{const g=await K({method:"post",url:o+"/api/callbacks",data:{lead_id:n,description:b,date_time:I},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});g.data.status=="success"&&(m(Wn(g.data.allCallbacks)),c(g.data.callBacks),re.fire({icon:g.data.status,title:g.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}))}catch(g){console.log(g)}finally{}},[A,k]=l.useState("");return l.useEffect(()=>{const E=new Date().toISOString().slice(0,16);k(E)},[]),s("div",{children:[" ",e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>a(!1),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{as:"div",className:"panel border-0 p-0 rounded-lg overflow-hidden my-8 w-full max-w-lg text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"text-lg font-bold",children:"Lead Call Back"}),e("button",{type:"button",className:"text-white-dark hover:text-dark",onClick:()=>a(!1),children:e(Ht,{})})]}),p?e(J,{children:e("div",{className:"h-[calc(50vh-80px)] text-center p-4",children:e("span",{children:"Loading"})})}):s("div",{className:"p-5",children:[u.filter(g=>g.status==0).length?"":s("div",{children:[s("div",{className:"flex flex-col md:flex-row gap-4 items-center max-w-[900px] mx-auto mb-4",children:[e("input",{className:"form-input",type:"datetime-local",onChange:g=>T(g.target.value),name:"birthdaytime",min:A}),e("button",{type:"button",onClick:()=>_(),className:"btn btn-primary",children:"Submit"})]}),e("div",{className:"",children:e("textarea",{rows:2,onChange:g=>S(g.target.value),className:"form-textarea",placeholder:"Enter description"})})]}),u.length?e(qe,{className:"h-[calc(50vh-80px)] relative bg-gray-100 p-2 rounded-md",children:u==null?void 0:u.map(g=>s("div",{className:"bg-white p-2 rounded mb-2",children:[s("div",{className:"flex justify-between items-center",children:[s("p",{className:"mb-1 font-semibold",children:[new Date(g.date_time).toLocaleDateString()," ",new Date(g.date_time).toLocaleTimeString()]}),s("div",{children:[e("span",{className:`badge ${g.status?"bg-danger":"bg-success"}`,children:g.status?"Closed":"Opened"}),g.status?"":e("span",{className:"cursor-pointer badge mx-2 btn-primary",onClick:()=>w(g.id),children:"Close Now"})]})]}),e("p",{className:"text-xs text-white-dark",children:g.description})]}))}):e(J,{children:e("div",{className:" w-full justify-center mb-5",children:s("div",{className:"rounded-md bg-danger-light p-4 ",children:[e("h5",{className:"text-dark text-lg font-semibold mb-3.5 dark:text-white-light",children:"No Calls"}),e("p",{className:"text-white-dark text-[15px]  mb-3.5",children:"No previous call found!"})]})})}),e("div",{className:"flex justify-end items-center mt-8",children:e("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>a(!1),children:"Discard"})})]})]})})})})]})})]})}function $3({transferOwnerModal:t,setTransferOwnerModal:a,lead_id:n}){ve();const{logout:r,crmToken:i,authUser:o,apiUrl:m}=ee(),[u,c]=l.useState(!0);l.useEffect(()=>{t&&h()},[t]);const[p,f]=l.useState([]),h=async()=>{c(!0);try{const d=await K({method:"get",url:m+"/api/get-lead-owners",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});d.data.status=="success"&&f(d.data.owners.filter(y=>y.id!=o.id))}catch(d){console.log(d)}finally{c(!1)}},[b]=l.useState({to_id:""}),[S,I]=l.useState(b),[T,w]=l.useState({}),_=()=>{w({});let d={};return S.to_id||(d={...d,to_id:"Employee is required"}),w(d),{totalErrors:Object.keys(d).length}},A=d=>{const{value:y,name:M}=d.target;w({...T,[M]:""}),I({...S,[M]:y})},[k,g]=l.useState(!1),E=async d=>{var M,C;g(!0);try{const x=await K({method:"post",url:m+"/api/tranfer-lead",data:d,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});x.data.status=="success"?(N(x.data.message),I(b),a(!1)):alert("Failed")}catch(x){if(console.log(x),((M=x==null?void 0:x.response)==null?void 0:M.status)==401&&r(),((C=x==null?void 0:x.response)==null?void 0:C.status)===422){const L=x.response.data.errors;let F={};for(var y in L)F={...F,[y]:L[y][0]};w(F),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{g(!1)}},N=(d="",y="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:y,title:d,padding:"10px 20px"})},v=()=>{if(_().totalErrors)return!1;const y=new FormData;y.append("to_id",S.to_id),y.append("lead_id",n),E(y)};return e("div",{children:e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>{a(!1)},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"register_modal",className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 py-1 px-4 rounded-lg overflow-hidden w-full max-w-sm my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex items-center justify-between p-5 font-semibold text-lg dark:text-white",children:[e("h5",{children:"TransferOwner Client"}),e("button",{type:"button",onClick:()=>a(!1),className:"text-white-dark hover:text-dark",children:e(Ht,{className:"w-5 h-5"})})]}),e("div",{className:"p-3",children:u?e(be,{}):s("form",{autoComplete:"off",children:[s("div",{className:"relative mb-4",children:[s("select",{id:"dataType",className:"form-select text-white-dark",name:"to_id",value:S.to_id,onChange:d=>A(d),children:[e("option",{value:"",children:"Select Employee"}),p.map((d,y)=>s("option",{value:d.id,children:[d.first_name," ",d.last_name]},y+1))]}),e("div",{className:"text-danger mt-1",children:T.to_id})]}),e("button",{type:"button",onClick:()=>v(),disabled:k,className:"btn btn-primary w-full",children:k?"Please Wait":"Transer"})]})})]})})})})]})})})}function j3({referModal:t,setReferModal:a,lead_id:n}){const{logout:r,crmToken:i,authUser:o,apiUrl:m}=ee();ve();const[u,c]=l.useState(!0);l.useEffect(()=>{t&&h()},[t]);const[p,f]=l.useState([]),h=async()=>{c(!0);try{const d=await K({method:"get",url:m+"/api/get-lead-owners",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});d.data.status=="success"&&f(d.data.owners.filter(y=>y.id!=o.id))}catch(d){console.log(d)}finally{c(!1)}},[b]=l.useState({to_id:"",lead_id:""}),[S,I]=l.useState(b),[T,w]=l.useState({}),_=()=>{w({});let d={};return S.to_id||(d={...d,to_id:"employess is required"}),w(d),{totalErrors:Object.keys(d).length}},A=d=>{const{value:y,name:M}=d.target;w({...T,[M]:""}),I({...S,[M]:y})},[k,g]=l.useState(!1),E=async d=>{var M,C;g(!0);try{const x=await K({method:"post",url:m+"/api/refer-lead",data:d,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});x.data.status=="success"?(N(x.data.message),I(b),a(!1)):alert("Failed")}catch(x){if(console.log(x),((M=x==null?void 0:x.response)==null?void 0:M.status)==401&&r(),((C=x==null?void 0:x.response)==null?void 0:C.status)===422){const L=x.response.data.errors;let F={};for(var y in L)F={...F,[y]:L[y][0]};w(F),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{g(!1)}},N=(d="",y="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:y,title:d,padding:"10px 20px"})},v=()=>{if(_().totalErrors)return!1;const y=new FormData;y.append("to_id",S.to_id),y.append("lead_id",n),E(y)};return e("div",{children:e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>{a(!1)},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"register_modal",className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 py-1 px-4 rounded-lg overflow-hidden w-full max-w-sm my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex items-center justify-between p-5 font-semibold text-lg dark:text-white",children:[e("h5",{children:"Refer Client"}),e("button",{type:"button",onClick:()=>a(!1),className:"text-white-dark hover:text-dark",children:e(Ht,{className:"w-5 h-5"})})]}),e("div",{className:"p-3",children:u?e(be,{}):s("form",{autoComplete:"off",children:[s("div",{className:"relative mb-4",children:[s("select",{id:"dataType",className:"form-select text-white-dark",name:"to_id",value:S.to_id,onChange:d=>A(d),children:[e("option",{value:"",children:"Select Employee"}),p==null?void 0:p.map((d,y)=>s("option",{value:d.id,children:[d.first_name," ",d.last_name]},y+1))]}),e("div",{className:"text-danger mt-1",children:T.to_id})]}),e("button",{type:"button",onClick:()=>v(),disabled:k,className:"btn btn-primary w-full",children:k?"Please Wait":"Send"})]})})]})})})})]})})})}function Ql({showUploadKYCRAViewDrawer:t,setUploadKYCRAViewDrawer:a,lead_id:n,setVerification:r}){const{logout:i,crmToken:o,settingData:m,apiUrl:u}=ee(),c=l.useRef(null),{addToast:p}=ct();l.useEffect(()=>{t&&g()},[n,t]);const[f,h]=l.useState(!0),[b,S]=l.useState(null),[I,T]=l.useState(1),[w,_]=l.useState([]),[A,k]=l.useState([]);l.useEffect(()=>{k(Object.keys(w))},[w]),l.useEffect(()=>{console.log("fields",w)},[w]);const g=async()=>{var te;console.log("Feaching Old Kyc data ....."),h(!0),T(1),_([]);try{const G=await K({method:"get",url:u+"/api/get-kyc/"+n,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});if(G.data.status=="success"&&(G.data.kyc&&S(JSON.parse(G.data.kyc)),console.log(JSON.parse(G.data.kyc)),G.data.kycSettings)){const fe=G.data.kycSettings;T(fe.is_multy_tab),_(JSON.parse(fe.fields))}}catch(G){console.log(G),T(1),_([]),((te=G==null?void 0:G.response)==null?void 0:te.status)==401&&i()}finally{h(!1)}},E=()=>{var te;L({...x,signature:(te=c==null?void 0:c.current)==null?void 0:te.toDataURL()})},N=()=>{c.current.clear(),L({...x,signature:null})},v=l.useRef(null),d=l.useRef(null),y=l.useRef(null),M=l.useRef(null),[C]=l.useState({first_name:"",last_name:"",father_or_spouse_name:"",gender:"",phone:"",email:"",marital_status:"",date_of_birth:"",pan:"",aadhaar_number:"",nationality:"",residential_status:"",current_address_1:"",current_address_2:"",current_address_city:"",current_address_state:"",current_address_pincode:"",current_address_country:"",is_same_address:0,permanent_address_1:"",permanent_address_2:"",permanent_address_city:"",permanent_address_state:"",permanent_address_pincode:"",permanent_address_country:"",photo:"",pan_document:"",aadhaar_front_document:"",aadhar_back_document:"",politician_by_profession:"",years_of_experience_in_trading:"",risk_appetite:"",annual_turnover:"",age_declaration:"",signature:""}),[x,L]=l.useState(C),[F,O]=l.useState({photoPreview:u+"/avatar.png",panDocumentPreview:u+"/document.png",aadhaarFrontDocument:u+"/document.png",aadharBackDocument:u+"/document.png"});l.useEffect(()=>{b?(L({id:b.id?b.id:"",verified_by:b.verified_by?b.verified_by:"",token:b.token?b.token:"",submited_by:b.submited_by?1:0,submited:b.submited?b.submited:"",lead_id:b.lead_id?b.lead_id:"",is_viewed:b.is_viewed?1:0,is_verified:b.is_verified?1:0,is_online:b.is_online?1:0,is_submited:b.is_submited?1:0,count:b.count?b.count:"",verified:b.verified?b.verified:"",first_name:b.first_name?b.first_name:"",last_name:b.last_name?b.last_name:"",father_or_spouse_name:b.father_or_spouse_name?b.father_or_spouse_name:"",kyc_lsname:b.kyc_lsname?b.kyc_lsname:"",gender:b.gender?b.gender:"",phone:b.phone?b.phone:"",email:b.email?b.email:"",marital_status:b.marital_status?b.marital_status:"",date_of_birth:b.date_of_birth?b.date_of_birth:"",nationality:b.nationality?b.nationality:"",residential_status:b.residential_status?b.residential_status:"",pan:b.pan?b.pan:"",aadhaar_number:b.aadhaar_number?b.aadhaar_number:"",current_address_1:b.current_address_1?b.current_address_1:"",current_address_2:b.current_address_2?b.current_address_2:"",current_address_city:b.current_address_city?b.current_address_city:"",current_address_state:b.current_address_state?b.current_address_state:"",current_address_pincode:b.current_address_pincode?b.current_address_pincode:"",current_address_country:b.current_address_country?b.current_address_country:"",is_same_address:b.is_same_address?1:0,permanent_address_1:b.permanent_address_1?b.permanent_address_1:"",permanent_address_2:b.permanent_address_2?b.permanent_address_2:"",permanent_address_city:b.permanent_address_city?b.permanent_address_city:"",permanent_address_state:b.permanent_address_state?b.permanent_address_state:"",permanent_address_pincode:b.permanent_address_pincode?b.permanent_address_pincode:"",permanent_address_country:b.permanent_address_country?b.permanent_address_country:"",signature:b.signature?b.signature:"",politician_by_profession:b.politician_by_profession?b.politician_by_profession:"",years_of_experience_in_trading:b.years_of_experience_in_trading?b.years_of_experience_in_trading:"",risk_appetite:b.risk_appetite?b.risk_appetite:"",annual_turnover:b.annual_turnover?b.annual_turnover:"",age_declaration:b.age_declaration?b.age_declaration:"",photo:"",aadhaar_front_document:"",aadhar_back_document:"",pan_document:""}),b!=null&&b.photo&&O(te=>({...te,photoPreview:u+b.photo})),b!=null&&b.pan_document&&O(te=>({...te,panDocumentPreview:u+b.pan_document})),b!=null&&b.aadhaar_front_document&&O(te=>({...te,aadhaarFrontDocument:u+b.aadhaar_front_document})),b!=null&&b.aadhar_back_document&&O(te=>({...te,aadharBackDocument:u+b.aadhar_back_document}))):O({photoPreview:u+"/avatar.png",panDocumentPreview:u+"/document.png",aadhaarFrontDocument:u+"/document.png",aadharBackDocument:u+"/document.png"})},[b]);const[$,B]=l.useState({}),[R,P]=l.useState(!1),z=te=>{const{value:G,name:fe,type:ne}=te.target;B({...$,[fe]:""}),fe=="is_same_address"?te.target.checked?L({...x,permanent_address_1:x.current_address_1,permanent_address_2:x.current_address_2,permanent_address_city:x.current_address_city,permanent_address_state:x.current_address_state,permanent_address_pincode:x.current_address_pincode,permanent_address_country:x.current_address_country,is_same_address:1}):L({...x,permanent_address_1:"",permanent_address_2:"",permanent_address_city:"",permanent_address_state:"",permanent_address_pincode:"",permanent_address_country:"",is_same_address:0}):L({...x,[fe]:fe=="pan"?G.toUpperCase():G}),console.log(x)},H=te=>{const{name:G}=te.target;if(B({...$,[G]:""}),te.target.files[0]){if(te.target.files[0].type&&te.target.files[0].type.indexOf("image")===-1){B({...$,[G]:"file is not a valid image"});return}const fe=25*1024*1024;if(te.target.files[0].size>fe){B({...$,[G]:"maximum file size is 2 mb"});return}const ne=new FileReader;ne.onload=function(pe){const ue={photo:"photoPreview",pan_document:"panDocumentPreview",aadhaar_front_document:"aadhaarFrontDocument",aadhar_back_document:"aadharBackDocument"};ue[G]&&O(le=>({...le,[ue[G]]:ne.result})),L({...x,[G]:te.target.files[0]})},ne.readAsDataURL(te.target.files[0])}},W=()=>{let te=[];const G={address_for_correspondence:["current_address_1","current_address_2","current_address_city","current_address_state","current_address_pincode","current_address_country"],permanent_address_of_resident:["permanent_address_1","permanent_address_2","permanent_address_city","permanent_address_state","permanent_address_pincode","permanent_address_country"]};return A.forEach(fe=>{if(fe!=="Address Details"&&w[fe])te=[...te,...w[fe].filter(ne=>ne[3]).map(ne=>ne[0])];else if(fe==="Address Details"&&w["Address Details"]){const ne=w["Address Details"].filter(pe=>pe&&pe[3]).map(pe=>pe[0]);Object.keys(G).forEach(pe=>{ne.includes(pe)&&(te=[...te,...G[pe]])})}}),te};function q(te){return/^[a-z]{5}\d{4}[a-z]$/i.test(te)}function D(te){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(te)}function V(te){return/^\d{10}$/.test(te)}function j(te){return/^\d{12}$/.test(te)}function U(te){return/^\d{6}$/.test(te)}const Z=()=>{let te=W();console.log("mandatoryFields",te),B({});let G={};return!x.first_name&&te.includes("first_name")&&(G={...G,first_name:"first name is required"}),!x.last_name&&te.includes("last_name")&&(G={...G,last_name:"last name is required"}),!x.father_or_spouse_name&&te.includes("father_or_spouse_name")&&(G={...G,father_or_spouse_name:"father/spouse name is required"}),!x.gender&&te.includes("gender")&&(G={...G,gender:"gender is required"}),!x.phone&&te.includes("phone")?G={...G,phone:"phone is required"}:x.phone&&!V(x.phone)&&(G={...G,phone:"invalid phone number"}),!x.email&&te.includes("email")?G={...G,email:"email is required"}:x.email&&!D(x.email)&&(G={...G,email:"invalid email address"}),!x.marital_status&&te.includes("marital_status")&&(G={...G,marital_status:"marital status is required"}),!x.date_of_birth&&te.includes("date_of_birth")&&(G={...G,date_of_birth:"date of birth is required"}),!x.pan&&te.includes("pan")?G={...G,pan:"pan is required"}:x.pan&&!q(x.pan)&&(G={...G,pan:"Invalid PAN Number "}),!x.aadhaar_number&&te.includes("aadhaar_number")?G={...G,aadhaar_number:"aadhaar number is required"}:x.aadhaar_number&&!j(x.aadhaar_number)&&(G={...G,aadhaar_number:"invalid aadhaar number"}),!x.nationality&&te.includes("nationality")&&(G={...G,nationality:"nationality is required"}),!x.residential_status&&te.includes("residential_status")&&(G={...G,residential_status:"residential status is required"}),!x.current_address_1&&te.includes("current_address_1")&&(G={...G,current_address_1:"address is required"}),!x.current_address_2&&te.includes("current_address_2")&&(G={...G,current_address_2:" address 2 is required"}),!x.current_address_city&&te.includes("current_address_city")&&(G={...G,current_address_city:"city is required"}),!x.current_address_state&&te.includes("current_address_state")&&(G={...G,current_address_state:"state is required"}),!x.current_address_pincode&&te.includes("current_address_pincode")?G={...G,current_address_pincode:"pincode is required"}:x.current_address_pincode&&!U(x.current_address_pincode)&&(G={...G,current_address_pincode:"invalid pincode"}),!x.current_address_country&&te.includes("current_address_country")&&(G={...G,current_address_country:"country is required"}),!x.permanent_address_1&&te.includes("permanent_address_1")&&(G={...G,permanent_address_1:"address is required"}),!x.permanent_address_2&&te.includes("permanent_address_2")&&(G={...G,permanent_address_2:" address 2 is required"}),!x.permanent_address_city&&te.includes("permanent_address_city")&&(G={...G,permanent_address_city:"city is required"}),!x.permanent_address_state&&te.includes("permanent_address_state")&&(G={...G,permanent_address_state:"state is required"}),!x.permanent_address_pincode&&te.includes("permanent_address_pincode")?G={...G,permanent_address_pincode:"pincode is required"}:x.permanent_address_pincode&&!U(x.permanent_address_pincode)&&(G={...G,permanent_address_pincode:"invalid pincode"}),!x.permanent_address_country&&te.includes("permanent_address_country")&&(G={...G,permanent_address_country:"country is required"}),!(b!=null&&b.photo)&&!x.photo&&te.includes("photo")&&(G={...G,photo:"photo is required"}),!(b!=null&&b.pan_document)&&!x.pan_document&&te.includes("pan_document")&&(G={...G,pan_document:"pan card is required"}),!(b!=null&&b.aadhaar_front_document)&&!x.aadhaar_front_document&&te.includes("aadhaar_front_document")&&(G={...G,aadhaar_front_document:"aadhaar front is required"}),!(b!=null&&b.aadhar_back_document)&&!x.aadhar_back_document&&te.includes("aadhar_back_document")&&(G={...G,aadhar_back_document:"aadhaar back is required"}),!x.politician_by_profession&&te.includes("politician_by_profession")&&(G={...G,politician_by_profession:"politician by profession is required"}),!x.years_of_experience_in_trading&&te.includes("years_of_experience_in_trading")&&(G={...G,years_of_experience_in_trading:"experience in trading is required"}),!x.risk_appetite&&te.includes("risk_appetite")&&(G={...G,risk_appetite:"risk appetite is required"}),!x.annual_turnover&&te.includes("annual_turnover")&&(G={...G,annual_turnover:"risk appetite is required"}),!x.age_declaration&&te.includes("age_declaration")&&(G={...G,age_declaration:"age declaration is required"}),!x.signature&&te.includes("signature")&&(G={...G,signature:"signature is required"}),B(G),{totalErrors:Object.keys(G).length}},Y=async te=>{var fe,ne;P(!0);try{const pe=await K({method:"post",url:u+"/api/save-kyc-details",data:te,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});pe.data.status=="success"&&(p({variant:"success",title:pe.data.message}),L(""),r(ue=>({...ue,kyc:pe.data.kyc})),a(!1))}catch(pe){if(console.log(pe),((fe=pe==null?void 0:pe.response)==null?void 0:fe.status)==401&&i(),((ne=pe==null?void 0:pe.response)==null?void 0:ne.status)===422){const ue=pe.response.data.errors;let le={};for(var G in ue)le={...le,[G]:ue[G][0]},console.log(ue[G][0]);B(le),p({variant:"error",title:"Server Validation Error! Please Solve!"})}}finally{P(!1)}},X=()=>{if(Z().totalErrors)return!1;const G=new FormData;G.append("lead_id",n),G.append("first_name",x.first_name?x.first_name:""),G.append("last_name",x.last_name?x.last_name:""),G.append("father_or_spouse_name",x.father_or_spouse_name?x.father_or_spouse_name:""),G.append("gender",x.gender?x.gender:""),G.append("marital_status",x.marital_status?x.marital_status:""),G.append("date_of_birth",x.date_of_birth?x.date_of_birth:""),G.append("nationality",x.nationality?x.nationality:""),G.append("residential_status",x.residential_status?x.residential_status:""),G.append("pan_document",x.pan_document?x.pan_document:""),G.append("pan",x.pan?x.pan:""),G.append("aadhaar_front_document",x.aadhaar_front_document?x.aadhaar_front_document:""),G.append("aadhar_back_document",x.aadhar_back_document?x.aadhar_back_document:""),G.append("aadhaar_number",x.aadhaar_number?x.aadhaar_number:""),G.append("current_address_1",x.current_address_1?x.current_address_1:""),G.append("current_address_2",x.current_address_2?x.current_address_2:""),G.append("current_address_city",x.current_address_city?x.current_address_city:""),G.append("current_address_state",x.current_address_state?x.current_address_state:""),G.append("current_address_pincode",x.current_address_pincode?x.current_address_pincode:""),G.append("current_address_country",x.current_address_country?x.current_address_country:""),G.append("phone",x.phone?x.phone:""),G.append("email",x.email?x.email:""),x.is_same_address?(G.append("permanent_address_1",x.current_address_1?x.current_address_1:""),G.append("permanent_address_2",x.current_address_2?x.current_address_2:""),G.append("permanent_address_city",x.current_address_city?x.current_address_city:""),G.append("permanent_address_state",x.current_address_state?x.current_address_state:""),G.append("permanent_address_pincode",x.current_address_pincode?x.current_address_pincode:""),G.append("permanent_address_country",x.phone?x.phone:"")):(G.append("permanent_address_1",x.permanent_address_1?x.permanent_address_1:""),G.append("permanent_address_2",x.permanent_address_2?x.permanent_address_2:""),G.append("permanent_address_city",x.permanent_address_city?x.permanent_address_city:""),G.append("permanent_address_state",x.permanent_address_state?x.permanent_address_state:""),G.append("permanent_address_pincode",x.permanent_address_pincode?x.permanent_address_pincode:""),G.append("permanent_address_country",x.permanent_address_country?x.permanent_address_country:"")),G.append("is_same_address",x.is_same_address),G.append("photo",x.photo?x.photo:""),G.append("signature",x.signature?x.signature:""),G.append("politician_by_profession",x.politician_by_profession?x.politician_by_profession:""),G.append("years_of_experience_in_trading",x.years_of_experience_in_trading?x.years_of_experience_in_trading:""),G.append("risk_appetite",x.risk_appetite?x.risk_appetite:""),G.append("annual_turnover",x.annual_turnover?x.annual_turnover:""),G.append("age_declaration",x.age_declaration?x.age_declaration:""),Y(G)},ae={photo:v,pan_document:d,aadhaar_front_document:y,aadhar_back_document:M},he={photo:F.photoPreview,pan_document:F.panDocumentPreview,aadhaar_front_document:F.aadhaarFrontDocument,aadhar_back_document:F.aadharBackDocument};return l.useEffect(()=>{},[w]),e("div",{children:e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>{},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 z-[999] overflow-y-auto bg-[black]/60",children:e("div",{className:"flex min-h-screen items-start justify-center px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{as:"div",className:"panel my-8 w-full max-w-3xl overflow-hidden rounded-lg border-0 p-0 text-black dark:text-white-dark",children:[s("div",{className:"flex items-center justify-between bg-[#fbfbfb] px-5 py-3 dark:bg-[#121c2c]",children:[s("div",{className:"text-lg font-bold flex justify-between gap-5 ",children:[e("span",{children:"KYC Details"}),x!=null&&x.is_verified?e("span",{className:"badge bg-success",children:"KYC Verified"}):null,x!=null&&x.is_submited?e("span",{className:"badge bg-dark",children:x.is_online?"Online":"Offline"}):null]}),e("button",{type:"button",className:"text-white-dark hover:text-dark",onClick:()=>a(!1),children:e(Ht,{})})]}),e("div",{children:f?e("div",{className:"h-[calc(80vh-80px)]",children:e(be,{})}):A!=null&&A.length?s("div",{className:`p-5 ${x!=null&&x.is_verified?"bg-[#d9f2e6]":""} `,children:[s("div",{className:"flex justify-between text-center mx-5 mb-4 gap-5",children:[x!=null&&x.is_submited?s("div",{className:`${x!=null&&x.is_verified?"w-full":"w-1/2"}`,children:[e("strong",{className:"badge bg-[#1b2e4b] ",children:"Submited By"}),s("div",{className:"bg-[#009688]/[.26] p-1.5 rounded  flex gap-2 mt-2 items-center",children:[e("img",{src:`https://ui-avatars.com/api/?background=random&name=${x==null?void 0:x.submited}`,className:"w-12 rounded",alt:""}),e("b",{children:x==null?void 0:x.submited})]})]}):null,x!=null&&x.is_verified?s("div",{className:"w-full",children:[e("strong",{className:"badge bg-[#1b2e4b] ",children:"Verified By"}),s("div",{className:"bg-[#009688]/[.26] p-1.5 rounded  flex gap-2 mt-2 items-center",children:[e("img",{src:`https://ui-avatars.com/api/?background=random&color=fff&name=${x==null?void 0:x.verified}`,className:"w-12 rounded",alt:""}),e("b",{children:x==null?void 0:x.verified})]})]}):null]}),A.map((te,G)=>{var fe,ne,pe;return e("div",{className:"mx-auto w-full   ",children:s("div",{className:"space-y-5",children:[e("div",{className:"bg-gray-100 py-2 px-2",children:e("h2",{className:"font-bold text-xl",children:te})}),te=="Personal Details"?e("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:w[te].map((ue,le)=>{var Ce;return ue[2]?ue[4]=="input"?s("div",{className:"mb-2",children:[s("label",{children:[ue[1]," ",ue[3]&&e("span",{className:"text-red-500",children:"*"})]}),e("input",{name:ue[0],value:x[ue[0]],onChange:Be=>z(Be),type:ue[5],placeholder:ue[1],className:"form-input"}),e("small",{className:"font-bold text-[#ff0303]",children:$==null?void 0:$[ue[0]]})]},le):ue[4]=="select"?s("div",{className:"mb-2",children:[s("label",{children:[ue[1]," ",ue[3]&&e("span",{className:"text-red-500",children:"*"})]}),s("select",{className:"form-select text-white-dark",name:ue[0],value:x[ue[0]],onChange:Be=>z(Be),children:[e("option",{value:"",children:"--select--"}),(Ce=ue[6])==null?void 0:Ce.map((Be,Ue)=>e("option",{value:Be,children:Be},Ue))]}),e("small",{className:"font-bold text-[#ff0303]",children:$==null?void 0:$[ue[0]]})]},le):null:null})}):te=="Address Details"?(fe=w[te])==null?void 0:fe.map((ue,le)=>ue[2]?e(J,{children:s("div",{className:"mb-4 ",children:[s("div",{className:"flex justify-between items-center",children:[e("b",{className:"block mb-2 ",children:ue[1]}),le?e(J,{children:s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"is_same_address",className:"form-checkbox",checked:x.is_same_address,onChange:Ce=>z(Ce)}),e("span",{children:"Is same Address"})]})}):null]}),le&&x.is_same_address?null:e(J,{children:e("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:ue[4]&&typeof ue[4]=="object"?Object.entries(ue[4]).map(([Ce,Be])=>{var Ue;return e("div",{className:"mb-4",children:Be[0]==="input"?s("div",{children:[s("label",{className:"block mb-2 font-medium",children:[Be[2],"  ",ue[3]&&e("span",{className:"text-red-500",children:"*"})," "]}),e("input",{name:Ce,type:Be[1],value:(x==null?void 0:x[Ce])||"",onChange:z,placeholder:Be[2],className:"form-input w-full border border-gray-300 rounded px-3 py-2",required:!0}),e("small",{className:"font-bold text-red-500",children:$==null?void 0:$[Ce]})]}):Be[0]==="select"?s("div",{children:[s("label",{className:"block mb-2 font-medium",children:[Be[2]," ",ue[3]&&e("span",{className:"text-red-500",children:"*"})]}),s("select",{name:Ce,value:(x==null?void 0:x[Ce])||"",onChange:z,className:"form-select w-full border border-gray-300 rounded px-3 py-2",children:[e("option",{value:"",disabled:!0,children:"---select---"}),(Ue=Be[1])==null?void 0:Ue.map((Te,xe)=>e("option",{value:Te,children:Te},xe))]}),e("small",{className:"font-bold text-red-500",children:$==null?void 0:$[Ce]})]}):null},Ce)}):null})})]},le)}):null):te=="Documents"?e("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:(ne=w[te])==null?void 0:ne.map(ue=>ue[2]?s("div",{className:"mb-3",children:[s("label",{children:[ue[1]," ",ue[3]&&e("span",{className:"text-red-500",children:"*"})]}),e("input",{ref:ae[ue[0]],name:ue[0],type:"file",onChange:le=>H(le),className:"form-input hidden",accept:"image/*"}),e("span",{className:"w-full relative",children:e("img",{className:` ${ue[0]=="photo"?"max-w-[200px] max-h-[200px]":"max-w-[300px] max-h-[250px]"}   overflow-hidden object-cover rounded`,onClick:()=>ae[ue[0]].current.click(),src:he[ue[0]]||"",alt:"kyc_photo"})}),e("small",{className:"font-bold text-red-500",children:$==null?void 0:$[ue[0]]})]},ue[0]):null)}):te=="Declaration"?(pe=w[te])==null?void 0:pe.map((ue,le)=>{var Ce;return e("div",{children:ue[2]?ue[4]=="radio"?s("div",{children:[s("label",{children:[ue[1]," ",ue[3]&&e("span",{className:"text-red-500",children:"*"})]}),e("div",{className:"flex gap-4",children:(Ce=ue[5])==null?void 0:Ce.map((Be,Ue)=>e("div",{className:"gap-4",children:s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:ue[0],className:"form-radio",onChange:Te=>z(Te),checked:x[ue[0]]==Be,value:Be}),e("span",{className:"ml-1",children:Be})]})},Ue))}),e("small",{className:"font-bold text-[#ff0303]",children:$==null?void 0:$[ue[0]]})]}):ue[4]=="input"&&ue[5]=="file"?s(J,{children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 ",children:e("div",{className:"border h-20 lg:h-auto",children:e(f1,{penColor:"red",canvasProps:{className:"signature"},ref:c,onEnd:E})})}),e("small",{className:"font-bold text-[#ff0303]",children:$==null?void 0:$[ue[0]]}),e("div",{children:x!=null&&x.is_verified?null:e("button",{className:"badge bg-danger",onClick:N,children:"Clear"})})]}):null:null},le)}):null]})},G)}),s("div",{className:"flex justify-between",children:[e("button",{className:"btn btn-danger shadow",onClick:()=>a(!1),children:"Close"}),!x.verified&&e("button",{className:"btn btn-dark shadow",onClick:()=>X(),children:"Submit"})]})]}):e("div",{className:"mx-4 my-10 bg-[#ff0000] p-2 text-white rounded",children:e("strong",{children:"KYC Settings configuration is still pending"})})})]})})})})]})})})}function z3(){var he,te,G,fe,ne,pe,ue,le,Ce,Be,Ue,Te,xe,ye,Ge,Ke;const{logout:t,crmToken:a,authUser:n,settingData:r,apiUrl:i}=ee(),o=St(),m=Re(),[u,c]=l.useState(o.state||{});l.useEffect(()=>{c(o.state||{})},[o.state]);const[p,f]=l.useState(!0),[h,b]=l.useState(null),[S,I]=l.useState(0);l.useEffect(()=>{E(u.lead_id)},[u]);const[T,w]=l.useState(null),[_,A]=l.useState([]),[k,g]=l.useState([]),E=async(de,Ne=null)=>{var ie;f(!0);try{const we=await K({method:"get",url:i+"/api/leads/"+de,params:{action:Ne,filterOwner:u.filterOwner,filterStatus:u.filterStatus,filterState:u.filterState},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});we.data.status=="success"?(I(we.data.data.id),w(we.data.data),A(we.data.data.verification),g(we.data.lead)):w(null)}catch(we){console.log(we),b(we),((ie=we==null?void 0:we.response)==null?void 0:ie.status)==401&&t()}finally{f(!1)}},[N]=l.useState({id:"",user_id:"",first_name:"",last_name:"",phone:"",second_phone:"",email:"",status:"",invest:"",free_trial:"",second_trial:"",followup:"",source:"",dnd:"",city:"",state:"",products:[],desc:"",lot_size:"",owner:""}),[v,d]=l.useState(N),[y,M]=l.useState({}),[C,x]=l.useState(!1);l.useEffect(()=>{var de,Ne,ie,we,Pe;T!=null&&T.lead?d({...T==null?void 0:T.lead,products:(Ne=(de=T==null?void 0:T.lead)==null?void 0:de.products)!=null&&Ne.length?JSON.parse((ie=T==null?void 0:T.lead)==null?void 0:ie.products):[],owner:((we=T==null?void 0:T.owner)==null?void 0:we.first_name)+" "+((Pe=T==null?void 0:T.owner)==null?void 0:Pe.last_name)}):d(N)},[T]);const L=de=>{const{value:Ne,name:ie}=de.target;M({...y,[ie]:""}),d({...v,[ie]:Ne}),console.log(Ne)},F=()=>{M({});let de={};return!v.first_name&&v.status=="Closed Won"&&(de={...de,first_name:"first name is required"}),v.status=="Free Trial"&&!v.free_trial&&(de={...de,free_trial:"First Free Trial date is mandatory"}),v.status=="Free Trial"&&!v.products.length&&(de={...de,products:"products is mandatory"}),v.status==="Follow Up"&&!v.followup&&(de={...de,followup:"Follow Up Date is mandatory"}),M(de),{totalErrors:Object.keys(de).length}},O=async de=>{var ie,we;x(!0);try{const Pe=await K({method:"post",url:i+"/api/leads",data:de,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});Pe.data.status=="success"?(re.fire({icon:Pe.data.status,title:Pe.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),E(S,"nxt")):alert("Failed")}catch(Pe){if(console.log(Pe),((ie=Pe==null?void 0:Pe.response)==null?void 0:ie.status)==401&&t(),((we=Pe==null?void 0:Pe.response)==null?void 0:we.status)===422){const Qe=Pe.response.data.errors;let se={};for(var Ne in Qe)se={...se,[Ne]:Qe[Ne][0]};M(se),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{x(!1)}},$=de=>de&&de.length?de.map(Ne=>({value:Ne,label:Ne})):[],B=()=>{var ie,we,Pe;if(F().totalErrors)return!1;const Ne=new FormData;Ne.append("id",v.id),Ne.append("user_id",v.user_id),Ne.append("first_name",v.first_name?v.first_name:""),Ne.append("last_name",v.last_name?v.last_name:""),Ne.append("phone",(ie=Ne==null?void 0:Ne.lead)!=null&&ie.phone?(we=Ne==null?void 0:Ne.lead)==null?void 0:we.phone:""),Ne.append("second_phone",v.second_phone?v.second_phone:""),Ne.append("email",v.email?v.email:""),Ne.append("status",v.status?v.status:""),Ne.append("invest",v.invest?v.invest:""),Ne.append("followup",v.status=="Follow Up"?v.followup:""),Ne.append("free_trial",v.status=="Free Trial"?v.free_trial:""),Ne.append("source",v.source),Ne.append("dnd",v.dnd?v.dnd:""),Ne.append("city",v.city?v.city:""),Ne.append("state",v.state?v.state:""),Ne.append("products",(Pe=v==null?void 0:v.products)!=null&&Pe.length?JSON.stringify(v.products):JSON.stringify([])),Ne.append("desc",v.desc?v.desc:""),Ne.append("lot_size",v.lot_size?v.lot_size:""),O(Ne)},R=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"}),P=()=>{re.fire({icon:"question",title:"Are You Sure",confirmButtonText:"Yes",text:"You cant able to retrive this lead again!",showLoaderOnConfirm:!0,customClass:"sweet-alerts",preConfirm:async()=>{var de;try{const Ne=await K({method:"delete",url:i+"/api/leads/"+S,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});Ne.data.status=="success"?(m("/leads/viewleads"),re.fire({title:Ne.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})):Ne.data.status=="error"&&re.fire({icon:Ne.data.status,title:Ne.data.title,text:Ne.data.message,padding:"2em",customClass:"sweet-alerts"})}catch(Ne){((de=Ne==null?void 0:Ne.response)==null?void 0:de.status)==401&&t(),console.log(Ne)}}})},[z,H]=l.useState(!1);l.useState(!1);const[W,q]=l.useState(!1),[D,V]=l.useState(!1),[j,U]=l.useState(!1),[Z,Y]=l.useState(!1),[X,ae]=l.useState(!1);return s(J,{children:[e(xs,{children:e("div",{className:"panel flex-1 h-fit",children:h?e(D3,{error:h,fetch:E}):s(J,{children:[s("div",{className:"w-full text-center",children:[s("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4",children:[e("div",{className:"ltr:mr-3 rtl:ml-3 flex items-center",children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"View Lead"})}),s("div",{className:"flex items-center justify-center sm:justify-end sm:flex-auto flex-1",children:[((he=T==null?void 0:T.lead)==null?void 0:he.status)==="Closed Won"?s(J,{children:[(te=_==null?void 0:_.kycVerification)!=null&&te.is_enabled&&((G=_==null?void 0:_.kycVerification)!=null&&G.has_configured)&&!((ne=(fe=_==null?void 0:_.kycVerification)==null?void 0:fe.kyc)!=null&&ne.is_verified)?e("button",{className:"btn btn-outline-primary mr-[15px] btn-sm",onClick:()=>ae(!0),"aria-label":"Upload KYC",children:"Upload KYC"}):null,e("button",{className:"btn btn-outline-primary mr-[15px] btn-sm",onClick:()=>q(!0),"aria-label":"Create Sale",children:"Create Sale"})]}):null,e("button",{className:"btn btn-outline-primary mr-[15px] btn-sm",onClick:()=>H(!0),children:"Logs"}),e("button",{className:"btn btn-success mr-[15px] btn-sm",disabled:C,onClick:()=>B(),children:C?"Updating...":"Update Lead"}),e("button",{type:"button",onClick:()=>V(!0),className:"bg-[#f4f4f4] rounded-md p-1 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30 ltr:mr-3 rtl:ml-3 disabled:opacity-60 disabled:cursor-not-allowed",children:e(cl,{className:"w-5 h-5"})}),(n==null?void 0:n.user_type)=="Admin"&&e("button",{type:"button",onClick:()=>P(),className:"bg-[#f4f4f4] rounded-md p-1 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30 ltr:mr-3 rtl:ml-3 disabled:opacity-60 disabled:cursor-not-allowed",children:e(ws,{className:"w-5 h-5"})}),u!=null&&u.multyLead?e("button",{type:"button",onClick:()=>E(S,"prv"),className:"bg-[#f4f4f4] rounded-md p-1 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(jt,{className:"w-5 h-5 rtl:-rotate-90 rotate-90"})}):null,e("button",{type:"button",onClick:()=>E(S),className:"mx-3 bg-[#f4f4f4] rounded-md p-1 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})}),u!=null&&u.multyLead?e("button",{type:"button",onClick:()=>E(S,"nxt"),className:"bg-[#f4f4f4] rounded-md p-1 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30 disabled:opacity-60 disabled:cursor-not-allowed",children:e(jt,{className:"w-5 h-5 rtl:rotate-90 -rotate-90"})}):null,e(Q,{to:"/leads/viewleads",className:"bg-[#f4f4f4] ml-[15px] rounded-md p-1 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30",children:e(It,{className:" w-5 h-5"})})]})]}),e("hr",{className:"mt-4 dark:border-[#191e3a]"})]}),p?e(w3,{}):e(J,{children:T?s(J,{children:[e(A3,{verification:_,setVerification:A,lead_id:S,lead:T.lead}),s("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5 px-2",children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{children:[s("label",{children:["Lead Owner",(r==null?void 0:r.transfer_permission)==1&&e("button",{type:"button",className:"badge bg-primary ml-1",onClick:()=>U(!0),children:"Transfer"})]}),e("input",{type:"text",name:"user_id",defaultValue:v.owner||"",placeholder:"Lead Owner Name",className:"form-input bg-danger/10",disabled:!0}),e("div",{className:"text-danger mt-1",children:y.user_id})]}),s("div",{children:[e("label",{children:"First Name "}),e("input",{type:"text",name:"first_name",value:v.first_name||"",onChange:de=>L(de),placeholder:"Enter First Name",className:"form-input"}),e("div",{className:"text-danger mt-1",children:y.first_name})]}),s("div",{children:[e("label",{children:"Last Name"}),e("input",{type:"text",name:"last_name",value:v.last_name||"",onChange:de=>L(de),placeholder:"Enter Last Name",className:"form-input"}),e("div",{className:"text-danger mt-1",children:y.last_name})]}),s("div",{children:[s("label",{children:["Lead Mobile Number",(r==null?void 0:r.refer_permission)==1&&e("button",{type:"button",className:"badge bg-success ml-1",onClick:()=>Y(!0),children:"Refer Now"})]}),e("input",{type:"tel",name:"phone",value:v.phone||"",onChange:de=>L(de),placeholder:"Enter Lead Mobile Number",className:"form-input bg-danger/10",disabled:!0}),e("div",{className:"text-danger mt-1",children:y.phone})]}),s("div",{children:[e("label",{children:"Alternative Mobile Number"}),e("input",{type:"tel",name:"second_phone",value:v.second_phone||"",onChange:de=>L(de),placeholder:"Enter Lead Mobile Number",className:"form-input"}),e("div",{className:"text-danger mt-1",children:y.second_phone})]}),s("div",{children:[e("label",{children:"Lead Email"}),e("input",{type:"email",name:"email",value:v.email||"",onChange:de=>L(de),placeholder:"Enter Lead Email Address",className:"form-input"}),e("div",{className:"text-danger mt-1",children:y.email})]}),s("div",{children:[s("label",{children:["Lead Status ",e("span",{className:" text-red-600 text-[15px] ",children:"*"})]}),e("select",{name:"status",className:"form-select text-white-dark",value:v.status||"",onChange:de=>L(de),disabled:v.status=="Closed Won",children:(ue=(pe=T==null?void 0:T.dropdowns)==null?void 0:pe.filter(de=>de.type=="Lead Status"))==null?void 0:ue.map((de,Ne)=>e("option",{value:de.value,children:de.label},Ne))}),e("div",{className:"text-danger mt-1",children:y.status})]}),s("div",{children:[e("label",{children:"Lead Source"}),e("input",{name:"source",type:"text",value:v.source||"",onChange:de=>L(de),placeholder:"Enter Lead Mobile Number",className:"form-input bg-danger/10",disabled:!0}),e("div",{className:"text-danger mt-1",children:y.source})]}),s("div",{children:[e("label",{children:"State"}),e("select",{name:"state",className:"form-select text-white-dark",value:v.state||"",onChange:de=>L(de),children:(Ce=(le=T==null?void 0:T.dropdowns)==null?void 0:le.filter(de=>de.type=="State"))==null?void 0:Ce.map((de,Ne)=>e("option",{value:de.value,children:de.label},Ne))}),e("div",{className:"text-danger mt-1",children:y.state})]}),s("div",{children:[e("label",{children:"City"}),e("input",{name:"city",type:"text",value:v.city||"",onChange:de=>L(de),placeholder:"Enter City",className:"form-input"}),e("div",{className:"text-danger mt-1",children:y.city})]}),s("div",{children:[s("label",{children:["Followup Date ",(v==null?void 0:v.status)=="Follow Up"?e("span",{className:" text-red-600 text-[15px] ",children:"*"}):null]}),e(Je,{name:"followup",disabled:v.status!="Follow Up",value:v.followup,onChange:de=>{const Ne=de.map(ie=>R.format(new Date(ie)).split("/").reverse().join("-"));L({target:{value:Ne[0],name:"followup"}})},options:{dateFormat:"Y-m-d",position:"auto left",minDate:"today"},className:"form-input"}),e("div",{className:"text-danger mt-1",children:y.followup})]}),s("div",{children:[s("label",{children:[" Free Trial ",(v==null?void 0:v.status)=="Free Trial"?e("span",{className:" text-red-600 text-[15px] ",children:"*"}):null]}),e(Je,{name:"free_trial",disabled:v.status!="Free Trial",value:v.free_trial,onChange:de=>{const Ne=de.map(ie=>R.format(new Date(ie)).split("/").reverse().join("-"));L({target:{value:Ne[0],name:"free_trial"}})},options:{dateFormat:"Y-m-d",position:"auto left",minDate:"today"},className:"form-input"}),e("div",{className:"text-danger mt-1",children:y.free_trial})]}),s("div",{children:[e("label",{children:"Investment Size"}),e("select",{name:"invest",value:v.invest||"",onChange:de=>L(de),className:"form-select text-white-dark",children:(Ue=(Be=T==null?void 0:T.dropdowns)==null?void 0:Be.filter(de=>de.type=="Investment Size"))==null?void 0:Ue.map(de=>e("option",{children:de.value},de.id))}),e("div",{className:"text-danger mt-1",children:y.invest})]}),s("div",{children:[e("label",{children:"Lot Size"}),e("select",{name:"lot_size",value:v.lot_size||"",onChange:de=>L(de),className:"form-select text-white-dark",children:(xe=(Te=T==null?void 0:T.dropdowns)==null?void 0:Te.filter(de=>de.type=="Lot Size"))==null?void 0:xe.map(de=>e("option",{children:de.value},de.id))}),e("div",{className:"text-danger mt-1",children:y.lot_size})]}),s("div",{children:[e("label",{children:"DND Status"}),e("select",{name:"dnd",value:v.dnd||"",onChange:de=>L(de),className:"form-select text-white-dark",children:(Ge=(ye=T==null?void 0:T.dropdowns)==null?void 0:ye.filter(de=>de.type=="DND Status"))==null?void 0:Ge.map(de=>e("option",{children:de.value},de.id))}),e("div",{className:"text-danger mt-1",children:y.dnd})]}),s("div",{children:[s("label",{children:["Products ",(v==null?void 0:v.status)=="Free Trial"?e("span",{className:" text-red-600 text-[15px] ",children:"*"}):null]}),e(rt,{name:"products",onChange:de=>L({target:{name:"products",value:de.map(Ne=>Ne.value)}}),value:$(v.products),options:(Ke=T==null?void 0:T.dropdowns)==null?void 0:Ke.filter(de=>de.type=="Lead Products"),placeholder:"Select Products",isMulti:!0,className:" text-white-dark",isSearchable:!1}),e("div",{className:"text-danger mt-1",children:y.products})]})]}),s("div",{className:"mt-4",children:[s("div",{className:"flex",children:[e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b] whitespace-nowrap",children:"Description"}),e("textarea",{name:"desc",onChange:de=>L(de),rows:4,value:v.desc||"",className:"form-textarea ltr:rounded-l-none rtl:rounded-r-none"})]}),e("div",{className:"text-danger mt-1",children:y.desc})]})]})]}):s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:"No More Leads"}),e("div",{className:"space-x-4",children:e(Q,{to:"/leads/viewleads",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Leads Table"})})]})})]})})}),e(Jl,{createSaleDrawer:W,setCreateSaleDrawer:q,selectedLead:T==null?void 0:T.lead}),e(R3,{callbackModal:D,setCallbackModal:V,lead_id:S}),e(B3,{leadHistoryDrawer:z,setLeadHistoryDrawer:H,lead_id:S}),e($3,{transferOwnerModal:j,setTransferOwnerModal:U,lead_id:S}),e(j3,{referModal:Z,setReferModal:Y,lead_id:S}),e(Ql,{lead_id:S,setVerification:A,showUploadKYCRAViewDrawer:X,setUploadKYCRAViewDrawer:ae})]})}const D3=({error:t,fetch:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})};function V3(){const{logout:t,authUser:a,crmToken:n,apiUrl:r,settingData:i}=ee(),o=ve(),m=Re();l.useEffect(()=>{o(Se("Sales"))});const[u,c]=l.useState(localStorage.getItem("saleFilterOwner")||"0"),[p,f]=l.useState(localStorage.getItem("saleFilterStatus")||"0"),[h,b]=l.useState([]),[S,I]=l.useState(1),[T,w]=l.useState([]),[_,A]=l.useState([]),[k,g]=l.useState(1),E=[10,25,50,100,250,500,1e3],[N,v]=l.useState(E[0]),[d,y]=l.useState(null),[M,C]=l.useState(),[x,L]=l.useState(!0),[F,O]=l.useState(null);l.useEffect(()=>{$()},[k,N]),l.useEffect(()=>{k==1?$():g(1)},[u,p]);const $=async()=>{var R;L(!0),O(0);try{const P=await K({method:"get",url:r+"/api/get-sales",params:{page:k,pageSize:N,filterOwner:u,filterStatus:p,firstTime:S,search:d},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});P.data.status=="success"&&(A(P.data.data),S&&(C(P.data.settings),b(P.data.allSaleOwners),w(P.data.saleStatuses))),console.log(P)}catch(P){(R=P==null?void 0:P.response)!=null&&R.status&&O(P==null?void 0:P.response)}finally{L(!1)}},B=({first_name:R,last_name:P,phone:z})=>{const W=`${R}${P?` ${P}`:""}`.substring(0,15),q=`${R}${P?` ${P}`:""}`;return e(lt,{content:q,children:s("div",{children:[e("b",{children:W})," ",e("br",{}),e("b",{children:z})]})})};return e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:e("div",{className:"panel p-0",children:F?e(U3,{e:F,fetchSales:$}):s(J,{children:[s("div",{className:"flex justify-between gap-4  p-4",children:[s("div",{className:"flex gap-3  w-full",children:[s("div",{className:"flex min-w-[275px]",children:[e("input",{type:"text",placeholder:"Search Sale By Phone or Name",className:"form-input ltr:rounded-r-none rtl:rounded-l-none",onChange:R=>y(R.target.value)}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>k==1?$():g(1),children:e(Pa,{})})]}),e("div",{children:(a==null?void 0:a.user_type)=="Admin"||a.user_type=="Accounts"||a.user_type=="HR"||a.user_type=="Complaince"?e(rt,{placeholder:"Select Sale Owner",onChange:R=>{c(R.value),localStorage.setItem("saleFilterOwner",R.value)},className:"w-[230px] z-10",value:h==null?void 0:h.find(R=>R.value==u),options:[{label:"All Users",value:0},...h==null?void 0:h.map(R=>({label:R.first_name+" "+R.last_name,value:R.id}))]}):null}),e("div",{children:e(rt,{placeholder:"Select Sale Status",onChange:R=>{f(R.value),localStorage.setItem("saleFilterStatus",R.value)},className:"w-[230px] z-10",value:T==null?void 0:T.find(R=>R.value==p),options:T})})]}),e("div",{className:"flex gap-3 justify-end  w-full",children:e("button",{disabled:!!x,onClick:()=>$(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})})]}),e("div",{className:"datatables p-4",children:e(je,{className:"whitespace-nowrap table-hover",records:_==null?void 0:_.data,columns:[{accessor:"id",title:"Sale Id",cellsClassName:"font-bold"},...a.user_type=="Admin"||a.user_type=="Accounts"||a.user_type=="HR"||a.user_type=="Complaince"?[{accessor:"owner",title:"Owner",cellsClassName:"font-bold"}]:[],{accessor:"first_name",title:"Client",render:({first_name:R,last_name:P,phone:z})=>e(B,{first_name:R,last_name:P,phone:z})},...i.company_type&&(a.user_type=="Admin"||a.user_type=="Accounts"||a.user_type=="HR"||a.user_type=="Complaince")?[{accessor:"last_name",title:"Verifications & Documents",render:({kyc_status:R,rp_status:P,agreement_status:z,is_manager_verified:H,is_account_verified:W,is_complaince_verified:q})=>s("div",{className:"flex gap-2",children:[s("div",{children:[M.has_manager_verification||M.has_complaince_verification||M.has_accounts_verification?s("div",{className:"flex gap-1 justify-between",children:[M.has_manager_verification?e("span",{className:`badge ${H?"bg-[#2ab717]":"bg-red-500"} `,children:"Manager"}):null,M.has_complaince_verification?e("span",{className:`badge ${q?"bg-[#2ab717]":"bg-red-500"} `,children:"Complaince"}):null,M.has_accounts_verification?e("span",{className:`badge ${W?"bg-[#2ab717]":"bg-red-500"} `,children:"Accounts"}):null]}):null,M.kyc_enabled||M.riskprofile_enabled||M.aggrement_enabled?s("div",{className:"flex gap-1  justify-between",children:[M.kyc_enabled?e("span",{className:`badge ${R==3?"bg-[#2ab717]":R==2?"bg-info":"bg-danger"}`,children:"KYC"}):null,M.riskprofile_enabled?e("span",{className:`badge ${P==3?"bg-[#2ab717]":P==2?"bg-info":"bg-danger"}`,children:"Risk Profile"}):null,M.aggrement_enabled?e("span",{className:`badge ${z==3?"bg-[#2ab717]":z==2?"bg-info":"bg-danger"}`,children:"Agreement"}):null]}):null]}),e("div",{className:" btn btn-dark shadow",children:"Invoice"})]})}]:[],{accessor:"status",title:"Status",render:R=>s("div",{className:"flex gap-1",children:[R.is_service_activated?e(ml,{style:{color:"green",fontSize:20}}):e(vu,{style:{color:"red",fontSize:20}}),e("div",{children:R.status=="Closed Won"?e("button",{type:"button",className:"btn btn-success btn-sm shadow-sm py-0.5",children:"Create Sale"}):e("span",{className:`badge ${R.status=="Pending"?"bg-[#ff9800]":R.status=="Approved"?"bg-[#2ab717]":R.status=="Expired"?"bg-red-500":R.status=="Verified"?"bg-info":"bg-dark"} text-center cursor-pointer py-0.5 w-full`,children:R.status})})]})},{accessor:"product",title:"Product",cellsClassName:"max-w-[200px] truncate",render:({product:R,client_paid:P,is_bank_upi:z,bank_name:H,upi:W,inclusive_gst:q,gst_value:D})=>s("div",{children:[e("b",{children:R})," ",e("br",{}),s("span",{children:[z=="bank"?H:W," ",e("br",{}),s("b",{className:"flex text-[15px] mt-1 text-success",children:[e(hl,{size:18}),e(lt,{content:s("div",{children:[s("div",{children:[e("span",{children:"Inclusive GST: "})," ",s("b",{children:[" ",q]})]}),s("div",{children:[e("span",{children:"Client Paid: "})," ",s("b",{children:[" ",D]})]})]}),placement:"top",children:e("b",{children:P})})]})]})]})},{accessor:"sale_date",title:"Date",render:({sale_date:R,start_date:P,due_date:z})=>s("div",{children:[s("div",{className:"flex  gap-2",children:[e("span",{children:"Start"}),e("span",{className:"font-semibold",children:P})]}),s("div",{className:"flex  gap-2",children:[e("span",{children:"Sale"}),e("span",{className:"font-semibold",children:R})]}),s("div",{className:"flex  gap-2",children:[e("span",{children:"End"}),e("span",{className:"font-semibold",children:z})]})]})}],onCellClick:({record:R})=>{m("/sales/show",{state:{sale_id:R.id,filterOwner:u,filterStatus:p}})},totalRecords:_.totalItems,recordsPerPage:N,page:k,onPageChange:R=>g(R),recordsPerPageOptions:E,onRecordsPerPageChange:v,minHeight:500,fetching:x,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:R})=>`Showing  ${_==null?void 0:_.from} to ${_.to} of ${R} entries`})})]})})})})}const U3=({e:t,fetchSales:a})=>(console.log(t),e("div",{className:"",children:s("div",{className:"relative",children:[e("img",{src:"/assets/images/error/500-light.svg",alt:"500",className:"mx-auto -mt-10 w-full max-w-xs object-cover md:-mt-14 md:max-w-xl"}),s("div",{className:"text-center ",children:[e("b",{className:"text-3xl",children:t.status}),e("p",{className:"mt-5 text-bold text-base dark:text-white text-center",children:t.statusText})]}),s("div",{className:"flex justify-center gap-5",children:[e(Q,{to:"/",className:"btn btn-gradient !mt-7  border-0 uppercase shadow-none",children:"Back to Home"}),e("button",{className:"btn btn-info  !mt-7  border-0 uppercase shadow-none",onClick:()=>a(),children:"Re Try"})]})]})}));function zp({showAgreementViewDrawer:t,setAgreementViewShowDrawer:a,viewAgreement:n}){var _,A,k,g,E,N,v,d,y,M,C,x,L,F,O,$;const{settingData:r,crmToken:i,apiUrl:o}=ee(),[m,u]=l.useState(!1),[c,p]=l.useState([]),[f,h]=l.useState(null),b=async()=>{try{u(!0),p([]),h(null);const B=await K({method:"get",url:o+"/api/agreements/"+n.id,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});B.data.status=="success"?p(B.data.data):B.data.status=="error"&&h(B.data.message)}catch{}finally{u(!1)}};l.useEffect(()=>{t&&b()},[t,n.id]),l.useState([]);const S=async()=>{var B;try{u(!0);const R=await K({url:o+"/api/download-agreement",method:"GET",responseType:"blob",params:{id:(B=c==null?void 0:c.agreement)==null?void 0:B.id},headers:{Authorization:"Bearer "+i}}).then(P=>{const z=URL.createObjectURL(P.data),H=document.createElement("a");H.href=z,H.setAttribute("download","file.pdf"),document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(z)});console.log(R)}catch(R){console.log(R)}finally{console.log("finnalyy"),u(!1)}},[I,T]=l.useState(!1),w=()=>{var B;navigator.clipboard.writeText((B=c==null?void 0:c.agreement)==null?void 0:B.link).then(()=>{T(!0),setTimeout(()=>T(!1),2e3)})};return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[900px] rtl:-left-[900px] top-0 bottom-0 w-full max-w-[900px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4`,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center",children:[s("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4",children:[e("div",{className:"ltr:mr-3 rtl:ml-3 flex items-center",children:s("h5",{className:"font-semibold text-lg dark:text-white-light",children:["Agreement ",e("span",{className:"text-[14px]"})]})}),e("div",{className:"flex items-center justify-center sm:justify-end sm:flex-auto flex-1",children:s("button",{onClick:()=>{S()},className:"btn btn-success mr-[15px] btn-sm",children:[" ",m?"Please Wait":"Download"," "]})})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"})]}),m?e(be,{}):f?e("div",{className:"bg-white  rounded-lg mt-9 max-w-[500px] m-auto",children:s("div",{className:"text-center px-5 pb-5",children:[e("div",{className:"flex-none mb-5",children:s("div",{className:"inline-flex -mt-9 w-[72px] h-[72px] fill-current rounded-full border-4 border-white box-content shadow mb-3",children:[e(bu,{className:"w-full h-full text-red-500 "})," "]})}),e("p",{className:"text-2xl font-bold text-[#e95f2b]",children:f})]})}):e("section",{className:"flex-1 overflow-y-auto overflow-x-auto perfect-scrollbar mt-1",children:s("div",{className:"mb-1 ",children:[(_=c==null?void 0:c.agreement)!=null&&_.is_verified?null:e("div",{className:"mb-4",children:s("div",{className:"flex items-center gap-1 bg-[#DBE7FF] rounded justify-between  w-fit",children:[e("p",{className:"text-gray-800 font-bold italic truncate max-w-[70%] px-2",title:(A=c==null?void 0:c.agreement)==null?void 0:A.link,children:(k=c==null?void 0:c.agreement)==null?void 0:k.link}),e("button",{className:` px-4 py-1 text-sm font-medium text-white rounded-md ${I?"bg-green-500":"bg-blue-500 hover:bg-blue-600"}`,onClick:w,children:I?"Copied!":"Copy"})]})}),s("div",{className:"panel border mb-10",children:[e("div",{className:"flex justify-center flex-wrap gap-4 px-4",children:e("div",{className:"shrink-0",children:e("img",{className:"w-[230px] ltr:-ml-1 rtl:-mr-1 inline",src:o+"/storage/"+(r==null?void 0:r.logo),alt:"logo"})})}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:e("div",{className:"space-y-1 text-dark",children:e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"ADVISORY DETAILS"})})})})}),s("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"NAME"})," "]}),e("div",{className:"mt-2",children:(g=c==null?void 0:c.sebi)==null?void 0:g.company_name})]}),s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"Email"})," "]}),e("div",{className:"mt-2",children:(E=c==null?void 0:c.sebi)==null?void 0:E.email})]}),s("div",{className:"shrink-0",children:[s("div",{className:"mt-2",children:[e("b",{children:"SEBI Registration"})," "]}),e("div",{className:"mt-2",children:(N=c==null?void 0:c.sebi)==null?void 0:N.sebi_no})]})]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),s("div",{className:"flex justify-between gap-4 px-4",children:[s("div",{className:"space-y-1 text-dark",style:{flexBasis:"40%"},children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"CLIENT DETAILS"})})}),s("div",{className:"grid grid-cols-1 gap-4 px-4",children:[s("div",{className:"shrink-0",children:[e("div",{className:"mt-2",children:e("b",{children:"NAME"})}),e("div",{className:"mt-2",children:(v=c==null?void 0:c.agreement)==null?void 0:v.full_name})]}),s("div",{className:"shrink-0",children:[e("div",{className:"mt-2",children:e("b",{children:"Email"})}),e("div",{className:"mt-2",children:(d=c==null?void 0:c.agreement)==null?void 0:d.email})]}),s("div",{className:"shrink-0",children:[e("div",{className:"mt-2",children:e("b",{children:"Phone"})}),e("div",{className:"mt-2",children:(y=c==null?void 0:c.agreement)==null?void 0:y.phone})]}),s("div",{className:"shrink-0",children:[e("div",{className:"mt-2",children:e("b",{children:"PAN"})}),e("div",{className:"mt-2",children:(M=c==null?void 0:c.agreement)==null?void 0:M.pan})]}),s("div",{className:"shrink-0",children:[e("div",{className:"mt-2",children:e("b",{children:"DOB"})}),e("div",{className:"mt-2",children:(C=c==null?void 0:c.agreement)==null?void 0:C.dob})]})]})]}),s("div",{className:"space-y-1 text-dark",style:{flexBasis:"60%"},children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"SUBSCRIPTION DETAILS"})})}),s("div",{className:"grid grid-cols-2 gap-4 px-4",children:[s("div",{className:"shrink-0",children:[e("div",{className:"mt-2",children:e("b",{children:"Product Name"})}),e("div",{className:"mt-2",children:(x=c==null?void 0:c.sale)==null?void 0:x.product})]}),s("div",{className:"shrink-0",children:[e("div",{className:"mt-2",children:e("b",{children:"Subscription start date"})}),e("div",{className:"mt-2",children:(L=c==null?void 0:c.sale)==null?void 0:L.start_date})]}),s("div",{className:"shrink-0",children:[e("div",{className:"mt-2",children:e("b",{children:"Subscription frequency"})}),e("div",{className:"mt-2",children:(F=c==null?void 0:c.sale)==null?void 0:F.product_duration})]}),s("div",{className:"shrink-0",children:[e("div",{className:"mt-2",children:e("b",{children:"Subscription Type"})}),e("div",{className:"mt-2",children:(O=c==null?void 0:c.sale)==null?void 0:O.client_type})]}),s("div",{className:"shrink-0",children:[e("div",{className:"mt-2",children:e("b",{children:"Subscription fee"})}),e("div",{className:"mt-2",children:($=c==null?void 0:c.sale)==null?void 0:$.client_paid})]})]})]})]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),s("div",{className:"flex justify-between flex-wrap gap-4 px-4",children:[s("div",{className:"space-y-1 text-dark",children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:" APPOINTMENT OF THE INVESTMENT ADVISER"})})}),e("div",{className:"mb-2 ",children:e("p",{style:{whiteSpace:"break-spaces"},children:"1 In accordance with the applicable laws, client hereby appoints, entirely at his / her / its risk, the Investment Adviser to provide the required services in accordance with the terms and conditions of the agreement as mandated under Regulation19(1)(d) of the Securities and Exchange Board of India (Investment Advisers) Regulations, 2013.                                                "})})]}),s("div",{className:"space-y-1 text-dark",children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"CONSENT OF THE CLIENT"})})}),s("div",{className:"mb-2 ",children:[e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:"2.1 “I / We have read and understood the terms and conditions of Investment Advisory services provided by the Investment Adviser along with the fee structure and mechanism for charging and payment of fee.”"}),e("p",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:"2.2 “Based on our written request to the Investment Adviser, an opportunity was provided by the Investment Adviser to ask questions and interact with ‘person(s) associated with the investment advice”."})]})]}),s("div",{className:"space-y-1 text-dark",children:[e("div",{className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"DECLARATION FROM THE INVESTMENT ADVISER"})})}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"3.1 Investment Adviser shall neither render any investment advice nor charge any fee until the client has signed this agreement."}),e("li",{style:{whiteSpace:"break-spaces"},children:"3.2 Investment Adviser shall not manage funds and securities on behalf of the client and that it shall only receive such sums of monies from the client as are necessary to discharge the client’s liability towards fees owed to the Investment Adviser."}),e("li",{style:{whiteSpace:"break-spaces"},children:"3.3 Investment Adviser shall not, in the course of performing its services to the client, hold out any investment advice implying any assured returns or minimum returns or target return or percentage accuracy or service provision till achievement of target returns or any other nomenclature that gives the impression to the client that the investment advice is risk-free and/or not susceptible to market risks and or that it can generate returns with any level of assurance."})]})]}),s("div",{children:[e("div",{style:{whiteSpace:"break-spaces"},className:"mb-2",children:e("h3",{className:"text-[16px]",children:e("b",{children:"FEES SPECIFIED UNDER INVESTMENT ADVISER REGULATIONS AND RELEVANT CIRCULARS ISSUED THEREUNDER"})})}),s("ul",{children:[s("li",{style:{whiteSpace:"break-spaces"},children:["4.1 Regulation 15 A of the amended IA Regulations provide that Investment Advisers shall be entitled to charge fees from a client in the manner as specified by SEBI, accordingly Investment Advisers shall charge fees from the clients in either of the two modes:",e("p",{children:"(A) Assets under Advice (AUA) mode "}),s("ol",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"a) The maximum fees that may be charged under this mode shall not exceed 2.5 percent of AUA per annum per client across all services offered by IA. "}),e("li",{style:{whiteSpace:"break-spaces"},children:"a) b) IA shall charge fees from a client under any one mode i.e. (A) or (B) on an annual basis. The change of mode shall be effected only after 12 months of on boarding/last change of mode. "}),e("li",{style:{whiteSpace:"break-spaces"},children:"c) If agreed by the client, IA may charge fees in advance. However, such advance shall not exceed fees for 2 quarters. "}),e("li",{style:{whiteSpace:"break-spaces"},children:"d) In the event of pre-mature termination of the IA services in terms of agreement, the client shall be refunded the fees for unexpired period. However, IA may retain a maximum breakage fee of not greater than one quarter fee. "})]}),s("p",{children:[e("p",{style:{fontSize:"14px"},children:"(A) Assets under Advice (AUA) mode "}),e("p",{style:{whiteSpace:"break-spaces"},children:"The maximum fees that may be charged under this mode shall not exceed INR 1,25,000 per annum per client across all services offered by IA. "})]})]}),s("li",{style:{whiteSpace:"break-spaces"},children:["4.2 General conditions under both modes",s("ol",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"a) In case “family of client” is reckoned as a single client, the fee as referred above shall be charged per “family of client”."}),e("li",{style:{whiteSpace:"break-spaces"},children:"b) IA shall charge fees from a client under any one mode i.e. (A) or (B) on an annual basis. The change of mode shall be effected only after 12 months of on boarding/last change of mode. "}),e("li",{style:{whiteSpace:"break-spaces"},children:"c) If agreed by the client, IA may charge fees in advance. However, such advance shall not exceed fees for 2 quarters. "}),e("li",{style:{whiteSpace:"break-spaces"},children:"d) In the event of pre-mature termination of the IA services in terms of agreement, the client shall be refunded the fees for unexpired period. However, IA may retain a maximum breakage fee of not greater than one quarter fee. "})]})]})]})]}),s("div",{children:[e("b",{children:" FEES APPLICABLE TO THE CLIENT AND BILLING "}),s("ul",{children:[s("li",{children:["5.1 Details of Fees to be charged are following:",s("ol",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"(i) The quantum and manner of payment of fees for investment advice rendered"}),e("li",{style:{whiteSpace:"break-spaces"},children:"(ii) Fee modalities and periodicity, by attaching a detailed fee schedule to the agreement; "}),e("li",{style:{whiteSpace:"break-spaces"},children:"(iii) Illustration(s) on how the fee will be determined; "}),e("li",{style:{whiteSpace:"break-spaces"},children:"(iv) whether payment to be made in advance; "}),e("li",{style:{whiteSpace:"break-spaces"},children:"(v) type of documents evidencing receipt of payment of fee; "}),e("li",{style:{whiteSpace:"break-spaces"},children:"(vi) Periodicity of billing with clear date and service period. "})]})]}),e("li",{style:{whiteSpace:"break-spaces"},children:"5.2 The payment of fees shall be through any mode which shows traceability of funds. Such modes may include account payee crossed cheque/ Demand Drafts or by way of direct credit to the bank accounts through NEFT/ RTGS/ IMPS/ UPI or any other mode specified by SEBI from time to time. However, the fees shall not be in cash."}),e("li",{style:{whiteSpace:"break-spaces"},children:"5.3 Investment Advisor shall receive all considerations by way of remuneration or compensation or in any other form from the client only and not from any person other than the client being advised, in respect of the underlying securities or investment products for which the advice is or to be provided."})]})]}),s("div",{children:[e("b",{children:"SCOPE OF SERVICE"}),e("ul",{children:s("li",{style:{whiteSpace:"break-spaces"},children:["6.1 Investment Advisor may provide some or all of the following services to the Client:",s("ol",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"6.1.1 The Services be limited to devising an Investment Plan and advising the Client with respect to Portfolio strategy and investment and divestment of Securities and Funds held by the Client, on a non-exclusive basis for an agreed fee structure as per Clause 5 in the agreement."}),e("li",{style:{whiteSpace:"break-spaces"},children:"6.1.2 The Investment Advisor’s authority over the Client’s investments shall only extend to services as described above. The actual investment shall be undertaken by the Client. "}),e("li",{style:{whiteSpace:"break-spaces"},children:"6.1.3 The Client has the sole discretion to decide on whether to act upon the advice tendered by the Investment Advisor and the Investment Advisor shall have no power, authority, responsibility or obligation to ensure or cause the client to act upon the advice tendered by investment advisor pursuant to this agreement."}),e("li",{style:{whiteSpace:"break-spaces"},children:"6.1.4 The Investment Adviser shall always act in a fiduciary capacity towards the Client at all times."}),e("li",{style:{whiteSpace:"break-spaces"},children:"6.1.5 Develop investment recommendations based on goals & risk profile and assist in implementing these recommendations. "}),e("li",{style:{whiteSpace:"break-spaces"},children:"6.1.6 Provide advice with respect to the investment in equity, mutual funds, insurance, commodities and other financial assets, as needed, and assist in implementing recommendations."}),e("li",{style:{whiteSpace:"break-spaces"},children:"6.1.7 Provide advice and recommendations in any other areas of financial planning in which Advisor or Client identifies a need."})]})]})})]}),s("div",{children:[e("b",{children:" 7. DUTIES & FUNCTIONS OF THE INVESTMENT ADVISER "}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"7.1 Investment Advisor shall provide Investment Advisory Services to the Client during the term of this Agreement on investment in all financial/investment products under all regulated authorities as is permitted under applicable laws and regulations governing Investment Advisor & the financial industry. The services rendered by the Investment Advisor are non-binding non-recourse advisory in nature and the final decision on the type of instruments; the proportion of exposure and tenure of the investments shall be taken by the Client at its discretion."}),e("li",{style:{whiteSpace:"break-spaces"},children:"7.2 Investment Advisor shall act in a fiduciary capacity as one of the advisors to the Client with respect to managing its investment-related portfolio holistically & will be providing all back end supporting services. Investment Advisor shall act in a bonafide manner for the benefit and in the interest of the Client."}),e("li",{style:{whiteSpace:"break-spaces"},children:"7.3 Investment Advisor shall be in compliance with the SEBI (Investment Advisers) Regulations, 2013 and its amendments, rules, circulars and notifications."}),e("li",{style:{whiteSpace:"break-spaces"},children:"7.4 Investment Advisor shall be in compliance with the eligibility criteria as specified under the IA Regulations at all times."}),e("li",{style:{whiteSpace:"break-spaces"},children:"7.5 Pursuant to the SEBI (INVESTMENT ADVISERS) REGULATIONS, 2013 guidelines with respect to Risk Profiling and Suitability Assessment, Investment Advisor shall conduct proper risk profiling and risk assessment for each of the clients. As per risk analysis, risk capacity, risk aversion & client requirement, the Investment Advisor needs to ensure that correct product/service as per client risk tolerance capacity is being offered, which is suitable for client."}),e("li",{style:{whiteSpace:"break-spaces"},children:"7.6 Investment Advisor shall provide reports to clients on potential and current investments if requested"}),e("li",{style:{whiteSpace:"break-spaces"},children:"7.7 Investment Advisor shall maintain client-wise KYC, advice, risk assessment, analysis reports of investment advice and suitability, terms and conditions document, rationale of advice, related books of accounts and a register containing list of clients along with dated investment advice in compliance with the SEBI (Investment Advisers) Regulations, 2013."}),e("li",{style:{whiteSpace:"break-spaces"},children:"7.8 Investment Advisor shall get annual compliance audit conducted as per the SEBI (Investment Advisers) Regulations, 2013."}),e("li",{style:{whiteSpace:"break-spaces"},children:"7.9 Investment Advisor undertakes to abide by the Code of Conduct as specified in the Third Schedule of the SEBI (Investment Advisers) Regulations, 2013. Investment Advisor shall not receive any consideration in any form, if the client desires to avail the services of intermediary recommended by Investment Advisor."})]})]}),s("div",{children:[e("b",{children:"INVESTMENT OBJECTIVE AND GUIDELINES "}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"8.1 Investment Advisor would provide investment advice with respect to investment in equity, mutual funds, insurance, commodities and other financial assets, as needed."}),e("li",{style:{whiteSpace:"break-spaces"},children:"8.2 Investment Advisor undertakes to recommend direct implementation of advice i.e. through direct schemes/ direct codes, and other client specifications / restrictions on investments, if any."}),e("li",{style:{whiteSpace:"break-spaces"},children:"8.3 Investment Advisor shall provide investment advice based on the risk profiling conducted for the client, total budgeted investment amount of the client and time period for deployment as informed by the client"}),e("li",{style:{whiteSpace:"break-spaces"},children:"8.4 Investment Advisor shall communicate the tax related aspects pertaining to investment advice and as applicable on the investment adviser’s fee, if any."})]})]}),s("div",{children:[e("b",{children:"RISK FACTORS "}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"9.1 Investments in securities are subject to market risks and there is no assurance or guarantee that the objective of the investments will be achieved;"}),e("li",{style:{whiteSpace:"break-spaces"},children:"9.2 Past performance of the investment adviser does not indicate its future performance."}),e("li",{style:{whiteSpace:"break-spaces"},children:"9.3 The performance of the investments/products may be affected by changes in Government policies, general levels of interest rates and risks associated with trading volumes, liquidity and settlement systems in equity and debt markets."}),e("li",{style:{whiteSpace:"break-spaces"},children:"9.4 Investments in the products which the Clients have opted are subject to wide range of risks which inter alia also include but not limited to economic slowdown, volatility & illiquidity of the stocks, poor corporate performance, economic policies, changes of Government and its policies, acts of God, acts of war, civil disturbance, sovereign action and /or such other acts/ circumstance beyond the control of Investment Advisor or any of its Associates."}),e("li",{style:{whiteSpace:"break-spaces"},children:"9.5 The names of the products/nature of investments do not in any manner indicate their prospects or returns. The performance in the equity may be adversely affected by the performance of individual companies, changes in the market place and industry specific and macro-economic factors."}),e("li",{style:{whiteSpace:"break-spaces"},children:"9.6 Investments in debt instruments and other fixed income securities are subject to default risk, liquidity risk and interest rate risk. Interest rate risk results from changes in demand and supply for money and other macroeconomic factors and creates price changes in the value of the debt instruments."})]})]}),s("div",{children:[e("b",{children:"VALIDITY OF ADVISORY SERVICES "}),e("ul",{children:e("li",{style:{whiteSpace:"break-spaces"},children:"10.1 The validity of this agreement starts from the date of signing and will continue to be in force till any of the parties terminate it by giving 1 months’ notice period."})})]}),s("div",{children:[e("b",{children:"AMENDMENTS "}),e("ul",{children:e("li",{style:{whiteSpace:"break-spaces"},children:"11.1 The Investment Adviser and the client shall be entitled to make amendments to this agreement after mutual agreement. This Agreement may be amended or revised only by an instrument endorsed by the Client and by Investment Advisor."})})]}),s("div",{children:[e("b",{children:"TERMINATION "}),s("ul",{children:[s("li",{style:{whiteSpace:"break-spaces"},children:["12.1 This Agreement may be terminated under the following circumstances, namely-",s("ol",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"(a) Voluntary / mandatory termination by the Investment Adviser."}),e("li",{style:{whiteSpace:"break-spaces"},children:"(b) Voluntary / mandatory termination by the client."}),e("li",{style:{whiteSpace:"break-spaces"},children:"(c) Suspension/Cancellation of registration of Investment Adviser by SEBI."}),e("li",{style:{whiteSpace:"break-spaces"},children:"(d) Any other action taken by other regulatory body/ Government authority."})]})]}),e("li",{style:{whiteSpace:"break-spaces"},children:"12.2 In case of a voluntary termination of the agreement, the client would be required to give a 30 days prior written notice while the Investment Adviser would be required to give a 30 days prior written notice."}),e("li",{style:{whiteSpace:"break-spaces"},children:"12.3 In case of suspension of the certificate of registration of the IA, the client may terminate the agreement."})]})]}),s("div",{children:[e("b",{children:"IMPLICATIONS OF AMENDMENTS AND TERMINATION "}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"13.1 Notwithstanding any such termination, all rights, liabilities and obligations of the parties arising out of or in respect of transactions entered into prior to the termination of this relationship shall continue to subsist and vest in/be binding on the respective parties or his/its respective heirs, executors, administrators, legal representatives or successors, as the case may be;"}),e("li",{style:{whiteSpace:"break-spaces"},children:"13.2 In case the clients are not satisfied with the services being provided by the investment adviser and want to terminate/ stop Investment Advisory services or the investor adviser is unable to provide Investment Advisory services, either party shall have a right to terminate Investment Advisory relationship at any time subject to refund of advisory fee after deducting one quarters fee as breakage fee in case termination is initiated by the clients and refund of the proportionate advisory fee in case termination is initiated by Investment Adviser."}),e("li",{style:{whiteSpace:"break-spaces"},children:"13.3 The Investment Advisor would provide transition support, if requested, to the client in the event of termination"})]})]}),s("div",{children:[e("b",{children:"RELATIONSHIP WITH RELATED PARTIES "}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"14.1 Investment Adviser is carrying on its activities independently, at an arms-length basis from all other activities"}),e("li",{style:{whiteSpace:"break-spaces"},children:"14.2 Investment Advisor does not have any conflict of interest of the investment advisory activities with its relationship with related parties, such conflict of interest shall be disclosed to the client as and when they arise."})]})]}),s("div",{children:[e("b",{children:"INVESTMENT ADVISER ENGAGED IN OTHER ACTIVITIES "}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"15.1 Investment Adviser maintains an arms-length relationship between its activities as an investment adviser and other activities and shall ensure that this arm’s length relationship would be maintained throughout the tenure of advisory service"}),e("li",{style:{whiteSpace:"break-spaces"},children:"15.2 Investment Adviser shall not provide any distribution services, for securities and investment products, either directly or through their group to an advisory client."}),e("li",{style:{whiteSpace:"break-spaces"},children:"15.3 Investment Adviser shall not provide investment advisory services, for securities and investment products, either directly or through their group to the distribution client;"})]})]}),s("div",{children:[e("b",{children:"REPRESENTATION TO CLIENT "}),e("ul",{children:e("li",{style:{whiteSpace:"break-spaces"},children:"16.1 Investment Advisor shall ensure that it will take all consents and permissions from the client prior to undertaking any actions in relation to the securities or investment product advised by the investment adviser."})})]}),s("div",{children:[e("b",{children:"NO RIGHT TO SEEK POWER OF ATTORNEY "}),e("ul",{children:e("li",{style:{whiteSpace:"break-spaces"},children:"17.1 The Investment Adviser shall not seek any power of attorney or authorizations from its clients for implementation of investment advice."})})]}),s("div",{children:[e("b",{children:"NO CONFLICT OF INTEREST "}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"18.1 Investment Advisor does not have any conflict of interest of the investment advisory activities, such conflict of interest shall be disclosed to the client as and when they arise."}),e("li",{style:{whiteSpace:"break-spaces"},children:"18.2 Investment adviser shall not derive any direct or indirect benefit out of the client’s securities/investment products."})]})]}),s("div",{children:[e("b",{children:"MAINTENANCE OF ACCOUNTS AND CONFIDENTIALITY "}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"19.1 Investment Advisor shall be responsible for maintenance of client accounts and data as mandated under the SEBI (Investment Advisers) Regulations, 2013"}),e("li",{style:{whiteSpace:"break-spaces"},children:"19.2 Investment Advisor shall not divulge any confidential information about its client, which has come to its knowledge, without taking prior permission of its client, except where such disclosures are required to be made in compliance with any law for the time being in force"})]})]}),s("div",{children:[e("b",{children:"LIABILITY OF INVESTMENT ADVISER "}),e("ul",{children:e("li",{style:{whiteSpace:"break-spaces"},children:"20.1 Investment Adviser shall not incur any liability by reason of any loss, which a client may suffer by reason of any depletion in the value of the assets under advice, which may result by reason of fluctuation in asset value, or by reason of non-performance or under-performance of the securities/funds or any other market conditions."})})]}),s("div",{children:[e("b",{children:"REPRESENTATIONS AND COVENANTS: "}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"21.1 Investment Advisor is registered with SEBI as Investment Advisor with Registration No. INA200014283. The investment adviser got its registration on 12:00:00 AM and is engaged in advisory services as approved under SEBI (Investment Advisers) Regulations, 2013."}),e("li",{style:{whiteSpace:"break-spaces"},children:"21.2 Investment Adviser shall ensure that the adviser, principal officer and persons associated with the investment advice, maintains the qualification and certification throughout the validity of advisory service."}),e("li",{style:{whiteSpace:"break-spaces"},children:"21.3 Investment Adviser shall ensure that the approvals and consents as mentioned in clause 21.1 & 21.2 remains valid throughout the advisory service."})]})]}),s("div",{children:[e("b",{children:"DEATH OR DISABILITY OF CLIENT: "}),e("ul",{children:e("li",{style:{whiteSpace:"break-spaces"},children:"22.1 The death or incapacity of the Client shall not terminate the authority of Investment Adviser granted herein until Investment Adviser receives actual notice of such death or incapacity. Upon such notice client’s executor, guardian, successor, nominee, attorney-in-fact or other authorized representative must engage Investment Adviser in order to continue to service client’s accounts."})})]}),s("div",{children:[e("b",{children:"SETTLEMENT OF DISPUTES AND PROVISION FOR ARBITRATION "}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"23.1 No suit, prosecution or other legal proceeding shall lie against the Investment adviser for any damage caused or likely to be caused by anything which is done in good faith or intended to be done under the provisions of the Securities and Exchange Board of India (Investment Advisers) Regulations, 2013."}),e("li",{style:{whiteSpace:"break-spaces"},children:"23.2 This Agreement is subject to the rules and regulations as are or may be framed/ issued by the Central Government, the Reserve Bank of lndia (RBI), SEBI and/or any other competent authority, from time to time"}),e("li",{style:{whiteSpace:"break-spaces"},children:"23.3 All disputes, differences, claims and questions whatsoever arising from this Agreement between the Client and Investment Advisor and/or their respective representatives touching these presents shall be in accordance with and subject to the provisions of The Arbitration and Conciliation Act, 1996, or any statutory modification or re-enactment thereof for the time being in force. Such Arbitration proceedings shall be held at Bangalore and the language of Arbitration will be English."})]})]}),s("div",{children:[e("b",{children:"ADHERENCE TO GRIEVANCE REDRESSAL TIMELINES "}),e("ul",{children:e("li",{style:{whiteSpace:"break-spaces"},children:"24.1 Investment Adviser shall be responsible to resolve the grievances within the timelines specified under SEBI circulars."})})]}),s("div",{children:[e("b",{children:"SEVERABILITY"}),e("ul",{children:e("li",{style:{whiteSpace:"break-spaces"},children:"25.1 If any provision of this Agreement shall be held or made invalid by a court decision, statute, rule or otherwise, the remainder of this Agreement shall not be affected thereby"})})]}),s("div",{children:[e("b",{children:"FORCE MAJEURE"}),s("ul",{children:[e("li",{style:{whiteSpace:"break-spaces"},children:"26.1 The Investment Adviser shall not be liable for delays or errors occurring by reason of circumstances beyond its control, including but not limited to acts of civil or military authority, national emergencies, work stoppages, fire, flood, catastrophe, acts of God, insurrection, war, riot, or failure of communication or power supply"}),e("li",{style:{whiteSpace:"break-spaces"},children:"26.2 In the event of equipment breakdowns beyond its control, the Investment Advisor shall take reasonable steps to minimize service interruptions but shall have no liability with respect thereto"})]})]}),s("div",{children:[e("b",{children:"MISCELLANEOUS "}),e("ul",{children:e("li",{style:{whiteSpace:"break-spaces"},children:"27.1 Each party agrees to perform such further actions and execute such further agreements as are necessary to effectuate the purposes hereof"})})]})]})]})]})})]})})]})}function H3({verification:t,setVerification:a,lead_id:n,lead:r}){var u,c;const{settingData:i,authUser:o}=ee(),m=JSON.parse(i.allowed_to_send_links);return s("div",{className:"bg-[#DBE7FF] dark:bg-dark/40 rounded flex justify-between p-2  items-center",children:[m.includes(o.user_type)?s("div",{className:"flex gap-2",children:[(u=t==null?void 0:t.kycVerification)!=null&&u.is_enabled&&((c=t==null?void 0:t.kycVerification)!=null&&c.has_configured)?e(W3,{kycsettings:t.kycVerification,setVerification:a,authUser:o,lead:r}):null,t!=null&&t.riskprofileEnabled?e(q3,{riskProfile:t.riskProfile,setVerification:a}):null,t!=null&&t.agreementEnabled?e(Z3,{agreement:t.agreement}):null]}):null,s("div",{className:"flex gap-2",children:[t!=null&&t.hasManagerVerification?e(G3,{employeeVerification:t==null?void 0:t.employeeVerification}):null,t!=null&&t.hasComplainceVerification?e(K3,{employeeVerification:t==null?void 0:t.employeeVerification}):null,t!=null&&t.hasAccountsVerification?e(J3,{employeeVerification:t==null?void 0:t.employeeVerification}):null]})]})}const W3=({kycsettings:t,setVerification:a,authUser:n,lead:r})=>{const{addToast:i}=ct(),{logout:o,crmToken:m,apiUrl:u}=ee(),c=t==null?void 0:t.kyc;if(!c)return null;const{is_verified:p,is_submited:f,is_viewed:h,count:b}=c,S=p?{class:"btn-success",icon:e(_n,{size:20}),text:"KYC Verified"}:f?{class:"btn-info",icon:e(rs,{size:18}),text:"KYC Submitted"}:h?{class:"btn-secondary",icon:e(Bt,{size:18}),text:"KYC Viewed"}:{class:"btn-danger",icon:e(is,{size:18}),text:"KYC Pending"},[I,T]=l.useState(!1),{has_email_link:w,has_sms_link:_,has_whatsapp_link:A}=t,k={has_email_link:w,has_sms_link:_,has_whatsapp_link:A},[g,E]=l.useState(!1),N=async()=>{var M,C;if(c.is_verified||c.is_submited)return y(!0),!1;if((M=t==null?void 0:t.allowedUserType)!=null&&M.includes(n.user_type))if(Object.values(k).filter(L=>L===!0).length>1)E(!0);else{E(!1),T(!0);try{const L=await K({method:"post",url:u+"/api/send-kyc-link",data:{id:c.id,send_sms:k.has_sms_link?1:0,send_email:k.has_email_link?1:0,send_whatsapp:k.has_whatsapp_link?1:0},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+m}});L.data.status=="success"?(a(F=>({...F,kycVerification:{...F.kycVerification,kyc:L.data.kyc}})),i({variant:"success",title:L.data.message}),navigator.clipboard.writeText(t.link).then(()=>{i({variant:"success",title:"KYC Link Copied!"})}).catch(F=>{console.error("Failed to copy: ",F)})):L.data.status=="info"?a(F=>({...F,kycVerification:{...F.kycVerification,kyc:L.data.kyc}})):L.data.status=="error"&&(i({variant:"error",title:L.data.message}),navigator.clipboard.writeText(t.link).then(()=>{i({variant:"success",title:"KYC Link Copied!"})}).catch(F=>{console.error("Failed to copy: ",F)}))}catch(L){((C=L==null?void 0:L.response)==null?void 0:C.status)==401&&o()}finally{T(!1)}}},v=e(ds,{size:18,className:"animate-spin"}),[d,y]=l.useState(!1);return s("div",{children:[s("button",{type:"button",disabled:I,onClick:()=>N(),className:`btn btn-sm gap-2 mr-2 p-1 shadow ${S.class}`,children:[I?v:S.icon,I?"Sending.......":S.text,e("span",{className:"badge my-0 bg-white-light text-black ",children:b})]}),e(Xl,{showKYCViewDrawer:d,setKYCViewShowDrawer:y,setVerification:a,kyc:c}),g&&e(jp,{sendModal:g,setSendModal:E,lead:r,activeLinks:k,kyc_id:c.id,setVerification:a,link:t.link})]})},q3=({riskProfile:t,setVerification:a})=>{if(!t)return null;const{addToast:n}=ct(),{is_verified:r,is_submited:i,is_viewed:o,count:m}=t,{crmToken:u,apiUrl:c}=ee(),p=r?{class:"btn-success",icon:e(_n,{size:20}),text:"Risk Profile Verified"}:i?{class:"btn-info",icon:e(rs,{size:18}),text:"Risk Profile Submitted"}:o?{class:"btn-secondary",icon:e(Bt,{size:18}),text:"Risk Profile Viewed"}:{class:"btn-danger",icon:e(is,{size:18}),text:"Risk Profile Pending"},[f,h]=l.useState(!1),[b,S]=l.useState(!1),I=async()=>{if(t.is_submited)return S(!0),!1;h(!0);try{const w=await K({method:"post",url:c+"/api/send-riskprofile-link",data:{id:t.id},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+u}});w.data.status=="success"?(a(_=>({..._,riskProfile:w.data.riskProfile})),navigator.clipboard.writeText(w.data.link).then(()=>{re.fire({icon:"success",title:"Link Copied!",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})}).catch(_=>{console.error("Failed to copy: ",_)})):w.data.status=="info"?a(_=>({..._,riskProfile:w.data.riskProfile})):w.data.status=="error"&&(navigator.clipboard.writeText(w.data.link).then(()=>{re.fire({icon:"success",title:"Link Copied!",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})}).catch(_=>{console.error("Failed to copy: ",_)}),n({variant:"error",title:w.data.message,time:"Today 10:30 PM"}))}catch{}finally{h(!1)}},T=e(ds,{size:18,className:"animate-spin"});return s("div",{children:[s("button",{type:"button",className:`btn btn-sm gap-2 mr-2 p-1 shadow ${p.class}`,onClick:()=>I(),children:[f?T:p.icon,f?"Sending.......":p.text,r?e("span",{className:"badge my-0 bg-white-light text-black ",children:e(Bt,{size:18})}):e("span",{className:"badge my-0 bg-white-light text-black ",children:m})]}),e(Yl,{showRPViewDrawer:b,setRPViewShowDrawer:S,ridk_profile_id:t.id,setVerification:a,is_old_rp:t.is_old_rp})]})},Z3=({agreement:t})=>{const{logout:a,authUser:n,crmToken:r,apiUrl:i}=ee(),{addToast:o}=ct();if(!t)return null;const m=t;if(!m)return null;const[u,c]=l.useState(m),{is_verified:p,is_submited:f,is_viewed:h,count:b}=u,S=p?{class:"btn-success",icon:e(_n,{size:20}),text:"Agreement Verified"}:f?{class:"btn-info",icon:e(rs,{size:18}),text:"Agreement Submitted"}:h?{class:"btn-secondary",icon:e(Bt,{size:18}),text:"Agreement Viewed"}:{class:"btn-danger",icon:e(is,{size:18}),text:"Agreement Pending"},I=e(ds,{size:18,className:"animate-spin"}),[T,w]=l.useState(!1),[_,A]=l.useState(!1),k=async()=>{if(u.is_verified)return A(!0),!1;w(!0);try{const g=await K({method:"post",url:i+"/api/send-agreement-link",data:{id:u.id},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+r}});g.data.status=="success"?(c(g.data.agreement),navigator.clipboard.writeText(g.data.link).then(()=>{re.fire({icon:"success",title:"Link Copied!",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})}).catch(E=>{console.error("Failed to copy: ",E)})):g.data.status=="info"?c(g.data.agreement):g.data.status=="error"&&(navigator.clipboard.writeText(g.data.link).then(()=>{re.fire({icon:"success",title:"Link Copied!",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})}).catch(E=>{console.error("Failed to copy: ",E)}),o({variant:"error",title:g.data.message,time:"Today 10:30 PM"}))}catch(g){console.log(g)}finally{w(!1)}};return s("div",{children:[s("button",{type:"button",className:`btn btn-sm gap-2 mr-2 p-1 shadow ${S.class}`,onClick:()=>k(),children:[T?I:S.icon,T?"Sending.......":S.text,p?e("span",{className:"badge my-0 bg-white-light text-black ",children:e(Bt,{size:18})}):e("span",{className:"badge my-0 bg-white-light text-black ",children:b})]}),e(zp,{showAgreementViewDrawer:_,setAgreementViewShowDrawer:A,viewAgreement:u})]})},G3=({employeeVerification:t})=>{const a=t.find(n=>n.verification_type==="Manager");return e("button",{className:`btn ${a&&a.status?"btn-success":"btn-danger"}  py-1 shadow`,children:a&&a.status?"Manager Verified":"Manager Pending"})},K3=({employeeVerification:t})=>{const a=t.find(n=>n.verification_type==="Compliance");return e("button",{className:`btn ${a&&a.status?"btn-success":"btn-danger"}  py-1 shadow`,children:a&&a.status?"Compliance Verified":"Compliance Pending"})},J3=({employeeVerification:t})=>{const a=t.find(n=>n.verification_type==="Accounts");return e("button",{className:`btn ${a&&a.status?"btn-success":"btn-danger"}  py-1 shadow`,children:a&&a.status?"Accounts Verified":"Accounts Pending"})};function Y3({logDrawer:t,setLogDrawer:a,sale_id:n,lead_id:r}){const{logout:i,crmToken:o,apiUrl:m}=ee(),[u,c]=l.useState(!1),[p,f]=l.useState([]),h=async()=>{c(!0);try{const b=await K({method:"get",url:m+"/api/lead-sales-statuses",params:{sale_id:n},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});b.data.status=="success"&&f(b.data.statuses)}catch{}finally{c(!1)}};return l.useEffect(()=>{t&&h()},[t]),s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[650px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center  p-4 bg-[#3b3f5c] text-white rounded-b-md",children:[e("button",{type:"button",className:"px-4 py-4 absolute top-0 ltr:right-0 rtl:left-0 opacity-30 hover:opacity-100 dark:text-white",onClick:()=>a(!1),children:e(It,{className:" w-5 h-5"})}),s("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:["Sales Logs - #",n]})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e(qe,{className:"relative h-full  ",children:e("div",{className:"space-y-5  sm:pb-0 pb-[68px]  mx-3",children:u?e(be,{}):e(J,{children:p.length?p.map((b,S)=>s("div",{className:`${b.status=="Approved"?"bg-success-light":b.status=="Verified"?"bg-info-light":b.status=="Pending"?"bg-warning-light":b.status=="Paused"?"bg-dark-light":"bg-danger-light"} rounded p-2 mb-2`,children:[s("div",{className:"flex justify-between items-center  ",children:[s("div",{className:"flex items-center ",children:[e("div",{className:"flex-none",children:e("img",{src:"https://ui-avatars.com/api/?background=random&name=albin}",className:"rounded-full h-12 w-12 object-cover",alt:""})}),s("div",{className:"mx-3",children:[e("div",{className:"flex justify-between w-[140px]",children:e("p",{className:"mb-1 font-semibold truncate",children:b.user_type})}),s("p",{className:"text-xs text-white-dark",children:[b.first_name," ",b.last_name]})]})]}),e("div",{children:s("div",{className:"mx-3",children:[e("p",{className:"text-end mb-2",children:e("span",{className:`badge
                                                                    ${b.status=="Approved"?"bg-success":b.status=="Verified"?"bg-info":b.status=="Pending"?"bg-warning":b.status=="Paused"?"bg-dark":"bg-danger"}
                                                                    `,children:b.status})}),e("p",{className:"  text-xs text-dark font-bold",children:b.time})]})})]}),e("small",{className:"font-semibold text-[#506690]",children:b.description})]},S)):e(J,{children:e("div",{className:"bg-danger-light rounded p-6 text-center font-bold text-2xl",children:e("h4",{children:"No Sale Status Found!"})})})})})})}),s("footer",{className:"w-full text-center border-t border-grey h-8 bg-[#3b3f5c] rounded-t-md flex justify-between px-4",children:[e("p",{className:"mt-2 text-white",children:s("b",{children:["Lead Id : #",r]})}),e("p",{className:"mt-2 text-white",children:s("b",{children:["Total Logs : ",p.length]})})]})]})})]})}function Dp({salesHistoryDrawer:t,setSalesHistoryDrawer:a,lead_id:n}){const{logout:r,crmToken:i,apiUrl:o}=ee(),[m,u]=l.useState(!1),[c,p]=l.useState([]),f=async()=>{var I;u(!0);try{const T=await K({method:"get",url:o+"/api/lead-sales-history",params:{lead_id:n},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});T.data.status=="success"&&p(T.data.sales)}catch(T){console.log(T),((I=T==null?void 0:T.response)==null?void 0:I.status)==401&&r()}finally{u(!1)}};l.useEffect(()=>{t&&f()},[t]);const[h,b]=l.useState(!1),S=I=>{h===I.id?b(null):b(I.id)};return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[650px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center  p-4 bg-[#3b3f5c] text-white rounded-b-md",children:[e("button",{type:"button",className:"px-4 py-4 absolute top-0 ltr:right-0 rtl:left-0 opacity-30 hover:opacity-100 dark:text-white",onClick:()=>a(!1),children:e(It,{className:" w-5 h-5"})}),e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:"Sales History 999"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e(qe,{className:"relative h-full  ",children:e("div",{className:"space-y-5  sm:pb-0 pb-[68px] sm:min-h-[300px] min-h-[400px]",children:m?e(be,{}):e(J,{children:c.length?c.map((I,T)=>s("div",{children:[s("div",{className:`flex justify-between items-center mx-4 mb-2
                                                        ${I.status=="Approved"?"bg-success-light":I.status=="Verified"?"bg-info-light":I.status=="Pending"?"bg-warning-light":I.status=="Paused"?"bg-dark-light":"bg-danger-light"}
                                                    rounded p-2 mb-2`,children:[s("div",{className:"flex items-center ",children:[e("div",{className:"flex-none",children:e("img",{src:`https://ui-avatars.com/api/?background=random&name=${I.first_name+" "+I.last_name}`,className:"rounded-full h-12 w-12 object-cover",alt:""})}),s("div",{className:"mx-3",children:[s("div",{className:"flex justify-between w-[140px]",children:[s("p",{className:"mb-1 font-semibold truncate",children:[I.first_name," "]}),e("p",{children:e("span",{onClick:()=>{S(I)},className:"badge badge-outline-info cursor-pointer",children:"View"})})]}),s("p",{className:"text-xs text-white-dark",children:[I.start_date,"  - ",I.due_date]})]})]}),e("div",{children:s("div",{className:"mx-3",children:[s("p",{className:"mb-1  text-xs text-dark font-bold",children:[I.bank," - ₹",I.client_paid]}),e("p",{className:"text-end",children:e("span",{className:`badge ${I.status=="Approved"?"bg-success":I.status=="Verified"?"bg-info":I.status=="Pending"?"bg-warning":I.status=="Paused"?"bg-dark":"bg-danger"}`,children:I.status})})]})})]},T),e("div",{className:"",children:h===I.id&&s("div",{className:` mx-4 mb-2
                                                            ${I.status=="Approved"?"bg-success-light":I.status=="Verified"?"bg-info-light":I.status=="Pending"?"bg-warning-light":I.status=="Paused"?"bg-dark-light":"bg-danger-light"}
                                                        rounded p-2 mb-2`,children:[s("h1",{children:["Owner: ",e("span",{children:I.first_name+" "+I.last_name})]}),s("h1",{children:["Start date: ",e("span",{children:I.start_date})]}),s("h1",{children:["Due Date: ",e("span",{children:I.due_date})]}),s("h1",{children:["Product name: ",e("span",{children:I.product})]}),s("h1",{children:["Client Paid: ",e("span",{children:I.client_paid})]})]})})]},T)):e(J,{children:e("div",{className:"bg-danger-light rounded p-6 text-center font-bold text-2xl",children:e("h4",{children:"No Sale Found!"})})})})})})}),e("footer",{className:"w-full text-center border-t border-grey h-8 bg-[#3b3f5c] rounded-t-md"})]})})]})}function X3({saleInvoiceModal:t,setSaleInvoiceModal:a,sale_id:n,lead_id:r}){var d,y,M;const{crmToken:i,apiUrl:o}=ee();ve();const m={select_address:"",name:"",email:"",mobile:"",address:"",state:"",city:"",gst_no:"",is_igst:1},[u,c]=l.useState(m),[p,f]=l.useState({}),h=()=>{f({});let C={};return u.name||(C={...C,name:"name is required"}),u.mobile||(C={...C,mobile:"mobile is required"}),f(C),{totalErrors:Object.keys(C).length}},b=C=>{var F;const{name:x,value:L}=C.target;if(x==="select_address")if(L==="Add Address")c({select_address:L,name:"",email:"",mobile:"",address:"",state:"",city:"",gst_no:"",is_igst:1});else{const O=(F=g==null?void 0:g.previousInvoices)==null?void 0:F.find($=>$.id===parseInt(L));O&&c({select_address:L,id:O.id,name:O.name,email:O.email,mobile:O.mobile,address:O.address,state:O.state,city:O.city,gst_no:O.gst_no,is_igst:O.is_igst?1:0})}else c(O=>({...O,[x]:L}))},S=()=>{var O;const{name:C,state:x,is_igst:L}=u;return((O=g==null?void 0:g.previousInvoices)==null?void 0:O.find($=>$.name===C&&$.state===x&&$.is_igst===L))?(f({name:"Name, State, and IGST combination must be unique."}),!1):!0},[I,T]=l.useState(!1),w=async C=>{var L;T(!0);try{const F=await K({method:"post",url:o+"/api/sales-invoice",data:C,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});F.data.status=="success"?(v(F.data.message),c(m),a(!1)):alert(F.data.message)}catch(F){if(console.log(F),((L=F==null?void 0:F.response)==null?void 0:L.status)===422){const O=F.response.data.errors;let $={};for(var x in O)$={...$,[x]:O[x][0]},console.log(O[x][0]);f($),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{T(!1)}},_=()=>{if(h().totalErrors)return!1;if(u.select_address==="Add Address"&&!S())return;const x=new FormData;x.append("lead_id",r),x.append("sale_id",n),x.append("name",u.name),x.append("email",u.email),x.append("mobile",u.mobile),x.append("address",u.address),x.append("city",u.city),x.append("state",u.state),x.append("gst_no",u.gst_no),x.append("is_igst",u.is_igst),w(x)},[A,k]=l.useState(!1),[g,E]=l.useState([]);l.useEffect(()=>{t&&N()},[t]);const N=async()=>{k(!0);try{const C=await K({method:"get",url:o+"/api/sale-invoices/create",params:{lead_id:r},headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});C.data.status=="success"&&E(C.data.data)}catch{}finally{k(!1)}},v=(C="",x="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:x,title:C,padding:"10px 20px"})};return e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>console.log("No outside"),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{as:"div",className:"panel border-0 p-0 rounded-lg overflow-hidden my-8 w-full max-w-lg text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"text-lg font-bold",children:"Generate Invoice"}),e("button",{type:"button",className:"text-white-dark hover:text-dark",onClick:()=>{a(!1),c(m)},children:e(Ht,{})})]}),e("div",{className:"p-5",children:A?e(be,{}):e("form",{autoComplete:"off",action:"",children:s("div",{children:[(d=g==null?void 0:g.previousInvoices)!=null&&d.length?s("div",{children:[s("select",{name:"select_address",className:"form-select text-white-dark",value:u.select_address,onChange:b,disabled:u.select_address==="Closed Won",children:[e("option",{value:"",disabled:!0,children:"Select Address"}),(y=g==null?void 0:g.previousInvoices)==null?void 0:y.map(C=>s("option",{value:C.id,children:[C.name,"-",C.state,"-",C.is_igst?"IGST":"CGST+SGST"]},C.id)),e("option",{value:"Add Address",children:"Add Address"})]}),e("div",{className:"text-danger mt-1",children:p.select_address})]}):null,s("div",{className:" grid grid-cols-2 gap-2",children:[s("div",{className:"relative mb-1 mt-2",children:[e("input",{className:"form-input",type:"text",name:"name",value:u.name,onChange:b,placeholder:"Name/Company"}),e("div",{className:"text-danger mt-1",children:p.name})]}),s("div",{className:"relative mb-1 mt-2",children:[e("input",{className:"form-input",type:"text",name:"email",value:u.email,onChange:b,placeholder:"Enter Email "}),e("div",{className:"text-danger mt-1",children:p.email})]}),s("div",{className:"relative mb-2",children:[e("input",{className:"form-input",type:"text",name:"mobile",value:u.mobile,onChange:b,maxLength:10,placeholder:"Enter Mobile "}),e("div",{className:"text-danger mt-1",children:p.mobile})]}),s("div",{className:"relative mb-2",children:[e("input",{className:"form-input",type:"text",name:"gst_no",value:u.gst_no,onChange:b,placeholder:"Enter Gst No "}),e("div",{className:"text-danger mt-1",children:p.gst_no})]})]}),s("div",{className:"relative mb-2",children:[e("textarea",{className:"form-input",name:"address",value:u.address,onChange:b,placeholder:"Enter Address "}),e("div",{className:"text-danger mt-1",children:p.address})]}),s("div",{className:" grid grid-cols-2 gap-2",children:[s("div",{className:"relative mb-2",children:[s("select",{name:"state",className:"form-select",value:u.state,onChange:b,children:[e("option",{value:"",children:"Select State"}),(M=g==null?void 0:g.states)==null?void 0:M.map((C,x)=>e("option",{value:C,children:C},x))]}),e("div",{className:"text-danger mt-1",children:p.state})]}),s("div",{className:"relative mb-2",children:[e("input",{className:"form-input",type:"text",name:"city",value:u.city,onChange:b,placeholder:"Enter City "}),e("div",{className:"text-danger mt-1",children:p.city})]}),s("div",{className:"relative mb-2",children:[s("select",{name:"is_igst",className:"form-select",value:u.is_igst,onChange:b,children:[e("option",{value:"1",children:"IGST"}),e("option",{value:"0",children:"CGST + SGST"})]}),e("div",{className:"text-danger mt-1",children:p.is_igst})]}),e("div",{className:"relative mb-2",children:e("button",{type:"button",onClick:()=>_(),disabled:I,className:"btn btn-primary w-max m-auto",children:I?"Please Wait":"Generate"})})]})]})})})]})})})})]})})}function Q3({leadModal:t,setLeadModal:a,lead:n,states:r,setData:i}){const{logout:o,crmToken:m,authUser:u,apiUrl:c}=ee(),[p,f]=l.useState([]);l.useEffect(()=>{n&&t&&f({id:n.id,first_name:n.first_name?n.first_name:"",last_name:n.last_name?n.last_name:"",email:n.email?n.email:"",phone:n.phone,second_phone:n.second_phone?n.second_phone:"",state:n.state?n.state:""})},[n,t]);const[h,b]=l.useState({}),[S,I]=l.useState(!1),T=k=>{const{value:g,name:E}=k.target;b({...h,[E]:""}),f({...p,[E]:g})},w=()=>{b({});let k={};return p.first_name||(k={...k,first_name:"first name is required"}),b(k),{totalErrors:Object.keys(k).length}},_=async k=>{var E;I(!0);try{const N=await K({method:"post",url:c+"/api/sale-lead-update",data:k,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+m}});if(N.data.status=="success"){const v=N.data.lead;i(d=>({...d,lead:v})),a(!1)}else alert("Failed")}catch(N){if(console.log(N),N.response.status==401&&o(),((E=N==null?void 0:N.response)==null?void 0:E.status)===422){const v=N.response.data.errors;let d={};for(var g in v)d={...d,[g]:v[g][0]},console.log(v[g][0]);b(d)}}finally{I(!1)}},A=()=>{if(w().totalErrors)return!1;const g=new FormData;g.append("lead_id",p.id),g.append("first_name",p.first_name),g.append("last_name",p.last_name),g.append("email",p.email),g.append("second_phone",p.second_phone),g.append("state",p.state),_(g)};return e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>a(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"font-bold text-lg",children:"Edit Lead"}),e("button",{type:"button",onClick:()=>a(!1),className:"text-white-dark hover:text-dark",children:"X"})]}),s("div",{className:"p-5",children:[s("form",{className:"space-y-5",children:[s("div",{children:[e("label",{children:"First Name"}),e("input",{id:"first_name",name:"first_name",type:"text",value:p.first_name,onChange:k=>T(k),placeholder:"Enter First Name",className:"form-input"}),e("div",{className:"text-danger mt-1",children:h.first_name})]}),s("div",{children:[e("label",{children:"Last Name"}),e("input",{id:"last_name",name:"last_name",type:"text",value:p.last_name,onChange:k=>T(k),placeholder:"Enter Last Name",className:"form-input"}),e("div",{className:"text-danger mt-1",children:h.last_name})]}),s("div",{children:[e("label",{children:"Email address"}),e("input",{id:"email",name:"email",type:"email",value:p.email,onChange:k=>T(k),placeholder:"Enter Email Address",className:"form-input"}),e("div",{className:"text-danger mt-1",children:h.email})]}),s("div",{children:[e("label",{children:"Primary Phone"}),e("input",{id:"phone",type:"tel",value:p.phone,disabled:!0,className:"form-input bg-danger-light"})]}),s("div",{children:[e("label",{children:"Secondary Phone"}),e("input",{id:"second_phone",name:"second_phone",type:"tel",value:p.second_phone,onChange:k=>T(k),placeholder:"Enter Phone number",className:"form-input"}),e("div",{className:"text-danger mt-1",children:h.second_phone})]}),s("div",{children:[e("label",{children:"State"}),e("select",{className:"form-select",name:"state",onChange:k=>T(k),value:p.state,children:r==null?void 0:r.map((k,g)=>e("option",{value:k.value,children:k.value},g))}),e("div",{className:"text-danger mt-1",children:h.state})]})]}),e("div",{className:"flex justify-end items-center mt-8",children:e("button",{type:"button",disabled:!!S,onClick:()=>A(),className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:S?"Please Wait...":"Update"})})]})]})})})})]})})}function ek({activateModal:t,setActivateModal:a,params:n,changeValue:r,validate:i,updateSaleApi:o,isBtnLoading:m,errors:u}){const c=f=>{let h=new Date(f),b=h.getFullYear(),S=String(h.getMonth()+1).padStart(2,"0"),I=String(h.getDate()).padStart(2,"0");return`${b}-${S}-${I}`},p=async()=>{if(i().totalErrors)return!1;const h=new FormData;h.append("id",n.id),h.append("bank",n.bank),h.append("client_type",n.client_type),h.append("sale_service",n.sale_service),h.append("sale_upload_reciept",n.sale_upload_reciept),h.append("product_id",n.product_id),h.append("client_paid",n.client_paid),h.append("sale_date",n.sale_date?c(n.sale_date):""),h.append("start_date",n.start_date?c(n.start_date):""),h.append("due_date",n.due_date?c(n.due_date):""),h.append("description",n.description),h.append("status",n.status),h.append("is_verified",n.is_verified),h.append("is_complaince_verified",n.is_complaince_verified),h.append("is_account_verified",n.is_account_verified),h.append("is_manager_verified",n.is_manager_verified),h.append("is_service_activated",n.is_service_activated==1?"0":"1"),await o(h),a(!1)};return e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>{},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{as:"div",className:"panel border-0 p-0 rounded-lg overflow-hidden my-8 w-full max-w-lg text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"text-lg font-bold",children:"Sale Services Activation"}),e("button",{type:"button",className:"text-white-dark hover:text-dark",onClick:()=>a(!1),children:"x"})]}),s("div",{className:"p-5",children:[s("p",{children:["Are you sure you want to  ",n!=null&&n.is_service_activated?"Block ":"Activate "," Services?"]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-2 px-4",children:[s("div",{children:[e("label",{children:"Start Date"}),e(Je,{name:"start_date",className:"form-input  ",value:n.start_date,onChange:f=>r({target:{value:f[0],name:"start_date"}}),options:{dateFormat:"Y-m-d",position:"auto left"}}),e("div",{className:"text-danger font-semibold",children:u.start_date})]}),s("div",{children:[e("label",{children:"Due Date"}),e(Je,{name:"due_date",value:n.due_date,onChange:f=>r({target:{value:f[0],name:"due_date"}}),options:{dateFormat:"Y-m-d",position:"auto left",minDate:n.start_date},className:"form-input  "}),e("div",{className:"text-danger font-semibold",children:u.due_date})]})]}),s("div",{className:"mt-2 px-4 flex-1",children:[s("label",{children:["New Description ",e("span",{className:"text-red-600 text-[15px]",children:"*"})]}),e("textarea",{name:"description",className:"form-textarea",onChange:f=>r(f),value:n.description,rows:2}),e("div",{className:"text-danger font-semibold",children:u.description})]}),e("div",{className:"flex justify-end mt-8",children:e("button",{type:"button",disabled:m,className:`btn  ${n!=null&&n.is_service_activated?"btn-danger":"btn-success"} ltr:ml-4 rtl:mr-4`,onClick:()=>p(),children:m?"Please Wait....":n!=null&&n.is_service_activated?"Block Services":"Activate Services"})})]})]})})})})]})})}function Vp({selectedLead:t,setSelectedLead:a,fL:n}){var ke,Ae,me,Ee,He,mt,Et,xa,$t,en,Fa,aa,_s,tn,Ma,ao,no,so,ro,io,lo,oo,co,uo,mo,ho,po,fo,go,bo,vo,xo,yo,wo,No,_o,ko,Co,So,Eo,To,Ao,Po,Io,Lo,Fo,Mo,Oo,Bo,Ro,$o,jo,zo,Do,Vo,Uo,Ho,Wo,qo,Zo,Go,Ko,Jo,Yo,Xo,Qo,ec,tc,ac,nc,sc;const r=St(),i=Re(),{sale_id:o,filterOwner:m,filterStatus:u}=r.state||{},{logout:c,crmToken:p,authUser:f,apiUrl:h,settingData:b}=ee(),[S,I]=l.useState(!0),T=oe=>{try{return JSON.parse(oe)}catch(Le){return console.error("JSON Parsing Error:",Le),null}},w=T(b==null?void 0:b.who_can_approve_expire_pause_sales),_=T(b==null?void 0:b.who_can_verify_sales),A=T(b==null?void 0:b.who_can_verify_complaince_verification),[k,g]=l.useState(o);l.useEffect(()=>{k&&R(k)},[o]);const E={bank:"",client_type:"",sale_service:"",sale_date:"",start_date:"",due_date:"",sale_upload_reciept:"",product_id:"",sale_price:"",client_paid:"",offer_price:"",inclusive_gst:"",gst_value:"",description:"",is_custom_price:0,is_verified:0,is_complaince_verified:0,is_account_verified:0,is_manager_verified:0},[N,v]=l.useState([]),[d,y]=l.useState([]),[M,C]=l.useState("https://dummyimage.com/600x400/000/fff");l.useEffect(()=>{var oe,Le,dt,De,bt,Tt,Pn,rc,ic,lc;d&&Object.keys(d).length?(v({...d.sale,sale_date:(oe=d==null?void 0:d.sale)!=null&&oe.sale_date?new Date((Le=d==null?void 0:d.sale)==null?void 0:Le.sale_date):"",start_date:(dt=d==null?void 0:d.sale)!=null&&dt.start_date?new Date((De=d==null?void 0:d.sale)==null?void 0:De.start_date):"",due_date:(bt=d==null?void 0:d.sale)!=null&&bt.due_date?new Date((Tt=d==null?void 0:d.sale)==null?void 0:Tt.due_date):"",sale_upload_reciept:"",description:""}),Ue(h+"/storage/"+((Pn=d==null?void 0:d.sale)==null?void 0:Pn.sale_upload_reciept)?h+"/storage/"+((rc=d==null?void 0:d.sale)==null?void 0:rc.sale_upload_reciept):"").then($r=>{Ce($r)}).catch($r=>console.error($r)),C(h+"/storage/"+((ic=d==null?void 0:d.sale)==null?void 0:ic.sale_upload_reciept)?h+"/storage/"+((lc=d==null?void 0:d.sale)==null?void 0:lc.sale_upload_reciept):"")):v(E)},[d]);const[x,L]=l.useState(null),[F,O]=l.useState([]),[$,B]=l.useState([]),R=async(oe,Le=null)=>{var dt;y([]),v([]),I(!0),L(null);try{const De=await K({method:"get",url:h+"/api/sales/"+oe,params:{action:Le,filterOwner:m,filterStatus:u},headers:{"Content-Type":"application/json",Authorization:"Bearer "+p}});De.data.status=="success"?(y(De.data.data),B(De.data.data.verification),g(De.data.data.id),O(De.data.invoiceSetting)):y(null)}catch(De){console.log(De),L(De),((dt=De==null?void 0:De.response)==null?void 0:dt.status)==401&&c()}finally{I(!1)}},[P,z]=l.useState({}),[H,W]=l.useState(!1),q=oe=>{const{value:Le,files:dt,name:De}=oe.target;if(z({...P,[De]:""}),De=="bank"){const Tt=oe.target.options[oe.target.selectedIndex].dataset.is_bank;v({...N,is_bank:Tt,[De]:Le})}v({...N,[De]:Le})},D=l.useRef(null);l.useEffect(()=>{if(N.sale_price&&N.client_paid){let oe="",Le="",dt="",De=0;if(Number(N.client_paid)){if(b!=null&&b.gst_enabled){const bt=100+Number(b==null?void 0:b.gst_value);let Tt=Number(N.client_paid)/bt*100;oe=(N.client_paid-Tt).toFixed(2),Le=Tt.toFixed(2)}Number(N.client_paid)<=Number(N.sale_price)?dt=N.sale_price-N.client_paid:dt=0}else oe=Le=dt="";De=parseFloat(N.client_paid)>parseFloat(N.sale_price)?1:0,z({...P,offer_price:"",inclusive_gst:"",gst_value:"",client_paid:""}),v({...N,offer_price:dt,inclusive_gst:Le,gst_value:oe,is_custom_price:De})}},[N.sale_price,N.client_paid]),l.useEffect(()=>{if(N.product_id){const oe=d==null?void 0:d.products.find(Le=>Le.id==N.product_id);z({...P,product_id:""}),v({...N,product_id:oe.id,product_pricr:oe.pro_price,sale_price:oe.pro_price})}},[N.product_id]);function V(oe){return!!(/^[0-9]+(\.[0-9]+)?$/.test(oe)&&parseFloat(oe)>0)}const j=()=>{z({});let oe={};return N.product_id||(oe={...oe,product_id:"product is required"}),N.bank||(oe={...oe,bank:"bank is required"}),N.client_type||(oe={...oe,client_type:"client type is required"}),N.description||(oe={...oe,description:"new description is required"}),N.client_paid?V(N.client_paid)||(oe={...oe,client_paid:"invalid amount"}):oe={...oe,client_paid:"client paid is required"},N.due_date&&N.start_date>N.due_date&&(oe={...oe,due_date:"Due Date can not be less than start date"}),N.sale_service?JSON.parse(N.sale_service).length||(oe={...oe,sale_service:"sale service is required"}):oe={...oe,sale_service:"sale service is required"},z(oe),{totalErrors:Object.keys(oe).length}},U=async oe=>{var dt;W(!0);try{const De=await K({method:"post",url:h+"/api/sales",data:oe,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+p}});if(De.data.status=="success"){re.fire({icon:De.data.status,title:De.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}});const bt=d;return bt.sale=De.data.sale,y({...d,sale:De.data.sale}),B(Tt=>({...Tt,employeeVerification:De.data.employeeVerification})),De.data}else alert("Failed")}catch(De){if(De.response.status==401&&c(),((dt=De==null?void 0:De.response)==null?void 0:dt.status)===422){const bt=De.response.data.errors;let Tt={};for(var Le in bt)Tt={...Tt,[Le]:bt[Le][0]},console.log(bt[Le][0]);z(Tt),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{return W(!1),1}},Z=()=>{if(j().totalErrors)return!1;const Le=new FormData;Le.append("id",N.id),Le.append("bank",N.bank),Le.append("client_type",N.client_type),Le.append("sale_service",N.sale_service),Le.append("sale_upload_reciept",N.sale_upload_reciept),Le.append("product_id",N.product_id),Le.append("client_paid",N.client_paid),Le.append("sale_date",N.sale_date?Y(N.sale_date):""),Le.append("start_date",N.start_date?Y(N.start_date):""),Le.append("due_date",N.due_date?Y(N.due_date):""),Le.append("description",N.description),Le.append("status",N.status),Le.append("is_verified",N.is_verified),Le.append("is_complaince_verified",N.is_complaince_verified),Le.append("is_account_verified",N.is_account_verified),Le.append("is_manager_verified",N.is_manager_verified),U(Le)};function Y(oe){let Le=new Date(oe),dt=Le.getFullYear(),De=String(Le.getMonth()+1).padStart(2,"0"),bt=String(Le.getDate()).padStart(2,"0");return`${dt}-${De}-${bt}`}const X=async()=>{re.fire({title:"Are you sure?",icon:"question",confirmButtonText:"Yes Delete",text:"",showLoaderOnConfirm:!0,showCancelButton:!0,cancelButtonText:"Nope",customClass:"sweet-alerts",allowOutsideClick:!1,preConfirm:async()=>{try{const oe=await K({method:"delete",url:h+"/api/sales/"+o,headers:{"Content-Type":"application/json",Authorization:"Bearer "+p}});oe.data.status=="success"?(i("/sales"),re.fire({icon:oe.data.status,title:oe.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})):oe.data.status=="error"&&re.fire({title:oe.data.title,text:oe.data.message,footer:oe.data.description,confirmButtonText:"Ok",customClass:"sweet-alerts",allowOutsideClick:!1})}catch(oe){console.log(oe)}}})},[ae,he]=l.useState(!1),[te,G]=l.useState(!1),[fe,ne]=l.useState(!1),[pe,ue]=l.useState(!1),[le,Ce]=l.useState(""),Be=oe=>{const Le=oe.target.files[0];if(!Le){z({...P,sale_upload_reciept:"Please select a file."});return}const dt=["image/jpeg","image/png","image/jpg","application/pdf"],De=3*1024*1024;if(!dt.includes(Le.type)){z({...P,sale_upload_reciept:"Invalid file type. Only JPG, PNG, and PDF allowed."});return}if(Le.size>De){z({...P,sale_upload_reciept:"File size must not exceed 2 MB."});return}if(z({...P,sale_upload_reciept:""}),v({...N,sale_upload_reciept:Le}),Le.type.startsWith("image/")){const bt=new FileReader;bt.onloadend=()=>{C(bt.result),Ce(bt.result)},bt.readAsDataURL(Le)}else C(""),Ce(URL.createObjectURL(Le))},Ue=async oe=>{try{const Le=await fetch(oe);if(!Le.ok)throw new nu("Failed to load image.");const dt=await Le.blob(),De=new FileReader;return new Promise((bt,Tt)=>{De.onloadend=()=>bt(De.result),De.onerror=Pn=>Tt("Error reading image: "+Pn),De.readAsDataURL(dt)})}catch(Le){throw console.error("Error converting image to Base64:",Le),Le}},[Te,xe]=l.useState(""),ye=oe=>{const Le=oe.target.files[0];Le&&xe(Le.name),Be(oe)},Ge=oe=>{D.current.click(),Be(oe)},[Ke,de]=l.useState(!1),Ne=async()=>{de(!0);try{const oe=await K({url:h+"/api/download-invoice",method:"GET",params:{id:o},responseType:"blob",headers:{Authorization:"Bearer "+p}}).then(Le=>{const dt=URL.createObjectURL(Le.data),De=document.createElement("a");De.href=dt,De.setAttribute("download","invoice-"+o+"-.pdf"),document.body.appendChild(De),De.click(),document.body.removeChild(De),URL.revokeObjectURL(dt)});console.log(oe)}catch{}finally{de(!1)}},[ie,we]=l.useState(!1),Pe=async oe=>{we(!0)},[Qe,se]=l.useState(!1);return s(J,{children:[e("div",{className:"panel",children:x?e(nu,{error:x,fetch:R,id:k}):d?s(J,{children:[s("div",{className:"flex justify-between gap-4 items-center",children:[s("b",{className:"text-[20px] font-extrabold",children:["Sale #",(ke=d==null?void 0:d.sale)==null?void 0:ke.id]}),s("div",{className:"flex gap-3 justify-end ",children:[(Ae=$==null?void 0:$.kycVerification)!=null&&Ae.is_enabled&&((me=$==null?void 0:$.kycVerification)!=null&&me.has_configured)&&!((He=(Ee=$==null?void 0:$.kycVerification)==null?void 0:Ee.kyc)!=null&&He.is_verified)?e("button",{className:"btn btn-outline-primary mr-[15px] btn-sm",onClick:()=>se(!0),"aria-label":"Upload KYC",children:"Upload KYC"}):null,(F==null?void 0:F.invoice_type)=="Auto Invoice"?e(J,{children:((mt=d==null?void 0:d.sale)==null?void 0:mt.status)=="Approved"&&(f.user_type==="Admin"||f.user_type==="Accounts")?e("button",{className:"btn btn-outline-primary mr-[15px] btn-sm",onClick:()=>Ne(),children:"Download Invoice"}):null}):e(J,{children:((Et=d==null?void 0:d.sale)==null?void 0:Et.status)=="Approved"&&(f.user_type==="Admin"||f.user_type==="Accounts")?e("button",{className:"btn btn-outline-primary mr-[15px] btn-sm",onClick:()=>ne(!0),children:"Generate Invoice"}):null}),e("button",{className:"btn btn-info shadow",onClick:()=>he(!0),children:"Sales History"}),e("button",{className:"btn btn-info shadow",onClick:()=>G(!0),children:"Status History"}),(f==null?void 0:f.user_type)=="Admin"||f.user_type=="Accounts"?e("button",{onClick:()=>X(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(ws,{className:"w-5 h-5"})}):null,e("button",{type:"button",onClick:()=>R(k,"prv"),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(jt,{className:"w-5 h-5 rtl:-rotate-90 rotate-90"})}),e("button",{type:"button",onClick:()=>R(k,"nxt"),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(jt,{className:"w-5 h-5 rtl:rotate-90 -rotate-90"})}),e("button",{onClick:()=>R(k),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})}),e("button",{onClick:()=>i("/sales"),className:"bg-[red]/50 rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(r1,{className:"w-5 h-5"})})]})]}),e("hr",{className:"my-4 dark:border-[#3b3f5c]"}),S?e(be,{}):s(J,{children:[e(H3,{verification:$,setVerification:B,lead_id:k,lead:d.lead}),s("div",{className:"mt-4 rounded bg-[#fafafa] dark:bg-[#060818]",children:[s("div",{className:" p-4 flex justify-between",children:[e("span",{children:e("b",{children:"Sales Details"})}),s("div",{className:"flex gap-5",children:[b!=null&&b.sales_verification_enabled?s("span",{className:`badge ${(xa=d==null?void 0:d.sale)!=null&&xa.is_verified?"bg-[#075E54]":"bg-[#ef4444]"}`,children:["Sale ",($t=d==null?void 0:d.sale)!=null&&$t.is_verified?"Verified":"Not Verified"]}):null,s("span",{className:`badge ${(en=d==null?void 0:d.sale)!=null&&en.is_approved?"bg-[#075E54]":"bg-[#ef4444]"}`,children:["Sale ",(Fa=d==null?void 0:d.sale)!=null&&Fa.is_approved?"Approved":"Not Approved"]}),(aa=d==null?void 0:d.sale)!=null&&aa.is_approved&&w.includes(f.user_type)?s("div",{className:"flex gap-4 items-center bg-[#ece7f7] dark:!bg-[#191e3a] px-4 rounded-lg",children:[e("b",{children:"Activate Service"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative m-0",children:[e("input",{type:"checkbox",name:"is_service_activated",value:(_s=d==null?void 0:d.sale)!=null&&_s.is_service_activated?(tn=d==null?void 0:d.sale)==null?void 0:tn.is_service_activated:"",onChange:oe=>{Pe()},checked:((Ma=d==null?void 0:d.sale)==null?void 0:Ma.is_service_activated)==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:" outline_checkbox border-2 border-[#d15553]  block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553]  before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]}):null]}),s("span",{children:[" ",s("b",{children:["Created At : ",(ao=d==null?void 0:d.sale)==null?void 0:ao.created_at]})]})]}),s("div",{className:"flex justify-around gap-5 mx-5 mb-4",children:[s("div",{className:"flex items-center panel p-3 w-full",children:[e("img",{className:"w-[60px] rounded-md ltr:mr-3 rtl:ml-3 object-cover",src:`https://ui-avatars.com/api/?background=random&name=${((no=d==null?void 0:d.owner)==null?void 0:no.first_name)+((so=d==null?void 0:d.owner)==null?void 0:so.last_name)}`,alt:"avatar"}),s("div",{children:[s("p",{children:[" ",s("b",{children:[(ro=d==null?void 0:d.owner)==null?void 0:ro.employee_id," | ",(io=d==null?void 0:d.owner)==null?void 0:io.first_name,"  ",(lo=d==null?void 0:d.owner)==null?void 0:lo.last_name]})]}),s("p",{children:[" ",e("b",{children:(oo=d==null?void 0:d.owner)==null?void 0:oo.user_type})]}),e("b",{children:(co=d==null?void 0:d.owner)==null?void 0:co.email})]})]}),s("div",{className:"flex items-center panel p-3 w-full",children:[e("img",{className:"w-[60px] rounded-md ltr:mr-3 rtl:ml-3 object-cover",src:`https://ui-avatars.com/api/?background=random&name=${((uo=d==null?void 0:d.lead)==null?void 0:uo.first_name)+((mo=d==null?void 0:d.lead)==null?void 0:mo.last_name)}`,alt:"avatar"}),s("div",{className:"flex-grow",children:[s("p",{children:[" ",s("b",{children:["#",(ho=d==null?void 0:d.lead)==null?void 0:ho.id," | ",(po=d==null?void 0:d.lead)==null?void 0:po.first_name," ",(fo=d==null?void 0:d.lead)==null?void 0:fo.last_name]})]}),s("p",{children:[" ",s("b",{children:[(go=d==null?void 0:d.lead)==null?void 0:go.phone," | ",(bo=d==null?void 0:d.lead)==null?void 0:bo.second_phone]})]}),e("b",{children:(vo=d==null?void 0:d.lead)==null?void 0:vo.state})]}),e("div",{className:"flex-shrink-0",children:e("button",{className:"btn btn-sm btn-warning shadow",onClick:()=>ue(!0),children:"Edit Lead"})})]}),s("div",{className:"items-center panel p-3 w-full",children:[e("label",{children:"Current Status"}),e("select",{name:"status",className:"form-select text-white-dark",value:N.status,onChange:oe=>q(oe),disabled:!w.includes(f.user_type),children:(yo=(xo=d==null?void 0:d.dropdowns)==null?void 0:xo.filter(oe=>oe.type=="Sale Status"))==null?void 0:yo.map(oe=>e("option",{children:oe.value},oe.id))}),e("div",{className:"text-danger font-semibold",children:P.status})]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mt-2 px-4",children:[s("div",{children:[e("label",{children:"Bank Details "}),s("select",{name:"bank",className:"form-select text-white-dark",value:N.bank,onChange:oe=>q(oe),disabled:!(f.user_type==="Admin"||f.user_type==="Accounts")&&((wo=d==null?void 0:d.sale)==null?void 0:wo.status)!=="Pending",children:[e("option",{value:"",disabled:!0,children:"Select Bank Details"}),(No=d==null?void 0:d.banks)==null?void 0:No.map((oe,Le)=>e("option",{value:oe.id,children:oe.is_bank_upi=="bank"?"Bank - "+oe.bank_name:"Upi - "+oe.upi},Le+1))]}),e("div",{className:"text-danger font-semibold"})]}),s("div",{children:[e("label",{children:"Client Type"}),s("select",{name:"client_type",className:"form-select text-white-dark",value:N.client_type,onChange:oe=>q(oe),disabled:!(f.user_type==="Admin"||f.user_type==="Accounts")&&((_o=d.sale)==null?void 0:_o.status)!=="Pending",children:[e("option",{value:"",disabled:!0,children:"Select Client Type"}),(Co=(ko=d==null?void 0:d.dropdowns)==null?void 0:ko.filter(oe=>oe.type=="Client Type"))==null?void 0:Co.map(oe=>e("option",{children:oe.value},oe.id))]}),e("div",{className:"text-danger font-semibold"})]}),s("div",{children:[e("label",{children:"Product"}),s("select",{name:"product_id",className:"form-select text-white-dark",value:N.product_id,onChange:oe=>q(oe),disabled:!(f.user_type==="Admin"||f.user_type==="Accounts")&&((So=d.sale)==null?void 0:So.status)!=="Pending",children:[e("option",{value:"",disabled:!0,children:"Select Product"}),(Eo=d==null?void 0:d.products)==null?void 0:Eo.map(oe=>e("option",{value:oe.id,children:oe.pro_name},oe.id))]}),e("div",{className:"text-danger font-semibold",children:P.product_id})]}),s("div",{children:[e("label",{children:"Sale Price"}),e("input",{name:"sale_price",type:"text",value:N.sale_price,onChange:oe=>q(oe),placeholder:"",className:"form-input bg-info-light",disabled:!0}),e("div",{className:"text-danger mt-1",children:P.sale_price})]}),s("div",{children:[s("label",{children:["Client Paid ",e("span",{className:"text-red-600 text-[15px]",children:"*"}),N.is_custom_price?e("span",{className:"mx-2 badge bg-[#ef4444]",children:"Custom Price"}):null]}),e("input",{name:"client_paid",className:`form-input ${!N.sale_price||((To=d==null?void 0:d.sale)==null?void 0:To.status)=="Approved"?"bg-[#ece7f7]":""} `,type:"tel",value:N.client_paid,onChange:oe=>q(oe),placeholder:"Enter Amount",disabled:!N.sale_price||((Ao=d==null?void 0:d.sale)==null?void 0:Ao.status)==="Approved"}),e("div",{className:"text-danger mt-1",children:P.client_paid})]}),s("div",{children:[e("label",{children:"Offer Price"}),e("input",{name:"offer_price",type:"text",value:N.offer_price,className:"form-input bg-info-light",disabled:!0}),e("div",{className:"text-danger mt-1",children:P.offer_price})]}),b!=null&&b.gst_enabled?s(J,{children:[s("div",{children:[e("label",{children:"Inclusive GST"}),e("input",{name:"inclusive_gst",type:"text",value:N.inclusive_gst,className:"form-input bg-info-light",disabled:!0}),e("div",{className:"text-danger font-semibold",children:P.inclusive_gst})]}),s("div",{children:[e("label",{children:"GST Value"}),e("input",{name:"gst_value",type:"text",value:N.gst_value,className:"form-input bg-info-light",disabled:!0}),e("div",{className:"text-danger font-semibold",children:P.gst_value})]})]}):null,s("div",{children:[e("label",{children:"Sale Date"}),e(Je,{name:"sale_date",className:`form-input ${((Po=d==null?void 0:d.sale)==null?void 0:Po.status)=="Approved"?"bg-[#ece7f7]":""} `,value:N.sale_date,onChange:oe=>q({target:{value:oe[0],name:"sale_date"}}),options:{dateFormat:"Y-m-d",position:"auto left"}}),e("div",{className:"text-danger font-semibold",children:P.sale_date})]}),s("div",{children:[e("label",{children:"Start Date"}),e(Je,{name:"start_date",className:`form-input ${((Io=d==null?void 0:d.sale)==null?void 0:Io.status)=="Approved"?"bg-[#ece7f7]":""} `,value:N.start_date,onChange:oe=>q({target:{value:oe[0],name:"start_date"}}),options:{dateFormat:"Y-m-d",position:"auto left"},disabled:!(f.user_type==="Admin"||f.user_type==="Accounts")}),e("div",{className:"text-danger font-semibold",children:P.start_date})]}),s("div",{children:[e("label",{children:"Due Date"}),e(Je,{name:"due_date",value:N.due_date,onChange:oe=>q({target:{value:oe[0],name:"due_date"}}),options:{dateFormat:"Y-m-d",position:"auto left",minDate:N.start_date},disabled:!(f.user_type==="Admin"||f.user_type==="Accounts"),className:`form-input ${((Lo=d==null?void 0:d.sale)==null?void 0:Lo.status)=="Approved"?"bg-[#ece7f7]":""} `}),e("div",{className:"text-danger font-semibold",children:P.due_date})]}),s("div",{className:"mb-5",children:[s("div",{className:"flex items-center space-x-4",children:[e("label",{htmlFor:"file-upload",className:"custom-file-upload",children:"Upload Receipt"}),(Te||((Fo=d==null?void 0:d.sale)==null?void 0:Fo.sale_upload_reciept))&&e(J,{children:le&&e("a",{href:le,download:((Mo=N.sale_upload_reciept)==null?void 0:Mo.name)||"download",className:" badge   bg-blue-500 text-white rounded hover:bg-blue-600",children:"Download"})})]}),s("div",{children:[e("button",{type:"button",onClick:Ge,className:"upload-receipt flex justify-start pl-2",children:Te||((Oo=d==null?void 0:d.sale)!=null&&Oo.sale_upload_reciept?e("a",{href:(Bo=d==null?void 0:d.sale)==null?void 0:Bo.sale_upload_reciept,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none",color:"inherit"},children:"Uploaded! Download to view"}):"Upload Receipt")}),e("input",{type:"file",id:"file-upload",onChange:ye,accept:"*",className:"upload-receipt",ref:D,style:{display:"none"}})]}),(P==null?void 0:P.sale_upload_reciept)&&e("div",{className:"text-danger mt-1",children:P.sale_upload_reciept})]})]}),s("div",{className:"px-4",children:[e("label",{children:"Sale Description"}),e("textarea",{name:"description",disabled:!0,className:"form-textarea bg-[#e4e4e4]",value:(Ro=d==null?void 0:d.sale)==null?void 0:Ro.description,rows:2})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 mt-2 px-4 ",children:[($o=d==null?void 0:d.sale)!=null&&$o.is_approved?e(Fn,{title:"Sale Approved",data:(zo=(jo=d==null?void 0:d.verification)==null?void 0:jo.employeeVerification)==null?void 0:zo.find(oe=>oe.verification_type==="Approved")}):null,b!=null&&b.sales_verification_enabled?s(J,{children:[b!=null&&b.sales_verification_enabled?(Do=d==null?void 0:d.sale)!=null&&Do.is_verified?e(Fn,{title:"Sale Verified",data:(Uo=(Vo=d==null?void 0:d.verification)==null?void 0:Vo.employeeVerification)==null?void 0:Uo.find(oe=>oe.verification_type==="Verified")}):_.includes(f==null?void 0:f.user_type)?s("div",{children:[e("label",{children:"Sale Verification"}),s("select",{name:"is_verified",className:"form-select text-white-dark",value:N.is_verified,onChange:oe=>q(oe),children:[e("option",{value:"0",children:"Pending"}),e("option",{value:"1",children:"Verified"})]}),e("div",{className:"text-danger font-semibold",children:P.is_verified})]}):null:null,b!=null&&b.sales_verification_enabled&&(b!=null&&b.has_manager_verification)?(Ho=d==null?void 0:d.sale)!=null&&Ho.is_manager_verified?e(Fn,{title:"Manager Verified",data:(qo=(Wo=d==null?void 0:d.verification)==null?void 0:Wo.employeeVerification)==null?void 0:qo.find(oe=>oe.verification_type==="Manager")}):(f==null?void 0:f.user_type)=="Manager"?s("div",{children:[e("label",{children:"Manager Verification"}),s("select",{name:"is_manager_verified",className:"form-select text-white-dark",value:N.is_manager_verified,onChange:oe=>q(oe),children:[e("option",{value:"0",children:"Pending"}),e("option",{value:"1",children:"Verified"})]}),e("div",{className:"text-danger font-semibold",children:P.is_manager_verified})]}):null:null,b!=null&&b.sales_verification_enabled&&(b!=null&&b.has_accounts_verification)?(Zo=d==null?void 0:d.sale)!=null&&Zo.is_account_verified?e(Fn,{title:"Accounts Verified",data:(Ko=(Go=d==null?void 0:d.verification)==null?void 0:Go.employeeVerification)==null?void 0:Ko.find(oe=>oe.verification_type==="Accounts")}):(f==null?void 0:f.user_type)=="Accounts"?s("div",{children:[e("label",{children:"Accounts Verification"}),s("select",{name:"is_account_verified",className:"form-select text-white-dark",value:N.is_account_verified,onChange:oe=>q(oe),children:[e("option",{value:"0",children:"Pending"}),e("option",{value:"1",children:"Verified"})]}),e("div",{className:"text-danger font-semibold",children:P.is_account_verified})]}):null:null,b!=null&&b.sales_verification_enabled&&(b!=null&&b.has_complaince_verification)?(Jo=d==null?void 0:d.sale)!=null&&Jo.is_complaince_verified?e(Fn,{title:"Complaince Verified",data:(Xo=(Yo=d==null?void 0:d.verification)==null?void 0:Yo.employeeVerification)==null?void 0:Xo.find(oe=>oe.verification_type==="Compliance")}):A.includes(f==null?void 0:f.user_type)?s("div",{children:[e("label",{children:"Complaince Verification"}),s("select",{name:"is_complaince_verified",className:"form-select text-white-dark",value:N.is_complaince_verified,onChange:oe=>q(oe),children:[e("option",{value:"0",children:"Pending"}),e("option",{value:"1",children:"Verified"})]}),e("div",{className:"text-danger font-semibold",children:P.is_complaince_verified})]}):null:null]}):null]}),s("div",{className:"flex justify-between mt-2 px-4 gap-5 items-center",children:[s("div",{className:" flex-1",children:[s("label",{children:["New Description ",e("span",{className:"text-red-600 text-[15px]",children:"*"})]}),e("textarea",{name:"description",className:"form-textarea",onChange:oe=>q(oe),value:N.description,rows:2}),e("div",{className:"text-danger font-semibold",children:P.description})]}),e("div",{children:e("button",{className:"btn btn-success shadow btn-lg",disabled:H,onClick:()=>Z(),children:H?"Please Wait...":"Update Sale"})})]})]})]})]}):s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:"No More Sales"}),e("div",{className:"space-x-4",children:e(Q,{to:"/sales",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Sales Table"})})]})}),e(Dp,{salesHistoryDrawer:ae,setSalesHistoryDrawer:he,lead_id:(Qo=d==null?void 0:d.lead)==null?void 0:Qo.id}),e(Y3,{logDrawer:te,setLogDrawer:G,sale_id:k,lead_id:(ec=d==null?void 0:d.lead)==null?void 0:ec.id}),((tc=d==null?void 0:d.sale)==null?void 0:tc.status)=="Approved"&&(f.user_type==="Admin"||f.user_type==="Accounts")&&e(X3,{saleInvoiceModal:fe,setSaleInvoiceModal:ne,sale_id:k,lead_id:(ac=d==null?void 0:d.lead)==null?void 0:ac.id}),pe&&e(Q3,{leadModal:pe,setLeadModal:ue,lead:d==null?void 0:d.lead,states:(nc=d==null?void 0:d.dropdowns)==null?void 0:nc.filter(oe=>oe.type=="State"),setData:y}),ie&&e(ek,{activateModal:ie,setActivateModal:we,params:N,changeValue:q,validate:j,updateSaleApi:U,isBtnLoading:H,errors:P}),Qe?e(Ql,{lead_id:(sc=d==null?void 0:d.lead)==null?void 0:sc.id,setVerification:B,showUploadKYCRAViewDrawer:Qe,setUploadKYCRAViewDrawer:se}):null]})}const Fn=({title:t,data:a})=>s("div",{className:"flex gap-3 bg-[#DCF8C6] flex gap-3 p-2.5 rounded-lg shadow dark:bg-success-dark-light",children:[e("div",{className:"flex-shrink-0",children:e(_n,{size:30,color:"#009664f7"})}),s("div",{className:"w-full",children:[s("div",{className:"flex justify-between items-center",children:[s("div",{children:[" ",e("b",{className:"text-[#009688]",children:t})]}),e("div",{className:"font-bold text-[#000]/50",children:e("i",{className:"dark:text-dark-light/60",children:a==null?void 0:a.created_at})})]}),s("i",{children:["Verified By ",(a==null?void 0:a.first_name)??"Unknown"," ",(a==null?void 0:a.last_name)??"Unknown"," - ",(a==null?void 0:a.user_type)??"Unknown"]}),e("p",{children:(a==null?void 0:a.description)??"N/A"})]})]}),nu=({error:t,fetch:a,id:n})=>{var r;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(r=t==null?void 0:t.response)==null?void 0:r.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(n),children:"Re Try"})]})]})})};function tk({showGReportDrawer:t,setShowGReportDrawer:a,fetchReports:n}){var d,y;const{logout:r,crmToken:i,apiUrl:o}=ee(),m=_e(M=>M.themeConfig.rtlClass)==="rtl",[u,c]=l.useState([]),[p,f]=l.useState(!0),h=async()=>{f(!0);try{const M=await K({method:"get",url:o+"/api/get-data-for-generate-report",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});M.data.status=="success"&&c(M.data.data)}catch(M){console.log(M)}finally{f(!1)}},[b]=l.useState({type:"",status:"All",date_range:[],report_name:""}),[S,I]=l.useState([]);l.useEffect(()=>{t&&(h(),I(b))},[t]);const[T,w]=l.useState({}),[_,A]=l.useState(!1),k=M=>{const{value:C,name:x}=M.target;w({...T,[x]:""}),x=="type"?I({...S,status:"",[x]:C}):I({...S,[x]:C})},g=()=>{w({});let M={};return S.type||(M={...M,type:"type is required"}),S.status||(M={...M,status:"status is required"}),S.date_range||(M={...M,date_range:"date_range is required"}),S.report_name||(M={...M,report_name:"Report Name is required"}),w(M),{totalErrors:Object.keys(M).length}},E=async M=>{var x,L;A(!0);try{const F=await K({method:"post",url:o+"/api/reports",data:M,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});console.log(F),F.data.status=="success"?(I(b),a(!1),n()):F.data.status=="error"&&alert(F.data.message)}catch(F){if(console.log(F),((x=F==null?void 0:F.response)==null?void 0:x.status)==401&&r(),((L=F==null?void 0:F.response)==null?void 0:L.status)===422){const O=F.response.data.errors;let $={};for(var C in O)$={...$,[C]:O[C][0]};w($)}}finally{A(!1)}},N=()=>{if(g().totalErrors)return!1;const C=new FormData;C.append("type",S.type),C.append("status",S.status),C.append("date_range",JSON.stringify(S.date_range)),C.append("report_name",S.report_name),E(C)},v=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return s(J,{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!t)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:s("div",{className:"mb-5",children:[e("div",{className:"flex justify-between mb-4 ",children:e("div",{className:"text-lg bold",children:"Generate Report"})}),e("hr",{className:"mb-5"}),p?e(be,{}):e("div",{className:"mb-5",children:s("form",{autoComplete:"off",className:"space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Generate Type"}),s("select",{id:"generateType",name:"type",onChange:M=>k(M),className:"form-select text-white-dark",children:[e("option",{value:"",children:"Select Type"}),e("option",{children:"Leads"}),e("option",{children:"Sales"})]}),e("div",{className:"text-danger mt-1",children:T.type})]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Status"}),s("select",{id:"reportStatus",name:"status",onChange:M=>k(M),disabled:!S.type,className:"form-select text-white-dark",children:[e("option",{value:"",children:"Select Status"}),(S==null?void 0:S.type)=="Leads"?(d=u==null?void 0:u.leadstatus)==null?void 0:d.map((M,C)=>e("option",{children:M},C)):(y=u==null?void 0:u.salestatus)==null?void 0:y.map((M,C)=>e("option",{children:M},"a"+C))]}),e("div",{className:"text-danger mt-1",children:T.status})]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Select Duration (created at)"}),e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:m?"auto right":"auto left"},name:"date_range",value:S.date_range,className:"form-input",onChange:M=>{const C=M.map(x=>v.format(new Date(x)).split("/").reverse().join("-"));C.length==2&&k({target:{name:"date_range",value:C}})}}),T.date_range?e("div",{className:"text-danger mt-1",children:T.date_range}):e("div",{className:"text-[13px] text-[#2196F3] mt-1",children:"Leave blank to apply no date range filter."})]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Report Name"}),e("input",{name:"report_name",onChange:M=>k(M),type:"text",placeholder:"Enter Report Name",className:"form-input"}),e("div",{className:"text-danger mt-1",children:T.report_name})]})}),e("button",{type:"button",onClick:()=>N(),disabled:_,className:"btn btn-primary mt-6",children:_?"Generating...":"Generate"})]})})]})})})})})]})}function ak({downloadModal:t,setDownloadModal:a,downloadData:n}){var R;const{logout:r,crmToken:i,apiUrl:o}=ee(),[m,u]=l.useState(!0),[c,p]=l.useState(null),[f,h]=l.useState(!1),[b,S]=l.useState(null),[I,T]=l.useState([]),[w,_]=l.useState(!1),[A,k]=l.useState(""),[g,E]=l.useState(null),[N,v]=l.useState(null),[d,y]=l.useState({phone:"",action:"otp",recive_otp:"sms",is_verified:!1,otp:"",selectFields:[],selectedFields:[]});l.useEffect(()=>{y({phone:"",action:"otp",recive_otp:"sms",is_verified:!1,otp:"",selectFields:[],selectedFields:[]})},[n]);const[M,C]=l.useState({});l.useEffect(()=>{t&&x()},[t]);const x=async()=>{u(!0),h(!1),S(null),k("");try{const P=await K.get(`${o}/api/get-data-for-download-report`,{params:{type:n.type},headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`}});P.data.status==="success"?(console.log(P.data.phones),p(P.data.phones),T(P.data.selectFields)):p(null)}catch(P){console.error("Error fetching data for download report",P)}finally{u(!1)}};l.useEffect(()=>{const P=new iy(Sd,"recaptcha-container",{size:"invisible",callback:()=>{console.log("recaptcha resolved..")}});return v(P),()=>P.clear()},[]);const L=async()=>{if(_(!0),!!N)try{const P=await cy(Sd,`+91${c==null?void 0:c.sms_phone}`,N);S(P),k("OTP sent successfully. Please check your SMS.")}catch(P){console.error("Error during OTP send",P);let z="Failed to send OTP.";P.code==="auth/invalid-phone-number"?z="The phone number is invalid. Please use the format +[country code][number].":P.code==="auth/too-many-requests"&&(z="Too many requests. Please try again later."),k(z)}finally{_(!1)}},F=async()=>{_(!0);try{const P=await b.confirm(d.otp);console.log(P),h(!0),y({...d,otp:""})}catch(P){k(P.message)}finally{_(!1)}},O=async P=>{var z,H;_(!0);try{const W=await K.post(`${o}/api/reports-download`,P,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},responseType:"blob"}),q=W.headers["content-disposition"];let D="default_filename.csv";if(q&&q.includes("filename=")){const U=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(q);U!=null&&U[1]&&(D=U[1].replace(/['"]/g,""))}const V=window.URL.createObjectURL(new Blob([W.data])),j=document.createElement("a");j.href=V,j.setAttribute("download",D),document.body.appendChild(j),j.click(),document.body.removeChild(j),a(!1)}catch(W){if(((z=W.response)==null?void 0:z.status)===401&&r(),((H=W.response)==null?void 0:H.status)===422){const q=W.response.data.errors,D={};for(const V in q)D[V]=q[V][0];C(D)}}finally{_(!1)}},$=()=>{if(!d.selectedFields.length)return;const P=new FormData;P.append("record_id",n.id),P.append("selected_fields",JSON.stringify(d.selectedFields)),O(P)},B=P=>{const{name:z,value:H,checked:W}=P.target,{selectedFields:q}=d;if(C(D=>({...D,[z]:""})),z==="select_fields"){const D=W?[...q,H].filter((V,j,U)=>U.indexOf(V)===j):q.filter(V=>V!==H);y(V=>({...V,selectedFields:D}))}else z=="select_all"?y(D=>({...D,selectedFields:W?I:[]})):y(D=>({...D,[z]:H}))};return s("div",{className:"mb-5",children:[e("div",{id:"recaptcha-container"}),e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>a(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:`panel border-0 p-0 rounded-lg overflow-hidden w-full ${f?"max-w-5xl":"max-w-lg"} my-8 text-black dark:text-white-dark`,children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[s("div",{className:"font-bold text-lg",children:["Download Report - ",n==null?void 0:n.report_name]}),e("button",{type:"button",onClick:()=>a(!1),className:"text-white-dark hover:text-dark",children:"x"})]}),e("div",{className:"p-5 pb-5",children:m?e(be,{}):g?s("div",{children:["Error: ",g]}):e("div",{children:f?s("div",{children:[s("div",{className:"text-center font-bold text-[18px] text-black/75 flex justify-start",children:[e("h1",{children:"Select Required Fields"}),s("label",{className:"inline-flex mx-4 items-center",children:[e("input",{type:"checkbox",name:"select_all",onChange:P=>B(P),className:"form-checkbox text-success"}),e("span",{className:"ml-2",children:"Select All"})]})]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:I.map(P=>s("label",{className:"inline-flex mx-4 items-center",children:[e("input",{type:"checkbox",name:"select_fields",onChange:z=>B(z),className:"form-checkbox text-success",value:P,checked:d.selectedFields.includes(P)}),e("span",{className:"ml-2",children:P})]},P))}),e("div",{children:e("button",{className:"my-4 btn btn-info btn-lg m-auto",disabled:w||!d.selectedFields.length,onClick:$,children:w?"Downloading...":"Download Report"})})]}):s("div",{children:[e("p",{className:"text-[#f8538d] font-bold",children:"Download requires OTP verification"}),d.recive_otp==="sms"&&s("div",{className:"mt-2 flex gap-2 items-center justify-between bg-[#ece7f7] rounded p-2",children:[e("span",{className:"mx-2",children:e(g1,{size:20})}),s("span",{className:"text-[#506690] font-semibold text-[15px]",children:["You will receive an OTP via SMS on the number ending in ",s("b",{children:["******",(R=c==null?void 0:c.sms_phone)==null?void 0:R.slice(-4)]})]})]}),b?s("div",{className:"flex justify-end items-center mt-8",children:[s("div",{children:[e("input",{className:"form-input w-fit",type:"tel",onChange:P=>B(P),name:"otp",placeholder:"Enter OTP"}),e("div",{className:"text-danger font-semibold text-sm",children:M.otp})]}),e("button",{type:"button",disabled:w,onClick:F,className:"btn btn-dark shadow m-auto",children:w?"Please Wait":"Verify OTP"})]}):e("button",{onClick:L,disabled:w,className:"mt-4 btn btn-dark shadow m-auto",children:w?"Please Wait...":"Get OTP"}),A&&e("p",{className:"mt-4 text-[#009688] font-extrabold",children:A})]})})})]})})})})]})})]})}const nk=()=>{const{logout:t,crmToken:a,apiUrl:n}=ee(),r=ve();l.useEffect(()=>{r(Se("Generate Report"))});const[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState([]),[S,I]=l.useState(!0);l.useEffect(()=>{T()},[i,p]),l.useEffect(()=>{o(1)},[u]);const T=async()=>{console.log("Fetching Reports........"),I(!0);try{const v=await K({method:"get",url:n+"/api/reports",params:{page:i,size:u},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});v.data.status=="success"&&b(v.data.data)}catch(v){console.log(v)}finally{I(!1)}},w=v=>{re.fire({icon:"question",title:"Are You Sure",confirmButtonText:"Yes",text:"You cant able to retrive this lead again!",showLoaderOnConfirm:!0,customClass:"sweet-alerts",preConfirm:async()=>{var d;try{const y=await K({method:"delete",url:n+"/api/reports/"+v.id,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});y.data.status=="success"?(T(),re.fire({icon:y.data.status,title:y.data.title,text:y.data.message,padding:"2em",customClass:"sweet-alerts"})):y.data.status=="error"&&re.fire({icon:y.data.status,title:y.data.title,text:y.data.message,padding:"2em",customClass:"sweet-alerts"})}catch(y){((d=y==null?void 0:y.response)==null?void 0:d.status)==401&&t(),console.log(y)}}})},[_,A]=l.useState(null),[k,g]=l.useState(!1),[E,N]=l.useState(!1);return s(J,{children:[e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Report List"}),s("div",{className:"flex gap-4",children:[e("button",{className:"btn btn-sm btn-primary",onClick:()=>N(!E),children:"Generate Lead Report"}),e("button",{onClick:()=>{T()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables",children:e(je,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:h==null?void 0:h.data,columns:[{accessor:"report_name",title:"Report Name",render:({report_name:v})=>e("b",{children:v})},{accessor:"type",title:"Type",render:({type:v})=>e("b",{children:v})},{accessor:"status",title:"Status",render:v=>e("b",{children:v.status})},{accessor:"date_range",title:"Date Range",render:v=>{var d;return e("b",{children:(d=JSON.parse(v==null?void 0:v.date_range))==null?void 0:d.map((y,M)=>(M>0?" to ":"")+y).join("")})}},{accessor:"id",title:"Download",render:v=>e("div",{children:e("span",{className:"badge bg-[#1d67a7] cursor-pointer me-2",onClick:()=>{A(v),g(!0)},children:"Download"})})},{accessor:"first_name",title:"Created By",render:v=>s("b",{children:[v.first_name," ",v.last_name]})},{accessor:"created_at",title:"Created At",render:v=>s("b",{children:[v.created_at," "]})},{accessor:"last_name",title:"Delete",render:v=>e("div",{children:e("button",{onClick:()=>w(v),children:e(ws,{className:"w-5 h-5 text-danger"})})})}],fetching:S,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:h==null?void 0:h.totalItems,recordsPerPage:u,page:i,onPageChange:v=>o(v),recordsPerPageOptions:m,onRecordsPerPageChange:c,minHeight:200,paginationText:({totalRecords:v})=>`Showing  ${h==null?void 0:h.from} to ${h==null?void 0:h.to} of ${v} entries`})})]})})}),e(tk,{showGReportDrawer:E,setShowGReportDrawer:N,fetchReports:T}),_&&e(ak,{downloadModal:k,setDownloadModal:g,downloadData:_})]})};function sk({saleData:t}){return s("div",{className:"grid sm:grid-cols-4 xl:grid-cols-4 gap-6 mb-6",children:[e("div",{className:"panel h-full p-0",children:s("div",{className:"flex p-5",children:[e("div",{className:"shrink-0 bg-success/10 text-success rounded-xl w-11 h-11 flex justify-center items-center dark:bg-success dark:text-white-light",children:e(Ys,{className:"w-5 h-5"})}),s("div",{className:"ltr:ml-3 rtl:mr-3 font-semibold",children:[e("p",{className:"text-xl dark:text-white-light",children:t.todaySales}),e("h5",{className:"text-[#506690] text-xs",children:"Today Sales"})]})]})}),e("div",{className:"panel h-full p-0",children:s("div",{className:"flex p-5",children:[e("div",{className:"shrink-0 bg-success/10 text-success rounded-xl w-11 h-11 flex justify-center items-center dark:bg-success dark:text-white-light",children:e(Ys,{className:"w-5 h-5"})}),s("div",{className:"ltr:ml-3 rtl:mr-3 font-semibold",children:[e("p",{className:"text-xl dark:text-white-light",children:t.thisMonthSales}),e("h5",{className:"text-[#506690] text-xs",children:"Monthly Sales"})]})]})}),e("div",{className:"panel h-full p-0",children:s("div",{className:"flex p-5",children:[e("div",{className:"shrink-0 bg-primary/10 text-primary rounded-xl w-11 h-11 flex justify-center items-center dark:bg-primary dark:text-white-light",children:e(Su,{className:"w-5 h-5"})}),s("div",{className:"ltr:ml-3 rtl:mr-3 font-semibold",children:[e("p",{className:"text-xl dark:text-white-light",children:t.yearlySales}),e("h5",{className:"text-[#506690] text-xs",children:"Yearly Sales"})]})]})}),e("div",{className:"panel h-full p-0",children:s("div",{className:"flex p-5",children:[e("div",{className:"shrink-0 bg-danger/10 text-danger rounded-xl w-11 h-11 flex justify-center items-center dark:bg-danger dark:text-white-light",children:e(Eu,{className:"w-5 h-5"})}),s("div",{className:"ltr:ml-3 rtl:mr-3 font-semibold",children:[e("p",{className:"text-xl dark:text-white-light",children:t.totalSales}),e("h5",{className:"text-[#506690] text-xs",children:"Total Sales"})]})]})})]})}function rk(){return e(J,{children:s("div",{className:"grid sm:grid-cols-4 xl:grid-cols-4 gap-6 mb-6",children:[e("div",{children:e(ce,{duration:1,inline:!0,height:84,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,height:84,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,height:84,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,height:84,className:"me-4 "})})]})})}function Ya(t){return Ye({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 13V14H1.5L1 13.5V0H2V13H15Z"},child:[]},{tag:"path",attr:{d:"M13 3.20714L7.85353 8.35359H7.14642L5.49998 6.70714L1.85353 10.3536L1.14642 9.64648L5.14642 5.64648H5.85353L7.49998 7.29293L12.6464 2.14648H13.3535L15.3535 4.14648L14.6464 4.85359L13 3.20714Z"},child:[]}]})(t)}function Xa(t){return Ye({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 13V14H1.5L1 13.5V0H2V13H15Z"},child:[]},{tag:"rect",attr:{x:"5",y:"2",width:"2",height:"2"},child:[]},{tag:"rect",attr:{x:"12",y:"1",width:"2",height:"2"},child:[]},{tag:"rect",attr:{x:"8",y:"5",width:"2",height:"2"},child:[]},{tag:"rect",attr:{x:"5",y:"9",width:"2",height:"2"},child:[]},{tag:"rect",attr:{x:"12",y:"8",width:"2",height:"2"},child:[]}]})(t)}function Qa(t){return Ye({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 14H15v-1H2V0H1v13.5l.5.5zM3 11.5v-8l.5-.5h2l.5.5v8l-.5.5h-2l-.5-.5zm2-.5V4H4v7h1zm6-9.5v10l.5.5h2l.5-.5v-10l-.5-.5h-2l-.5.5zm2 .5v9h-1V2h1zm-6 9.5v-6l.5-.5h2l.5.5v6l-.5.5h-2l-.5-.5zm2-.5V6H8v5h1z"},child:[]}]})(t)}function Up(t){return Ye({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"},child:[]}]})(t)}function ik({allSales:t,isLoading:a}){console.log(t,a);const{settingData:n}=ee();return e("div",{className:"table-responsive",children:e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:t,columns:[{accessor:"owner",title:"Owner",render:({owner:r})=>e("b",{children:r})},{accessor:"sale_price",title:"Sale Price",render:({sale_price:r})=>e("b",{className:"text-primary",children:r})},{accessor:"client_paid",title:"Client Paid",render:({client_paid:r})=>e("b",{className:"text-[#009688]",children:r})},{accessor:"offer_price",title:"Offer Price",render:({offer_price:r})=>e("b",{className:"text-yellow-600",children:r})},...n.gst_enabled?[{accessor:"gst_value",title:"GST Value",render:({gst_value:r})=>e("b",{className:"text-[#ff0303]",children:r})}]:[],{accessor:"total_sales",title:"Total Sales",render:({total_sales:r})=>e("b",{className:"text-[#03880c]",children:r})},{accessor:"total_count",title:"No.of Sales",render:({total_count:r})=>e("b",{children:r})}],totalRecords:1e3,recordsPerPageOptions:[12],fetching:a,minHeight:200})})})}function lk({employeeSales:t,count:a,filter:n,setFilter:r,isLoading:i,filterUsers:o}){var g,E,N,v;const m=_e(d=>d.themeConfig.theme==="dark"||d.themeConfig.isDarkMode),{owners:u,sales:c,formattedData:p}=l.useMemo(()=>t?t.reduce((d,y)=>(d.owners.push(y.owner),d.sales.push(y.total_sales),d.formattedData.push({x:y.owner,y:y.total_sales}),d),{owners:[],sales:[],formattedData:[]}):{owners:[],sales:[],formattedData:[]},[t]),f=c.length>0?Math.max(...c).toFixed(2):"0.00",h=c.indexOf(f),b=u[h]?u[h]:"N/A",S=c.length>0?c.reduce((d,y)=>d+Number(y),0).toFixed(2):"0.00",I={series:[{name:"Sales",data:c}],options:{chart:{type:"area",height:300,zoom:{enabled:!1},toolbar:{show:!1}},colors:["#805dca"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3,fill:{type:"gradient",gradient:{type:"horizontal",colorStops:[[{offset:0,color:"#0085FF",opacity:1},{offset:33,color:"#FF2E92",opacity:1},{offset:80,color:"#FFAC2F",opacity:1},{offset:99,color:"#FFFFFF",opacity:1}]]}}},fill:{type:"gradient",gradient:{shadeIntensity:1,type:"vertical",colorStops:[[{offset:0,color:"#F48116",opacity:1},{offset:70,color:"#6510F8",opacity:.2},{offset:97,color:"#6510F8",opacity:0}]]}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:"#000"}}},yaxis:{opposite:!1,labels:{offsetX:0}},labels:u,legend:{horizontalAlign:"left"},grid:{borderColor:m?"#161d28":"#eef2f5"},tooltip:{theme:"light"}}},T=l.useMemo(()=>({series:[{name:"Sales",data:c,type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#EF1262","#b512efe6"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:1},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:m?"#161d28":"#eef2f5",padding:{left:20,right:20},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},xaxis:{categories:u,axisBorder:{show:!0,color:"#e0e6ed"}},yaxis:{tickAmount:5,labels:{formatter:d=>Math.round(d)}},fill:{type:"gradient",gradient:{shade:"light",type:"vertical",shadeIntensity:.2,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}}),[i]),w=l.useMemo(()=>({series:[{data:p}],options:{legend:{show:!1},chart:{height:450,type:"treemap",toolbar:{show:!1}},colors:["#3B93A5","#F7B844","#ADD8C7","#EC3C65","#CDD7B6","#C1F666","#D43F97","#1E5D8C","#421243","#7F94B0","#EF6537","#C0ADDB"]}}),[p]),_=d=>{r(y=>({...y,employeeSaleFilter:{...y.employeeSaleFilter,[d.action]:d.value}}))},A=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"}),k=()=>{var d;if(i)return e(be,{});if(c.length===0)return e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})});switch((d=n==null?void 0:n.employeeSaleFilter)==null?void 0:d.chart){case"column":return e(et,{options:T.options,series:T.series,type:"bar",height:400,className:"overflow-hidden"});case"area":return e(et,{options:I.options,series:I.series,type:"area",height:400,className:"overflow-hidden"});case"treemap":return e(et,{options:w.options,series:w.series,type:"treemap",height:400,className:"overflow-hidden"});default:return e(ik,{allSales:t,isLoading:i})}};return s("div",{children:[s("div",{className:"flex justify-between items-center  bg-[#dbe7ff38] p-2 rounded",children:[e("h1",{className:"font-bold text-[18px]",children:"Employee Sales"}),s("div",{className:"flex gap-4",children:[s("select",{className:"form-select form-select-sm w-[150px]",value:(g=n==null?void 0:n.employeeSaleFilter)==null?void 0:g.manager,onChange:d=>_({action:"manager",value:d.target.value}),children:[e("option",{value:"0",children:"All"}),o==null?void 0:o.filter(d=>d.user_type=="Manager").map(d=>s("option",{value:d.id,children:[d.first_name," ",d.last_name]},d.id))]}),((E=n==null?void 0:n.employeeSaleFilter)==null?void 0:E.manager)!="0"&&s("select",{className:"form-select form-select-sm w-[150px]",value:n==null?void 0:n.employeeSaleFilter.leader,onChange:d=>_({action:"leader",value:d.target.value}),children:[e("option",{value:"0",children:"All"}),o==null?void 0:o.filter(d=>{var y;return d.user_type=="Team Leader"&&d.manager_id==((y=n==null?void 0:n.employeeSaleFilter)==null?void 0:y.manager)}).map(d=>s("option",{value:d.id,children:[d.first_name," ",d.last_name]},d.id))]})]}),s("div",{className:"flex gap-5 mt-1",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",checked:((N=n==null?void 0:n.employeeSaleFilter)==null?void 0:N.isActiveUsers)==="active",onChange:()=>_({action:"isActiveUsers",value:"active"})}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",checked:((v=n==null?void 0:n.employeeSaleFilter)==null?void 0:v.isActiveUsers)==="inactive",onChange:()=>_({action:"isActiveUsers",value:"inactive"})}),e("span",{children:"Inactive Users"})]})]}),e("div",{children:e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},name:"date_range",value:n.employeeSaleFilter.dateRange,className:"form-input form-input-sm",onChange:d=>{const y=d.map(M=>A.format(new Date(M)).split("/").reverse().join("-"));y.length==2&&_({action:"dateRange",value:y})}})}),s("div",{className:"flex gap-4",children:[["treemap","area","column","table"].map(d=>{var y;return e("button",{className:`${((y=n==null?void 0:n.employeeSaleFilter)==null?void 0:y.chart)==d?"bg-[#1d67a7]":"bg-[red]/50"} btn btn-sm shadow`,onClick:()=>_({action:"chart",value:d}),children:d==="treemap"?e(Xa,{color:"white",className:"w-5 h-5"}):d==="area"?e(Ya,{color:"white",className:"w-5 h-5"}):d==="column"?e(Qa,{color:"white",className:"w-5 h-5"}):e(Up,{color:"white",className:"w-5 h-5"})},d)}),e("button",{className:"bg-dark btn btn-sm shadow",onClick:()=>_({action:"reload",value:!(n!=null&&n.reload)}),children:e(Oe,{className:"w-5 h-5",color:"white"})})]})]}),i?null:s("div",{className:"flex justify-around mt-4  py-1",children:[s("div",{className:"flex-1 text-center",children:[s("b",{className:"text-[18px] text-[#009688]",children:["₹",S,"  "]}),e("br",{}),e("small",{className:"font-bold",children:"Total Sales"})]}),e("div",{className:"flex-1 text-center",children:s("div",{children:[s("b",{className:"text-[18px] text-[#009688]",children:["₹",f," | ",b]}),e("br",{}),e("small",{className:"font-bold",children:"Leading Employee"})]})}),s("div",{className:"flex-1 text-center",children:[e("b",{className:"text-[18px] text-[#009688]",children:a}),e("br",{}),e("small",{className:"font-bold",children:"Total Sales Count"})]})]}),e("div",{children:k()})]})}function ok({allSales:t,isLoading:a}){console.log(t,a);const{settingData:n}=ee();return e("div",{className:"table-responsive",children:e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:t,columns:[{accessor:"month_name",title:"Day",render:({day:r})=>e("b",{children:r})},{accessor:"sale_price",title:"Sale Price",render:({sale_price:r})=>e("b",{className:"text-primary",children:r})},{accessor:"client_paid",title:"Client Paid",render:({client_paid:r})=>e("b",{className:"text-[#009688]",children:r})},{accessor:"offer_price",title:"Offer Price",render:({offer_price:r})=>e("b",{className:"text-yellow-600",children:r})},...n.gst_enabled?[{accessor:"gst_value",title:"GST Value",render:({gst_value:r})=>e("b",{className:"text-[#ff0303]",children:r})}]:[],{accessor:"total_sales",title:"Total Sales",render:({total_sales:r})=>e("b",{className:"text-[#03880c]",children:r})},{accessor:"total_count",title:"No.of Sales",render:({total_count:r})=>e("b",{children:r})}],totalRecords:1e3,recordsPerPageOptions:[12],fetching:a,minHeight:200})})})}function ck({allSales:t,count:a,filter:n,filterUsers:r,setFilter:i,isLoading:o}){var g,E,N,v;const m=_e(d=>d.themeConfig.theme==="dark"||d.themeConfig.isDarkMode),{owners:u,sales:c,formattedData:p}=l.useMemo(()=>t?t.reduce((d,y)=>(d.owners.push(y.day),d.sales.push(y.total_sales),d.formattedData.push({x:y.day,y:y.total_sales}),d),{owners:[],sales:[],formattedData:[]}):{owners:[],sales:[],formattedData:[]},[t]),f=c.length>0?Math.max(...c).toFixed(2):"0.00",h=c.indexOf(f),b=u[h]?u[h]:"N/A",S=c.length>0?c.reduce((d,y)=>d+Number(y),0).toFixed(2):"0.00",I={series:[{name:"Sales",data:c}],options:{chart:{type:"area",height:300,zoom:{enabled:!1},toolbar:{show:!1}},colors:["#805dca"],dataLabels:{enabled:!1},stroke:{curve:"smooth",width:3,fill:{type:"gradient",gradient:{type:"horizontal",colorStops:[[{offset:0,color:"#0085FF",opacity:1},{offset:33,color:"#FF2E92",opacity:1},{offset:80,color:"#FFAC2F",opacity:1},{offset:99,color:"#FFFFFF",opacity:1}]]}}},fill:{type:"gradient",gradient:{shadeIntensity:1,type:"vertical",colorStops:[[{offset:0,color:"#F48116",opacity:1},{offset:70,color:"#6510F8",opacity:.2},{offset:97,color:"#6510F8",opacity:0}]]}},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:"#000"}}},yaxis:{opposite:!1,labels:{offsetX:0}},labels:u,legend:{horizontalAlign:"left"},grid:{borderColor:m?"#161d28":"#eef2f5"},tooltip:{theme:"light"}}},T=l.useMemo(()=>({series:[{name:"Sales",data:c,type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#EF1262","#b512efe6"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:1},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:m?"#161d28":"#eef2f5",padding:{left:20,right:20},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},xaxis:{categories:u,axisBorder:{show:!0,color:"#e0e6ed"}},yaxis:{tickAmount:5,labels:{formatter:d=>Math.round(d)}},fill:{type:"gradient",gradient:{shade:"light",type:"vertical",shadeIntensity:.2,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}}),[o]),w=l.useMemo(()=>({series:[{data:p}],options:{legend:{show:!1},chart:{height:450,type:"treemap",toolbar:{show:!1}},colors:["#3B93A5","#F7B844","#ADD8C7","#EC3C65","#CDD7B6","#C1F666","#D43F97","#1E5D8C","#421243","#7F94B0","#EF6537","#C0ADDB"]}}),[p]),_=d=>{i(y=>({...y,allSaleFilter:{...y.allSaleFilter,[d.action]:d.value}}))},A=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"}),k=()=>{var d;if(o)return e(be,{});if(c.length===0)return e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})});switch((d=n==null?void 0:n.allSaleFilter)==null?void 0:d.chart){case"column":return e(et,{options:T.options,series:T.series,type:"bar",height:400,className:"overflow-hidden"});case"area":return e(et,{options:I.options,series:I.series,type:"area",height:400,className:"overflow-hidden"});case"treemap":return e(et,{options:w.options,series:w.series,type:"treemap",height:400,className:"overflow-hidden"});default:return e(ok,{allSales:t,isLoading:o})}};return s("div",{children:[s("div",{className:"flex justify-between items-center  bg-[#dbe7ff38] p-2 rounded",children:[e("h1",{className:"font-bold text-[18px]",children:"Employee Sales"}),s("div",{className:"flex gap-4",children:[s("select",{className:"form-select form-select-sm w-[150px]",value:(g=n==null?void 0:n.allSaleFilter)==null?void 0:g.manager,onChange:d=>_({action:"manager",value:d.target.value}),children:[e("option",{value:"0",children:"All"}),r==null?void 0:r.filter(d=>d.user_type=="Manager").map(d=>s("option",{value:d.id,children:[d.first_name," ",d.last_name]},d.id))]}),((E=n==null?void 0:n.allSaleFilter)==null?void 0:E.manager)!="0"&&s("select",{className:"form-select form-select-sm w-[150px]",value:n==null?void 0:n.allSaleFilter.leader,onChange:d=>_({action:"leader",value:d.target.value}),children:[e("option",{value:"0",children:"All"}),r==null?void 0:r.filter(d=>{var y;return d.user_type=="Team Leader"&&d.manager_id==((y=n==null?void 0:n.allSaleFilter)==null?void 0:y.manager)}).map(d=>s("option",{value:d.id,children:[d.first_name," ",d.last_name]},d.id))]})]}),s("div",{className:"flex gap-5 mt-1",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",checked:((N=n==null?void 0:n.allSaleFilter)==null?void 0:N.isActiveUsers)==="active",onChange:()=>_({action:"isActiveUsers",value:"active"})}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",checked:((v=n==null?void 0:n.allSaleFilter)==null?void 0:v.isActiveUsers)==="inactive",onChange:()=>_({action:"isActiveUsers",value:"inactive"})}),e("span",{children:"Inactive Users"})]})]}),e("div",{children:e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},name:"date_range",value:n.allSaleFilter.dateRange,className:"form-input form-input-sm",onChange:d=>{const y=d.map(M=>A.format(new Date(M)).split("/").reverse().join("-"));y.length==2&&_({action:"dateRange",value:y})}})}),s("div",{className:"flex gap-4",children:[["treemap","area","column","table"].map(d=>{var y;return e("button",{className:`${((y=n==null?void 0:n.allSaleFilter)==null?void 0:y.chart)===d?"bg-[#1abc9c]":"bg-[red]/50"} btn btn-sm shadow`,onClick:()=>_({action:"chart",value:d}),children:d==="treemap"?e(Xa,{color:"white",className:"w-5 h-5"}):d==="area"?e(Ya,{color:"white",className:"w-5 h-5"}):d==="column"?e(Qa,{color:"white",className:"w-5 h-5"}):e(Up,{color:"white",className:"w-5 h-5"})},d)}),e("button",{className:"bg-dark btn btn-sm shadow",onClick:()=>_({action:"reload",value:!(n!=null&&n.reload)}),children:e(Oe,{className:"w-5 h-5",color:"white"})})]})]}),o?null:s("div",{className:"flex justify-around mt-4  py-1",children:[s("div",{className:"flex-1 text-center",children:[s("b",{className:"text-[18px] text-[#009688]",children:["₹",S]}),e("br",{}),e("small",{className:"font-bold",children:"Total Sales"})]}),e("div",{className:"flex-1 text-center",children:s("div",{children:[s("b",{className:"text-[18px] text-[#009688]",children:["₹",f," | ",b]}),e("br",{}),e("small",{className:"font-bold",children:"Peak Sales Day"})]})}),s("div",{className:"flex-1 text-center",children:[e("b",{className:"text-[18px] text-[#009688]",children:a}),e("br",{}),e("small",{className:"font-bold",children:"Total Sales Count"})]})]}),e("div",{children:k()})]})}function dk({monthlyReport:t,filter:a,setFilter:n,isLoading:r}){const{settingData:i}=ee(),o=m=>{n(u=>({...u,monthlyReportFilter:{...u.monthlyReportFilter,[m.action]:m.value}}))};return s("div",{className:"panel h-full w-full",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("div",{children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:" Monthly Report "})}),s("div",{className:"flex items-center flex-wrap",children:[e("div",{children:s("select",{name:"ctnSelect1",className:"form-select form-select-sm text-white-dark w-[180px] mr-2",value:a.monthlyReportFilter.selectedMonth,onChange:m=>o({action:"selectedMonth",value:m.target.value}),required:!0,children:[e("option",{value:"01",children:"January"}),e("option",{value:"02",children:"Febuary"}),e("option",{value:"03",children:"March"}),e("option",{value:"04",children:"April"}),e("option",{value:"05",children:"May"}),e("option",{value:"06",children:"June"}),e("option",{value:"07",children:"July"}),e("option",{value:"08",children:"August"}),e("option",{value:"09",children:"September"}),e("option",{value:"10",children:"October"}),e("option",{value:"11",children:"November"}),e("option",{value:"12",children:"December"})]})}),e("div",{children:s("select",{name:"ctnSelect1",className:"form-select form-select-sm text-white-dark w-[180px]",onChange:m=>o({action:"selectedYear",value:m.target.value}),value:a.monthlyReportFilter.selectedYear,required:!0,children:[e("option",{children:"2021"}),e("option",{children:"2022"}),e("option",{children:"2023"}),e("option",{children:"2024"}),e("option",{children:"2025"})]})})]}),e("button",{className:"bg-dark btn btn-sm shadow",onClick:()=>o({action:"reload",value:!(a!=null&&a.reload)}),children:e(Oe,{className:"w-5 h-5",color:"white"})})]}),e("div",{className:"table-responsive",children:e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:t.data,columns:[{accessor:"owner",title:"Name",render:({owner:m,user_type:u})=>s("div",{className:"flex flex-col",children:[e("b",{children:m}),e("b",{className:"text-bold text-[11px]",children:u})]})},{accessor:"sale_price",title:"Product Value",render:({sale_price:m,client_paid:u,offer_price:c})=>e(lt,{content:s("div",{children:[s("div",{children:[e("span",{children:"Product Value: "})," ",s("b",{children:[" ",m]})]}),s("div",{children:[e("span",{children:"Client Paid: "})," ",s("b",{children:[" ",u]})]}),c?s("div",{children:[e("span",{children:"Offer Price: "})," ",s("b",{children:[" ",c]})]}):null]}),placement:"top",children:s("b",{children:["₹",u]})})},i.gst_enabled?{accessor:"gst_value",title:"GST",render:({gst_value:m,total_sales:u})=>e(lt,{content:s("div",{children:[s("div",{className:"flex justify-between",children:[e("span",{children:"GST Value : "})," ",s("b",{children:[" ",m]})]}),s("div",{className:"flex justify-between",children:[e("span",{children:"Inclusive GST : "})," ",s("b",{children:[" ",u]})]})]}),placement:"top",children:s("b",{children:["₹",m]})})}:null,{accessor:"total_sales",title:"Sales",render:({total_sales:m})=>s("b",{children:["₹",m]})}].filter(Boolean),totalRecords:t.totalItems,recordsPerPage:a.monthlyReportFilter.pageSize,page:a.monthlyReportFilter.page,onPageChange:m=>o({action:"page",value:m}),recordsPerPageOptions:[10,20,30,50,100],onRecordsPerPageChange:m=>o({action:"pageSize",value:m}),fetching:r,minHeight:200,paginationText:({totalRecords:m})=>`Showing ${t.from} to ${t.to} of ${m} entries`})})})]})}function uk(){const t=new Date().getFullYear(),a=[];for(let n=0;n<5;n++)a.push(t-n);return a}function mk({yearlyReport:t,filter:a,setFilter:n,isLoading:r}){const i=u=>{n(c=>({...c,yearlyReportFilter:{...c.yearlyReportFilter,[u.action]:u.value}}))},{settingData:o}=ee(),m=uk();return console.log("yearlyReport?.data",t==null?void 0:t.data),s("div",{className:" h-full w-full",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("div",{children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:" Yearly Report  "})}),e("div",{className:"flex items-center flex-wrap",children:e("div",{children:e("select",{name:"ctnSelect1",value:a.yearlyReportFilter.selectedYear,className:"form-select form-select-sm text-white-dark w-[240px]",onChange:u=>i({action:"selectedYear",value:u.target.value}),children:m.map((u,c)=>s("option",{value:u,children:[" ",u," - ",u+1]},c))})})}),e("button",{className:"bg-dark btn btn-sm shadow",onClick:()=>i({action:"reload",value:!(a!=null&&a.reload)}),children:e(Oe,{className:"w-5 h-5",color:"white"})})]}),e("div",{className:"table-responsive",children:e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:t==null?void 0:t.data,columns:[{accessor:"month_name",title:"Month",render:({month_name:u,year:c})=>s("b",{children:[u," ",c]})},{accessor:"sale_price",title:"Sale Price",render:({sale_price:u})=>e("b",{className:"text-primary",children:u})},{accessor:"client_paid",title:"Client Paid",render:({client_paid:u})=>e("b",{className:"text-[#009688]",children:u})},{accessor:"offer_price",title:"Offer Price",render:({offer_price:u})=>e("b",{className:"text-yellow-600",children:u})},...o.gst_enabled?[{accessor:"gst_value",title:"GST Value",render:({gst_value:u})=>e("b",{className:"text-[#ff0303]",children:u})}]:[],{accessor:"total_sales",title:"Total Sales",render:({total_sales:u})=>e("b",{className:"text-[#03880c]",children:u})}],totalRecords:t==null?void 0:t.totalItems,recordsPerPage:a.yearlyReportFilter.pageSize,page:a.yearlyReportFilter.page,recordsPerPageOptions:[12],onRecordsPerPageChange:u=>i({action:"pageSize",value:u}),fetching:r,minHeight:200,paginationText:({totalRecords:u})=>{const c=(t==null?void 0:t.from)??0,p=(t==null?void 0:t.to)??0;return`Showing ${c} to ${p} of ${u} entries`}})})})]})}function hk({filterUsers:t,allSales:a,setFilter:n,filter:r,employeeSales:i,count:o,isLoading:m,yearlyReport:u,monthlyReport:c}){const p=[{key:"all-sales",label:"All Sales"},{key:"employee-sales",label:"Employees Sales"},{key:"yearly-report",label:"Yearly Report"},{key:"monthly-report",label:"Monthly Report"}],f=h=>{n({...r,subTab:h})};return s("div",{className:"panel ",children:[e("div",{className:"flex gap-4",children:p.map(h=>e("button",{className:`btn ${r.subTab===h.key?"btn-gradient":"btn-dark"} btn-sm`,onClick:()=>f(h.key),"aria-selected":r.subTab===h.key,children:h.label},h.key))}),e("div",{className:"mt-4  p-2 rounded",children:r.subTab=="employee-sales"?e(lk,{filterUsers:t,count:o,employeeSales:i,filter:r,setFilter:n,isLoading:m}):r.subTab=="all-sales"?e(ck,{filterUsers:t,count:o,filter:r,allSales:a,setFilter:n,isLoading:m}):r.subTab=="monthly-report"?e(dk,{monthlyReport:c,filter:r,setFilter:n,isLoading:m}):r.subTab=="yearly-report"?e(mk,{yearlyReport:u,filter:r,setFilter:n,isLoading:m}):null})]})}function su(){return new Date().getFullYear()}function pk(){const a=new Date().getMonth()+1;return String(a).padStart(2,"0")}const Hp=()=>{const{logout:t,crmToken:a,apiUrl:n}=ee(),r=ve();l.useEffect(()=>{r(Se("Sales Dashboard"))},[]);const[i,o]=l.useState([]),[m,u]=l.useState(!0),[c,p]=l.useState("graph");function f(){const x=new Date,L=new Date(x.getFullYear(),x.getMonth(),1),F=[L.getFullYear(),String(L.getMonth()+1).padStart(2,"0"),String(L.getDate()).padStart(2,"0")].join("-"),O=new Date,$=[O.getFullYear(),String(O.getMonth()+1).padStart(2,"0"),String(O.getDate()).padStart(2,"0")].join("-");return[F,$]}const[h,b]=l.useState(!0),[S,I]=l.useState({subTab:"all-sales",allSaleFilter:{manager:0,leader:0,isActiveUsers:"active",chart:"column",reload:!1,dateRange:f()},employeeSaleFilter:{manager:0,leader:0,isActiveUsers:"active",chart:"column",reload:!1,dateRange:f()},yearlyReportFilter:{selectedYear:su(),pageSize:10,page:1},monthlyReportFilter:{selectedYear:su(),selectedMonth:pk(),pageSize:10,page:1}}),[T,w]=l.useState([]),[_,A]=l.useState([]),[k,g]=l.useState(0),[E,N]=l.useState([]),[v,d]=l.useState([]),[y,M]=l.useState([]);l.useEffect(()=>{C()},[S]);const C=async()=>{var x;console.log("Fecheing Sales Dashboard Data ......"),b(!0);try{const L=await K({method:"get",url:n+"/api/home-data-sales-dashboard",params:{fetchingCard:m,tab:c,filter:JSON.stringify(S)},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});L.data.status=="success"&&(m&&o(L.data.data.cardData),c=="graph"&&(g(L.data.data.count),N(L.data.data.filterUsers),S.subTab=="all-sales"?w(L.data.data.allSales):S.subTab=="employee-sales"?A(L.data.data.employeeSales):S.subTab=="yearly-report"?d(L.data.data.yearlyReport):S.subTab=="monthly-report"&&M(L.data.data.monthlyReport)))}catch(L){((x=L==null?void 0:L.response)==null?void 0:x.status)==401&&t()}finally{m&&u(!1),b(!1)}};return e("div",{className:"p-0 flex-1 overflow-x-hidden h-full",children:s(J,{children:[e("div",{className:"flex flex-col h-full",children:m?e(rk,{}):e(sk,{saleData:i})}),e("div",{className:"",children:c=="graph"?e(hk,{filterUsers:E,count:k,allSales:T,employeeSales:_,yearlyReport:v,monthlyReport:y,setFilter:I,filter:S,isLoading:h}):null})]})})};function fk({reload:t,isLoading:a,setIsLoading:n}){const{logout:r,crmToken:i,apiUrl:o}=ee();function m(){const _=new Date,A=_.getFullYear(),k=String(_.getMonth()+1).padStart(2,"0"),g=String(_.getDate()).padStart(2,"0"),E=`${A}-${k}-${g}`;return[E,E]}const[u,c]=l.useState([]),[p,f]=l.useState(m()),[h,b]=l.useState("all"),S=async()=>{var _;console.log("Fetching... Calls"),n(!0);try{const A=await K({method:"get",url:o+"/api/home-data-custom-dashboard",params:{tab:"call",dateRange:JSON.stringify(p),filterEmployee:h},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});A.data.status=="success"&&c(A.data.calls)}catch(A){console.log(A),((_=A==null?void 0:A.response)==null?void 0:_.status)==401&&r()}finally{n(!1)}};l.useEffect(()=>{S()},[t,p,h]);const I=_e(_=>_.themeConfig.theme==="dark"||_.themeConfig.isDarkMode),T=_e(_=>_.themeConfig.rtlClass)==="rtl",w={series:[{name:"Total Calls",data:u==null?void 0:u.map(_=>_.total_calls)}],options:{chart:{height:300,type:"bar",zoom:{enabled:!1},toolbar:{show:!1}},colors:["#805dca","#e7515a"],dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},grid:{borderColor:I?"#191e3a":"#e0e6ed"},xaxis:{categories:u==null?void 0:u.map(_=>_.first_name),axisBorder:{color:I?"#191e3a":"#e0e6ed"}},yaxis:{opposite:!!T,labels:{offsetX:T?-10:0}},tooltip:{theme:I?"dark":"light",y:{formatter:function(_){return _}}}}};return s(J,{children:[s("div",{className:"mb-5 flex items-center justify-between",children:[e("h5",{className:"text-lg font-semibold dark:text-white",children:"Calls History"}),s("div",{className:"flex gap-4",children:[e("div",{children:s("select",{className:"form-select text-white-dark",onChange:_=>b(_.target.value),children:[e("option",{value:"all",children:"All"}),e("option",{value:1,children:"Active Employees"}),e("option",{value:0,children:"Blocked Employees"})]})}),e("div",{children:e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},value:p,className:"form-input w-[240px]",onChange:_=>{const A=_.map(k=>{const g=k.getFullYear(),E=String(k.getMonth()+1).padStart(2,"0"),N=String(k.getDate()).padStart(2,"0");return`${g}-${E}-${N}`});A.length===2&&f(A)}})})]})]}),e("div",{className:"mb-5",children:a?e(be,{}):e(et,{series:w.series,options:w.options,className:"rounded-lg bg-white dark:bg-black overflow-hidden",type:"bar",height:300})})]})}const gk=Me.memo(fk);function bk({reload:t,isLoading:a,setIsLoading:n}){const{logout:r,crmToken:i,apiUrl:o}=ee();function m(){const _=new Date,A=_.getFullYear(),k=String(_.getMonth()+1).padStart(2,"0"),g=String(_.getDate()).padStart(2,"0"),E=`${A}-${k}-${g}`;return[E,E]}const[u,c]=l.useState([]),[p,f]=l.useState(m()),[h,b]=l.useState("all"),S=async()=>{var _;console.log("Fetching... Calls"),n(!0);try{const A=await K({method:"get",url:o+"/api/home-data-custom-dashboard",params:{tab:"free",dateRange:JSON.stringify(p),filterEmployee:h},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});A.data.status=="success"&&c(A.data.freeTrials)}catch(A){console.log(A),((_=A==null?void 0:A.response)==null?void 0:_.status)==401&&r()}finally{n(!1)}};l.useEffect(()=>{S()},[t,p,h]);const I=_e(_=>_.themeConfig.theme==="dark"||_.themeConfig.isDarkMode),T=_e(_=>_.themeConfig.rtlClass)==="rtl",w={series:[{name:"Total Free Trials",data:u==null?void 0:u.map(_=>_.total_calls)}],options:{chart:{height:300,type:"bar",zoom:{enabled:!1},toolbar:{show:!1}},colors:["#fb7d01","#fb7d01"],dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},grid:{},xaxis:{categories:u==null?void 0:u.map(_=>_.first_name),axisBorder:{color:I?"#191e3a":"#e0e6ed"}},yaxis:{opposite:!!T,labels:{offsetX:T?-10:0}},tooltip:{theme:I?"dark":"light",y:{formatter:function(_){return _}}}}};return s(J,{children:[s("div",{className:"mb-5 flex items-center justify-between",children:[e("h5",{className:"text-lg font-semibold dark:text-white",children:"Free Trials"}),s("div",{className:"flex gap-4",children:[e("div",{children:s("select",{className:"form-select text-white-dark",onChange:_=>b(_.target.value),children:[e("option",{value:"all",children:"All"}),e("option",{value:1,children:"Active Employees"}),e("option",{value:0,children:"Blocked Employees"})]})}),e("div",{children:e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},value:p,className:"form-input w-[240px]",onChange:_=>{const A=_.map(k=>{const g=k.getFullYear(),E=String(k.getMonth()+1).padStart(2,"0"),N=String(k.getDate()).padStart(2,"0");return`${g}-${E}-${N}`});A.length===2&&f(A)}})})]})]}),e("div",{className:"mb-5",children:a?e(be,{}):e(et,{series:w.series,options:w.options,className:"rounded-lg bg-white dark:bg-black overflow-hidden",type:"bar",height:300})})]})}const vk=Me.memo(bk);function xk({reload:t,isLoading:a,setIsLoading:n}){const{logout:r,crmToken:i,apiUrl:o}=ee();function m(){const _=new Date,A=_.getFullYear(),k=String(_.getMonth()+1).padStart(2,"0"),g=String(_.getDate()).padStart(2,"0"),E=`${A}-${k}-${g}`;return[E,E]}const[u,c]=l.useState([]),[p,f]=l.useState(m()),[h,b]=l.useState("all"),S=async()=>{var _;console.log("Fetching... Calls"),n(!0);try{const A=await K({method:"get",url:o+"/api/home-data-custom-dashboard",params:{tab:"follow",dateRange:JSON.stringify(p),filterEmployee:h},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});A.data.status=="success"&&c(A.data.freeTrials)}catch(A){console.log(A),((_=A==null?void 0:A.response)==null?void 0:_.status)==401&&r()}finally{n(!1)}};l.useEffect(()=>{S()},[t,p,h]);const I=_e(_=>_.themeConfig.theme==="dark"||_.themeConfig.isDarkMode),T=_e(_=>_.themeConfig.rtlClass)==="rtl",w={series:[{name:"Total Free Trials",data:u==null?void 0:u.map(_=>_.total_calls)}],options:{chart:{height:300,type:"bar",zoom:{enabled:!1},toolbar:{show:!1}},colors:["#fc278c","#fb7d01"],dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",endingShape:"rounded"}},grid:{},xaxis:{categories:u==null?void 0:u.map(_=>_.first_name),axisBorder:{color:I?"#191e3a":"#e0e6ed"}},yaxis:{opposite:!!T,labels:{offsetX:T?-10:0}},tooltip:{theme:I?"dark":"light",y:{formatter:function(_){return _}}}}};return s(J,{children:[s("div",{className:"mb-5 flex items-center justify-between",children:[e("h5",{className:"text-lg font-semibold dark:text-white",children:"Follow Ups"}),s("div",{className:"flex gap-4",children:[e("div",{children:s("select",{className:"form-select text-white-dark",onChange:_=>b(_.target.value),children:[e("option",{value:"all",children:"All"}),e("option",{value:1,children:"Active Employees"}),e("option",{value:0,children:"Blocked Employees"})]})}),e("div",{children:e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},value:p,className:"form-input w-[240px]",onChange:_=>{const A=_.map(k=>{const g=k.getFullYear(),E=String(k.getMonth()+1).padStart(2,"0"),N=String(k.getDate()).padStart(2,"0");return`${g}-${E}-${N}`});A.length===2&&f(A)}})})]})]}),e("div",{className:"mb-5",children:a?e(be,{}):e(et,{series:w.series,options:w.options,className:"rounded-lg bg-white dark:bg-black overflow-hidden",type:"bar",height:300})})]})}const yk=Me.memo(xk),Kt={CALL:"call",FREE:"free",FOLLOW:"follow"},wk=()=>{const[t,a]=l.useState(Kt.CALL),[n,r]=l.useState(!1),[i,o]=l.useState(!0),m={call:e(gk,{reload:n,isLoading:i,setIsLoading:o}),free:e(vk,{reload:n,isLoading:i,setIsLoading:o}),follow:e(yk,{reload:n,isLoading:i,setIsLoading:o})};return e("div",{className:"p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel p-0 min-h-[500px]",children:[s("section",{className:"flex justify-between bg-primary/[12%] h-12 items-center px-4 rounded-t-md",children:[s("nav",{className:"flex gap-3",children:[e("button",{"aria-pressed":t===Kt.CALL,className:`btn btn-sm shadow dark:text-[#d0d2d6] ${t===Kt.CALL?"btn-dark":"btn-outline-dark"}`,onClick:()=>a(Kt.CALL),children:"Call History"}),e("button",{"aria-pressed":t===Kt.FREE,className:`btn btn-sm shadow dark:text-[#d0d2d6] ${t===Kt.FREE?"btn-dark":"btn-outline-dark"}`,onClick:()=>a(Kt.FREE),children:"Free Trials"}),e("button",{"aria-pressed":t===Kt.FOLLOW,className:`btn btn-sm shadow dark:text-[#d0d2d6] ${t===Kt.FOLLOW?"btn-dark":"btn-outline-dark"}`,onClick:()=>a(Kt.FOLLOW),children:"Follow Up"})]}),e("div",{className:"p-4",children:e("button",{onClick:()=>r(!n),disabled:i,className:"bg-white rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(i1,{size:16,className:i?"animate-spin":""})})})]}),e("div",{className:"p-4",children:m[t]||null})]})})})},Nk=({to:t,icon:a,title:n,subtitle:r,isActive:i})=>e(Q,{to:t,className:"w-full",children:e("div",{className:`py-2 px-4 mb-2 rounded ${i?"bg-dark text-white":"bg-primary-light"}`,children:s("div",{className:"flex justify-between",children:[s("div",{className:"flex items-center w-max flex-none",children:[e("div",{className:"bg-gray-300 dark:bg-gray-700 rounded-full p-2",children:a}),s("div",{className:"ltr:ml-2 rtl:mr-2",children:[e("div",{className:"font-semibold",children:n}),e("div",{className:"text-sx text-white-dark",children:r})]})]}),e("div",{className:"p-2",children:e(Ow,{className:"w-4.5 h-4.5"})})]})})});function gt(){const t=_e(r=>r.themeConfig.settingData),a=location.pathname,n=[{to:"/settings",icon:e(Es,{className:"w-4.5 h-4.5"}),title:"General",subtitle:"Settings"},{to:"/settings/permissions",icon:e(Es,{className:"w-4.5 h-4.5"}),title:"Permissions",subtitle:"Verifications"},{condition:(t==null?void 0:t.branch_no)>1,to:"/settings/branches",icon:e(Es,{className:"w-4.5 h-4.5"}),title:"Branches",subtitle:"Settings"},{to:"/settings/authentication-phones",icon:e(Es,{className:"w-4.5 h-4.5"}),title:"Authentication",subtitle:"Phones"},{condition:(t==null?void 0:t.company_type)==1,to:"/settings/invoice",icon:e(Ef,{className:"w-4.5 h-4.5"}),title:"Invoice",subtitle:"Settings"},{condition:(t==null?void 0:t.company_type)==1,to:"/settings/aws",icon:e(Pu,{className:"w-5 h-5"}),title:"AWS",subtitle:"Amazon Web Services"},{condition:(t==null?void 0:t.company_type)==1,to:"/settings/sebi",icon:e(fc,{className:"w-4.5 h-4.5"}),title:"SEBI",subtitle:"Registered Details"},{to:"/settings/employees",icon:e(fc,{className:"w-4.5 h-4.5"}),title:"Employee",subtitle:"Add, Edit, Delete"},{to:"/settings/dropdowns",icon:e(Tg,{className:"w-4.5 h-4.5"}),title:"Dropdown",subtitle:"Fields"},{to:"/settings/products",icon:e(Ts,{className:"w-4.5 h-4.5"}),title:"Products",subtitle:"Add, Edit, Delete"},{condition:(t==null?void 0:t.company_type)==1&&(t==null?void 0:t.whatsapp_enabled)==1,to:"/settings/whatsapp",icon:e(Pg,{className:"w-4.5 h-4.5"}),title:"WhatsApp",subtitle:"Template Integration"},{condition:(t==null?void 0:t.company_type)==1&&(t==null?void 0:t.sms_enabled)==1,to:"/settings/sms",icon:e(Tf,{className:"w-4.5 h-4.5"}),title:"SMS",subtitle:"Template Integration"},{condition:(t==null?void 0:t.email_enabled)==1,to:"/settings/emails",icon:e(xu,{className:"w-4.5 h-4.5"}),title:"Email",subtitle:"SMTP Integration"},{condition:(t==null?void 0:t.payment_permission)==1,to:"/settings/payments",icon:e(Af,{className:"w-4.5 h-4.5"}),title:"Payments",subtitle:"Bank Gateway"},{condition:(t==null?void 0:t.company_type)==1&&(t==null?void 0:t.kyc_enabled),to:"/settings/kyc",icon:e(Ts,{className:"w-4.5 h-4.5"}),title:"KYC",subtitle:"Settings"},{condition:(t==null?void 0:t.company_type)==1&&(t==null?void 0:t.aggrement_enabled),to:"/settings/agreements",icon:e(Ts,{className:"w-4.5 h-4.5"}),title:"Agreement",subtitle:"Settings"},{condition:(t==null?void 0:t.company_type)==1&&(t==null?void 0:t.riskprofile_enabled),to:"/settings/risk-profile",icon:e(Ts,{className:"w-4.5 h-4.5"}),title:"Risk Profile",subtitle:"Settings"},{to:"/settings/ip-traking",icon:e(Ag,{className:"w-4.5 h-4.5"}),title:"IP Tracking",subtitle:"Last Login's"}];return e("div",{className:"space-y-1",children:n.map(r=>r.condition!=!1||r.condition==!0?e(Nk,{to:r.to,icon:r.icon,title:r.title,subtitle:r.subtitle,isActive:a==r.to},r.to):null)})}const ru=[{key:"title",getter:t=>t.getTitle()},{key:"html",getter:t=>t.getHtmlContainer()},{key:"confirmButtonText",getter:t=>t.getConfirmButton()},{key:"denyButtonText",getter:t=>t.getDenyButton()},{key:"cancelButtonText",getter:t=>t.getCancelButton()},{key:"footer",getter:t=>t.getFooter()},{key:"closeButtonHtml",getter:t=>t.getCloseButton()},{key:"iconHtml",getter:t=>t.getIconContent()},{key:"loaderHtml",getter:t=>t.getLoader()}],vi=()=>{};function Rr(t){function a(i){const o={},m={},u=ru.map(c=>c.key);return Object.entries(i).forEach(c=>{let[p,f]=c;u.includes(p)&&Me.isValidElement(f)?(o[p]=f,m[p]=" "):m[p]=f}),[o,m]}function n(i,o){Object.entries(o).forEach(m=>{let[u,c]=m;const f=ru.find(b=>b.key===u).getter(t),h=Pf(f);h.render(c),i.__roots.push(h)})}function r(i){i.__roots.forEach(o=>{o.unmount()}),i.__roots=[]}return class extends t{static argsToParams(i){if(Me.isValidElement(i[0])||Me.isValidElement(i[1])){const o={};return["title","html","icon"].forEach((m,u)=>{i[u]!==void 0&&(o[m]=i[u])}),o}else return t.argsToParams(i)}_main(i,o){this.__roots=[],this.__params=Object.assign({},o,i);const[m,u]=a(this.__params),c=u.willOpen||vi,p=u.didOpen||vi,f=u.didDestroy||vi;return super._main(Object.assign({},u,{willOpen:h=>{n(this,m),c(h)},didOpen:h=>{setTimeout(()=>{p(h)})},didDestroy:h=>{f(h),r(this)}}))}update(i){Object.assign(this.__params,i),r(this);const[o,m]=a(this.__params);super.update(m),n(this,o)}}}const _k=Rr(re);function kk({settingData:t,showIpConfigDrawer:a,setShowIpConfigDrawer:n,whatsappConfiguration:r}){const i=ve();Re();const{crmToken:o,apiUrl:m}=ee();l.useEffect(()=>{i(o?Se("Ip Config"):at(""))},[o]);const u={username:"",password:"",token:"",get_message:"",send_message:"",send_otp:""},[c,p]=l.useState({});l.useEffect(()=>{I(r?{username:r.username,password:r.password,token:r.token,get_message:r.get_message,send_message:r.send_message,send_otp:r.send_otp}:u)},[r]);const[f,h]=l.useState(!1),b=(E="",N="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:N,title:E,padding:"10px 20px"})},[S,I]=l.useState({crm_ip:""}),[T,w]=l.useState([]),_=E=>{I({...S,[E.target.name]:E.target.value})},A=()=>{w([...T,S.crm_ip]),I({crm_ip:""})},k=async E=>{var v,d;if(T.length===0){alert("No data to submit");return}try{const y=await K({method:"post",url:m+"/api/setting-ipconfig-store",data:E,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});y.data.status==="success"?(b(y.data.message),n(!1)):alert("Error")}catch(y){if(((v=y==null?void 0:y.response)==null?void 0:v.status)===401)i(at(""));else if(((d=y==null?void 0:y.response)==null?void 0:d.status)===422){const M=y.response.data.errors;let C={};for(var N in M)C={...C,[N]:M[N][0]},p(C),console.log(M[N][0]);_k.fire({title:"Server Validation Error! Please solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{h(!1)}},g=()=>{const E=new FormData;E.append("crm_ip",T||""),E.append("id",t==null?void 0:t.id),k(E)};return s("div",{children:[e("div",{className:`${a&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>n(!a)}),e("nav",{className:`${a&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4`,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:" border-b border-grey p-2 flex justify-between",children:[e("button",{className:"mb-1 dark:text-white font-bold",children:"IP Configurations"}),e("button",{onClick:()=>n(!1),children:e(It,{className:" w-5 h-5"})})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:s("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:[s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark",children:"Ip Config Name"}),s("div",{className:" flex gap-2",children:[e("input",{type:"text",placeholder:"",className:"form-input",name:"crm_ip",onChange:E=>_(E),value:S.crm_ip}),e("button",{type:"button",onClick:A,className:" btn btn-sm btn-primary",children:"Add"})]}),e("div",{className:"text-danger font-semibold text-sm",children:c.crm_ip})]}),e("ul",{children:T.map((E,N)=>e("li",{children:E},N))}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>n(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>g(),disabled:f,className:"btn  btn-dark shadow bg-black",children:f?"Please Wait...":"Submit"})]})]})})]})})]})}function eo(){return e(J,{children:e("div",{children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("div",{className:"text-end my-2",children:e(ce,{duration:1,inline:!0,width:137,height:28,className:"me-4 "})}),e("div",{className:" flex gap-3",children:e(ce,{duration:1,inline:!0,width:101,height:38,count:3,className:"me-4 "})})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:80,className:"me-4 "})]})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"pb-2",children:e(ce,{duration:1,inline:!0,width:137,height:25,className:"me-4 "})}),s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e("div",{children:e(ce,{duration:1,inline:!0,width:150,height:50,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:150,height:50,className:"me-4 "})})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"pb-4",children:e(ce,{duration:1,inline:!0,width:137,height:25,className:"me-4 "})}),s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})})]})]}),s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})})]})]}),s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"pb-4",children:e(ce,{duration:1,inline:!0,width:137,height:25,className:"me-4 "})}),s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "})})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,width:70,height:39,className:"me-4 "})})]})]})]})})})})}function Ck({icon:t,title:a,message:n,buttonLabel:r,action:i,link:o,onButtonClick:m}){return s("div",{className:"w-full  p-4 bg-[#fbe5e6] rounded-lg shadow-md mb-2",children:[s("div",{className:"flex items-center space-x-4",children:[e("div",{className:"text-blue-500 text-3xl",children:t||e("span",{children:"ℹ️"})}),s("div",{children:[e("h2",{className:"text-xl font-semibold text-gray-800",children:a}),e("p",{className:"mt-1 text-sm font-semibold text-gray-600",children:n})]})]}),e("div",{className:"mt-4 text-right",children:i=="navigation"?e("button",{className:"btn btn-dark shadow",children:s(dl,{to:o,children:[" ",r]})}):null})]})}function Sk({data:t}){return e(Ck,{title:t.title,message:t.message,buttonLabel:t.linkLabel,action:t.action,link:t.link})}const Ek={RiskProfile:Sk};function Tk({warnings:t}){return console.log("warnings",t),e("div",{className:"mb-5",children:t.map((a,n)=>{const r=Ek[a.area];return e(Me.Fragment,{children:r?e(r,{data:a}):null},n)})})}const Wp=()=>{var D,V;const{logout:t,crmToken:a,settingData:n,apiUrl:r,authUser:i}=ee(),o=ve();l.useEffect(()=>{o(Se("Settings")),I()},[a]);const[m,u]=l.useState(!0),[c,p]=l.useState(null),[f,h]=l.useState([]),[b,S]=l.useState([]),I=async()=>{var j;console.log("Fetching General Setting Data"),u(!0),p(null);try{const U=await K({method:"get",url:r+"/api/settings",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});U.data.status=="success"&&(o(Zn(U.data.data.settings)),h(U.data.data),S(U.data.data.warnings))}catch(U){console.log(U),p(U),((j=U==null?void 0:U.response)==null?void 0:j.status)==401&&t()}finally{u(!1)}},T=l.useRef(null),w=l.useRef(null),[_,A]=l.useState("/assets/images/logo.png"),[k,g]=l.useState("/assets/images/icon.png"),[E]=l.useState({id:"",admin_email:"",account_email:"",compliance_email:"",crm_name:"",crm_title:"",crm_link:"",crm_news:"",crm_website_details:"",crm_phones:[],broadcast_permission:[],logo:"",favicon:"",auto_expiry_enabled:0,whatsapp_enabled:0,sms_enabled:0,app_enabled:0,kyc_enabled:0,riskprofile_enabled:0,aggrement_enabled:0,lead_automation_enabled:0,invoice_enabled:0,gst_enabled:0,gst_value:0,has_manager_verification:0,has_complaince_verification:0,has_accounts_verification:0,payment_permission:0,transfer_permission:0,refer_permission:0,website_permission:0,marketing_permission:0,security_numbers:""}),[N,v]=l.useState(E),[d,y]=l.useState({});l.useEffect(()=>{if(f.settings&&Object.values(f.settings).length){const j=f.settings;v({id:1,admin_email:j.admin_email?j.admin_email:"",account_email:j.account_email?j.account_email:"",compliance_email:j.compliance_email?j.compliance_email:"",crm_name:j.crm_name?j.crm_name:"",crm_title:j.crm_title?j.crm_title:"",crm_link:j.crm_link?j.crm_link:"",crm_news:j.crm_news?j.crm_news:"",crm_website_details:j.crm_website_details?j.crm_website_details:"",crm_phones:j.crm_phones?JSON.parse(j.crm_phones):[],broadcast_permission:j.broadcast_permission?JSON.parse(j.broadcast_permission):[],logo:"",favicon:"",auto_expiry_enabled:j.auto_expiry_enabled,whatsapp_enabled:j.whatsapp_enabled,sms_enabled:j.sms_enabled,app_enabled:j.app_enabled,email_enabled:j.email_enabled,kyc_enabled:j.kyc_enabled,riskprofile_enabled:j.riskprofile_enabled,aggrement_enabled:j.aggrement_enabled,lead_automation_enabled:j.lead_automation_enabled,invoice_enabled:j.invoice_enabled,has_manager_verification:j.has_manager_verification,has_complaince_verification:j.has_complaince_verification,has_accounts_verification:j.has_accounts_verification,payment_permission:j.payment_permission,transfer_permission:j.transfer_permission,refer_permission:j.refer_permission,website_permission:j.website_permission,marketing_permission:j.marketing_permission,security_numbers:j.security_numbers?j.security_numbers:"",gst_enabled:j.gst_enabled,gst_value:j.gst_value?j.gst_value:0}),j.logo&&A(r+"/storage/"+j.logo),j.favicon&&g(r+"/storage/"+j.favicon)}},[f]);const M=j=>{const{value:U,name:Z,type:Y,checked:X}=j.target;y({...d,[Z]:""}),Y=="checkbox"?v({...N,[Z]:X?1:0}):v({...N,[Z]:U}),console.log(N)},C=j=>{const{name:U}=j.target;if(y({...d,[U]:""}),j.target.files[0]){if(j.target.files[0].type&&j.target.files[0].type.indexOf("image")===-1){y({...d,[U]:"file is not a valid image"});return}const Z=2*1024*1024;if(j.target.files[0].size>Z){y({...d,[U]:"maximum file size is 2 mb"});return}const Y=new FileReader;Y.onload=function(X){U=="favicon"?g(Y.result):A(Y.result),v({...N,[U]:j.target.files[0]})},Y.readAsDataURL(j.target.files[0])}},x=j=>j&&j.length?j.map(U=>({value:U,label:U})):[],L=j=>j&&j.length?j.map(U=>({value:U,label:U})):[],F=()=>{y({});let j={};return N.crm_name||(j={...j,crm_name:" CRM Name is required"}),console.log(j),y(j),{totalErrors:Object.keys(j).length}},O=async j=>{var Z;B(!0);try{const Y=await K({method:"post",url:r+"/api/settings",data:j,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});Y.data.status=="success"?(console.log(Y.data.settings),o(Zn(Y.data.settings)),P(Y.data.message)):alert("Failed")}catch(Y){if(console.log(Y),((Z=Y==null?void 0:Y.response)==null?void 0:Z.status)===422){const X=Y.response.data.errors;let ae={};for(var U in X)ae={...ae,[U]:X[U][0]},console.log(X[U][0]);y(ae),re.fire({title:"Server Validation Error! Please solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{B(!1)}},[$,B]=l.useState(!1),R=()=>{if(F().totalErrors)return!1;const U=new FormData;U.append("admin_email",N.admin_email),U.append("account_email",N.account_email),U.append("compliance_email",N.compliance_email),U.append("crm_name",N.crm_name),U.append("crm_title",N.crm_title),U.append("crm_link",N.crm_link),U.append("crm_news",N.crm_news),U.append("crm_website_details",N.crm_website_details),U.append("crm_phones",N.crm_phones.length?JSON.stringify(N.crm_phones):JSON.stringify([])),U.append("broadcast_permission",N.broadcast_permission.length?JSON.stringify(N.broadcast_permission):JSON.stringify([])),U.append("logo",N.logo),U.append("favicon",N.favicon),U.append("auto_expiry_enabled",N.auto_expiry_enabled),U.append("whatsapp_enabled",N.whatsapp_enabled),U.append("sms_enabled",N.sms_enabled),U.append("app_enabled",N.app_enabled),U.append("kyc_enabled",N.kyc_enabled),U.append("riskprofile_enabled",N.riskprofile_enabled),U.append("email_enabled",N.email_enabled),U.append("aggrement_enabled",N.aggrement_enabled),U.append("lead_automation_enabled",N.lead_automation_enabled),U.append("set_companytype",N.set_companytype),U.append("invoice_enabled",N.invoice_enabled),U.append("has_manager_verification",N.has_manager_verification),U.append("has_complaince_verification",N.has_complaince_verification),U.append("has_accounts_verification",N.has_accounts_verification),U.append("payment_permission",N.payment_permission),U.append("transfer_permission",N.transfer_permission),U.append("refer_permission",N.refer_permission),U.append("website_permission",N.website_permission),U.append("marketing_permission",N.marketing_permission),U.append("security_numbers",N.security_numbers),O(U)},P=(j="",U="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:U,title:j,padding:"10px 20px"})},[z,H]=l.useState(!1);l.useState(!1);const[W,q]=l.useState(!1);return l.useState(i==null?void 0:i.user_type),e(J,{children:s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),s("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:[m?e(J,{children:e(eo,{})}):c?e(Ak,{error:c,fetchSettings:I}):e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"General Settings"}),s("div",{className:" flex gap-3",children:[e("button",{type:"button",onClick:()=>{H(!0)},className:"btn btn-info shadow",disabled:$,children:"IP Config"}),e("button",{type:"button",onClick:()=>{R()},className:"btn btn-primary shadow",disabled:$,children:$?"Please Wait...":N.id?"Update":"Add"}),e("button",{onClick:()=>{I()},className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),b.length?e(Tk,{warnings:b}):null,s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s("div",{children:[s("label",{children:["Admin Email ",b.title]}),e("input",{type:"text",placeholder:"Enter Admin Email",className:"form-input",name:"admin_email",value:N.admin_email,onChange:j=>M(j)}),d!=null&&d.admin_email?e("div",{className:"text-danger mt-1",children:d.admin_email}):""]}),s("div",{children:[e("label",{children:"Account Email"}),e("input",{type:"text",placeholder:"Enter Account Email",className:"form-input",name:"account_email",value:N.account_email,onChange:j=>M(j)}),d!=null&&d.account_email?e("div",{className:"text-danger mt-1",children:d.account_email}):""]}),s("div",{children:[e("label",{children:"Compliance Email"}),e("input",{type:"text",placeholder:"Enter Compliance Email",className:"form-input",name:"compliance_email",value:N.compliance_email,onChange:j=>M(j)}),d!=null&&d.compliance_email?e("div",{className:"text-danger mt-1",children:d.compliance_email}):""]})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s("div",{children:[s("label",{children:["CRM Name ",e("span",{className:" text-red-600 text-md",children:"*"})," "]}),e("input",{type:"text",placeholder:"Enter CRM Name",className:"form-input",name:"crm_name",value:N.crm_name,onChange:j=>M(j)}),d!=null&&d.crm_name?e("div",{className:"text-danger mt-1",children:d.crm_name}):""]}),s("div",{children:[e("label",{children:"CRM Title"}),e("input",{type:"text",placeholder:"Enter CRM Title",className:"form-input",name:"crm_title",value:N.crm_title,onChange:j=>M(j)}),d!=null&&d.crm_title?e("div",{className:"text-danger mt-1",children:d.crm_title}):""]}),s("div",{children:[e("label",{children:"Crm Link"}),e("input",{type:"text",placeholder:"Enter CRM IP Address",className:"form-input",name:"crm_link",value:N.crm_link,onChange:j=>M(j)}),d!=null&&d.crm_link?e("div",{className:"text-danger mt-1",children:d.crm_link}):""]})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[s("div",{children:[e("label",{children:"CRM News"}),e("textarea",{name:"crm_news",onChange:j=>M(j),value:N.crm_news,className:"form-textarea"}),d!=null&&d.crm_news?e("div",{className:"text-danger mt-1",children:d.crm_news}):""]}),s("div",{children:[e("label",{children:"CRM Website Details"}),e("textarea",{name:"crm_website_details",onChange:j=>M(j),value:N.crm_website_details,className:"form-textarea"}),d!=null&&d.crm_website_details?e("div",{className:"text-danger mt-1",children:d.crm_website_details}):""]})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[s("div",{children:[e("label",{children:"Hide Phone"}),e(rt,{name:"crm_phones",onChange:j=>M({target:{name:"crm_phones",value:j.map(U=>U.value)}}),value:x(N.crm_phones),options:(D=f==null?void 0:f.phone_hide_users)==null?void 0:D.map(j=>({label:j,value:j})),placeholder:"Select User Type",isMulti:!0,className:" text-white-dark",isSearchable:!1}),e("div",{className:"text-danger mt-1",children:d.crm_phones})]}),s("div",{children:[e("label",{children:"Broadcast Permission"}),e(rt,{name:"broadcast_permission",onChange:j=>M({target:{name:"broadcast_permission",value:j.map(U=>U.value)}}),value:L(N.broadcast_permission),options:(V=f==null?void 0:f.broadcast_users_permission)==null?void 0:V.map(j=>({label:j,value:j})),placeholder:"Select User Type",isMulti:!0,className:" text-white-dark",isSearchable:!1}),e("div",{className:"text-danger mt-1",children:d.broadcast_permission})]})]}),e("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:s("div",{children:[e("label",{children:"Security Numbers"}),e("input",{type:"text",placeholder:"Enter security numbers separated by comma",className:"form-input",name:"security_numbers",value:N.security_numbers,onChange:j=>M(j)}),e("div",{className:"text-danger mt-1",children:d.security_numbers})]})}),e("hr",{}),s("div",{className:"p-2",children:[e("h1",{className:"text-lg font-bold py-2 pb-5",children:"Logo / Icon"}),s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[s("div",{className:"mb-5",children:[e("label",{children:"Logo"}),e("input",{ref:T,name:"logo",type:"file",onChange:j=>C(j),className:"form-input hidden",accept:"image/*"}),e("span",{className:"w-full h-20 relative",children:e("img",{className:"w-[200px] overflow-hidden object-cover rounded",id:"logo",onClick:()=>{T.current.click()},src:_,alt:"logo"})}),d!=null&&d.logo?e("div",{className:"text-danger mt-1",children:d.logo}):""]}),s("div",{className:"mb-5",children:[e("label",{children:"Fav Icon"}),e("input",{ref:w,name:"favicon",type:"file",onChange:j=>C(j),className:"form-input hidden",accept:"image/*"}),e("span",{className:" relative",children:e("img",{className:"w-[75px] h-[75px] overflow-hidden object-cover rounded",id:"favicon",onClick:()=>{w.current.click()},src:k,alt:"favicon"})}),d!=null&&d.favicon?e("div",{className:"text-danger mt-1",children:d.favicon}):""]}),s("div",{children:[e("label",{children:"Enable Auto Expiry"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"auto_expiry_enabled",value:N.auto_expiry_enabled,onChange:j=>{M(j)},checked:N.auto_expiry_enabled==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer"}),e("span",{className:`
                                                     outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]})]})]})]})]})}),e(kk,{settingData:n,setShowIpConfigDrawer:H,showIpConfigDrawer:z}),e(Ql,{setUploadKYCRAViewDrawer:q,showUploadKYCRAViewDrawer:W})]})]})})},Ak=({error:t,fetchSettings:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})},va=({className:t,fill:a=!1,duotone:n=!0})=>e(J,{children:a?s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("g",{opacity:n?"0.5":"1",children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 22H10C6.22876 22 4.34315 22 3.17157 20.8284C2 19.6569 2 17.7712 2 14V10C2 6.22876 2 4.34315 3.17157 3.17157C4.34315 2 6.23869 2 10.0298 2C10.6358 2 11.1214 2 11.53 2.01666C11.5166 2.09659 11.5095 2.17813 11.5092 2.26057L11.5 5.09497C11.4999 6.19207 11.4998 7.16164 11.6049 7.94316C11.7188 8.79028 11.9803 9.63726 12.6716 10.3285C13.3628 11.0198 14.2098 11.2813 15.0569 11.3952C15.8385 11.5003 16.808 11.5002 17.9051 11.5001L18 11.5001H21.9574C22 12.0344 22 12.6901 22 13.5629V14C22 17.7712 22 19.6569 20.8284 20.8284C19.6569 22 17.7712 22 14 22Z",fill:"currentColor"})}),e("path",{d:"M11.5092 2.2601L11.5 5.0945C11.4999 6.1916 11.4998 7.16117 11.6049 7.94269C11.7188 8.78981 11.9803 9.6368 12.6716 10.3281C13.3629 11.0193 14.2098 11.2808 15.057 11.3947C15.8385 11.4998 16.808 11.4997 17.9051 11.4996L21.9574 11.4996C21.9698 11.6552 21.9786 11.821 21.9848 11.9995H22C22 11.732 22 11.5983 21.9901 11.4408C21.9335 10.5463 21.5617 9.52125 21.0315 8.79853C20.9382 8.6713 20.8743 8.59493 20.7467 8.44218C19.9542 7.49359 18.911 6.31193 18 5.49953C17.1892 4.77645 16.0787 3.98536 15.1101 3.3385C14.2781 2.78275 13.862 2.50487 13.2915 2.29834C13.1403 2.24359 12.9408 2.18311 12.7846 2.14466C12.4006 2.05013 12.0268 2.01725 11.5 2.00586L11.5092 2.2601Z",fill:"currentColor"})]}):s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M15.3929 4.05365L14.8912 4.61112L15.3929 4.05365ZM19.3517 7.61654L18.85 8.17402L19.3517 7.61654ZM21.654 10.1541L20.9689 10.4592V10.4592L21.654 10.1541ZM3.17157 20.8284L3.7019 20.2981H3.7019L3.17157 20.8284ZM20.8284 20.8284L20.2981 20.2981L20.2981 20.2981L20.8284 20.8284ZM14 21.25H10V22.75H14V21.25ZM2.75 14V10H1.25V14H2.75ZM21.25 13.5629V14H22.75V13.5629H21.25ZM14.8912 4.61112L18.85 8.17402L19.8534 7.05907L15.8947 3.49618L14.8912 4.61112ZM22.75 13.5629C22.75 11.8745 22.7651 10.8055 22.3391 9.84897L20.9689 10.4592C21.2349 11.0565 21.25 11.742 21.25 13.5629H22.75ZM18.85 8.17402C20.2034 9.3921 20.7029 9.86199 20.9689 10.4592L22.3391 9.84897C21.9131 8.89241 21.1084 8.18853 19.8534 7.05907L18.85 8.17402ZM10.0298 2.75C11.6116 2.75 12.2085 2.76158 12.7405 2.96573L13.2779 1.5653C12.4261 1.23842 11.498 1.25 10.0298 1.25V2.75ZM15.8947 3.49618C14.8087 2.51878 14.1297 1.89214 13.2779 1.5653L12.7405 2.96573C13.2727 3.16993 13.7215 3.55836 14.8912 4.61112L15.8947 3.49618ZM10 21.25C8.09318 21.25 6.73851 21.2484 5.71085 21.1102C4.70476 20.975 4.12511 20.7213 3.7019 20.2981L2.64124 21.3588C3.38961 22.1071 4.33855 22.4392 5.51098 22.5969C6.66182 22.7516 8.13558 22.75 10 22.75V21.25ZM1.25 14C1.25 15.8644 1.24841 17.3382 1.40313 18.489C1.56076 19.6614 1.89288 20.6104 2.64124 21.3588L3.7019 20.2981C3.27869 19.8749 3.02502 19.2952 2.88976 18.2892C2.75159 17.2615 2.75 15.9068 2.75 14H1.25ZM14 22.75C15.8644 22.75 17.3382 22.7516 18.489 22.5969C19.6614 22.4392 20.6104 22.1071 21.3588 21.3588L20.2981 20.2981C19.8749 20.7213 19.2952 20.975 18.2892 21.1102C17.2615 21.2484 15.9068 21.25 14 21.25V22.75ZM21.25 14C21.25 15.9068 21.2484 17.2615 21.1102 18.2892C20.975 19.2952 20.7213 19.8749 20.2981 20.2981L21.3588 21.3588C22.1071 20.6104 22.4392 19.6614 22.5969 18.489C22.7516 17.3382 22.75 15.8644 22.75 14H21.25ZM2.75 10C2.75 8.09318 2.75159 6.73851 2.88976 5.71085C3.02502 4.70476 3.27869 4.12511 3.7019 3.7019L2.64124 2.64124C1.89288 3.38961 1.56076 4.33855 1.40313 5.51098C1.24841 6.66182 1.25 8.13558 1.25 10H2.75ZM10.0298 1.25C8.15538 1.25 6.67442 1.24842 5.51887 1.40307C4.34232 1.56054 3.39019 1.8923 2.64124 2.64124L3.7019 3.7019C4.12453 3.27928 4.70596 3.02525 5.71785 2.88982C6.75075 2.75158 8.11311 2.75 10.0298 2.75V1.25Z",fill:"currentColor"}),e("path",{opacity:n?"0.5":"1",d:"M13 2.5V5C13 7.35702 13 8.53553 13.7322 9.26777C14.4645 10 15.643 10 18 10H22",stroke:"currentColor",strokeWidth:"1.5"})]})}),Ia=({className:t,fill:a=!1,duotone:n=!0})=>s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M6 17.9827C4.44655 17.9359 3.51998 17.7626 2.87868 17.1213C2 16.2426 2 14.8284 2 12C2 9.17157 2 7.75736 2.87868 6.87868C3.75736 6 5.17157 6 8 6H16C18.8284 6 20.2426 6 21.1213 6.87868C22 7.75736 22 9.17157 22 12C22 14.8284 22 16.2426 21.1213 17.1213C20.48 17.7626 19.5535 17.9359 18 17.9827",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{opacity:n?"0.5":"1",d:"M9 10H6",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M19 14L5 14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M18 14V16C18 18.8284 18 20.2426 17.1213 21.1213C16.2426 22 14.8284 22 12 22C9.17157 22 7.75736 22 6.87868 21.1213C6 20.2426 6 18.8284 6 16V14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M17.9827 6C17.9359 4.44655 17.7626 3.51998 17.1213 2.87868C16.2427 2 14.8284 2 12 2C9.17158 2 7.75737 2 6.87869 2.87868C6.23739 3.51998 6.06414 4.44655 6.01733 6",stroke:"currentColor",strokeWidth:"1.5"}),e("circle",{opacity:n?"0.5":"1",cx:"17",cy:"10",r:"1",fill:"currentColor"}),e("path",{opacity:n?"0.5":"1",d:"M15 16.5H9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M13 19H9",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]});function to({tab:t,setTab:a,editData:n,fetchEmployee:r}){var O,$,B,R,P;_e(z=>z.themeConfig.employeeData);const{logout:i,crmToken:o,settingData:m,apiUrl:u,authUser:c}=ee(),p=ve();l.useEffect(()=>{p(Se("Add Employee")),I()},[t]);const[f,h]=l.useState({languages:[],userTypes:[],managersAndLeaders:[]}),[b,S]=l.useState(!0),I=async()=>{var z;S(!0);try{const H=await K({method:"get",url:u+"/api/users/create",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});H.data.status=="success"?h(H.data.data):alert("error")}catch(H){console.log(H),((z=H==null?void 0:H.response)==null?void 0:z.status)==401&&i()}finally{S(!1)}},T={id:"",employee_id:"",first_name:"",last_name:"",email:"",password:"",phone_number:"",user_type:"",manager_id:"",team_leader_id:"",langauge_known:[],branch_id:"",status:""},[w,_]=l.useState(T),[A,k]=l.useState({});l.useEffect(()=>{n&&Object.values(n).length&&_({id:n.id,employee_id:n.employee_id,first_name:n.first_name,last_name:n.last_name?n.last_name:"",email:n.email?n.email.replace(new RegExp("@"+(m==null?void 0:m.crm_link),"g"),""):"",password:n.password,phone_number:n.phone_number?n.phone_number:"",user_type:n.user_type,manager_id:n.manager_id,team_leader_id:n.team_leader_id,langauge_known:JSON.parse(n.langauge_known),branch_id:n.branch_id,status:n.status})},[n]);const g=z=>{const{value:H,name:W}=z.target;k({...A,[W]:""}),_({...w,[W]:H})},E=z=>z.map(H=>({value:H,label:H})),[N,v]=l.useState(!1),d=()=>{v(!N)},[y,M]=l.useState(!1),C=()=>{k({});let z={};return w.employee_id||(z={...z,employee_id:"Employee Id is required"}),(w==null?void 0:w.user_type)==="BDE"&&(w.manager_id||(z.manager_id="Please Select Manager"),w.team_leader_id||(z.team_leader_id="Please Select Team Leader")),(w==null?void 0:w.user_type)==="Team Leader"&&(w.manager_id||(z.manager_id="Please Select Manager")),k(z),{totalErrors:Object.keys(z).length}},x=async z=>{var W,q;M(!0);try{const D=await K({method:"post",url:u+"/api/users",data:z,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});D.data.status=="success"?(F(D.data.message),a("employees"),r(),_(T)):alert("Failed")}catch(D){if(console.log(D),((W=D==null?void 0:D.response)==null?void 0:W.status)==401&&i(),((q=D==null?void 0:D.response)==null?void 0:q.status)===422){const V=D.response.data.errors;let j={};for(var H in V)j={...j,[H]:V[H][0]},console.log(V[H][0]);k(j),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{M(!1)}},L=()=>{if(C().totalErrors)return!1;const H=new FormData;H.append("id",w.id?w.id:""),H.append("employee_id",w.employee_id),H.append("first_name",w.first_name),H.append("last_name",w.last_name),H.append("email",w.email?w.email+"@"+(m==null?void 0:m.crm_link):""),H.append("phone_number",w.phone_number),H.append("password",w.id?n.show_password:w.show_password),H.append("user_type",w.user_type),H.append("status",w.status),H.append("langauge_known",w.langauge_known.length?JSON.stringify(w.langauge_known):JSON.stringify([])),H.append("branch_id",w.branch_id),(w.user_type=="Team Leader"||w.user_type=="BDE")&&H.append("manager_id",w.manager_id?w.manager_id:""),w.user_type=="BDE"&&H.append("team_leader_id",w.team_leader_id?w.team_leader_id:""),x(H)},F=(z="",H="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:H,title:z,padding:"10px 20px"})};return e(J,{children:e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:b?e(be,{}):s("div",{className:"panel h-[calc(100vh-200px)]",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Employee Details"}),e("button",{type:"button",onClick:()=>a("employees"),className:"btn btn-outline-primary",children:"Back"})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),s("form",{className:"space-y-5 mb-5",autoComplete:"off",children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(c==null?void 0:c.user_type)=="Admin"&&s("div",{children:[s("label",{children:["Branch Name ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"branch_id",className:"form-select text-white-dark",onChange:z=>g(z),value:w.branch_id?w.branch_id:"",children:[e("option",{value:"",children:"Select Branch"}),(O=f==null?void 0:f.branches)==null?void 0:O.map(z=>e("option",{value:z.id,children:z.branch_name},z.id))]}),A!=null&&A.branch_id?e("div",{className:"text-danger mt-1",children:A.branch_id}):""]}),s("div",{children:[s("label",{children:["Employee ID ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Employee ID",className:"form-input",name:"employee_id",value:w.employee_id,onChange:z=>g(z)}),A!=null&&A.employee_id?e("div",{className:"text-danger mt-1",children:A.employee_id}):""]}),s("div",{children:[s("label",{children:["First Name ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter First Name",className:"form-input",name:"first_name",value:w.first_name,onChange:z=>g(z)}),A!=null&&A.first_name?e("div",{className:"text-danger mt-1",children:A.first_name}):""]}),s("div",{children:[e("label",{children:"Last Name"}),e("input",{type:"text",placeholder:"Enter Last Name",className:"form-input",name:"last_name",value:w.last_name,onChange:z=>g(z)}),A!=null&&A.last_name?e("div",{className:"text-danger mt-1",children:A.last_name}):""]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{className:"mb-5",children:[s("label",{children:["Login Email Address ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("div",{className:"flex",children:[e("input",{type:"text",placeholder:"Enter Email Address",name:"email",value:w.email,onChange:z=>g(z),className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),s("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:["@",m==null?void 0:m.crm_link]})]}),A!=null&&A.email?e("div",{className:"text-danger mt-1",children:A.email}):""]}),s("div",{children:[e("label",{children:"Phone Number"}),e("input",{type:"tel",placeholder:"Enter Phone Number",className:"form-input",name:"phone_number",maxLength:10,value:w.phone_number,onChange:z=>g(z)}),A!=null&&A.phone_number?e("div",{className:"text-danger mt-1",children:A.phone_number}):""]}),w.id?"":s("div",{className:"relative",children:[s("label",{children:["New Password ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("div",{className:"relative",children:[e("input",{type:N?"text":"password",placeholder:"Enter Password",className:"form-input pr-10",name:"show_password",value:w.show_password,onChange:z=>g(z)}),e("span",{onClick:d,className:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer",style:{top:"50%",transform:"translateY(-50%)"},children:N?e(is,{}):e(Bt,{})})]}),e("span",{className:"text-danger",children:A!=null&&A.show_password?A.show_password:""})]}),s("div",{children:[e("label",{children:"Speaking Language"}),e(rt,{name:"langauge_known",onChange:z=>g({target:{name:"langauge_known",value:z.map(H=>H.value)}}),value:E(w.langauge_known),options:($=f==null?void 0:f.languages)==null?void 0:$.map(z=>({label:z,value:z})),placeholder:"Select Languages",isMulti:!0,className:" text-white-dark",isSearchable:!1}),e("div",{className:"text-danger mt-1",children:A.langauge_known})]}),s("div",{children:[s("label",{children:["User Type ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"user_type",className:"form-select text-white-dark",onChange:z=>g(z),value:w.user_type?w.user_type:"",children:[e("option",{value:"",children:"Select Type"}),(B=f==null?void 0:f.userTypes)==null?void 0:B.map(z=>e("option",{value:z,children:z},z))]}),A!=null&&A.user_type?e("div",{className:"text-danger mt-1",children:A.user_type}):""]}),(w==null?void 0:w.user_type)=="Team Leader"||w.user_type=="BDE"?s("div",{children:[e("label",{children:"Manager"}),s("select",{name:"manager_id",className:"form-select text-white-dark",onChange:z=>g(z),value:w.manager_id?w.manager_id:"",children:[e("option",{value:"",children:"Select Manager"}),(R=f==null?void 0:f.managersAndLeaders)==null?void 0:R.filter(z=>z.user_type=="Manager").map(z=>s("option",{value:z.id,children:[z.first_name," ",z.last_name]},z.id))]}),A!=null&&A.manager_id?e("div",{className:"text-danger mt-1",children:A.manager_id}):""]}):null,(w==null?void 0:w.user_type)=="BDE"&&s("div",{children:[s("label",{children:["Team Lead ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"team_leader_id",className:"form-select text-white-dark",onChange:z=>g(z),value:w.team_leader_id?w.team_leader_id:"",disabled:!w.manager_id,children:[e("option",{value:"",children:"Select Team Lead"}),(P=f==null?void 0:f.managersAndLeaders)==null?void 0:P.filter(z=>z.manager_id==w.manager_id&&z.user_type=="Team Leader").map(z=>s("option",{value:z.id,children:[z.first_name," ",z.last_name]},z.id))]}),A!=null&&A.team_leader_id?e("div",{className:"text-danger mt-1",children:A.team_leader_id}):""]}),w.id?"":s("div",{children:[s("label",{children:["Status ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"status",className:"form-select text-white-dark",onChange:z=>g(z),value:w.status?w.status:"",children:[e("option",{children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),A!=null&&A.status?e("div",{className:"text-danger mt-1",children:A.status}):""]})]}),e("button",{type:"button",onClick:()=>L(),disabled:y,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:y?"Please Wait":w.id?"Update Employee":"Add Employee"})]})]})})})})}const Pk=({showDrawer:t,setShowDrawer:a,selectedData:n,fetchEmployee:r})=>{const i=n,o=ve();l.useEffect(()=>{o(Se("List Employee"))});const{settingData:m,crmToken:u,apiUrl:c}=ee(),[p,f]=l.useState("employeeDetails"),[h,b]=l.useState(!1),S=()=>{b(!h)};l.useEffect(()=>{p=="activity"&&f(p),p=="login"&&f(p)}),l.useEffect(()=>{t&&I()},[t]),l.useState([]);const I=async()=>{try{(await K({method:"get",url:c+"/api/users/create",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+u}})).data.status=="success"}catch(d){alert(d)}};l.useEffect(()=>{t&&v()},[t]);const[T,w]=l.useState(!1),[_,A]=l.useState([]),[k,g]=l.useState([]),[E,N]=l.useState([]),v=async()=>{w(!0);try{const d=await K({method:"get",url:c+"/api/get-employee-leads/"+i.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+u}});d.data.status=="success"&&(console.log("**** Fetching Leads Data based on Employee *****"),console.log(d),A(d.data.data),g(d.data.status_counts),N(d.data.lead_count))}catch(d){d.response.status==401&&o(at(""))}finally{w(!1)}};return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!t)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[600px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("div",{className:"panel flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar",children:s("div",{className:"mb-5",children:[s("div",{className:"mb-5 flex items-center justify-between",children:[s("div",{className:"flex items-center w-max",children:[e("div",{className:"flex-none",children:(i==null?void 0:i.first_name)&&e("div",{children:e("img",{className:"rounded-md w-10 h-10 object-cover",src:`https://ui-avatars.com/api/?background=0D8ABC&color=fff&name=${i==null?void 0:i.first_name}`,alt:"userProfile"})})}),s("div",{className:"ltr:ml-2 rtl:mr-2",children:[e("div",{className:"font-semibold",children:i==null?void 0:i.first_name}),e("div",{className:"text-sx text-white-dark",children:i==null?void 0:i.phone_number})]})]}),s("div",{className:"flex gap-4",children:[e("button",{className:`${p=="employeeDetails"&&"text-secondary !outline-none before:!w-full"} before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>f("employeeDetails"),children:"Employee "}),e("button",{className:`${p=="activity"&&"text-secondary !outline-none before:!w-full"} before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>f("activity"),children:" Logs "})]})]}),e("hr",{}),p=="employeeDetails"?e("div",{className:"space-y-5 mb-5 mt-5",children:s("div",{className:"grid grid-cols-2 sm:grid-cols-2 gap-4",children:[s("div",{children:[e("label",{children:"Branch Name"}),e("input",{type:"text",className:"form-input",defaultValue:i==null?void 0:i.branch_name,disabled:!0})]}),s("div",{children:[e("label",{children:"Employee ID"}),e("input",{type:"text",className:"form-input",defaultValue:i==null?void 0:i.employee_id,disabled:!0})]}),s("div",{children:[e("label",{children:"First Name"}),e("input",{type:"text",className:"form-input",defaultValue:i==null?void 0:i.first_name,disabled:!0})]}),s("div",{children:[e("label",{children:"Last Name"}),e("input",{type:"text",className:"form-input",defaultValue:i==null?void 0:i.last_name,disabled:!0})]}),s("div",{children:[e("label",{children:"Email Address"}),e("input",{type:"text",className:"form-input",defaultValue:i==null?void 0:i.email,disabled:!0})]}),s("div",{children:[e("label",{children:"Phone Number"}),e("input",{type:"text",className:"form-input",defaultValue:i==null?void 0:i.phone_number,disabled:!0})]}),s("div",{className:"relative",children:[e("label",{children:"CRM  password"}),e("input",{type:h?"text":"password",className:"form-input pr-10",name:"password",disabled:!0,defaultValue:i.show_password}),e("span",{onClick:S,className:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer pt-6",children:h?e(Ha,{}):e(Ni,{})})]}),s("div",{className:"relative",children:[e("label",{children:"CRM  Pin"}),e("input",{type:"text",placeholder:"Enter CRM Pin",className:"form-input pr-10",name:"password",disabled:!0,defaultValue:i.pin})]}),s("div",{children:[e("label",{children:"Speaking Language "}),e("input",{type:"text",placeholder:"No Language Selected",className:"form-input pr-10",disabled:!0,defaultValue:i.langauge_known})]}),s("div",{children:[e("label",{children:"User Type"}),e("input",{type:"text",placeholder:"No Language Selected",className:"form-input pr-10",disabled:!0,defaultValue:i==null?void 0:i.user_type})]}),(i==null?void 0:i.user_type)=="BDE"?s("div",{children:[e("label",{children:"Team Lead"}),e("input",{type:"text",className:"form-input pr-10",disabled:!0,defaultValue:i==null?void 0:i.leader})]}):null,(i==null?void 0:i.user_type)=="Team Leader"||i.user_type=="BDE"?s("div",{children:[e("label",{children:"Manager"}),e("input",{type:"text",className:"form-input pr-10",disabled:!0,defaultValue:i==null?void 0:i.manager})]}):null,s("div",{children:[e("label",{children:"Status"}),e("input",{type:"text",className:"form-input pr-10",disabled:!0,defaultValue:i.status==1?"Active":"Inactive"})]})]})}):p=="activity"?e(Ik,{user_id:n==null?void 0:n.id,showDrawer:t}):null]})})})})})})]})},Ik=({user_id:t,showDrawer:a})=>{const{settingData:n,crmToken:r,apiUrl:i}=ee(),[o,m]=l.useState(1),u=[10,25,50,100,250,500,1e3],[c,p]=l.useState(u[0]),[f,h]=l.useState(""),[b,S]=l.useState(""),[I,T]=l.useState({columnAccessor:"id",direction:"asc"}),[w,_]=l.useState([]),[A,k]=l.useState(!0);l.useEffect(()=>{d()},[o,c,f,b,w]),l.useEffect(()=>{a&&d()},[a,t,o,c,f,b,w]);const[g,E]=l.useState([]),[N,v]=l.useState(""),d=async()=>{k(!0);try{const M=await K({method:"get",url:i+"/api/employee-logs?page="+o+"&pageSize="+c,params:{id:t},headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});M.data.status=="success"&&(E(M.data.logs.data),v(M.data.logs))}catch(M){console.log(M)}finally{k(!1)}};function y(){const M=["#","Emp id","Ip Address","Device","browser","browser version","platform","is_robot","Date"];kn.downloadExcel({fileName:"employeeLogs",sheet:"react-export-table-to-excel",tablePayload:{header:M,body:g.map((C,x)=>({a:x+1,b:C.id,c:C.ip_address,d:C.device,e:C.browser,f:C.browser_version,g:C.platform,h:C.is_robot,i:C.created_at}))}})}return s("div",{className:"space-y-5 mb-5 mt-5",children:[s("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:y,children:[e(va,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"EXCEL"]}),e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:g,columns:[{accessor:"ID",sortable:!0,render:({id:M})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:M})})},{accessor:"Action",sortable:!0,render:({action:M})=>e("div",{className:"flex flex-col gap-2",children:M=="Log In"?e("span",{className:"badge badge-outline-success text-center",children:"Log In"}):e("span",{className:"badge badge-outline-danger text-center",children:"Log Out"})})},{accessor:"IP Address",sortable:!0,render:({ip_address:M})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:M})})},{accessor:"Browser",sortable:!0,render:({browser:M,browser_version:C})=>e("div",{className:"flex items-center gap-2",children:s("div",{className:"font-semibold",children:[M," ",e("br",{})," ",C]})})},{accessor:"device",sortable:!0,render:({device:M,device_type:C})=>e("div",{className:"flex items-center gap-2",children:s("div",{className:"font-semibold",children:[M," ",e("br",{}),C]})})},{accessor:"platform",sortable:!0,render:({platform:M})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:M})})},{accessor:"is_robot",sortable:!0,render:({is_robot:M})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:M?"Robot":"Human"})})},{accessor:"Date Time",sortable:!0,render:({created_at:M})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:M})})}],totalRecords:N==null?void 0:N.total,recordsPerPage:c,page:o,onPageChange:M=>m(M),recordsPerPageOptions:u,onRecordsPerPageChange:p,sortStatus:I,onSortStatusChange:T,minHeight:200,fetching:A,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:M,to:C,totalRecords:x})=>`Showing  ${N==null?void 0:N.form} to ${N.to} of ${x} entries`})})]})};function Lk({selectedData:t,fetchEmployee:a,model:n,setModel:r}){ve();const{crmToken:i,apiUrl:o}=ee(),[m]=l.useState({password:"",password_confirmation:"",pin:"",pin_confirmation:""}),[u,c]=l.useState(m),[p,f]=l.useState({}),h=()=>{f({});let g={};return f(g),{totalErrors:Object.keys(g).length}},b=g=>{const{value:E,name:N}=g.target;f({...p,[N]:""}),c({...u,[N]:E}),console.table(u)},[S,I]=l.useState(!1),T=async g=>{var N;I(!0);try{(await K({method:"post",url:o+"/api/update-password",data:g,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}})).data.status=="success"?(w("Updated Successfully"),c(m),r(!1),a()):alert("Failed")}catch(v){if(console.log(v),((N=v==null?void 0:v.response)==null?void 0:N.status)===422){const d=v.response.data.errors;let y={};for(var E in d)y={...y,[E]:d[E][0]},console.log(d[E][0]);f(y),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{I(!1)}},w=(g="",E="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:E,title:g,padding:"10px 20px"})},_=()=>{if(h().totalErrors)return!1;const E=new FormData;E.append("id",t.id),E.append("password",u.password),E.append("password_confirmation",u.password_confirmation),E.append("pin",u.pin),E.append("pin_confirmation",u.pin_confirmation),T(E)},[A,k]=l.useState(!0);return e("div",{children:e(ge,{appear:!0,show:n,as:l.Fragment,children:s(Ie,{as:"div",open:n,onClose:()=>{r(!1)},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"register_modal",className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 py-1 px-4 rounded-lg overflow-hidden w-full max-w-sm my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex items-center justify-between p-5 font-semibold text-lg dark:text-white",children:[e("h5",{onClick:()=>{k(!0)},className:" cursor-pointer btn btn-primary btn-sm",children:"Change Password"}),e("h5",{onClick:()=>{k(!1)},className:" cursor-pointer btn btn-primary btn-sm",children:"Change Pin"})]}),e("div",{className:"p-3",children:s("form",{autoComplete:"off",children:[A?s("div",{children:[s("div",{className:"relative mb-4",children:[e("input",{className:"form-input",type:"text",name:"password",onChange:g=>{b(g)},placeholder:"Enter New Password"}),e("div",{className:"text-danger mt-1",children:p.password})]}),s("div",{className:"relative mb-4",children:[e("input",{className:"form-input",type:"text",name:"password_confirmation",onChange:g=>{b(g)},placeholder:"Enter Confirm Password "}),e("div",{className:"text-danger mt-1",children:p.password_confirmation})]})]}):s("div",{children:[s("div",{className:"relative mb-4",children:[e("input",{className:"form-input",type:"text",name:"pin",onChange:g=>{b(g)},placeholder:"Enter New Pin"}),e("div",{className:"text-danger mt-1",children:p.pin})]}),s("div",{className:"relative mb-4",children:[e("input",{className:"form-input",type:"text",name:"pin_confirmation",onChange:g=>{b(g)},placeholder:"Enter Confirm Pin "}),e("div",{className:"text-danger mt-1",children:p.pin_confirmation})]})]}),e("button",{type:"button",onClick:()=>_(),disabled:S,className:"btn btn-primary w-full",children:S?"Please Wait":"Submit & Logout from all device"})]})})]})})})})]})})})}function Js(){var Y;const t=ve();l.useEffect(()=>{t(Se("List Employee"))});const{settingData:a,crmToken:n,apiUrl:r,authUser:i}=ee(),{max_employee_count:o}=a,{addToast:m}=ct(),[u,c]=l.useState(!0),[p,f]=l.useState(null),[h,b]=l.useState(!0),[S,I]=l.useState(0),[T,w]=l.useState(0),[_,A]=l.useState(""),[k,g]=l.useState(1),E=[10,25,50,100,250,500,1e3],[N,v]=l.useState(E[0]),[d,y]=l.useState([]),[M,C]=l.useState(!1),x=async()=>{c(!0),f(null);try{const X=await K({method:"get",url:r+"/api/users",params:{page:k,pageSize:N,search:_,filterStatus:S,filterUserType:T},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});X.data.status=="success"&&(console.log("**** Fetching Employee Data *****"),y(X.data.data))}catch(X){X.response.status==401&&t(at("")),f(X)}finally{c(!1),b(!1)}},[L,F]=l.useState(!0);l.useEffect(()=>{x()},[k,L]),l.useEffect(()=>{k!=1?g(1):h||F(!L)},[N,S,T]);const[O,$]=l.useState("employees"),[B,R]=l.useState([]),P=X=>{R(X||[]),$("add-employee")},[z,H]=l.useState(!1),[W,q]=l.useState([]),[D,V]=l.useState(!1),[j,U]=l.useState([]),Z=async X=>{try{const ae=await K({method:"get",url:r+"/api/users-handle-status",params:{id:X},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});ae.data.status=="success"?(m({variant:"success",title:ae.data.message}),x()):ae.data.status=="error"&&ae.data.action=="lead"&&(U(ae.data.data),C(!0))}catch{}finally{}};return s("div",{className:"flex gap-5 relative  h-full",children:[(i==null?void 0:i.user_type)=="HR"?null:e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),e(J,{children:O=="employees"?s("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:[e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Employee List"}),s("div",{className:" flex gap-2",children:[e("div",{className:"m-auto ",children:(d==null?void 0:d.activeEmployeecount)>=o?s("span",{className:"badge bg-[#fd0000] animate-pulse",children:["Employee limit [",e("b",{children:o}),"] reached Please Contact Admin."]}):s("div",{className:"flex justify-between items-center gap-2",children:[s("span",{className:"badge bg-[#075E54]",children:["Maximum Allowed Active Employees :  ",e("b",{children:o})]}),e("button",{type:"submit",className:"btn btn-primary btn-sm shadow",onClick:()=>{P(null)},children:"Add Employee"})]})}),e("button",{onClick:()=>x(),className:"bg-[#f4f4f4]  rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-4 h-4"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[s("div",{className:"flex items-center flex-wrap",children:[s("button",{type:"button",className:"btn btn-primary btn-sm m-1",children:[e(va,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"EXCEL"]}),s("button",{type:"button",className:"btn btn-primary btn-sm m-1",children:[e(Ia,{className:"ltr:mr-2 rtl:ml-2"}),"PRINT"]})]}),s("div",{className:"flex gap-4",children:[s("select",{className:"form-select w-[240px]",onChange:X=>I(X.target.value),children:[e("option",{value:"",children:"All"}),e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Inactive"})]}),s("select",{className:"form-select w-[240px]",onChange:X=>w(X.target.value),children:[e("option",{value:"",children:"All"}),(Y=d==null?void 0:d.userTypes)==null?void 0:Y.map(X=>e("option",{value:X,children:X}))]})]}),e("div",{className:" flex justify-between gap-2",children:s("div",{className:"flex",children:[e("input",{type:"text",value:_,onChange:X=>A(X.target.value),placeholder:"Search by Name",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>k==1?F(!L):g(1),children:e(ft,{})})]})})]}),e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:d==null?void 0:d.data,columns:[{accessor:"Emp. ID",sortable:!0,render:({employee_id:X,branch_name:ae})=>s("div",{className:"flex flex-col gap-2",children:[e("div",{className:"font-semibold",children:X}),e("h1",{children:ae||""})]})},{accessor:"Name",sortable:!0,render:({first_name:X,last_name:ae,langauge_known:he})=>e("div",{children:s("div",{className:"flex items-center gap-2",children:[e("img",{src:`https://ui-avatars.com/api/?name=${X}&background=random`,className:"w-9 h-9 rounded-full max-w-none",alt:"user-profile"}),e("div",{children:s("div",{className:"font-semibold",children:[X," ",ae]})})]})})},{accessor:"email",sortable:!0,render:({email:X,manager:ae,leader:he,manager_id:te,team_leader_id:G})=>s("div",{className:"",children:[e("div",{className:"font-semibold",children:X}),s("div",{className:" flex gap-2",children:[te&&e(lt,{content:ae,placement:"bottom",children:e("h1",{className:"badge badge-outline-info w-fit",children:"Manager"})}),G&&e(lt,{content:he,placement:"bottom",children:e("h1",{className:"badge badge-outline-info w-fit",children:"Team Leader"})})]})]})},{accessor:"Mobile Number",sortable:!0,render:({phone_number:X})=>{const ae=he=>{const te=he.replace(/\D/g,"");return(te==null?void 0:te.length)!==10?he:te.split("").map((G,fe)=>fe<=5?"x":G).join("")};return e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:a!=null&&a.crm_phone?ae(X):X})})}},{accessor:"Type",sortable:!0,render:({user_type:X})=>e("div",{className:"flex flex-col gap-2",children:e("span",{className:"badge badge-outline-primary w-fit",children:X})})},{accessor:"Status",sortable:!0,render:({status:X,id:ae,user_type:he})=>e("div",{className:"flex flex-col gap-2",children:he=="Admin"?s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",disabled:!0,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1",checked:X==1}),e("span",{className:`
                                                            outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]}):s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",onChange:()=>Z(ae),className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1",checked:X==1}),e("span",{className:`
                                                            outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})},{accessor:"Action",sortable:!0,render:X=>s("div",{className:"flex gap-2",children:[e(lt,{content:"Change Password",placement:"bottom",children:e("button",{type:"button",onClick:()=>{q(X),V(!0)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Ew,{})})}),e(lt,{content:"View",placement:"bottom",children:e("button",{type:"button",onClick:()=>{q(X),H(!0)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(b1,{})})}),(X==null?void 0:X.user_type)!=="Admin"&&e(lt,{content:"Edit",placement:"bottom",children:e("button",{className:"btn btn-dark w-10 h-10 p-0 rounded-full",onClick:()=>P(X),children:e(Nt,{})})})]})}],totalRecords:d.totalItems,recordsPerPage:N,page:k,onPageChange:X=>g(X),recordsPerPageOptions:E,onRecordsPerPageChange:v,sortStatus:{columnAccessor:"id",direction:"asc"},minHeight:500,fetching:u,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:X})=>`Showing  ${d==null?void 0:d.from} to ${d.to} of ${X} entries`})})]})}),e(ge,{appear:!0,show:M,as:l.Fragment,children:s(Ie,{as:"div",open:M,onClose:()=>C(!1),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{as:"div",className:"panel border-0 p-0 rounded-lg overflow-hidden my-8 w-full max-w-lg text-black dark:text-white-dark",children:[e("div",{className:"flex bg-[#fbe5e6] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:e("div",{className:"text-lg font-bold",children:"Warning"})}),s("div",{className:"p-5",children:[e("h1",{className:"font-bold text-[#e95f2b]",children:"This employee holds leads!"}),e("p",{className:"font-bold text-[#e95f2b]",children:"Please transfer those leads to an active employee and then attempt to block this employee."}),s("div",{className:"flex flex-wrap",children:[j!=null&&j.totalLeads?s("div",{className:"flex flex-col bg-danger/10 p-2.5 rounded w-fit m-2",children:[e("b",{children:j==null?void 0:j.totalLeads}),e("small",{className:"font-extrabold text-[#777]",children:"Total Leads"})]}):null,j!=null&&j.closedWonLeads?s("div",{className:"flex flex-col bg-danger/10 p-2.5 rounded w-fit m-2",children:[e("b",{children:j==null?void 0:j.closedWonLeads}),e("small",{className:"font-extrabold text-[#777]",children:"Closed Won Leads"})]}):null,j!=null&&j.followUpLeads?s("div",{className:"flex flex-col bg-danger/10 p-2.5 rounded w-fit m-2",children:[e("b",{children:j==null?void 0:j.followUpLeads}),e("small",{className:"font-extrabold text-[#777]",children:"Follow Up Leads"})]}):null,j!=null&&j.freeTrailLeads?s("div",{className:"flex flex-col bg-danger/10 p-2.5 rounded w-fit m-2",children:[e("b",{children:j==null?void 0:j.freeTrailLeads}),e("small",{className:"font-extrabold text-[#777]",children:"Free Trail Leads"})]}):null]}),e("div",{className:"flex justify-end items-center mt-8",children:e("button",{type:"button",className:"btn btn-primary ltr:ml-4 rtl:mr-4",onClick:()=>C(!1),children:"Ok"})})]})]})})})})]})})]}):e(to,{tab:O,setTab:$,editData:B,fetchEmployee:x})}),e(Lk,{selectedData:W,fetchEmployee:x,setModel:V,model:D}),e(Pk,{showDrawer:z,selectedData:W,setShowDrawer:H,fetchEmployee:x})]})}const nl=()=>{const t=ve(),a=Re(),{crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState(""),[S,I]=l.useState([]),[T,w]=l.useState({columnAccessor:"id",direction:"asc"});l.useEffect(()=>{n?(t(Se("Dropdown")),d()):a("/")},[i,u,p]);const[_,A]=l.useState(!1),[k]=l.useState({id:"",type:"",value:"",status:0}),[g,E]=l.useState(null),[N,v]=l.useState(null),d=async()=>{A(!0),v(null);try{const Z=await K({method:"get",url:r+"/api/dropdowns?page="+i+"&pageSize="+u+"&filterType="+p+"&search="+h,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});Z.data.status=="success"&&(console.log("*** Fetching Dropdown Data ***"),E(Z.data.data),I(Z.data.data.data))}catch(Z){v(Z)}finally{A(!1)}};function y(){const Z=["#","Type","Value","Status"];kn.downloadExcel({fileName:"Dropdowns",sheet:"react-export-table-to-excel",tablePayload:{header:Z,body:S.map((Y,X)=>({a:X+1,b:Y.type,c:Y.value,h:Y.status?"Active":"Blocked"}))}})}const M=Z=>{let Y=["#","Type","Value","Status"],X=S.map((G,fe)=>({"#":fe+1,Type:G.type,Value:G.value,Status:G.status?"Active":"Blocked"})),ae="Dropdowns";if(Z==="print"){var he="<p>"+ae+"</p>";he+='<table style="width: 100%; " cellpadding="0" cellcpacing="0"><thead><tr style="color: #515365; background: #eff5ff; -webkit-print-color-adjust: exact; print-color-adjust: exact; "> ',Y.map(G=>{he+="<th>"+C(G)+"</th>"}),he+="</tr></thead>",he+="<tbody>",X.map(G=>{he+="<tr>",Y.map(fe=>{let ne=G[fe]?G[fe]:"";he+="<td>"+ne+"</td>"}),he+="</tr>"}),he+="<style>body {font-family:Arial; color:#495057;}p{text-align:center;font-size:18px;font-weight:bold;margin:15px;}table{ border-collapse: collapse; border-spacing: 0; }th,td{font-size:12px;text-align:left;padding: 4px;}th{padding:8px 4px;}tr:nth-child(2n-1){background:#f7f7f7; }</style>",he+="</tbody></table>";var te=window.open("","","left=0,top=0,width=1000,height=600,toolbar=0,scrollbars=0,status=0");te.document.write("<title>Print</title>"+he),te.document.close(),te.focus(),te.print()}},C=Z=>Z.replace("_"," ").replace("-"," ").toLowerCase().split(" ").map(Y=>Y.charAt(0).toUpperCase()+Y.substring(1)).join(" "),[x,L]=l.useState(k),[F,O]=l.useState({}),$=()=>{O({});let Z={};return x.value||(Z={...Z,value:"Dropdown Value is required"}),x.type||(Z={...Z,type:"Dropdown type is required"}),O(Z),{totalErrors:Object.keys(Z).length}},[B,R]=l.useState(!1),P=Z=>{const{value:Y,name:X}=Z.target;O({...F,[X]:""}),L({...x,[X]:Y})},z=async Z=>{var X;R(!0);try{const ae=await K({method:"post",url:r+"/api/dropdowns",data:Z,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});ae.data.status=="success"?(q(ae.data.message),L(k),d(),U(!1)):alert("Failed")}catch(ae){if(console.log(ae),ae.response.status==401&&t(at("")),((X=ae==null?void 0:ae.response)==null?void 0:X.status)===422){const he=ae.response.data.errors;let te={};for(var Y in he)te={...te,[Y]:he[Y][0]},console.log(he[Y][0]);O(te),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{R(!1)}},H=()=>{if($().totalErrors)return!1;const Y=new FormData;Y.append("id",x.id),Y.append("type",x.type),Y.append("value",x.value),Y.append("status",x.status),z(Y)},W=Z=>{O({}),Z&&(L({id:Z.id,type:Z.type,value:Z.value,status:Z.status?"1":"0"}),U(!0))},q=(Z="",Y="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:Y,title:Z,padding:"10px 20px"})},D=Z=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async Y=>{if(Y.value)try{const X=await K({method:"delete",url:r+"/api/dropdowns/"+Z.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});X.data.status==="success"&&(q(X.data.message),d())}catch(X){X.response&&X.response.status===400?q("Cannot delete the Dropdown as it is being used."):q("Error deleting product.")}finally{}})},V=async Z=>{try{const Y=await K({method:"post",url:r+"/api/dropdowns-status-update",data:{id:Z},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});if(Y.data.status=="success"){const X=[...S],ae=S.findIndex(he=>he.id==Z);X[ae]={...X[ae],status:Y.data.value},I(X),re.fire({title:Y.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:500,timer:2e3,customClass:{popup:"color-success"}})}}catch{}},[j,U]=l.useState(!1);return e(J,{children:s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),N?e(Fk,{error:N,fetchDropdowns:d}):e("div",{className:" p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Dropdown List"}),s("div",{className:"flex items-center flex-wrap",children:[s("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:y,children:[e(va,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"EXCEL"]}),s("button",{type:"button",onClick:()=>M("print"),className:"btn btn-primary btn-sm m-1",children:[e(Ia,{className:"ltr:mr-2 rtl:ml-2"}),"PRINT"]})]}),s("div",{className:"flex gap-4",children:[s("select",{className:"form-select w-[150px]",onChange:Z=>f(Z.target.value),children:[e("option",{value:"",children:"All"}),e("option",{value:"Lead Source",children:"Lead Source"}),e("option",{value:"Lead Status",children:"Lead Status"}),e("option",{value:"Sale Status",children:"Sale Status"}),e("option",{value:"Lead Products",children:"Lead Products"}),e("option",{value:"Service By",children:"Service By"}),e("option",{value:"Client Type",children:"Client Type"}),e("option",{value:"Sender Id",children:"Sender Id"}),e("option",{value:"State",children:"State"}),e("option",{value:"Investment Size",children:"Investment Size"}),e("option",{value:"Lot Size",children:"Lot Size"}),e("option",{value:"DND Status",children:"DND Status"}),e("option",{value:"Speaking Languages",children:"Speaking Languages"})]}),s("div",{className:"flex",children:[e("input",{type:"text",value:h,onChange:Z=>b(Z.target.value),placeholder:"Search by Value",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>i==1?d():o(1),children:e(ft,{})})]}),e("button",{className:"btn btn-sm btn-primary",onClick:()=>U(!j),children:"Add Dropdown"}),e("button",{onClick:()=>{d()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})}),e("div",{className:`${j&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>U(!j)}),e("nav",{className:`${j&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[s("div",{className:"flex justify-between mb-4 ",children:[e("div",{className:"text-lg bold",children:"Dropdown"}),x.id?e("button",{type:"button",onClick:()=>L(k),className:"btn btn-sm btn-primary",children:"Add Dropdown"}):""]}),e("hr",{className:"mb-5"}),e(Xe.Panels,{children:e(Xe.Panel,{children:s("div",{className:"mb-5 space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Dropdown Type"}),s("select",{name:"type",className:"form-select text-white-dark",onChange:Z=>P(Z),value:x.type?x.type:"",children:[e("option",{value:"",children:"Select Type"}),e("option",{value:"Lead Source",children:"Lead Source"}),e("option",{value:"Lead Status",children:"Lead Status"}),e("option",{value:"Sale Status",children:"Sale Status"}),e("option",{value:"Lead Products",children:"Lead Products"}),e("option",{value:"Service By",children:"Service By"}),e("option",{value:"Client Type",children:"Client Type"}),e("option",{value:"Sender Id",children:"Sender Id"}),e("option",{value:"State",children:"State"}),e("option",{value:"Investment Size",children:"Investment Size"}),e("option",{value:"Lot Size",children:"Lot Size"}),e("option",{value:"DND Status",children:"DND Status"}),e("option",{value:"Speaking Languages",children:"Speaking Languages"})]}),F!=null&&F.type?e("div",{className:"text-danger mt-1",children:F.type}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:x.type==="Sender Id"?s("div",{children:[e("label",{children:"Value"}),e("input",{type:"text",placeholder:"Enter 6 digit Id",className:"form-input",name:"value",maxLength:6,value:x.value,onChange:Z=>P(Z)}),F!=null&&F.value?e("div",{className:"text-danger mt-1",children:F.value}):""]}):s("div",{children:[e("label",{children:"Value"}),e("input",{type:"text",placeholder:"Enter Dropdown Value",className:"form-input",name:"value",value:x.value,onChange:Z=>P(Z)}),F!=null&&F.value?e("div",{className:"text-danger mt-1",children:F.value}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Status"}),s("select",{name:"status",className:"form-select text-white-dark",onChange:Z=>P(Z),value:x.status?x.status:"",children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),F!=null&&F.status?e("div",{className:"text-danger mt-1",children:F.status}):""]})}),e("button",{type:"button",onClick:()=>H(),disabled:B,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:B?"Please wait":x.id?"Update Dropdown":"Add Dropdown"})]})})})]})})})})})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:e("div",{className:"datatables",children:e(je,{className:"whitespace-nowrap table-hover",records:S,columns:[{accessor:"id",sortable:!0,render:({id:Z})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:Z})})},{accessor:"Type",sortable:!0,render:({type:Z})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:Z})})},{accessor:"Value",sortable:!0,render:({value:Z})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:Z})})},{accessor:"Status",sortable:!0,render:({id:Z,status:Y})=>e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",onChange:X=>{V(Z)},id:"custom_switch_checkbox1",checked:!!Y}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})},{accessor:"Action",sortable:!0,render:Z=>Z.is_editable?s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{W(Z)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{D(Z)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]}):e("span",{className:"badge badge-outline-danger",children:"Not Editable"})}],highlightOnHover:!0,totalRecords:g==null?void 0:g.total,recordsPerPage:u,page:i,onPageChange:Z=>o(Z),recordsPerPageOptions:m,onRecordsPerPageChange:c,sortStatus:T,onSortStatusChange:w,minHeight:200,fetching:_,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:Z,to:Y,totalRecords:X})=>`Showing  ${g==null?void 0:g.from} to ${g.to} of ${X} entries`})})})]})})})]})})},Fk=({error:t,fetchDropdowns:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})};function Mk({productGroupDrawer:t,setProductGroupDrawer:a,dropdowns:n}){const{logout:r,crmToken:i,apiUrl:o}=ee(),[m,u]=l.useState(!0),[c,p]=l.useState([]),f=async()=>{u(!0);try{const C=await K({method:"get",url:o+"/api/product-groups",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});C.data.status=="success"&&p(C.data.groups),console.log(C)}catch{}finally{u(!1)}};l.useEffect(()=>{t&&f()},[t]);const[h]=l.useState({id:"",dropdown_id:"",group_name:"",status:""}),[b,S]=l.useState(h),[I,T]=l.useState({}),[w,_]=l.useState(!1),A=C=>{const{value:x,name:L}=C.target;T({...I,[L]:""}),S({...b,[L]:x})},k=()=>{T({});let C={};return b.group_name||(C={...C,group_name:"group name is required"}),console.log(C),T(C),{totalErrors:Object.keys(C).length}},g=async C=>{var L;_(!0);try{(await K({method:"post",url:o+"/api/product-groups",data:C,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}})).data.status=="success"?(f(),v(!1)):alert("Failed")}catch(F){if(console.log(F),F.response.status==401&&r(),((L=F==null?void 0:F.response)==null?void 0:L.status)===422){const O=F.response.data.errors;let $={};for(var x in O)$={...$,[x]:O[x][0]},console.log(O[x][0]);T($)}}finally{_(!1)}},E=()=>{if(k().totalErrors)return!1;const x=new FormData;x.append("id",b.id),x.append("dropdown_id",b.dropdown_id),x.append("group_name",b.group_name),x.append("status",b.status),g(x)},[N,v]=l.useState(!1),[d,y]=l.useState(null);l.useEffect(()=>{S(d?{id:d.id,dropdown_id:d.dropdown_id,group_name:d.group_name,status:d.status?1:0}:h)},[d,N]);const M=C=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async x=>{if(x.value)try{(await K({method:"delete",url:o+"/api/product-groups/"+C.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}})).data.status==="success"&&f()}catch(L){L.response&&L.response.status}finally{}})};return s(J,{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!t)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[800px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[s("div",{className:"flex justify-between mb-4 ",children:[e("div",{className:"text-lg bold",children:"Product Group"}),e("button",{className:"btn btn-sm btn-dark",type:"button",onClick:()=>{y(null),v(!N)},children:N?"Back":"Add Group"})]}),e("hr",{className:"mb-5"}),m?e(be,{}):N?e(Xe.Panels,{children:e(Xe.Panel,{children:s("div",{className:"mb-5 space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Product",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"dropdown_id",className:"form-select text-white-dark",onChange:C=>A(C),value:b.dropdown_id?b.dropdown_id:"",children:[e("option",{value:"",children:"Select Product"}),n==null?void 0:n.map(C=>e("option",{value:C.id,children:C.value}))]}),I!=null&&I.dropdown_id?e("div",{className:"text-danger mt-1",children:I.dropdown_id}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Group Name ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Product Group Name",className:"form-input",name:"group_name",value:b.group_name,onChange:C=>A(C)}),I!=null&&I.group_name?e("div",{className:"text-danger mt-1",children:I.group_name}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Status ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"status",className:"form-select text-white-dark",onChange:C=>A(C),value:b.status?b.status:"",children:[e("option",{value:"",children:"Select status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),I!=null&&I.status?e("div",{className:"text-danger mt-1",children:I.status}):""]})}),e("button",{type:"button",onClick:()=>E(),disabled:w,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:w?"Please wait":b.id?"Update Group":"Add Group"})]})})}):e("div",{className:"table-responsive mb-5",children:s("table",{children:[e("thead",{children:s("tr",{children:[e("th",{children:"Group"}),e("th",{children:"Product"}),e("th",{children:"Status"}),e("th",{className:"float-right",children:"Action"})]})}),e("tbody",{children:c==null?void 0:c.map(C=>s("tr",{children:[e("td",{children:e("div",{className:"whitespace-nowrap",children:C.group_name})}),e("td",{children:C.value}),e("td",{children:e("span",{className:`badge  ${C.status?"bg-[#1abc9c]":"bg-red-500"}`,children:C.status?"Active":"Blocked"})}),e("td",{className:"text-center",children:s("div",{className:"flex gap-2 float-right",children:[e("button",{type:"button",onClick:()=>{y(C),v(!0)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{M(C)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})})]},C.id))})]})})]})})})})})})]})}function Ok({showProductSalesDrawer:t,setShowProductSalesDrawer:a,fetchProductprice:n,editProduct:r}){var d,y;const{apiUrl:i,crmToken:o,logout:m}=ee(),[u,c]=l.useState(!0),[p,f]=l.useState([]),h=async()=>{c(!0);try{const M=await K({method:"get",url:i+"/api/products/create",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});M.data.status=="success"&&f(M.data.data)}catch{}finally{c(!1)}};l.useEffect(()=>{t&&h()},[t]);const[b]=l.useState({id:"",dropdown_id:"",product_group_id:"",pro_name:"",pro_price:"",pro_duration:"",pro_status:""}),[S,I]=l.useState(b),[T,w]=l.useState({}),[_,A]=l.useState(!1);l.useEffect(()=>{I(r?{id:r.id,dropdown_id:r.dropdown_id,product_group_id:r.product_group_id,pro_name:r.pro_name,pro_price:r.pro_price,pro_duration:r.pro_duration,pro_status:r.pro_status?1:0}:b)},[r]);const k=M=>{const{value:C,name:x}=M.target;w({...T,[x]:""}),I({...S,[x]:C})},g=()=>{w({});let M={};return S.dropdown_id||(M={...M,dropdown_id:"Product Type is required"}),S.product_group_id||(M={...M,product_group_id:"Product Group is required"}),console.log(M),w(M),{totalErrors:Object.keys(M).length}},E=async M=>{var x;A(!0);try{const L=await K({method:"post",url:i+"/api/products",data:M,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});L.data.status=="success"?(N(L.data.message),I(b),n(),a(!1)):alert("Failed")}catch(L){if(console.log(L),L.response.status==401&&m(),((x=L==null?void 0:L.response)==null?void 0:x.status)===422){const F=L.response.data.errors;let O={};for(var C in F)O={...O,[C]:F[C][0]},console.log(F[C][0]);w(O),N("Server Validation Error! Please Solve")}}finally{A(!1)}},N=(M="",C="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:C,title:M,padding:"10px 20px"})},v=()=>{if(g().totalErrors)return!1;const C=new FormData;C.append("id",S.id),C.append("dropdown_id",S.dropdown_id),C.append("pro_name",S.pro_name),C.append("pro_price",S.pro_price),C.append("pro_duration",S.pro_duration),C.append("pro_status",S.pro_status),C.append("product_group_id",S.product_group_id),E(C)};return s(J,{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!t)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:u?e(be,{}):e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[s("div",{className:"flex justify-between mb-4 ",children:[e("div",{className:"text-lg bold",children:"Product Sales"}),S.id?e("button",{className:"btn btn-sm btn-primary",children:"Add Product Sales"}):""]}),e("hr",{className:"mb-5"}),e(Xe.Panels,{children:e(Xe.Panel,{children:s("div",{className:"mb-5 space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Products ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"dropdown_id",className:"form-select text-white-dark",onChange:M=>k(M),value:S.dropdown_id?S.dropdown_id:"",children:[e("option",{value:"",children:"Select Product"}),(d=p==null?void 0:p.dropdowns)==null?void 0:d.map(M=>e("option",{value:M.id,children:M.value}))]}),T!=null&&T.dropdown_id?e("div",{className:"text-danger mt-1",children:T.dropdown_id}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Product Group ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"product_group_id",className:"form-select text-white-dark",onChange:M=>k(M),value:S.product_group_id?S.product_group_id:"",children:[e("option",{value:"",children:"Select Group"}),(y=p==null?void 0:p.groups)==null?void 0:y.filter(M=>M.dropdown_id==S.dropdown_id).map(M=>e("option",{value:M.id,children:M.group_name}))]}),T!=null&&T.product_group_id?e("div",{className:"text-danger mt-1",children:T.product_group_id}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Product Name ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Product Name",className:"form-input",name:"pro_name",value:S.pro_name,onChange:M=>k(M)}),T!=null&&T.pro_name?e("div",{className:"text-danger mt-1",children:T.pro_name}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Product Price ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Product Price",className:"form-input",name:"pro_price",value:S.pro_price,onChange:M=>k(M)}),T!=null&&T.pro_price?e("div",{className:"text-danger mt-1",children:T.pro_price}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Product Duration"}),e("input",{type:"text",placeholder:"Enter Product Duration",className:"form-input",name:"pro_duration",value:S.pro_duration,onChange:M=>k(M)}),T!=null&&T.pro_duration?e("div",{className:"text-danger mt-1",children:T.pro_duration}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Status ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"pro_status",className:"form-select text-white-dark",onChange:M=>k(M),value:S.pro_status?S.pro_status:"",children:[e("option",{value:"",children:"Select status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),T!=null&&T.pro_status?e("div",{className:"text-danger mt-1",children:T.pro_status}):""]})}),e("button",{type:"button",onClick:()=>v(),disabled:_,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:_?"Please wait":S.id?"Update Product Price":"Add Product Price"})]})})})]})})})})})})]})}const sl=()=>{const t=ve();Re(),St();const{crmToken:a,apiUrl:n}=ee();l.useEffect(()=>{t(Se("Product Sales"))});const[r,i]=l.useState(1),o=[10,25,50,100,250,500,1e3],[m,u]=l.useState(o[0]),[c,p]=l.useState(""),[f,h]=l.useState("");l.useState(!1);const[b,S]=l.useState(!1),[I,T]=l.useState([]),[w,_]=l.useState({columnAccessor:"id",direction:"asc"}),[A,k]=l.useState(null),[g,E]=l.useState([]);l.useEffect(()=>{d()},[r,m,c,f]);const[N,v]=l.useState(null),d=async()=>{S(!0),v(null);try{const H=await K({method:"get",url:n+"/api/products?page="+r+"&pageSize="+m+"&filterType="+c+"&search="+f,headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});H.data.status=="success"&&(T(H.data.data.data),k(H.data.data),E(H.data.dropdowns))}catch(H){console.log(H),v(null),H.response.status==401&&t(at(""))}finally{S(!1)}};function y(){const H=["#","Type","Product Name","Price","Duration","Status"];kn.downloadExcel({fileName:"Product Price",sheet:"react-export-table-to-excel",tablePayload:{header:H,body:I.map((W,q)=>({a:q+1,b:W.value,c:W.pro_name,d:W.pro_price,e:W.pro_duration,h:W.pro_status=="Active"?"Active":"Blocked"}))}})}const M=H=>{let W=["#","Type","Product Name","Price","Duration","Status"],q=I.map((U,Z)=>({"#":Z+1,Type:U.value,"Product Name":U.pro_name,Price:U.pro_price,Duration:U.pro_duration,Status:U.pro_status=="Active"?"Active":"Blocked"})),D="Product Price";if(H==="print"){var V="<p>"+D+"</p>";V+='<table style="width: 100%; " cellpadding="0" cellcpacing="0"><thead><tr style="color: #515365; background: #eff5ff; -webkit-print-color-adjust: exact; print-color-adjust: exact; "> ',W.map(U=>{V+="<th>"+C(U)+"</th>"}),V+="</tr></thead>",V+="<tbody>",q.map(U=>{V+="<tr>",W.map(Z=>{let Y=U[Z]?U[Z]:"";V+="<td>"+Y+"</td>"}),V+="</tr>"}),V+="<style>body {font-family:Arial; color:#495057;}p{text-align:center;font-size:18px;font-weight:bold;margin:15px;}table{ border-collapse: collapse; border-spacing: 0; }th,td{font-size:12px;text-align:left;padding: 4px;}th{padding:8px 4px;}tr:nth-child(2n-1){background:#f7f7f7; }</style>",V+="</tbody></table>";var j=window.open("","","left=0,top=0,width=1000,height=600,toolbar=0,scrollbars=0,status=0");j.document.write("<title>Print</title>"+V),j.document.close(),j.focus(),j.print()}},C=H=>H.replace("_"," ").replace("-"," ").toLowerCase().split(" ").map(W=>W.charAt(0).toUpperCase()+W.substring(1)).join(" "),[x,L]=l.useState(!1),F=H=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async W=>{if(W.value)try{const q=await K({method:"delete",url:n+"/api/products/"+H.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});q.data.status==="success"&&($(q.data.message),d())}catch(q){q.response&&q.response.status===400?$("Cannot delete the product as it is being used."):$("Error deleting product.")}finally{}})},O=async H=>{try{const W=await K({method:"post",url:n+"/api/product-status-update",data:{id:H},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});if(W.data.status=="success"){const q=[...I],D=I.findIndex(V=>V.id==H);q[D]={...q[D],pro_status:W.data.value},T(q),re.fire({title:W.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:500,timer:2e3,customClass:{popup:"color-success"}})}}catch{}},$=(H="",W="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:W,title:H,padding:"10px 20px"})},[B,R]=l.useState(!1),[P,z]=l.useState(null);return s(J,{children:[s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),N?e(Bk,{error:N,fetchProductprice:d}):e("div",{className:" p-0 flex-1 overflow-x-hidden ",children:e("div",{className:"flex flex-col ",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Product Sales List"}),s("div",{className:"flex items-center flex-wrap",children:[s("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:y,children:[e(va,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"EXCEL"]}),s("button",{type:"button",onClick:()=>M("print"),className:"btn btn-primary btn-sm m-1",children:[e(Ia,{className:"ltr:mr-2 rtl:ml-2"}),"PRINT"]})]}),e("div",{children:e("button",{className:"btn btn-primary shadow",onClick:()=>{R(!0)},children:"Product Groups"})}),s("div",{className:"flex gap-4",children:[s("select",{className:"form-select w-[150px]",onChange:H=>p(H.target.value),children:[e("option",{value:"",children:"All"}),g.map(H=>e("option",{value:H.id,children:H.value},H.id))]}),e("input",{type:"text",className:"form-input w-auto",placeholder:"Search By Name...",value:f,onChange:H=>h(H.target.value)}),g&&e("button",{className:"btn btn-sm btn-primary",onClick:()=>{z(null),L(!x)},children:"Add Product Sales"}),e("button",{onClick:()=>{d()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:g?e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:I,columns:[{accessor:"id",sortable:!0,render:({id:H})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:H})})},{accessor:"Type",sortable:!0,render:({value:H})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:H})})},{accessor:"Group",sortable:!0,render:({group_name:H})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:H})})},{accessor:"Name",sortable:!0,render:({pro_name:H})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:H})})},{accessor:"Price",sortable:!0,render:({pro_price:H})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:H})})},{accessor:"Duration",sortable:!0,render:({pro_duration:H})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:H})})},{accessor:"Status",sortable:!0,render:({id:H,pro_status:W})=>e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",onChange:q=>{O(H)},id:"custom_switch_checkbox1",checked:!!W}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})},{accessor:"Action",sortable:!0,render:H=>s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{z(H),L(!0)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{F(H)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})}],totalRecords:A==null?void 0:A.total,recordsPerPage:m,page:r,onPageChange:H=>i(H),recordsPerPageOptions:o,onRecordsPerPageChange:u,sortStatus:w,onSortStatusChange:_,minHeight:200,fetching:b,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:H,to:W,totalRecords:q})=>`Showing  ${A==null?void 0:A.from} to ${A.to} of ${q} entries`})}):e(J,{children:e(Ga,{title:"No Product Type found!",message:"To continue with  adding Products, you need to add the Lead Product in the Settings dropdown.",buttons:[{title:"Go to Dropdown",url:"/settings/dropdowns",action:"link",color:""}]})})})]})})})]}),e(Ok,{showProductSalesDrawer:x,setShowProductSalesDrawer:L,fetchProductprice:d,editProduct:P}),e(Mk,{productGroupDrawer:B,setProductGroupDrawer:R,dropdowns:g})]})},Bk=({error:t,fetchProductprice:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})},qp=()=>{const{logout:t,crmToken:a,authUser:n,apiUrl:r}=ee(),i=ve();Re(),St(),l.useEffect(()=>{i(Se("Lead Automation"))});const[o,m]=l.useState(1),u=[10,25,50,100,250,500,1e3],[c,p]=l.useState(u[0]);l.useState({columnAccessor:"id",direction:"asc"});const[f,h]=l.useState(""),[b,S]=l.useState(""),[I,T]=l.useState(!1),[w,_]=l.useState([]);l.useState(null);const[A,k]=l.useState([]),[g,E]=l.useState([]);l.useEffect(()=>{N()},[o,c,f,b]);const N=async()=>{T(!0);try{const U=await K({method:"get",url:r+"/api/leadautomation",params:{page:o,pageSize:c,search:b,filterStatus:f},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});console.log("****** Fetching Lead Automation Data ******"),U.data.status=="success"&&(E(U.data.data),_(U.data.data.data),k(U.data.dropdowns))}catch(U){console.log(U),U.response.status==401&&i(at(""))}finally{T(!1)}};function v(){const U=["#","Lead Status","Lead Count","BDE Lead Count","Update Lead Count","Status"];kn.downloadExcel({fileName:"Lead Automation",sheet:"react-export-table-to-excel",tablePayload:{header:U,body:w.map((Z,Y)=>({a:Y+1,b:Z.value,c:Z.auto_leadcount,d:Z.auto_bdecount,e:Z.auto_updatecount,h:Z.auto_status=="Active"?"Active":"Blocked"}))}})}const d=U=>{let Z=["#","Lead Status","Lead Count","BDE Lead Count","Update Lead Count","Status"],Y=w.map((te,G)=>({"#":G+1,"Lead Status":te.value,"Lead Count":te.auto_leadcount,"BDE Lead Count":te.auto_bdecount,"Update Lead Count":te.auto_updatecount,Status:te.pro_status=="Active"?"Active":"Blocked"})),X="Lead Automation";if(U==="print"){var ae="<p>"+X+"</p>";ae+='<table style="width: 100%; " cellpadding="0" cellcpacing="0"><thead><tr style="color: #515365; background: #eff5ff; -webkit-print-color-adjust: exact; print-color-adjust: exact; "> ',Z.map(te=>{ae+="<th>"+y(te)+"</th>"}),ae+="</tr></thead>",ae+="<tbody>",Y.map(te=>{ae+="<tr>",Z.map(G=>{let fe=te[G]?te[G]:"";ae+="<td>"+fe+"</td>"}),ae+="</tr>"}),ae+="<style>body {font-family:Arial; color:#495057;}p{text-align:center;font-size:18px;font-weight:bold;margin:15px;}table{ border-collapse: collapse; border-spacing: 0; }th,td{font-size:12px;text-align:left;padding: 4px;}th{padding:8px 4px;}tr:nth-child(2n-1){background:#f7f7f7; }</style>",ae+="</tbody></table>";var he=window.open("","","left=0,top=0,width=1000,height=600,toolbar=0,scrollbars=0,status=0");he.document.write("<title>Print</title>"+ae),he.document.close(),he.focus(),he.print()}},y=U=>U.replace("_"," ").replace("-"," ").toLowerCase().split(" ").map(Z=>Z.charAt(0).toUpperCase()+Z.substring(1)).join(" "),[M]=l.useState({id:"",state:"",auto_leadcount:"",auto_bdecount:"",auto_updatecount:"",auto_status:0}),[C,x]=l.useState(M),[L,F]=l.useState({}),O=()=>{F({});let U={};return C.state||(U={...U,state:"Lead State is required"}),console.log(U),F(U),{totalErrors:Object.keys(U).length}},[$,B]=l.useState(!1),[R,P]=l.useState(!1),z=U=>{const{value:Z,name:Y}=U.target;F({...L,[Y]:""}),x({...C,[Y]:Z}),console.table(C)},H=async U=>{var Y;B(!0);try{const X=await K({method:"post",url:r+"/api/leadautomation",data:U,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});X.data.status=="success"?(V(X.data.message),x(M),N(),P(!1)):alert("Failed")}catch(X){if(console.log(X),X.response.status==401&&i(at("")),((Y=X==null?void 0:X.response)==null?void 0:Y.status)===422){const ae=X.response.data.errors;let he={};for(var Z in ae)he={...he,[Z]:ae[Z][0]},console.log(ae[Z][0]);F(he),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{B(!1)}},W=()=>{if(O().totalErrors)return!1;const Z=new FormData;Z.append("id",C.id),Z.append("state",C.state),Z.append("auto_leadcount",C.auto_leadcount),Z.append("auto_bdecount",C.auto_bdecount),Z.append("auto_updatecount",C.auto_updatecount),Z.append("auto_status",C.auto_status),H(Z)},q=U=>{F({}),U&&(x({id:U.id,state:U.state,auto_leadcount:U.auto_leadcount,auto_bdecount:U.auto_bdecount,auto_updatecount:U.auto_updatecount,auto_status:U.auto_status?"1":"0"}),P(!0))},D=U=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async Z=>{if(Z.value)try{const Y=await K({method:"delete",url:r+"/api/leadautomation/"+U.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});Y.data.status==="success"&&(V(Y.data.message),N())}catch{}finally{}})},V=(U="",Z="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:Z,title:U,padding:"10px 20px"})},j=async U=>{try{const Z=await K({method:"post",url:r+"/api/leadauto-status-update",data:{id:U},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});if(Z.data.status=="success"){const Y=[...w],X=A.findIndex(ae=>ae.id==U);Y[X]={...Y[X],auto_status:Z.data.value},_(Y),re.fire({title:Z.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:500,timer:2e3,customClass:{popup:"color-success"}}),N()}}catch{}};return console.log("filterStatus",f),s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Lead Automation List"}),s("div",{className:"flex items-center flex-wrap",children:[s("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:v,children:[e(va,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"})," EXCEL"]}),s("button",{type:"button",onClick:()=>d("print"),className:"btn btn-primary btn-sm m-1",children:[e(Ia,{className:"ltr:mr-2 rtl:ml-2"}),"PRINT"]})]}),s("div",{className:"flex gap-4",children:[s("select",{className:"form-select w-[150px]",onChange:U=>h(U.target.value),children:[e("option",{value:"All",children:"All"}),e("option",{value:"Active",children:"Active"}),e("option",{value:"Inactive",children:"Blocked"})]}),e("input",{type:"text",className:"form-input w-auto",placeholder:"Search...",value:b,onChange:U=>S(U.target.value)}),e("button",{className:"btn btn-sm btn-primary",onClick:()=>P(!R),children:"Add Lead "}),e("button",{onClick:()=>{N()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})}),e("div",{className:`${R&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>P(!R)}),e("nav",{className:`${R&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[s("div",{className:"flex justify-between mb-4 ",children:[e("div",{className:"text-lg bold",children:"Lead Automation"}),C.id?e("button",{className:"btn btn-sm btn-primary",children:"Add Lead Automation"}):""]}),e("hr",{className:"mb-5"}),e(Xe.Panels,{children:e(Xe.Panel,{children:s("div",{className:"mb-5 space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Lead Status"}),s("select",{name:"state",className:"form-select text-white-dark",onChange:U=>z(U),value:C.state?C.state:"",children:[e("option",{value:"",children:"Select Lead Status"}),A.map(U=>e("option",{value:U.value,children:U.value},U.id))]}),L!=null&&L.state?e("div",{className:"text-danger mt-1",children:L.state}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Lead Count (Admin)"}),e("input",{type:"text",placeholder:"Enter Alert Lead Count",className:"form-input",name:"auto_leadcount",value:C.auto_leadcount,onChange:U=>z(U)}),L!=null&&L.auto_leadcount?e("div",{className:"text-danger mt-1",children:L.auto_leadcount}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"BDE Count (BDE, Manager, Team Leader)"}),e("input",{type:"text",placeholder:"Enter BDE Alert Count",className:"form-input",name:"auto_bdecount",value:C.auto_bdecount,onChange:U=>z(U)}),L!=null&&L.auto_bdecount?e("div",{className:"text-danger mt-1",children:L.auto_bdecount}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Auto Update Count"}),s("select",{name:"auto_updatecount",className:"form-select",onChange:U=>z(U),children:[e("option",{value:"",children:"--select--"}),e("option",{value:"20",children:"20"}),e("option",{value:"50",children:"50"}),e("option",{value:"100",children:"100"}),e("option",{value:"150",children:"150"}),e("option",{value:"200",children:"200"})]}),L!=null&&L.auto_updatecount?e("div",{className:"text-danger mt-1",children:L.auto_updatecount}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Status"}),s("select",{name:"auto_status",className:"form-select text-white-dark",onChange:U=>z(U),value:C.auto_status?C.auto_status:"",children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),L!=null&&L.auto_status?e("div",{className:"text-danger mt-1",children:L.auto_status}):""]})}),e("button",{type:"button",onClick:()=>W(),disabled:$,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:$?"Please wait":C.id?"Update Lead Automation":"Add Lead Automation"})]})})})]})})})})})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:w,columns:[{accessor:"id",sortable:!0,render:({id:U})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:U})})},{accessor:"Lead Status",sortable:!0,render:({state:U})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:U})})},{accessor:"Count",sortable:!0,render:({auto_leadcount:U})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:U})})},{accessor:"BDE Count",sortable:!0,render:({auto_bdecount:U})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:U})})},{accessor:"Auto Update Count",sortable:!0,render:({auto_updatecount:U})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:U})})},{accessor:"Status",sortable:!0,render:({id:U,auto_status:Z})=>e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",onChange:Y=>{j(U)},id:"custom_switch_checkbox1",checked:Z==!0}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})},{accessor:"Action",sortable:!0,render:U=>s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{q(U)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{D(U)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})}],totalRecords:g.totalItems,recordsPerPage:c,page:o,onPageChange:U=>m(U),recordsPerPageOptions:u,onRecordsPerPageChange:p,sortStatus:{columnAccessor:"id",direction:"asc"},minHeight:500,fetching:I,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:U})=>`Showing  ${g==null?void 0:g.from} to ${g.to} of ${U} entries`})})})]})})})]})};function rl(){const t=ve();l.useEffect(()=>{t(Se("IP Tracking"))});const{crmToken:a,apiUrl:n,authUser:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState(""),[S,I]=l.useState({columnAccessor:"id",direction:"asc"}),[T,w]=l.useState([]),[_,A]=l.useState(!0);l.useEffect(()=>{y()},[i,u,p,h,T]);const[k,g]=l.useState([]),[E,N]=l.useState(null),[v,d]=l.useState(null),y=async()=>{A(!0),d(null);const L=T.length;try{const F=await K({method:"get",url:n+"/api/ip-tracks?page="+i+"&pageSize="+u+"&filterUser="+p+"&search="+h+"&users="+L,headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});console.log("*** Fetching IPTracking Data ***"),F.data.status=="success"&&(g(F.data.data.data),N(F.data.data),F.data.users&&w(F.data.users))}catch(F){console.log(F),d(F),F.response.status==401&&t(at(""))}finally{A(!1)}};function M(){const L=["#","Action","User","Email","IP Address","Browser","Device","Platform","Is robot","Date time"];kn.downloadExcel({fileName:"Last Login",sheet:"react-export-table-to-excel",tablePayload:{header:L,body:k.map((F,O)=>({a:O+1,j:F.action,b:F.first_name+" "+F.last_name,i:F.email,c:F.ip_address,d:F.browser,e:F.device,f:F.platform,g:F.is_robot?"Robot":"Human",h:F.created_at}))}})}const C=L=>{let F=["#","Action","User","Email","IP Address","Browser","Device","Platform","Is Robot","Date time"],O=k.map((P,z)=>({"#":z+1,Action:P.action,User:P.first_name+" "+P.last_name,Email:P.email,"IP Address":P.ip_address,Browser:P.browser,Device:P.device,Platform:P.platform,"Is Robot":P.is_robot?"Robot":"Human","Date time":P.created_at})),$="Last Login";if(L==="print"){var B="<p>"+$+"</p>";B+='<table style="width: 100%; " cellpadding="0" cellcpacing="0"><thead><tr style="color: #515365; background: #eff5ff; -webkit-print-color-adjust: exact; print-color-adjust: exact; "> ',F.map(P=>{B+="<th>"+x(P)+"</th>"}),B+="</tr></thead>",B+="<tbody>",O.map(P=>{B+="<tr>",F.map(z=>{let H=P[z]?P[z]:"";B+="<td>"+H+"</td>"}),B+="</tr>"}),B+="<style>body {font-family:Arial; color:#495057;}p{text-align:center;font-size:18px;font-weight:bold;margin:15px;}table{ border-collapse: collapse; border-spacing: 0; }th,td{font-size:12px;text-align:left;padding: 4px;}th{padding:8px 4px;}tr:nth-child(2n-1){background:#f7f7f7; }</style>",B+="</tbody></table>";var R=window.open("","","left=0,top=0,width=1000,height=600,toolbar=0,scrollbars=0,status=0");R.document.write("<title>Print</title>"+B),R.document.close(),R.focus(),R.print()}},x=L=>L.replace("_"," ").replace("-"," ").toLowerCase().split(" ").map(F=>F.charAt(0).toUpperCase()+F.substring(1)).join(" ");return s("div",{className:"flex gap-5 relative  h-full",children:[(r==null?void 0:r.user_type)=="HR"?"":e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),v?e(Rk,{error:v,fetchIpData:y}):e("div",{className:"p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Logs"}),s("div",{className:"flex gap-4",children:[s("select",{className:"form-select w-[150px]",onChange:L=>f(L.target.value),children:[e("option",{value:"",children:"All"}),T.map(L=>s("option",{value:L.id,children:[L.first_name," ",L.last_name]},L.id))]}),s("div",{className:"flex",children:[e("input",{type:"text",value:h,onChange:L=>b(L.target.value),placeholder:"Search by Username",className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]})]}),s("div",{className:"flex items-center gap-3 flex-wrap",children:[s("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:M,children:[e(va,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"EXCEL"]}),s("button",{type:"button",onClick:()=>C("print"),className:"btn btn-primary btn-sm m-1",children:[e(Ia,{className:"ltr:mr-2 rtl:ml-2"}),"PRINT"]}),e("button",{onClick:()=>{y()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:k,columns:[{accessor:"ID",sortable:!0,render:({id:L})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:L})})},{accessor:"Action",sortable:!0,render:({action:L})=>e("div",{className:"flex flex-col gap-2",children:L=="Log In"?e("span",{className:"badge badge-outline-success text-center",children:"Log In"}):e("span",{className:"badge badge-outline-danger text-center",children:"Log Out"})})},{accessor:"User",sortable:!0,render:({first_name:L,last_name:F})=>e("div",{className:"flex items-center gap-2",children:s("div",{className:"font-semibold",children:[L," ",F]})})},{accessor:"IP Address",sortable:!0,render:({ip_address:L})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:L})})},{accessor:"Browser",sortable:!0,render:({browser:L,browser_version:F})=>e("div",{className:"flex items-center gap-2",children:s("div",{className:"font-semibold",children:[L," ",e("br",{})," ",F]})})},{accessor:"device",sortable:!0,render:({device:L,device_type:F})=>e("div",{className:"flex items-center gap-2",children:s("div",{className:"font-semibold",children:[L," ",e("br",{}),F]})})},{accessor:"platform",sortable:!0,render:({platform:L})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:L})})},{accessor:"is_robot",sortable:!0,render:({is_robot:L})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:L?"Robot":"Human"})})},{accessor:"Date Time",sortable:!0,render:({created_at:L})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:L})})}],totalRecords:E==null?void 0:E.total,recordsPerPage:u,page:i,onPageChange:L=>o(L),recordsPerPageOptions:m,onRecordsPerPageChange:c,sortStatus:S,onSortStatusChange:I,minHeight:200,fetching:_,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:L,to:F,totalRecords:O})=>`Showing  ${E==null?void 0:E.form} to ${E.to} of ${O} entries`})})]})})})]})}const Rk=({error:t,fetchIpData:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})},$k=Rr(re);function jk({showNewDrawer:t,setShowNewDrawer:a,whatsappConfiguration:n,fetchWhatsapp:r}){const i=ve();Re();const{crmToken:o,apiUrl:m}=ee();l.useEffect(()=>{i(o?Se("Whatsapp Configuration"):at(""))},[o]);const u={username:"",api_link:"",token:"",version:"",status:"",phone_no_id:""},[c,p]=l.useState({}),[f,h]=l.useState(u);l.useEffect(()=>{h(n?{whatsapp_id:n.whatsapp_id,api_link:n.api_link,token:n.token,version:n.version,status:n.status,phone_no_id:n.phone_no_id}:u)},[n]);const b=k=>{const{value:g,name:E}=k.target;p({...c,[E]:""}),h({...f,[E]:g}),console.table(f)},S=()=>{p({});let k={};return f.whatsapp_id||(k={...k,whatsapp_id:"whatsapp_id is required."}),f.api_link||(k={...k,api_link:"api_link is required."}),f.token||(k={...k,token:"token is required."}),p(k),{totalErrors:Object.keys(k).length}},[I,T]=l.useState(!1),w=async k=>{var E,N;T(!0);try{const v=await K({method:"post",url:m+"/api/whatsappnewconfigs",data:k,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});v.data.status==="success"?(A(v.data.message),a(!1),r()):alert("Error")}catch(v){if(((E=v==null?void 0:v.response)==null?void 0:E.status)===401)i(at(""));else if(((N=v==null?void 0:v.response)==null?void 0:N.status)===422){const d=v.response.data.errors;let y={};for(var g in d)y={...y,[g]:d[g][0]},p(y),console.log(d[g][0]);$k.fire({title:"Server Validation Error! Please solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{T(!1)}},_=()=>{if(S().totalErrors)return!1;const g=new FormData;g.append("whatsapp_id",f.whatsapp_id),g.append("api_link",f.api_link),g.append("token",f.token),g.append("version",f.version),g.append("status",f.status),g.append("phone_no_id",f.phone_no_id),w(g)},A=(k="",g="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:g,title:k,padding:"10px 20px"})};return l.useState(!1),s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!t)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4`,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:" border-b border-grey p-2 flex justify-between",children:[e("button",{className:"mb-1 dark:text-white font-bold",children:"Whatsapp Configurations"}),e("button",{onClick:()=>a(!1),children:e(It,{className:" w-5 h-5"})})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:s("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:[s("div",{className:"mb-4",children:[s("label",{className:"text-white-dark",children:["API Link ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"",className:"form-input",name:"api_link",onChange:k=>b(k),value:f.api_link}),e("div",{className:"text-danger font-semibold text-sm",children:c.api_link})]}),s("div",{className:"mb-4",children:[s("label",{className:"text-white-dark",children:["Version ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"",className:"form-input",name:"version",onChange:k=>b(k),value:f.version}),e("div",{className:"text-danger font-semibold text-sm",children:c.version})]}),s("div",{className:"mb-4",children:[s("label",{className:"text-white-dark",children:["Phone Number ID ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"",className:"form-input",name:"phone_no_id",onChange:k=>b(k),value:f.phone_no_id}),e("div",{className:"text-danger font-semibold text-sm",children:c.phone_no_id})]}),s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark",children:"Whatsapp Business Account ID"}),e("input",{type:"text",placeholder:"",className:"form-input",name:"whatsapp_id",onChange:k=>b(k),value:f.whatsapp_id}),e("div",{className:"text-danger font-semibold text-sm",children:c.whatsapp_id})]}),s("div",{className:"mb-4",children:[s("label",{className:"text-white-dark",children:["Token ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"",className:"form-input",name:"token",onChange:k=>b(k),value:f.token}),e("div",{className:"text-danger font-semibold text-sm",children:c.token})]}),s("div",{children:[s("label",{className:"text-white-dark",children:["Status ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"status",className:"form-select text-white-dark",onChange:k=>b(k),value:f.status,children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),c!=null&&c.status?e("div",{className:"text-danger mt-1",children:c.status}):""]}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>_(),disabled:I,className:"btn  btn-dark shadow bg-black",children:I?"Please Wait...":"Save Changes"})]})]})})]})})]})}const Zp=()=>{var fe;const t=ve(),a=Re();l.useEffect(()=>{t(Se("Whatsapp"))});const n=St(),{crmToken:r,apiUrl:i}=ee(),[o,m]=l.useState(1),u=[10,25,50,100,250,500,1e3],[c,p]=l.useState(u[0]),[f,h]=l.useState({columnAccessor:"id",direction:"asc"});l.useEffect(()=>{r?t(Se("Whatsapp")):a("/")},[]);const b=(fe=n==null?void 0:n.state)==null?void 0:fe.dropdown,[S,I]=l.useState(!1),[T,w]=l.useState([]),[_,A]=l.useState(!1);l.useEffect(()=>{b&&R({id:b.id,template_type:b.template_type,code:b.code,template_name:b.template_name,short_name:b.short_name,template:b.template,status:b.status})},[b]);const[k]=l.useState({id:"",template_type:"",code:"",update_type:"",template_name:"",short_name:"",template:"",status:""}),[g,E]=l.useState(""),[N,v]=l.useState(null),[d,y]=l.useState(0),[M,C]=l.useState(null),[x,L]=l.useState([]),F=async()=>{I(!0),C(null);try{const ne=d,pe=await K({method:"get",url:i+"/api/whatsapptemplates?page="+o+"&pageSize="+c+"&search="+g+"&whatsappConfiguration="+ne,headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});pe.data.status=="success"&&(console.log("***** Fetching Whatsapp Data *****"),v(pe.data.data),w(pe.data.data.data),L(pe.data.data.data),pe.data.whatsappConfiguration&&y(pe.data.whatsappConfiguration))}catch(ne){C(ne)}finally{I(!1)}};l.useEffect(()=>{F()},[o]),l.useEffect(()=>{o!=1?m(1):F()},[c]);const O=[{value:"Other",label:"Positions"},{value:"Bank Details",label:"Bank Details"},{value:"Upi Details",label:"Upi Details"},{value:"Send Invoice",label:"Send Invoice"},{value:"Agreement Send Link",label:"Agreement Send Link"},{value:"Agreement OTP",label:"Agreement OTP"},{value:"Kyc Send Link",label:"Kyc Send Link"},{value:"Kyc OTP",label:"Kyc OTP"},{value:"Kyc Verified",label:"Kyc Verified"},{value:"Risk Profile Send Link",label:"Risk Profile Send Link"},{value:"Risk Profile OTP",label:"Risk Profile OTP"},{value:"Website Send Link",label:"Website Send Link"},{value:"marketing",label:"Marketing"},{value:"App OTP",label:"App OTP"}],$=O.filter(ne=>ne.value!=="Website Send Link"||!x.some(pe=>pe.template_type==="Website Send Link")),[B,R]=l.useState(k),[P,z]=l.useState({}),H=()=>{z({});let ne={};return B.template_name||(ne={...ne,template_name:"Template is required"}),(B.template_type=="Other"||B.template_type=="updates")&&(B.short_name||(ne={...ne,short_name:"Short Name is required"})),console.log(ne),z(ne),{totalErrors:Object.keys(ne).length}},[W,q]=l.useState(!1),[D,V]=l.useState(!1),j=ne=>{const{value:pe,name:ue}=ne.target;z({...P,[ue]:""}),R({...B,[ue]:pe})},U=async ne=>{var ue;q(!0);try{const le=await K({method:"post",url:i+"/api/whatsapptemplates",data:ne,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+r}});le.data.status=="success"?(ae(le.data.message),R(k),F(),V(!1)):alert("Failed")}catch(le){if(console.log(le),le.response.status==401&&t(at("")),((ue=le==null?void 0:le.response)==null?void 0:ue.status)===422){const Ce=le.response.data.errors;let Be={};for(var pe in Ce)Be={...Be,[pe]:Ce[pe][0]},console.log(Ce[pe][0]);z(Be),ae("Server Validation Error!!!!")}}finally{q(!1)}},Z=()=>{if(H().totalErrors)return!1;const pe=new FormData;pe.append("id",B.id),pe.append("template_type",B.template_type),pe.append("code",B.code),pe.append("update_type",B.update_type),pe.append("template_name",B.template_name),pe.append("short_name",B.short_name),pe.append("template",B.template),pe.append("status",B.status),U(pe)},Y=ne=>{if(z({}),ne)R({id:ne.id,template_type:ne.template_type,code:ne.code,update_type:ne.update_type?ne.update_type:"",template_name:ne.template_name,short_name:ne.short_name,template:ne.template,status:ne.status});else{const pe=JSON.parse(JSON.stringify(k));R(pe)}A(!0),V(!0)},X=ne=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async pe=>{if(pe.value)try{const ue=await K({method:"delete",url:i+"/api/whatsapptemplates/"+ne.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});ue.data.status==="success"&&(ae(ue.data.message),F())}catch{}finally{}})},ae=(ne="",pe="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:pe,title:ne,padding:"10px 20px"})};l.useState(!1);const[he,te]=l.useState(!1),G=async ne=>{try{const pe=await K({method:"post",url:i+"/api/whatsapptemplates-update-status",data:{id:ne},headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});if(pe.data.status=="success"){const ue=[...T],le=T.findIndex(Ce=>Ce.id==ne);ue[le]={...ue[le],status:pe.data.value},w(ue),re.fire({title:pe.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:500,timer:2e3,customClass:{popup:"color-success"}}),F()}}catch{}};return e(J,{children:s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),M?e(zk,{error:M,fetchWhatsapp:F}):e("div",{className:" p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Whatsapp Template List"}),s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:g,onChange:ne=>E(ne.target.value),placeholder:"Search by Template Name",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{o!=1?m(1):F()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),e("button",{type:"button",onClick:()=>te(!0),className:"btn btn-sm btn-primary",children:"Configuration"}),d&&e("button",{className:"btn btn-sm btn-primary",onClick:()=>{V(!D),R(k)},children:"Add WhatsApp Template "}),e("button",{onClick:()=>{F()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})}),e("div",{className:`${D&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>V(!D)}),e("nav",{className:`${D&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[e("div",{className:"flex justify-between mb-4 ",children:e("div",{className:"text-lg bold",children:"Templates"})}),e("hr",{className:"mb-5"}),e(Xe.Panels,{children:e(Xe.Panel,{children:s("div",{className:"mb-5 space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Template Type ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"template_type",className:"form-select text-white-dark",onChange:ne=>j(ne),value:B.template_type,children:[e("option",{children:"Select Template Type"}),B.id&&B.template_type=="Website Send Link"?e(J,{children:O.map(ne=>e("option",{value:ne.value,children:ne.label},ne.value))}):e(J,{children:$.map(ne=>e("option",{value:ne.value,children:ne.label},ne.value))})]}),P!=null&&P.template_type?e("div",{className:"text-danger mt-1",children:P.template_type}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Code ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"code",className:"form-select text-white-dark",onChange:ne=>j(ne),value:B.code,children:[e("option",{children:"Select Code"}),e("option",{value:"en",children:"English - en"}),e("option",{value:"en_US",children:"English (US) - en_US"}),e("option",{value:"hi",children:"Hindi - hi"}),e("option",{value:"ta",children:"Tamil - ta"}),e("option",{value:"ka",children:"Kannada - ka"}),e("option",{value:"te",children:"Telugu - te"}),e("option",{value:"ml",children:"Malayalam - ml"}),e("option",{value:"en_UK",children:"English (UK) - en_UK"})]}),P!=null&&P.code?e("div",{className:"text-danger mt-1",children:P.code}):""]})}),B.template_type=="updates"?e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Update Type ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"update_type",className:"form-select text-white-dark",onChange:ne=>j(ne),value:B.update_type,children:[e("option",{value:"",children:"Selecte Update Type"}),e("option",{value:"target-1",children:" Target 1"}),e("option",{value:"target-2",children:" Target 2"}),e("option",{value:"stop-loss",children:"Stop Loss"})]}),P!=null&&P.update_type?e("div",{className:"text-danger mt-1",children:P.update_type}):""]})}):null,e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Template Name  ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Template Name",className:"form-input",name:"template_name",value:B.template_name,onChange:ne=>j(ne)}),P!=null&&P.template_name?e("div",{className:"text-danger mt-1",children:P.template_name}):""]})}),(B.template_type=="Other"||B.template_type=="updates")&&e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Short Name  ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Short Name",className:"form-input",name:"short_name",value:B.short_name,onChange:ne=>j(ne)}),P!=null&&P.short_name?e("div",{className:"text-danger mt-1",children:P.short_name}):""]})}),s("div",{className:"bg-[#deeffd] rounded p-2",children:[e("strong",{children:"replace lead dynamic by follwing"}),s("div",{className:"flex gap-2",children:[e("span",{className:"badge bg-[#1b2e4b] text-[14px]",children:"#first_name"}),e("span",{className:"badge bg-[#1b2e4b] text-[14px]",children:"#full_name"})]})]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Content ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("textarea",{name:"template",rows:3,className:"form-textarea",placeholder:"Enter Content",value:B.template,onChange:ne=>j(ne)}),P!=null&&P.template?e("div",{className:"text-danger mt-1",children:P.template}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Status ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"status",className:"form-select text-white-dark",onChange:ne=>j(ne),value:B.status,children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),P!=null&&P.status?e("div",{className:"text-danger mt-1",children:P.status}):""]})}),e("button",{type:"button",onClick:()=>Z(),disabled:W,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:B.id?e("div",{children:W?"Please wait":"Update Whatsapp Template"}):e("div",{children:W?"Please wait":b?"Update Whatsapp Template":"Add Whatsapp Template"})})]})})})]})})})})})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:!d&&S?e(be,{}):d?e("div",{className:"datatables",children:e(je,{className:"whitespace-nowrap table-hover",records:T,columns:[{accessor:"id",sortable:!0,render:({id:ne})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:ne})})},{accessor:"template_type",sortable:!0,render:({template_type:ne})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:ne})})},{accessor:"short_name",sortable:!0,render:({short_name:ne})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:ne})})},{accessor:"template_name",sortable:!0,render:({template_name:ne})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:ne})})},{accessor:"template",sortable:!0,render:({template:ne})=>e("div",{className:"flex items-center gap-2",children:e(lt,{content:ne,children:e("div",{children:ne.length>40?e("div",{children:ne.substring(0,30)+"..."}):e("div",{children:ne})})})})},{accessor:"status",sortable:!0,render:({id:ne,status:pe})=>e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",onChange:ue=>{G(ne)},id:"custom_switch_checkbox1",checked:pe==!0}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})},{accessor:"Action",sortable:!0,render:ne=>s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{Y(ne)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{X(ne)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})}],highlightOnHover:!0,totalRecords:N==null?void 0:N.total,recordsPerPage:c,page:o,onPageChange:ne=>m(ne),recordsPerPageOptions:u,onRecordsPerPageChange:p,sortStatus:f,onSortStatusChange:h,minHeight:200,fetching:S,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:ne,to:pe,totalRecords:ue})=>`Showing  ${N==null?void 0:N.from} to ${N.to} of ${ue} entries`})}):e(J,{children:e(Ga,{title:"Whatsapp Configuration Not Set!",message:"To proceed, please configure the Whatsapp settings",buttons:[{title:"Configure Now",url:"/settings/whatsapp",action:"click",color:"",callback:te}]})})})]})})}),e(jk,{showNewDrawer:he,setShowNewDrawer:te,fetchWhatsapp:F,whatsappConfiguration:d})]})})},zk=({error:t,fetchWhatsapp:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})},Dk=Rr(re);function Vk({showConfigurationDrawer:t,setShowConfigurationDrawer:a,fetchSmsTemplate:n}){const{logout:r,authUser:i,crmToken:o,apiUrl:m,settingData:u}=ee(),[c,p]=l.useState(!0),f={sms_user_name:"",otp_number:"",sms_numbers:"",api_key:"",client_id:"",api_url:"",get_api_url:"",provider:""},[h,b]=l.useState({}),[S,I]=l.useState(f),T=async()=>{var N;p(!0);try{const v=await K({method:"get",url:m+"/api/smsconfigs",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});if(v.data.status=="success"&&v.data.configuration){const{sms_user_name:d,otp_number:y,sms_numbers:M,api_key:C,client_id:x,api_url:L,get_api_url:F,provider:O}=v.data.configuration;I({sms_user_name:d,otp_number:y,sms_numbers:M,api_key:C,client_id:x,api_url:L,get_api_url:F,provider:O})}else I(f)}catch(v){((N=v==null?void 0:v.response)==null?void 0:N.status)===401&&r()}finally{p(!1)}};l.useEffect(()=>{t&&T()},[t]);const w=N=>{console.log(N),console.log(N.target.name);const{value:v,name:d}=N.target;b({...h,[d]:""}),I({...S,[d]:v}),console.table(S)},_=()=>{b({});let N={};return S.api_key||(N={...N,api_key:"api key is required."}),S.api_url||(N={...N,api_url:"api url is required."}),S.provider?S.provider!="webpayservices"&&(S.client_id||(N={...N,client_id:"client id required."})):N={...N,provider:"provider is required."},b(N),{totalErrors:Object.keys(N).length}},[A,k]=l.useState(!1),g=async N=>{var d,y;k(!0);try{(await K({method:"post",url:m+"/api/smsconfigs",data:N,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}})).data.status==="success"?(n(),a(!1)):alert("Error")}catch(M){if(((d=M==null?void 0:M.response)==null?void 0:d.status)===401)r();else if(((y=M==null?void 0:M.response)==null?void 0:y.status)===422){const C=M.response.data.errors;let x={};for(var v in C)x={...x,[v]:C[v][0]},b(x),console.log(C[v][0]);Dk.fire({title:"Server Validation Error! Please solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{k(!1)}},E=()=>{if(_().totalErrors)return!1;const v=new FormData;v.append("sms_user_name",S.sms_user_name),v.append("provider",S.provider),v.append("otp_number",S.otp_number),v.append("sms_numbers",S.sms_numbers),v.append("api_key",S.api_key),v.append("client_id",S.client_id),v.append("api_url",S.api_url),v.append("get_api_url",S.get_api_url),g(v)};return s("div",{className:"",children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!t)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4`,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:" border-b border-grey p-2 flex justify-between",children:[e("button",{className:"mb-1 dark:text-white font-bold",children:"Sms Configurations"}),e("button",{onClick:()=>a(!1),children:e(It,{className:" w-5 h-5"})})]}),c?e(be,{}):e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:s("form",{autoComplete:"off",action:"",method:"post",className:"p-2",children:[s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark",children:"Select SMS Provider"}),s("select",{className:"form-select",name:"provider",onChange:N=>w(N),value:S.provider,children:[e("option",{value:"",disabled:!0,children:"Select SMS Provider"}),e("option",{value:"sfs",children:"SFS"}),e("option",{value:"webpayservices",children:"Web Pay Services"})]}),e("div",{className:"text-danger font-semibold text-sm",children:h.provider})]}),S.provider?s(J,{children:[s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark",children:"Username"}),e("input",{type:"text",placeholder:"Enter SMS Username",className:"form-input",name:"sms_user_name",onChange:N=>w(N),value:S.sms_user_name}),e("div",{className:"text-danger font-semibold text-sm",children:h.sms_user_name})]}),s("div",{className:"mb-4",children:[s("label",{className:"text-white-dark",children:["API Key ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter API Key",className:"form-input",name:"api_key",onChange:N=>w(N),value:S.api_key}),e("div",{className:"text-danger font-semibold text-sm",children:h.api_key})]}),s("div",{className:"mb-4",children:[s("label",{className:"text-white-dark",children:["Api Url ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Api Url",className:"form-input",name:"api_url",onChange:N=>w(N),value:S.api_url}),e("div",{className:"text-danger font-semibold text-sm",children:h.api_url})]}),S.provider!="webpayservices"?s(J,{children:[s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark",children:"OTP Number"}),e("input",{type:"text",placeholder:"Enter OTP Numbers",className:"form-input",name:"otp_number",onChange:N=>w(N),value:S.otp_number}),e("div",{className:"text-danger font-semibold text-sm",children:h.otp_number})]}),s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark",children:"SMS Numbers"}),e("input",{type:"text",placeholder:"Enter SMS Numbers",className:"form-input",name:"sms_numbers",onChange:N=>w(N),value:S.sms_numbers}),e("div",{className:"text-danger font-semibold text-sm",children:h.sms_numbers})]}),s("div",{className:"mb-4",children:[s("label",{className:"text-white-dark",children:["Client ID ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Client ID",className:"form-input",name:"client_id",onChange:N=>w(N),value:S.client_id}),e("div",{className:"text-danger font-semibold text-sm",children:h.client_id})]}),s("div",{className:"mb-4",children:[s("label",{className:"text-white-dark",children:["Api for Get Report ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter get report",className:"form-input",name:"get_api_url",onChange:N=>w(N),value:S.get_api_url}),e("div",{className:"text-danger font-semibold text-sm",children:h.get_api_url})]})]}):null,s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>E(),disabled:A,className:"btn  btn-dark shadow bg-black",children:A?"Please Wait...":"Save Changes"})]})]}):null]})})]})})]})}function Uk({smsTemplateDrawer:t,setSmsTemplateDrawer:a,updateTemplate:n,fetchSmsTemplate:r}){const{logout:i,authUser:o,crmToken:m,apiUrl:u,settingData:c}=ee(),[p,f]=l.useState(!0),[h,b]=l.useState([]),[S,I]=l.useState([]),[T,w]=l.useState([]),[_,A]=l.useState([]),[k]=l.useState({id:"",template_type:"Select Template Type",sender_id:"",template_name:"",short_name:"",template:"",status:0,template_id:"",api_route:"",api_request:""}),[g,E]=l.useState(k);l.useEffect(()=>{if(t&&n){const{id:O,template_type:$,sender_id:B,template_name:R,short_name:P,template:z,status:H,template_id:W,api_route:q,api_request:D}=n;E({id:O,template_type:$,sender_id:B,template_name:R,short_name:P,template:z,status:H,template_id:W,api_route:q,api_request:D})}else E(k)},[t,n]);const N=async()=>{var O;f(!0);try{const $=await K({method:"get",url:u+"/api/smstemplate/create",headers:{"Content-Type":"application/json",Authorization:"Bearer "+m}});if($.data.status=="success"){const{senderIds:B,existingTemplateTypes:R,templateTypes:P,smsConfiguration:z}=$.data;b(B),I(R),w(P),A(z)}}catch($){((O=$==null?void 0:$.response)==null?void 0:O.status)===401&&i()}finally{f(!1)}};l.useEffect(()=>{t&&N()},[t]);const[v,d]=l.useState({}),y=()=>{d({});let O={};return g.template_name||(O={...O,template_name:"template name is required"}),g.template_type=="Other"&&(g.short_name||(O={...O,short_name:"Short Name is required"})),(_==null?void 0:_.provider)=="webpayservices"&&(g.template_id||(O={...O,template_id:"template id is required"}),g.api_route||(O={...O,api_route:"api route is required"}),g.api_request||(O={...O,api_request:"api request is required"})),d(O),{totalErrors:Object.keys(O).length}},[M,C]=l.useState(!1),x=O=>{const{value:$,name:B}=O.target;d({...v,[B]:""}),E({...g,[B]:$})},L=async O=>{var B;C(!0);try{(await K({method:"post",url:u+"/api/smstemplate",data:O,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+m}})).data.status=="success"?(r(),a(!1)):alert("Failed")}catch(R){if(console.log(R),R.response.status==401&&i(),((B=R==null?void 0:R.response)==null?void 0:B.status)===422){const P=R.response.data.errors;let z={};for(var $ in P)z={...z,[$]:P[$][0]},console.log(P[$][0]);d(z)}}finally{C(!1)}},F=()=>{if(y().totalErrors)return!1;const $=new FormData;$.append("id",g.id),$.append("template_type",g.template_type),$.append("sender_id",g.sender_id),$.append("template_name",g.template_name),$.append("short_name",g.short_name),$.append("template",g.template),$.append("status",g.status),$.append("template_id",g.template_id),$.append("api_route",g.api_route),$.append("api_request",g.api_request),L($)};return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!t)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[s("div",{className:"flex justify-between mb-4 items-center",children:[e("div",{children:e("b",{className:"text-[18px]",children:"Templates"})}),e("div",{children:(_==null?void 0:_.provider)=="webpayservices"?e("img",{className:"w-32 h-10",src:"https://webpayservices.in/images/Webpay-Logo.png250-x-250-transperent%20(1).png",alt:"Web Pay Services"}):null})]}),e("hr",{className:"mb-5"}),e(Xe.Panels,{children:e(Xe.Panel,{children:e("div",{className:"mb-5 ",children:p?e(be,{}):s("div",{className:" space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Template Type ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("select",{name:"template_type",className:"form-select text-white-dark",onChange:O=>x(O),value:g.template_type,children:g!=null&&g.id?T.filter(O=>O==g.template_type||!S.includes(O)).map(O=>e("option",{value:O,children:O},O)):T.filter(O=>!S.includes(O)).map(O=>e("option",{value:O,children:O},O))}),v!=null&&v.template_type?e("div",{className:"text-danger mt-1",children:v.template_type}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Sender ID ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"sender_id",className:"form-select text-white-dark",onChange:O=>x(O),value:g.sender_id?g.sender_id:"",children:[e("option",{value:"",children:"Select Sender ID"}),h==null?void 0:h.map(O=>e("option",{value:O.value,children:O.value},O.id))]}),v!=null&&v.sender_id?e("div",{className:"text-danger mt-1",children:v.sender_id}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["API Request",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter API Request",className:"form-input",name:"api_request",value:g.api_request,onChange:O=>x(O)}),v!=null&&v.api_request?e("div",{className:"text-danger mt-1",children:v.api_request}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["API Route",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter API Route",className:"form-input",name:"api_route",value:g.api_route,onChange:O=>x(O)}),v!=null&&v.api_route?e("div",{className:"text-danger mt-1",children:v.api_route}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Template ID",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Template ID",className:"form-input",name:"template_id",value:g.template_id,onChange:O=>x(O)}),v!=null&&v.template_id?e("div",{className:"text-danger mt-1",children:v.template_id}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Template Name ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Template Name",className:"form-input",name:"template_name",value:g.template_name,onChange:O=>x(O)}),v!=null&&v.template_name?e("div",{className:"text-danger mt-1",children:v.template_name}):""]})}),g.template_type=="Other"&&e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Short Name ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Short Name",className:"form-input",name:"short_name",value:g.short_name,onChange:O=>x(O)}),v!=null&&v.short_name?e("div",{className:"text-danger mt-1",children:v.short_name}):""]})}),g.template_type=="Website Send Link"||g.template_type=="Agreement Send Link"||g.template_type=="Kyc Send Link"||g.template_type=="Risk Profile Send Link"||g.template_type=="App OTP"||g.template_type=="Kyc OTP"||g.template_type=="Risk Profile OTP"||g.template_type=="Agreement OTP"?s("div",{className:"bg-[#deeffd] rounded p-2",children:[e("strong",{children:"replace lead dynamic by follwing"}),s("div",{className:"flex gap-2",children:[e("span",{className:"badge bg-[#1b2e4b] text-[14px]",children:"#first_name"}),e("span",{className:"badge bg-[#1b2e4b] text-[14px]",children:"#full_name"}),g.template_type=="Agreement Send Link"||g.template_type=="Kyc Send Link"||g.template_type=="Risk Profile Send Link"?e("span",{className:"badge bg-green-500 text-[14px]",children:"#link"}):null,g.template_type=="App OTP"||g.template_type=="Kyc OTP"||g.template_type=="Risk Profile OTP"||g.template_type=="Agreement OTP"?e("span",{className:"badge bg-green-500 text-[14px]",children:"#otp"}):null]})]}):null,e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Content ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("textarea",{name:"template",rows:3,className:"form-textarea",value:g.template,onChange:O=>x(O)}),v!=null&&v.template?e("div",{className:"text-danger mt-1",children:v.template}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[s("label",{children:["Status ",e("span",{className:" text-red-600 text-md",children:"*"})]}),s("select",{name:"status",className:"form-select text-white-dark",onChange:O=>x(O),value:g.status?g.status:"",children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),v!=null&&v.status?e("div",{className:"text-danger mt-1",children:v.status}):""]})}),e("button",{type:"button",onClick:()=>F(),disabled:M,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:g.id?e("div",{children:M?"Please wait":"Update SMS Template"}):e("div",{children:M?"Please wait":g.id?"Update SMS Template":"Add SMS Template"})})]})})})})]})})})})})})]})}const Gp=()=>{const t=ve();Re(),St();const{logout:a,authUser:n,crmToken:r,apiUrl:i,settingData:o}=ee();l.useEffect(()=>{t(Se("SMS Template"))});const[m,u]=l.useState(1),c=[10,25,50,100,250,500,1e3],[p,f]=l.useState(c[0]),[h,b]=l.useState(null),[S,I]=l.useState(0),[T,w]=l.useState(!0),[_,A]=l.useState(null),[k,g]=l.useState([]),[E,N]=l.useState(null),[v,d]=l.useState(null),y=async()=>{w(!0),A(null),g([]);try{const B=await K({method:"get",url:i+"/api/smstemplate",params:{page:m,pageSize:p,filterTemplateType:S,search:h},headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});if(B.data.status==="success"){const{senderIds:R,configuration:P,data:z}=B.data;R&&N(R),P&&d(P),z&&g(z)}}catch(B){B.response.status==401&&a(),A(B)}finally{w(!1)}};l.useEffect(()=>{y()},[m,p]),l.useEffect(()=>{m!=0?u(1):y()},[p]);const[M,C]=l.useState(!1),[x,L]=l.useState(!1),[F,O]=l.useState(null),$=B=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async R=>{if(R.value)try{(await K({method:"delete",url:i+"/api/smstemplate/"+B.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}})).data.status==="success"&&y()}catch(P){P.response.status==401&&a()}finally{}})};return s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),_?e(Hk,{error:_,fetchSmsTemplate:y}):e("div",{className:"p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"SMS Template List"}),s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:h,onChange:B=>b(B.target.value),placeholder:"Search by Template Name",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{m!=1?u(1):y()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),E&&v?s(J,{children:[e("button",{type:"button",className:"btn btn-sm btn-primary",disabled:T,onClick:()=>{C(!0)},children:"Add SMS Template"}),e("button",{type:"button",className:"btn btn-sm btn-primary",disabled:T,onClick:()=>{L(!0)},children:"Configuration"})]}):null,e("button",{disabled:T,onClick:()=>y(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),(!E||!v)&&T?e(be,{}):e("div",{className:"mb-5",children:E?v?e("div",{className:"datatables",children:e(je,{className:"whitespace-nowrap table-hover",records:k.data,columns:[{accessor:"id",sortable:!0,render:({id:B})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:B})})},{accessor:"template_type",sortable:!0,render:({template_type:B})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:B})})},{accessor:"sender_id",sortable:!0,render:({sender_id:B})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:B})})},{accessor:"short_name",sortable:!0,render:({short_name:B})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:B})})},{accessor:"template_name",sortable:!0,render:({template_name:B})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:B})})},{accessor:"template",sortable:!0,render:({template:B})=>e("div",{className:"flex items-center gap-2",children:e(lt,{content:B,children:e("div",{children:B.length>40?e("div",{children:B.substring(0,30)+"..."}):e("div",{children:B})})})})},{accessor:"status",sortable:!0,render:({id:B,status:R})=>e("span",{className:`badge ${R?"bg-green-500":"bg-red-500"}`,children:R?"Active":"Blocked"})},{accessor:"Action",sortable:!0,render:B=>s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{O(B),C(!0)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{$(B)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})}],highlightOnHover:!0,totalRecords:k==null?void 0:k.totalItems,recordsPerPage:p,page:m,onPageChange:B=>u(B),recordsPerPageOptions:c,onRecordsPerPageChange:f,minHeight:200,fetching:T,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({totalRecords:B})=>`Showing  ${k==null?void 0:k.from} to ${k.to} of ${B} entries`})}):e(J,{children:e(Ga,{title:"SMS Configuration Not Set!",message:"To proceed, please configure the SMS settings",buttons:[{title:"Configure Now",url:"/settings/dropdowns",action:"click",color:"",callback:L}]})}):e(J,{children:e(Ga,{title:"No Sender ID found!",message:"To continue with the SMS template, you need to add the Sender ID in the Settings dropdown.",buttons:[{title:"Go to Dropdown",url:"/settings/dropdowns",action:"link",color:""}]})})})]})})}),e(Vk,{showConfigurationDrawer:x,setShowConfigurationDrawer:L,fetchSmsTemplate:y}),e(Uk,{smsTemplateDrawer:M,setSmsTemplateDrawer:C,updateTemplate:F,fetchSmsTemplate:y})]})},Hk=({error:t,fetchSmsTemplate:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})},Kp=()=>{const t=ve();l.useEffect(()=>{t(Se("Email"))});const{crmToken:a,apiUrl:n}=ee(),[r,i]=l.useState(!0);l.useEffect(()=>{},[a]);const o=(A="",k="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:k,title:A,padding:"10px 20px"})};l.useEffect(()=>{m()},[]);const m=async()=>{i(!0);try{const A=await K({method:"get",url:n+"/api/emailconfiguration",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});if(A.data.status=="success"&&A.data.emailconfiguration){const k=A.data.emailconfiguration;p({mailer:k.mailer,host:k.host,port:k.port,user_name:k.user_name,encryption:k.encryption,password:k.password,from_address:k.from_address,from_name:k.from_name,is_queue:k.is_queue})}}catch(A){console.log(A)}finally{i(!1)}},[u]=l.useState({mailer:"",host:"",port:"",user_name:"",encryption:"",password:"",from_address:"",from_name:"",is_queue:""}),[c,p]=l.useState(JSON.parse(JSON.stringify(u))),[f,h]=l.useState({}),b=A=>{const{value:k,name:g}=A.target;h({...f,[g]:""}),p({...c,[g]:k}),console.table(c)},S=()=>{h({});let A={};return console.log(A),h(A),{totalErrors:Object.keys(A).length}},[I,T]=l.useState(!1),w=async A=>{var g;T(!0);try{const E=await K({method:"post",url:n+"/api/emailconfiguration",data:A,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});E.data.status=="success"?o(E.data.message):alert("Failed")}catch(E){if(console.log(E),((g=E==null?void 0:E.response)==null?void 0:g.status)===422){const N=E.response.data.errors;let v={};for(var k in N)v={...v,[k]:N[k][0]},console.log(N[k][0]);h(v),re.fire({title:"Server Validation Error! Please solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{T(!1)}},_=()=>{if(S().totalErrors)return!1;const k=new FormData;k.append("mailer",c.mailer),k.append("host",c.host),k.append("port",c.port),k.append("user_name",c.user_name),k.append("encryption",c.encryption),k.append("password",c.password),k.append("from_address",c.from_address),k.append("from_name",c.from_name),k.append("is_queue",c.is_queue),w(k)};return s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),e("div",{className:"panel p-0 flex-1 overflow-x-hidden ",children:r?e(J,{children:e(be,{})}):e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Email Integration"}),e("button",{type:"submit",onClick:()=>{_()},className:"btn btn-primary",children:"Update"})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5 space-y-5",children:s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{children:[s("label",{children:["Email Driver | Mailer ",e("span",{className:" text-[15px] text-red-600",children:"*"})]}),s("select",{name:"mailer",className:"form-select text-white-dark",onChange:A=>b(A),value:c.mailer?c.mailer:"",children:[e("option",{value:"",children:"Select Driver"}),e("option",{value:"smtp",children:"SMPT"}),e("option",{value:"pop",disabled:!0,children:"POP"})]}),f!=null&&f.mailer?e("div",{className:"text-danger mt-1",children:f.mailer}):""]}),s("div",{children:[s("label",{children:["Mail Host ",e("span",{className:" text-[15px] text-red-600",children:"*"})," "]}),e("input",{type:"text",placeholder:"Enter Mail Host",className:"form-input",name:"host",value:c.host,onChange:A=>b(A)}),f!=null&&f.host?e("div",{className:"text-danger mt-1",children:f.host}):""]}),s("div",{children:[s("label",{children:["Mail Port ",e("span",{className:" text-[15px] text-red-600",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Mail Port",className:"form-input",name:"port",value:c.port,onChange:A=>b(A)}),f!=null&&f.port?e("div",{className:"text-danger mt-1",children:f.port}):""]}),s("div",{children:[s("label",{children:["Mail Username ",e("span",{className:" text-[15px] text-red-600",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Mail Username",className:"form-input",name:"user_name",value:c.user_name,onChange:A=>b(A)}),f!=null&&f.user_name?e("div",{className:"text-danger mt-1",children:f.user_name}):""]}),s("div",{children:[s("label",{children:["Mail Password ",e("span",{className:" text-[15px] text-red-600",children:"*"})]}),e("input",{type:"password",placeholder:"Enter Mail Password",className:"form-input",name:"password",value:c.password,onChange:A=>b(A)}),f!=null&&f.password?e("div",{className:"text-danger mt-1",children:f.password}):""]}),s("div",{children:[s("label",{children:["From Email Address",e("span",{className:" text-[15px] text-red-600",children:"*"})]}),e("input",{type:"email",placeholder:"Enter From Address",className:"form-input",name:"from_address",value:c.from_address,onChange:A=>b(A)}),f!=null&&f.from_address?e("div",{className:"text-danger mt-1",children:f.from_address}):""]}),s("div",{children:[s("label",{children:["From Name",e("span",{className:" text-[15px] text-red-600",children:"*"})]}),e("input",{type:"text",placeholder:"Enter From Name",className:"form-input",name:"from_name",value:c.from_name,onChange:A=>b(A)}),f!=null&&f.from_name?e("div",{className:"text-danger mt-1",children:f.from_name}):""]}),s("div",{children:[s("label",{children:["Mail Encryption ",e("span",{className:" text-[15px] text-red-600",children:"*"})]}),s("select",{name:"encryption",className:"form-select text-white-dark",onChange:A=>b(A),value:c.encryption?c.encryption:"",children:[e("option",{value:"",children:"NONE/DEFAULT/NULL"}),e("option",{value:"tsl",children:"TSL"}),e("option",{value:"ssl",children:"SSL"})]}),f!=null&&f.encryption?e("div",{className:"text-danger mt-1",children:f.encryption}):""]}),s("div",{children:[s("label",{children:["Email Queue ",e("span",{className:" text-[15px] text-red-600",children:"*"})]}),s("select",{name:"is_queue",className:"form-select text-white-dark",onChange:A=>b(A),value:c.is_queue?c.is_queue:"",children:[e("option",{value:"",children:"Select Queue"}),e("option",{value:1,children:"Yes"}),e("option",{value:0,children:"No"})]}),f!=null&&f.is_queue?e("div",{className:"text-danger mt-1",children:f.is_queue}):""]})]})})]})})})]})};function Wk({paymentGateways:t,setPaymentGateways:a}){const n=t.find(k=>k.payment_gateway_name=="Razorpay"),r=ve(),i=Re(),{crmToken:o,apiUrl:m}=ee(),[u]=l.useState({payment_gateway_name:"Razorpay",status:"",field_1:"",field_2:"",field_3:""}),[c,p]=l.useState({}),[f,h]=l.useState(u);l.useEffect(()=>{o?n&&h({payment_gateway_name:"Razorpay",status:n.status,field_1:n.field_1,field_2:n.field_2,field_3:n.field_3}):i("/"),r(Se("Settings | Payments | Razorpay"))},[n]);const b=()=>{p({});let k={};return f.payment_gateway_name||(k={...k,payment_gateway_name:"payment gateway name is required"}),console.log(k),p(k),{totalErrors:Object.keys(k).length}},[S,I]=l.useState(!1),T=k=>{const{value:g,name:E}=k.target;p({...c,[E]:""}),h({...f,[E]:g}),console.table(f)},w=async k=>{var E;I(!0);try{const N=await K({method:"post",url:m+"/api/payment-gateways",data:k,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});if(N.data.status=="success"){A(N.data.message);const v=[...t],d=v.findIndex(y=>y.payment_gateway_name=="Razorpay");d>=0?(v[d]=N.data.razorpay,console.log("new ",v),a(v)):a([N.data.razorpay])}}catch(N){if(console.log(N),N.response.status==401&&r(at("")),((E=N==null?void 0:N.response)==null?void 0:E.status)===422){const v=N.response.data.errors;let d={};for(var g in v)d={...d,[g]:v[g][0]},console.log(v[g][0]);p(d),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{I(!1)}},_=()=>{if(b().totalErrors)return!1;const g=new FormData;g.append("payment_gateway_name",f.payment_gateway_name),g.append("status",f.status),g.append("field_1",f.field_1),g.append("field_2",f.field_2),g.append("field_3",f.field_3),w(g)},A=(k="",g="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:g,title:k,padding:"10px 20px"})};return s("form",{autoComplete:"off",className:"space-y-5",children:[e("div",{children:e("input",{type:"text",placeholder:"Enter API Key *",name:"field_1",className:"form-input",value:f.field_1,onChange:k=>T(k)})}),e("div",{children:e("input",{type:"text",placeholder:"Enter Secret Key *",name:"field_2",className:"form-input",value:f.field_2,onChange:k=>T(k)})}),s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e("div",{children:s("select",{name:"field_3",className:"form-select",value:f.field_3,onChange:k=>T(k),children:[e("option",{value:"",children:"Select Environment"}),e("option",{value:"Live",children:"Live"}),e("option",{value:"Demo",children:"Demo"})]})}),e("div",{children:s("select",{name:"status",className:"form-select",value:f.status,onChange:k=>T(k),children:[e("option",{value:"",children:"Select Status"}),e("option",{value:"1",children:"Active"}),e("option",{value:"0",children:"Blocked"})]})})]}),e("button",{type:"button",className:"btn btn-primary !mt-6",onClick:()=>_(),disabled:S,children:S?"Please Wait":"Submit"})]})}function qk({paymentGateways:t,setPaymentGateways:a}){const n=t.find(k=>k.payment_gateway_name=="Paytm"),r=ve(),i=Re(),{crmToken:o,apiUrl:m}=ee(),[u]=l.useState({payment_gateway_name:"Paytm",status:"",field_1:"",field_2:"",field_3:""}),[c,p]=l.useState({}),[f,h]=l.useState(u);l.useEffect(()=>{o?n&&h({payment_gateway_name:"Paytm",status:n.status,field_1:n.field_1,field_2:n.field_2,field_3:n.field_3}):i("/"),r(Se("Settings | Payments | Paytm"))},[n]);const b=()=>{p({});let k={};return f.payment_gateway_name||(k={...k,payment_gateway_name:"payment gateway name is required"}),console.log(k),p(k),{totalErrors:Object.keys(k).length}},[S,I]=l.useState(!1),T=k=>{const{value:g,name:E}=k.target;p({...c,[E]:""}),h({...f,[E]:g}),console.table(f)},w=async k=>{var E;I(!0);try{const N=await K({method:"post",url:m+"/apiUrl/payment-gateways",data:k,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});if(N.data.status=="success"){A(N.data.message);const v=t.findIndex(d=>d.payment_gateway_name=="Paytm");if(v>=0){const d=[...t];d[v]=N.data.paytm,console.log("new ",d),a(d)}else{const d=[...t,N.data.paytm];a(d)}}}catch(N){if(console.log(N),N.response.status==401&&r(at("")),((E=N==null?void 0:N.response)==null?void 0:E.status)===422){const v=N.response.data.errors;let d={};for(var g in v)d={...d,[g]:v[g][0]},console.log(v[g][0]);p(d),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{I(!1)}},_=()=>{if(b().totalErrors)return!1;const g=new FormData;g.append("payment_gateway_name",f.payment_gateway_name),g.append("status",f.status),g.append("field_1",f.field_1),g.append("field_2",f.field_2),g.append("field_3",f.field_3),w(g)},A=(k="",g="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:g,title:k,padding:"10px 20px"})};return s("form",{autoComplete:"off",className:"space-y-5",children:[e("div",{children:e("input",{type:"text",placeholder:"Enter API Key *",name:"field_1",className:"form-input",value:f.field_1,onChange:k=>T(k)})}),e("div",{children:e("input",{type:"text",placeholder:"Enter Secret Key *",name:"field_2",className:"form-input",value:f.field_2,onChange:k=>T(k)})}),s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e("div",{children:s("select",{name:"field_3",className:"form-select",value:f.field_3,onChange:k=>T(k),children:[e("option",{value:"",children:"Select Environment"}),e("option",{value:"Live",children:"Live"}),e("option",{value:"Demo",children:"Demo"})]})}),e("div",{children:s("select",{name:"status",className:"form-select",value:f.status,onChange:k=>T(k),children:[e("option",{value:"",children:"Select Status"}),e("option",{value:"1",children:"Active"}),e("option",{value:"0",children:"Blocked"})]})})]}),e("button",{type:"button",className:"btn btn-primary !mt-6",onClick:()=>_(),disabled:S,children:S?"Please Wait":"Submit"})]})}function Zk({paymentGateways:t,setPaymentGateways:a}){const n=t.find(k=>k.payment_gateway_name=="Phonepe"),r=ve(),i=Re(),{crmToken:o,apiUrl:m}=ee(),[u]=l.useState({payment_gateway_name:"Phonepe",status:"",field_1:"",field_2:"",field_3:""}),[c,p]=l.useState({}),[f,h]=l.useState(u);l.useEffect(()=>{o?n&&h({payment_gateway_name:"Phonepe",status:n.status,field_1:n.field_1,field_2:n.field_2,field_3:n.field_3}):i("/"),r(Se("Settings | Payments | Phonepe"))},[n]);const b=()=>{p({});let k={};return f.payment_gateway_name||(k={...k,payment_gateway_name:"payment gateway name is required"}),console.log(k),p(k),{totalErrors:Object.keys(k).length}},[S,I]=l.useState(!1),T=k=>{const{value:g,name:E}=k.target;p({...c,[E]:""}),h({...f,[E]:g}),console.table(f)},w=async k=>{var E;I(!0);try{const N=await K({method:"post",url:m+"/api/payment-gateways",data:k,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});if(N.data.status=="success"){A(N.data.message);const v=t.findIndex(d=>d.payment_gateway_name=="Phonepe");if(v>=0){const d=[...t];d[v]=N.data.phonepe,console.log("new ",d),a(d)}else{const d=[...t,N.data.phonepe];a(d)}}}catch(N){if(console.log(N),N.response.status==401&&r(at("")),((E=N==null?void 0:N.response)==null?void 0:E.status)===422){const v=N.response.data.errors;let d={};for(var g in v)d={...d,[g]:v[g][0]},console.log(v[g][0]);p(d),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{I(!1)}},_=()=>{if(b().totalErrors)return!1;const g=new FormData;g.append("payment_gateway_name",f.payment_gateway_name),g.append("status",f.status),g.append("field_1",f.field_1),g.append("field_2",f.field_2),g.append("field_3",f.field_3),w(g)},A=(k="",g="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:g,title:k,padding:"10px 20px"})};return s("form",{autoComplete:"off",className:"space-y-5",children:[e("div",{children:e("input",{type:"text",placeholder:"Enter API Key *",name:"field_1",className:"form-input",value:f.field_1,onChange:k=>T(k)})}),e("div",{children:e("input",{type:"text",placeholder:"Enter Secret Key *",name:"field_2",className:"form-input",value:f.field_2,onChange:k=>T(k)})}),s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e("div",{children:s("select",{name:"field_3",className:"form-select",value:f.field_3,onChange:k=>T(k),children:[e("option",{value:"",children:"Select Environment"}),e("option",{value:"Live",children:"Live"}),e("option",{value:"Demo",children:"Demo"})]})}),e("div",{children:s("select",{name:"status",className:"form-select",value:f.status,onChange:k=>T(k),children:[e("option",{value:"",children:"Select Status"}),e("option",{value:"1",children:"Active"}),e("option",{value:"0",children:"Blocked"})]})})]}),e("button",{type:"button",className:"btn btn-primary !mt-6",onClick:()=>_(),disabled:S,children:S?"Please Wait":"Submit"})]})}function Gk(){const t=ve();Re();const{logout:a,crmToken:n,authUser:r,apiUrl:i}=ee(),[o,m]=l.useState(1),u=[10,25,50,100,250,500,1e3],[c,p]=l.useState(u[0]),[f,h]=l.useState(""),[b,S]=l.useState("all"),[I,T]=l.useState([]),[w,_]=l.useState(!0),A=async(q=0)=>{console.log("Fetching Banks........",q),_(!0);try{const D=await K({method:"get",url:i+"/api/banks",params:{page:o,pageSize:c,filterStatus:b,search:f},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});D.data.status=="success"?T(D.data.data):T([])}catch{}finally{_(!1)}};l.useEffect(()=>{t(Se("Dropdown"))},[]);const[k,g]=l.useState(!1);l.useEffect(()=>{k&&(A(),g(!1))},[k]),l.useEffect(()=>{o!==1?m(1):g(!0)},[b,c]),l.useEffect(()=>{k||g(!0)},[o]);const[E,N]=l.useState(!1),[v]=l.useState({id:"",account_holder_name:"",account_type:"",bank_name:"",account_number:"",ifsc_code:"",branch:"",status:"",is_bank_upi:"bank"}),[d,y]=l.useState(v),[M,C]=l.useState({}),x=()=>{C({});let q={};return d.account_number||(q={...q,account_number:"account number is required"}),console.log(q),C(q),{totalErrors:Object.keys(q).length}},[L,F]=l.useState(!1),O=q=>{const{value:D,name:V}=q.target;C({...M,[V]:""}),y({...d,[V]:D}),console.table(d)},$=async q=>{var V;F(!0);try{const j=await K({method:"post",url:i+"/api/banks",data:q,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});j.data.status=="success"?(z(j.data.message),N(!1),A()):alert("Failed")}catch(j){if(console.log(j),j.response.status==401&&a(),((V=j==null?void 0:j.response)==null?void 0:V.status)===422){const U=j.response.data.errors;let Z={};for(var D in U)Z={...Z,[D]:U[D][0]},console.log(U[D][0]);C(Z),z("Server Validation Error! Please Solve")}}finally{F(!1)}},B=q=>{C({}),y(q?{id:q.id,bank_name:q.bank_name,account_number:q.account_number,ifsc_code:q.ifsc_code,branch:q.branch,status:q.status,account_holder_name:q.account_holder_name,account_type:q.account_type}:v),N(!0)},R=()=>{if(x().totalErrors)return!1;const D=new FormData;D.append("id",d.id),D.append("bank_name",d.bank_name),D.append("account_number",d.account_number),D.append("ifsc_code",d.ifsc_code),D.append("branch",d.branch),D.append("status",d.status),D.append("account_holder_name",d.account_holder_name),D.append("account_type",d.account_type),D.append("is_bank_upi","bank"),$(D)},P=q=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async D=>{if(D.value)try{const V=await K({method:"delete",url:i+"/api/banks/"+q.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});V.data.status==="success"&&(z(V.data.message),A())}catch(V){V.response.status==401&&a()}finally{}})},z=(q="",D="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:D,title:q,padding:"10px 20px"})},H=({bank_name:q,branch:D})=>{const j=`${q}`.substring(0,25),U=`${q}`;return e(lt,{content:U,children:s(J,{children:[e("b",{children:j}),e("br",{}),s("b",{children:["Branch : ",D]})]})})},W=({account_holder_name:q,account_number:D,ifsc_code:V})=>{const U=`${q}`.substring(0,20),Z=`${q}`;return e(lt,{content:Z,children:s(J,{children:[e("b",{children:U}),e("br",{}),e("b",{children:D})," ",e("br",{}),s("b",{children:["IFSC Code : ",V]})]})})};return e("div",{children:w?e(be,{}):s(J,{children:[s("div",{className:"flex justify-between items-center mb-4",children:[e("h2",{className:"font-bold text-lg",children:"Banks"}),e("button",{className:"btn btn-sm btn-dark",onClick:()=>B(null),children:"Add New Bank"})]}),s("div",{className:"flex justify-between gap-4",children:[s("div",{className:"flex gap-3  w-full",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:f,onChange:q=>h(q.target.value),placeholder:"Search...",className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{o!=1?m(1):A()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),e("div",{className:"w-[150px]",children:s("select",{className:"form-select ",onChange:q=>S(q.target.value),children:[e("option",{value:"all",children:"All"}),e("option",{value:"1",children:"Active"}),e("option",{value:"0",children:"Blocked"})]})})]}),e("div",{className:"flex gap-3 justify-end  w-full",children:e("button",{disabled:!!w,onClick:()=>A(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})})]}),e("div",{className:"datatables mt-4",children:e(je,{className:"whitespace-nowrap table-hover",records:I==null?void 0:I.data,columns:[{accessor:"bank_name",title:"Bank",render:({bank_name:q,branch:D})=>e(H,{bank_name:q,branch:D})},{accessor:"account_holder_name",title:"Account",render:({account_holder_name:q,account_number:D,ifsc_code:V})=>e(W,{account_holder_name:q,account_number:D,ifsc_code:V})},{accessor:"status",title:"Status",render:({status:q})=>e("span",{className:`badge ${q?"bg-green-500":"bg-red-500"} text-center cursor-pointer py-0.5 w-full`,children:q?"Active":"Blocked"})},{accessor:"id",title:"Action",render:q=>s("div",{className:"flex justify-between w-[70px]",children:[e("button",{onClick:()=>B(q),children:e(Nt,{size:25,color:"purple"})}),e("button",{onClick:()=>P(q),children:e(yu,{size:25,color:"red"})})]})}],totalRecords:I.totalItems,recordsPerPage:c,page:o,onPageChange:q=>m(q),recordsPerPageOptions:u,onRecordsPerPageChange:p,minHeight:400,fetching:w,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:q})=>`Showing  ${I==null?void 0:I.from} to ${I.to} of ${q} entries`})}),e("div",{className:"mb-5",children:e(ge,{appear:!0,show:E,as:l.Fragment,children:s(Ie,{as:"div",open:E,onClose:()=>N(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"font-bold text-lg",children:"Bank"}),e("button",{type:"button",onClick:()=>N(!1),className:"text-white-dark hover:text-dark",children:"X"})]}),s("div",{className:"p-5",children:[s("form",{autoComplete:"off",className:"space-y-5",children:[s("div",{children:[e("input",{type:"text",name:"account_holder_name",value:d.account_holder_name,onChange:q=>O(q),placeholder:"Enter Account Holder Name",className:"form-input"}),M!=null&&M.account_holder_name?e("div",{className:"text-danger mt-1",children:M.account_holder_name}):""]}),s("div",{children:[e("input",{type:"text",name:"bank_name",value:d.bank_name,onChange:q=>O(q),placeholder:"Enter Bank Name",className:"form-input"}),M!=null&&M.bank_name?e("div",{className:"text-danger mt-1",children:M.bank_name}):""]}),s("div",{children:[e("input",{type:"text",name:"account_number",value:d.account_number,onChange:q=>O(q),placeholder:"Enter A/c Number",className:"form-input"}),M!=null&&M.account_number?e("div",{className:"text-danger mt-1",children:M.account_number}):""]}),s("div",{children:[e("input",{type:"text",name:"ifsc_code",value:d.ifsc_code,onChange:q=>O(q),placeholder:"Enter IFSC Code",className:"form-input"}),M!=null&&M.ifsc_code?e("div",{className:"text-danger mt-1",children:M.ifsc_code}):""]}),s("div",{children:[e("input",{type:"text",name:"branch",value:d.branch,onChange:q=>O(q),placeholder:"Enter Branch",className:"form-input"}),M!=null&&M.branch?e("div",{className:"text-danger mt-1",children:M.branch}):""]}),s("div",{children:[s("select",{name:"account_type",className:"form-select",onChange:q=>O(q),value:d.account_type,children:[e("option",{value:"",children:"Select Account Type"}),e("option",{value:"Savings account",children:"Savings account"}),e("option",{value:"Current account",children:"Current account"})]}),M!=null&&M.account_type?e("div",{className:"text-danger mt-1",children:M.account_type}):""]}),s("div",{children:[s("select",{name:"status",className:"form-select",onChange:q=>O(q),value:d.status,children:[e("option",{value:"",children:"Select Status"}),e("option",{value:"1",children:"Active"}),e("option",{value:"0",children:"Inactive"})]}),M!=null&&M.status?e("div",{className:"text-danger mt-1",children:M.status}):""]})]}),s("div",{className:"flex justify-end items-center mt-8",children:[e("button",{type:"button",onClick:()=>N(!1),className:"btn btn-outline-danger",children:"Discard"}),e("button",{type:"button",onClick:()=>R(),className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"Save"})]})]})]})})})})]})})})]})})}function Kk(){const t=ve();Re();const{logout:a,crmToken:n,authUser:r,apiUrl:i}=ee();l.useEffect(()=>{t(Se("Qrcodes"))},[]);const[o,m]=l.useState(1),u=[10,25,50,100,250,500,1e3],[c,p]=l.useState(u[0]),[f,h]=l.useState(""),[b,S]=l.useState("all"),[I,T]=l.useState([]),[w,_]=l.useState(!0),A=async(j=0)=>{console.log("Fetching Banks........",j),_(!0);try{const U=await K({method:"get",url:i+"/api/qrcodes",params:{page:o,pageSize:c,filterStatus:b,search:f},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});U.data.status=="success"?T(U.data.data):T([])}catch{}finally{_(!1)}},[k,g]=l.useState(!1);l.useEffect(()=>{k&&(A(),g(!1))},[k]),l.useEffect(()=>{o!==1?m(1):g(!0)},[b,c]),l.useEffect(()=>{k||g(!0)},[o]),l.useState([]);const E=l.useRef(null),[N,v]=l.useState("https://dummyimage.com/600x400/000/fff"),[d,y]=l.useState(!1),[M]=l.useState({id:"",name:"",upi:"",image:"",status:"",is_bank_upi:"is_bank_upi"}),[C,x]=l.useState(M),[L,F]=l.useState({}),O=()=>{F({});let j={};return C.upi||(j={...j,upi:"Upi  is required"}),F(j),{totalErrors:Object.keys(j).length}},[$,B]=l.useState(!1),R=j=>{const{value:U,name:Z}=j.target;F({...L,[Z]:""}),x({...C,[Z]:U}),console.table(C)},P=j=>{const{name:U}=j.target;if(F({...L,[U]:""}),j.target.files[0]){if(j.target.files[0].type&&j.target.files[0].type.indexOf("image")===-1){F({...L,[U]:"file is not a valid image"});return}const Z=2*1024*1024;if(j.target.files[0].size>Z){F({...L,[U]:"maximum file size is 2 mb"});return}const Y=new FileReader;Y.onload=function(X){v(Y.result),x({...C,[U]:j.target.files[0]})},Y.readAsDataURL(j.target.files[0])}},z=async j=>{var Z;B(!0);try{const Y=await K({method:"post",url:i+"/api/qrcodes",data:j,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});Y.data.status=="success"?(D(Y.data.message),y(!1),A(),x(M)):alert("Failed")}catch(Y){if(console.log(Y),Y.response.status==401&&t(at("")),((Z=Y==null?void 0:Y.response)==null?void 0:Z.status)===422){const X=Y.response.data.errors;let ae={};for(var U in X)ae={...ae,[U]:X[U][0]},console.log(X[U][0]);F(ae),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{B(!1)}},H=j=>{if(F({}),j)x({id:j.id,name:j.name,upi:j.upi,status:j.status,image:"",is_bank_upi:j.is_bank_upi}),j.image?v(`${i}${j.image}`):v("https://dummyimage.com/600x400/000/fff");else{const U=JSON.parse(JSON.stringify(M));x(U),v("https://dummyimage.com/600x400/000/fff")}y(!0)},W=()=>{if(O().totalErrors)return!1;const U=new FormData;U.append("id",C.id),U.append("name",C.name),U.append("upi",C.upi),U.append("image",C.image),U.append("status",C.status),U.append("is_bank_upi","upi"),z(U)},q=j=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async U=>{if(U.value)try{const Z=await K({method:"delete",url:i+"/api/qrcodes/"+j.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});Z.data.status==="success"&&(D(Z.data.message),A())}catch{}finally{}})},D=(j="",U="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:U,title:j,padding:"10px 20px"})},V=({upi:j})=>{const Z=`${j}`.substring(0,25),Y=`${j}`;return e(lt,{content:Y,children:e(J,{children:e("b",{children:Z})})})};return e("div",{children:w?e(J,{children:e(be,{})}):s(J,{children:[s("div",{className:"flex justify-between items-center mb-4",children:[e("h2",{className:"font-bold text-lg",children:"QR Code"}),e("button",{className:"btn btn-sm btn-dark",onClick:()=>H(null),children:"Add New QrCode"})]}),s("div",{className:"flex justify-between gap-4",children:[s("div",{className:"flex gap-3  w-full",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:f,onChange:j=>h(j.target.value),placeholder:"Search...",className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{o!=1?m(1):A()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),e("div",{className:"w-[150px]",children:s("select",{className:"form-select ",onChange:j=>S(j.target.value),children:[e("option",{value:"all",children:"All"}),e("option",{value:"1",children:"Active"}),e("option",{value:"0",children:"Blocked"})]})})]}),e("div",{className:"flex gap-3 justify-end  w-full",children:e("button",{disabled:!!w,onClick:()=>A(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})})]}),e("div",{className:"datatables mt-4",children:e(je,{className:"whitespace-nowrap table-hover",records:I==null?void 0:I.data,columns:[{accessor:"image",title:"Qrcode",render:({image:j})=>e("img",{className:"w-20 h-20 rounded-md overflow-hidden object-cover",src:`${i}${j}`,alt:"img"})},{accessor:"name",title:"Name"},{accessor:"upi",title:"UPI",render:({upi:j})=>e(V,{upi:j})},{accessor:"status",title:"Status",render:({status:j})=>e("span",{className:`badge ${j?"bg-green-500":"bg-red-500"} text-center cursor-pointer py-0.5 w-full`,children:j?"Active":"Blocked"})},{accessor:"id",title:"Action",render:j=>s("div",{className:"flex justify-between w-[70px]",children:[e("button",{onClick:()=>H(j),children:e(Nt,{size:25,color:"purple"})}),e("button",{onClick:()=>q(j),children:e(yu,{size:25,color:"red"})})]})}],totalRecords:I.totalItems,recordsPerPage:c,page:o,onPageChange:j=>m(j),recordsPerPageOptions:u,onRecordsPerPageChange:p,minHeight:400,fetching:w,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:j})=>`Showing  ${I==null?void 0:I.from} to ${I.to} of ${j} entries`})}),e("div",{className:"mb-5",children:e(ge,{appear:!0,show:d,as:l.Fragment,children:s(Ie,{as:"div",open:d,onClose:()=>y(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"font-bold text-lg",children:"QR Code"}),e("button",{type:"button",onClick:()=>{y(!1),x("")},className:"text-white-dark hover:text-dark",children:"X"})]}),s("div",{className:"p-5",children:[s("form",{autoComplete:"off",className:"space-y-5",children:[s("div",{children:[e("input",{type:"text",name:"name",value:C.name,onChange:j=>R(j),placeholder:"Enter  Name",className:"form-input"}),L!=null&&L.name?e("div",{className:"text-danger mt-1",children:L.name}):""]}),s("div",{children:[e("input",{type:"text",name:"upi",value:C.upi,onChange:j=>R(j),placeholder:"Enter Upi",className:"form-input"}),L!=null&&L.upi?e("div",{className:"text-danger mt-1",children:L.upi}):""]}),s("div",{children:[s("select",{name:"status",className:"form-select",onChange:j=>R(j),value:C.status,children:[e("option",{value:"",children:"Select Status"}),e("option",{value:"1",children:"Active"}),e("option",{value:"0",children:"Inactive"})]}),L!=null&&L.status?e("div",{className:"text-danger mt-1",children:L.status}):""]}),s("div",{className:"mb-5",children:[e("label",{children:"Image"}),e("input",{ref:E,name:"image",type:"file",onChange:j=>P(j),className:"form-input hidden",accept:"image/*"}),e("span",{className:"w-full h-40 relative",children:e("img",{className:"w-40 h-40  overflow-hidden object-cover",id:"image",onClick:()=>{E.current.click()},src:N,alt:"image"})}),L!=null&&L.image?e("div",{className:"text-danger mt-1",children:L.image}):""]})]}),s("div",{className:"flex justify-end items-center mt-8",children:[e("button",{type:"button",onClick:()=>y(!1),className:"btn btn-outline-danger",children:"Discard"}),e("button",{type:"button",onClick:()=>W(),className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"Save"})]})]})]})})})})]})})})]})})}const Jp=()=>{const t=ve();l.useEffect(()=>{t(Se("Payments"))});const{settingData:a,crmToken:n,apiUrl:r}=ee(),i=Re(),[o,m]=l.useState(!0);l.useEffect(()=>{n?(t(Se("Payments")),h()):i("/")},[n]);const[u,c]=l.useState((a==null?void 0:a.company_type)==0?"Banks":"Razorpay"),[p,f]=l.useState([]),h=async()=>{m(!0);try{const b=await K({method:"get",url:r+"/api/payment-gateways",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});b.data.status=="success"&&f(b.data.paymentGateways)}catch{}finally{m(!1)}};return s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:o?e("div",{className:"panel h-[calc(100vh-200px)]",children:e(be,{})}):s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Payment Integration"}),s("div",{className:"flex gap-5",children:[(a==null?void 0:a.company_type)==0&&e("button",{type:"button",className:`btn ${u=="Banks"?"btn-dark":"btn-primary"} `,onClick:()=>c("Banks"),children:"Banks"}),(a==null?void 0:a.company_type)==1&&s(J,{children:[e("button",{type:"button",className:`btn ${u=="Razorpay"?"btn-dark":"btn-primary"} `,onClick:()=>c("Razorpay"),children:"RazorPay"}),e("button",{type:"button",className:`btn ${u=="Banks"?"btn-dark":"btn-primary"} `,onClick:()=>c("Banks"),children:"Banks"}),e("button",{type:"button",className:`btn ${u=="QrCode"?"btn-dark":"btn-primary"} `,onClick:()=>c("QrCode"),children:"Qr Code"})]})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5 space-y-5",children:u=="Razorpay"?e(Wk,{paymentGateways:p,setPaymentGateways:f}):u=="Paytm"?e(qk,{paymentGateways:p,setPaymentGateways:f}):u=="PhonePe"?e(Zk,{paymentGateways:p,setPaymentGateways:f}):u=="Banks"?e(Gk,{}):u=="QrCode"?e(Kk,{}):null})]})})})]})};function Yp(){return e(J,{children:e("div",{children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("div",{className:"text-end my-2",children:e(ce,{duration:1,inline:!0,width:137,height:28,className:"me-4 "})}),e("div",{className:" flex gap-3",children:e(ce,{duration:1,inline:!0,width:101,height:38,className:"me-4 "})})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:39,className:"me-4 "})]}),s("div",{children:[e(ce,{duration:1,inline:!0,width:60,height:20,className:"me-4 "}),e(ce,{duration:1,inline:!0,height:80,className:"me-4 "})]})]})]})]})})})})}const Xp=()=>{const t=ve();l.useEffect(()=>{t(Se("Sebi"))});const{crmToken:a,apiUrl:n}=ee();Re();const[r,i]=l.useState(!0),[o,m]=l.useState("");l.useEffect(()=>{},[a]),l.useEffect(()=>{u()},[]);const u=async()=>{i(!0);try{const g=await K({method:"get",url:n+"/api/sebis",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});if(g.data.status=="success"&&g.data.sebis){console.log("***** Fetching Sebi Data ******"),m(g.data.sebis);const E=g.data.sebis;f({id:E.id?E.id:"",company_name:E.company_name?E.company_name:"",sebi_no:E.sebi_no?E.sebi_no:"",principal_name:E.principal_name?E.principal_name:"",email:E.email?E.email:"",mobile:E.mobile?E.mobile:"",complaint_email:E.complaint_email?E.complaint_email:"",complaint_mobile:E.complaint_mobile?E.complaint_mobile:"",gst_no:E.gst_no?E.gst_no:"",address:E.address?E.address:""})}}catch(g){console.log(g)}finally{i(!1)}},[c]=l.useState({id:"",company_name:"",sebi_no:"",principal_name:"",email:"",set_crmtitle:"",complaint_email:"",complaint_mobile:"",mobile:"",gst_no:"",address:""}),[p,f]=l.useState(JSON.parse(JSON.stringify(c))),[h,b]=l.useState({}),S=g=>{const{value:E,name:N}=g.target;b({...h,[N]:""}),f({...p,[N]:E}),console.table(p)},I=()=>{b({});let g={};return console.log(g),b(g),{totalErrors:Object.keys(g).length}},[T,w]=l.useState(!1),_=async g=>{var N;w(!0);try{const v=await K({method:"post",url:n+"/api/sebis",data:g,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});v.data.status=="success"?(u(),m(o),f(v.data.updated),k(v.data.message)):alert("Failed")}catch(v){if(console.log(v),((N=v==null?void 0:v.response)==null?void 0:N.status)===422){const d=v.response.data.errors;let y={};for(var E in d)y={...y,[E]:d[E][0]},console.log(d[E][0]);b(y),re.fire({title:"Server Validation Error! Please solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{w(!1)}},A=()=>{if(I().totalErrors)return!1;const E=new FormData;E.append("id",p.id),E.append("company_name",p.company_name),E.append("sebi_no",p.sebi_no),E.append("principal_name",p.principal_name),E.append("email",p.email),E.append("set_crmtitle",p.set_crmtitle),E.append("complaint_email",p.complaint_email),E.append("complaint_mobile",p.complaint_mobile),E.append("gst_no",p.gst_no),E.append("address",p.address),E.append("mobile",p.mobile),_(E)},k=(g="",E="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:E,title:g,padding:"10px 20px"})};return s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),e("div",{className:"panel p-0 flex-1 overflow-x-hidden ",children:r?e(J,{children:e(Yp,{})}):e("div",{className:"flex flex-col ",children:s("div",{className:"p-5",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"SEBI Settings"}),s("div",{className:" flex gap-2",children:[e("button",{type:"button",onClick:()=>{A()},className:"btn btn-primary",children:p!=null&&p.id?"Update":"Add"}),e("button",{onClick:()=>{u()},className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{children:[e("label",{children:"Company Name "}),e("input",{type:"text",placeholder:"Enter Company Name",className:"form-input",name:"company_name",value:p==null?void 0:p.company_name,onChange:g=>S(g)}),h!=null&&h.company_name?e("div",{className:"text-danger mt-1",children:h.company_name}):""]}),s("div",{children:[s("label",{children:["Sebi Number ",e("b",{className:" text-red-600 text-[15px]",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Sebi Number",className:"form-input",name:"sebi_no",maxLength:12,value:p==null?void 0:p.sebi_no,onChange:g=>S(g)}),h!=null&&h.sebi_no?e("div",{className:"text-danger mt-1",children:h.sebi_no}):""]}),s("div",{children:[e("label",{children:"Principal General Name"}),e("input",{type:"text",placeholder:"Enter Principal General Name",className:"form-input",name:"principal_name",value:p==null?void 0:p.principal_name,onChange:g=>S(g)}),h!=null&&h.principal_name?e("div",{className:"text-danger mt-1",children:h.principal_name}):""]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{children:[e("label",{children:"Email"}),e("input",{type:"text",placeholder:"Enter Email",className:"form-input",name:"email",value:p==null?void 0:p.email,onChange:g=>S(g)}),h!=null&&h.email?e("div",{className:"text-danger mt-1",children:h.email}):""]}),s("div",{children:[e("label",{children:"Mobile No "}),e("input",{type:"text",placeholder:"Enter Mobile No",className:"form-input",name:"mobile",value:p==null?void 0:p.mobile,maxLength:10,onChange:g=>S(g)}),h!=null&&h.mobile?e("div",{className:"text-danger mt-1",children:h.mobile}):""]}),s("div",{children:[s("label",{children:["Complaint Email Id ",e("b",{className:" text-red-600 text-[15px]",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Complaint Email Id",className:"form-input",name:"complaint_email",value:p==null?void 0:p.complaint_email,onChange:g=>S(g)}),h!=null&&h.complaint_email?e("div",{className:"text-danger mt-1",children:h.complaint_email}):""]}),s("div",{children:[e("label",{children:"GST Number"}),e("input",{type:"text",placeholder:"Enter Gst Number",className:"form-input",name:"gst_no",value:p==null?void 0:p.gst_no,maxLength:15,onChange:g=>S(g)}),h!=null&&h.gst_no?e("div",{className:"text-danger mt-1",children:h.gst_no}):""]}),s("div",{children:[s("label",{children:["Complaint Mobile ",e("b",{className:" text-red-600 text-[15px]",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Complaint Mobile",className:"form-input",name:"complaint_mobile",value:p==null?void 0:p.complaint_mobile,onChange:g=>S(g)}),h!=null&&h.complaint_mobile?e("div",{className:"text-danger mt-1",children:h.complaint_mobile}):""]}),s("div",{children:[e("label",{children:"Address"}),e("textarea",{className:"form-input",name:"address",value:p==null?void 0:p.address,onChange:g=>S(g),id:""}),h!=null&&h.address?e("div",{className:"text-danger mt-1",children:h.address}):""]})]})]})]})})})]})};function Qp(){const t=ve();Re(),St();const{addToast:a}=ct(),{crmToken:n,apiUrl:r,settingData:i}=ee(),[o,m]=l.useState(!0),[u,c]=l.useState(null),p=["Admin","Accounts","Branch Admin","Manager","Floor Manager","HR","Complaince","BDE","Team Leader"],[f]=l.useState({auto_expiry_enabled:0,whatsapp_enabled:0,sms_enabled:0,email_enabled:0,app_enabled:0,kyc_enabled:0,riskprofile_enabled:0,aggrement_enabled:0,lead_automation_enabled:0,invoice_enabled:0,gst_enabled:0,gst_value:0,has_manager_verification:0,has_complaince_verification:0,has_accounts_verification:0,payment_permission:0,transfer_permission:0,refer_permission:0,website_permission:0,marketing_permission:0,broadcast_permission:[],sales_verification_enabled:0,who_can_verify_sales:[],who_can_verify_complaince_verification:[],who_can_approve_expire_pause_sales:[],allowed_to_send_links:[]}),[h,b]=l.useState(f),[S,I]=l.useState({}),[T,w]=l.useState([]);l.useEffect(()=>{if(T&&Object.values(T).length){const C=T;b({broadcast_permission:C.broadcast_permission?JSON.parse(C.broadcast_permission):[],sales_verification_enabled:C.sales_verification_enabled,who_can_verify_sales:C.who_can_verify_sales?JSON.parse(C.who_can_verify_sales):[],who_can_verify_complaince_verification:C.who_can_verify_complaince_verification?JSON.parse(C.who_can_verify_complaince_verification):[],who_can_approve_expire_pause_sales:C.who_can_approve_expire_pause_sales?JSON.parse(C.who_can_approve_expire_pause_sales):[],allowed_to_send_links:C.allowed_to_send_links?JSON.parse(C.allowed_to_send_links):[],auto_expiry_enabled:C.auto_expiry_enabled,whatsapp_enabled:C.whatsapp_enabled,sms_enabled:C.sms_enabled,email_enabled:C.email_enabled,app_enabled:C.app_enabled,kyc_enabled:C.kyc_enabled,riskprofile_enabled:C.riskprofile_enabled,aggrement_enabled:C.aggrement_enabled,lead_automation_enabled:C.lead_automation_enabled,invoice_enabled:C.invoice_enabled,has_manager_verification:C.has_manager_verification,has_complaince_verification:C.has_complaince_verification,has_accounts_verification:C.has_accounts_verification,payment_permission:C.payment_permission,transfer_permission:C.transfer_permission,refer_permission:C.refer_permission,website_permission:C.website_permission,marketing_permission:C.marketing_permission,security_numbers:C.security_numbers?C.security_numbers:"",gst_enabled:C.gst_enabled,gst_value:C.gst_value?C.gst_value:0})}},[T]);const[_,A]=l.useState([]),k=async()=>{m(!0),A([]);try{const C=await K({method:"get",url:r+"/api/permissions-and-verifications",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});C.data.status=="success"&&(w(C.data.data),A(C.data.alerts))}catch(C){console.log(C),A([])}finally{m(!1)}};l.useEffect(()=>{k()},[]);const g=C=>C&&C.length?C.map(x=>({value:x,label:x})):[],E=C=>{const{value:x,name:L,type:F,checked:O}=C.target;I({...S,[L]:""}),F=="checkbox"?b({...h,[L]:O?1:0}):b({...h,[L]:x}),console.log(h)},N=()=>{I({});let C={};return console.log(C),I(C),{totalErrors:Object.keys(C).length}},[v,d]=l.useState(!1),y=()=>{if(N().totalErrors)return!1;const x=new FormData;x.append("auto_expiry_enabled",h.auto_expiry_enabled),x.append("whatsapp_enabled",h.whatsapp_enabled),x.append("app_enabled",h.app_enabled),x.append("sms_enabled",h.sms_enabled),x.append("email_enabled",h.email_enabled),x.append("kyc_enabled",h.kyc_enabled),x.append("riskprofile_enabled",h.riskprofile_enabled),x.append("aggrement_enabled",h.aggrement_enabled),x.append("lead_automation_enabled",h.lead_automation_enabled),x.append("invoice_enabled",h.invoice_enabled),x.append("has_manager_verification",h.has_manager_verification),x.append("has_complaince_verification",h.has_complaince_verification),x.append("has_accounts_verification",h.has_accounts_verification),x.append("payment_permission",h.payment_permission),x.append("transfer_permission",h.transfer_permission),x.append("refer_permission",h.refer_permission),x.append("website_permission",h.website_permission),x.append("sales_verification_enabled",h.sales_verification_enabled),x.append("marketing_permission",h.marketing_permission),x.append("broadcast_permission",h.broadcast_permission.length?JSON.stringify(h.broadcast_permission):JSON.stringify([])),x.append("who_can_verify_sales",h.who_can_verify_sales.length?JSON.stringify(h.who_can_verify_sales):JSON.stringify([])),x.append("who_can_verify_complaince_verification",h.who_can_verify_complaince_verification.length?JSON.stringify(h.who_can_verify_complaince_verification):JSON.stringify([])),x.append("who_can_approve_expire_pause_sales",h.who_can_approve_expire_pause_sales.length?JSON.stringify(h.who_can_approve_expire_pause_sales):JSON.stringify([])),x.append("allowed_to_send_links",h.allowed_to_send_links.length?JSON.stringify(h.allowed_to_send_links):JSON.stringify([])),M(x)},M=async C=>{var L;try{const F=await K({method:"post",url:r+"/api/permissions-and-verifications",data:C,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});console.log(F),F.data.status=="success"?(t(Zn(F.data.settings)),a({variant:"success",title:F.data.message}),A(F.data.alerts)):a({variant:"error",title:F.data.message})}catch(F){if(((L=F==null?void 0:F.response)==null?void 0:L.status)===422){const O=F.response.data.errors;let $={};for(var x in O)$={...$,[x]:O[x][0]},console.log(O[x][0]);I($),a({variant:"error",title:F.response.data.message})}}finally{}};return s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:o?e(J,{children:e(be,{})}):u?e(Jk,{error:u,fetchSettings:k}):e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Permissions & Verifications"}),e("div",{className:"flex gap-3",children:s("div",{className:"flex gap-4 items-center",children:[e("button",{type:"button",onClick:()=>{y()},className:"btn btn-primary shadow",disabled:v,children:v?"Please Wait...":"Update"}),e("button",{onClick:()=>{k()},className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),s("div",{className:"p-2",children:[e("div",{children:_==null?void 0:_.map(C=>s("div",{className:"flex items-center dark:bg-[#1b2e4b]  bg-black  rounded-lg",children:[e("div",{className:"w-[50px] flex items-center justify-center p-2",children:e(Sw,{size:30,color:"white"})}),s("div",{className:"flex-1  p-3 text-white rounded-md",children:[e("h5",{className:"text-[16px] font-bold mb-2",children:C.title}),e("p",{children:C==null?void 0:C.message}),e("div",{className:"float-right",children:C.action=="link"?e(Q,{className:"btn btn-sm shadow btn-dark",to:C.link,children:C.linkText}):null})]})]}))}),e("h1",{className:"text-lg font-bold py-2 pb-5",children:"Permissions"}),(i==null?void 0:i.company_type)==1&&s("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s("div",{children:[e("label",{children:"Whatsapp"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative ",children:[e("input",{type:"checkbox",name:"whatsapp_enabled",value:h.whatsapp_enabled,onChange:C=>{E(C)},checked:h.whatsapp_enabled==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
         outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]}),s("div",{children:[e("label",{children:"SMS"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"sms_enabled",value:h.sms_enabled?h.sms_enabled:"",onChange:C=>{E(C)},checked:h.sms_enabled==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
        outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]}),s("div",{children:[e("label",{children:"Application"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"app_enabled",value:h.app_enabled?h.app_enabled:"",onChange:C=>{E(C)},checked:h.app_enabled==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
         outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]}),s("div",{children:[e("label",{children:"KYC"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"kyc_enabled",value:h.kyc_enabled?h.kyc_enabled:"",onChange:C=>{E(C)},checked:h.kyc_enabled==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
     outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]}),s("div",{children:[e("label",{children:"Risk Profile"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"riskprofile_enabled",value:h.riskprofile_enabled?h.riskprofile_enabled:"",onChange:C=>{E(C)},checked:h.riskprofile_enabled==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
    outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]}),s("div",{children:[e("label",{children:"Agreement"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"aggrement_enabled",onChange:C=>{E(C)},value:h.aggrement_enabled?h.aggrement_enabled:"",checked:h.aggrement_enabled==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]}),s("div",{children:[e("label",{children:"Website"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"website_permission",onChange:C=>{E(C)},value:h.website_permission?h.website_permission:"",checked:h.website_permission==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
 outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]}),s("div",{children:[e("label",{children:"Marketing"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"marketing_permission",onChange:C=>{E(C)},value:h.marketing_permission?h.marketing_permission:"",checked:h.marketing_permission==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
 outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s("div",{children:[e("label",{children:"Invoice"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"invoice_enabled",onChange:C=>{E(C)},value:h.invoice_enabled?h.invoice_enabled:"",checked:h.invoice_enabled==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]}),s("div",{children:[e("label",{children:"Email"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"email_enabled",value:h.email_enabled?h.email_enabled:"",onChange:C=>{E(C)},checked:h.email_enabled==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
         outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]}),s("div",{children:[e("label",{children:"Payment"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"payment_permission",onChange:C=>{E(C)},value:h.payment_permission?h.payment_permission:"",checked:h.payment_permission==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
 outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]}),s("div",{children:[e("label",{children:"Transfer"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"transfer_permission",onChange:C=>{E(C)},value:h.transfer_permission?h.transfer_permission:"",checked:h.transfer_permission==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
 outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]}),s("div",{children:[e("label",{children:"Refer"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"refer_permission",onChange:C=>{E(C)},value:h.refer_permission?h.refer_permission:"",checked:h.refer_permission==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:`
 outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300`})]})})]})]})]}),h.website_permission||h.kyc_enabled||h.riskprofile_enabled||h.aggrement_enabled?s(J,{children:[e("hr",{className:"mt-4"}),s("div",{className:"p-2 ",children:[e("h1",{className:"text-lg font-bold pb-5",children:"Who can send links"}),s("div",{className:"pb-2",children:[e("label",{children:"Who Can send links (Website, KYC, Riskprofile and Agreement)"}),e(rt,{name:"allowed_to_send_links",onChange:C=>E({target:{name:"allowed_to_send_links",value:C.map(x=>x.value)}}),value:g(h.allowed_to_send_links),options:p==null?void 0:p.map(C=>({label:C,value:C})),placeholder:"Select User Type",isMulti:!0,className:" text-white-dark",isSearchable:!1}),e("div",{className:"mt-1",children:S!=null&&S.allowed_to_send_links?e("b",{className:"text-danger",children:S.allowed_to_send_links}):e("b",{className:"text-[#08735e]"})})]})]})]}):null,s("div",{className:"p-2 ",children:[e("h1",{className:"text-lg font-bold pb-5",children:"Sales Approvel"}),s("div",{className:"pb-5",children:[e("label",{children:"Who Can Approve, Expire and Pause Sales (Updating Sales Status)"}),e(rt,{name:"who_can_approve_expire_pause_sales",onChange:C=>E({target:{name:"who_can_approve_expire_pause_sales",value:C.map(x=>x.value)}}),value:g(h.who_can_approve_expire_pause_sales),options:p==null?void 0:p.map(C=>({label:C,value:C})),placeholder:"Select User Type",isMulti:!0,className:" text-white-dark",isSearchable:!1}),e("div",{className:"mt-1",children:S!=null&&S.who_can_approve_expire_pause_sales?e("b",{className:"text-danger",children:S.who_can_approve_expire_pause_sales}):s("b",{className:"text-[#08735e]",children:["Services (App notifications, SMS, WhatsApp services) will work only if the sale status is ",e("span",{className:"badge bg-[#075E54]",children:"Approved"})]})})]}),e("h1",{className:"text-lg font-bold pb-4  mt-5",children:"Sales Verifications"}),e("p",{className:"font-bold text-[#2196F3]",children:"Sales verification is optional, not mandatory. If enabled, you can monitor each verification to see who verified it, at what time, and the description they provided during the verification"}),s("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4 mt-2",children:[s("div",{children:[e("label",{children:"Sales Verification"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"sales_verification_enabled",value:h.sales_verification_enabled?h.sales_verification_enabled:"",onChange:C=>{E(C)},checked:h.sales_verification_enabled==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]}),(i==null?void 0:i.company_type)==1?e(J,{children:h.sales_verification_enabled?s(J,{children:[s("div",{children:[e("label",{children:"Manager Verification"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"has_manager_verification",value:h.has_manager_verification?h.has_manager_verification:"",onChange:C=>{E(C)},checked:h.has_manager_verification==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]}),s("div",{children:[e("label",{children:"Complaince Verification"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"has_complaince_verification",value:h.has_complaince_verification?h.has_complaince_verification:"",onChange:C=>{E(C)},checked:h.has_complaince_verification==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]}),s("div",{children:[e("label",{children:"Accounts Verification"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"has_accounts_verification",value:h.has_accounts_verification?h.has_accounts_verification:"",onChange:C=>{E(C)},checked:h.has_accounts_verification==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]})]}):null}):null]}),h.sales_verification_enabled?e(J,{children:s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[s("div",{children:[e("label",{children:"Who Can Verify Sales"}),e(rt,{name:"who_can_verify_sales",onChange:C=>E({target:{name:"who_can_verify_sales",value:C.map(x=>x.value)}}),value:g(h.who_can_verify_sales),options:p==null?void 0:p.map(C=>({label:C,value:C})),placeholder:"Select User Type",isMulti:!0,className:" text-white-dark",isSearchable:!1}),S!=null&&S.who_can_verify_sales?e("b",{className:"text-danger mt-1",children:S.who_can_verify_sales}):""]}),h.has_complaince_verification?s("div",{children:[e("label",{children:"Who Can Verify Complaince Verification"}),e(rt,{name:"who_can_verify_complaince_verification",onChange:C=>E({target:{name:"who_can_verify_complaince_verification",value:C.map(x=>x.value)}}),value:g(h.who_can_verify_complaince_verification),options:p==null?void 0:p.map(C=>({label:C,value:C})),placeholder:"Select User Type",isMulti:!0,className:" text-white-dark",isSearchable:!1}),S!=null&&S.who_can_verify_complaince_verification?e("b",{className:"text-danger mt-1",children:S.who_can_verify_complaince_verification}):""]}):null]})}):null]})]})})})]})}const Jk=({error:t,fetchSettings:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})};function Yk({riskprofile:t,setRiskprofile:a}){const{logout:n,crmToken:r,settingData:i,apiUrl:o}=ee(),[m,u]=l.useState();l.useEffect(()=>{const v=t!=null&&t.questions?JSON.parse(t.questions):[];console.log(v);let d=0;v==null||v.forEach(y=>{const M=JSON.parse(y.options),C=Math.max(...M.map(x=>x.score));d=d+C}),u({totalQuestions:v.length,maximumScore:d})},[t]);const[c,p]=l.useState(null),[f,h]=l.useState(!1),b={full_name:0,phone:0,email:0,pan:0,aadhaar:0,dob:0,age:0},[S,I]=l.useState(b),[T,w]=l.useState({});l.useEffect(()=>{if(t!=null&&t.client_data){const v=JSON.parse(t.client_data);Object.values(v).length&&I({full_name:v.full_name==1?1:0,phone:v.phone==1?1:0,email:v.email==1?1:0,pan:v.pan==1?1:0,aadhaar:v.aadhaar==1?1:0,dob:v.dob==1?1:0,age:v.age==1?1:0})}},[t]);const _=v=>{const{name:d,checked:y}=v.target;w({...T,[d]:""}),I({...S,[d]:y?1:0})},[A,k]=l.useState(!1),g=async v=>{var y,M;k(!0);try{const C=await K({method:"post",url:o+"/api/riskprofile-settings-user-data",data:v,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+r}});C.data.status=="success"?(a(C.data.riskprofile),re.fire({icon:C.data.status,title:C.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})):alert("Failed")}catch(C){if(console.log(C),((y=C==null?void 0:C.response)==null?void 0:y.status)==401&&n(),((M=C==null?void 0:C.response)==null?void 0:M.status)===422){const x=C.response.data.errors;let L={};for(var d in x)L={...L,[d]:x[d][0]},console.log(x[d][0]);w(L),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{k(!1)}},E=()=>{const v=new FormData;v.append("full_name",S.full_name),v.append("phone",S.phone),v.append("email",S.email),v.append("pan",S.pan),v.append("aadhaar",S.aadhaar),v.append("dob",S.dob),v.append("age",S.age),g(v)},N=v=>{console.log("gudiya",v),re.fire({icon:"question",title:"Are You Sure",confirmButtonText:"Yes",text:"You cant able to retrive this  again!",showLoaderOnConfirm:!0,customClass:"sweet-alerts",preConfirm:async()=>{var d;try{const y=await K({method:"delete",url:o+"/riskprofile-settings-risks/"+v,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+r}});y.data.status=="success"?re.fire({icon:y.data.status,title:y.data.title,text:y.data.message,padding:"2em",customClass:"sweet-alerts"}):y.data.status=="error"&&re.fire({icon:y.data.status,title:y.data.title,text:y.data.message,padding:"2em",customClass:"sweet-alerts"})}catch(y){((d=y==null?void 0:y.response)==null?void 0:d.status)==401&&n(),console.log(y)}}})};return s("div",{children:[s("div",{className:"flex justify-between p-2 bg-black text-white items-center rounded",children:[e("b",{children:"General Settings"}),e("button",{className:"btn btn-sm shadow",onClick:()=>{p(null),h(!0)},children:"Add New Risk"})]}),s("div",{className:"flex justify-between mt-4 mb-4",children:[e("div",{className:"rounded p-2 bg-[#DBE7FF]",children:s("p",{children:["Total Questions: ",e("b",{children:m==null?void 0:m.totalQuestions})]})}),e("div",{className:"rounded p-2 bg-[#DBE7FF]",children:s("p",{children:["Maximum Score: ",e("b",{children:m==null?void 0:m.maximumScore})]})}),e("div",{className:"rounded p-2 bg-[#DBE7FF]",children:s("p",{children:["Last Updated: ",e("b",{children:t==null?void 0:t.updated_at})]})})]}),s("div",{children:[e("b",{children:"Risk Assessment"}),e("div",{className:"table-responsive mb-5 mt-4",children:s("table",{children:[e("thead",{children:s("tr",{children:[e("th",{children:"Risk Name"}),e("th",{children:"Maximum Score"}),e("th",{children:"Image"}),e("th",{children:"Status"}),e("th",{children:"Action"})]})}),e("tbody",{children:t!=null&&t.risk_assessment?JSON.parse(t.risk_assessment).map((v,d)=>s("tr",{children:[e("td",{children:e("div",{className:"whitespace-nowrap",children:v.risk_name})}),e("td",{children:v.maximum_score}),e("td",{children:v.risk_image?e("img",{src:"/storage/"+v.risk_image,className:"w-[75px] h-[75px]",alt:"Risk Image"}):"No Image"}),e("td",{children:e("div",{className:`whitespace-nowrap ${v.statu===1?"text-success":v.status==0?"text-danger":"text-success"}`,children:v.status==1?"Active":"Blocked"})}),s("td",{className:"text-center flex  gap-4",children:[e("button",{onClick:()=>{p({...v,index:d}),h(!0)},children:e(Nt,{className:"w-5 h-5",color:"black"})}),s("button",{onClick:()=>{N(d)},children:[" ",e(ws,{className:"w-5 h-5",color:"black"})]})]})]},v.id)):null})]})}),e("b",{children:"Client data needs to be collected"}),s("div",{className:"mb-5 mt-4 flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"full_name",onChange:v=>_(v),checked:!!S.full_name,className:"form-checkbox text-success"}),e("span",{children:"Full Name"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"phone",onChange:v=>_(v),checked:!!S.phone,className:"form-checkbox text-success"}),e("span",{children:"Phone Number"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"email",onChange:v=>_(v),checked:!!S.email,className:"form-checkbox text-success"}),e("span",{children:"Email Address"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"pan",onChange:v=>_(v),checked:!!S.pan,className:"form-checkbox text-success"}),e("span",{children:"Pan Card Number"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"aadhaar",onChange:v=>_(v),checked:!!S.aadhaar,className:"form-checkbox text-success"}),e("span",{children:"Aaddhaar Number"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"dob",onChange:v=>_(v),checked:!!S.dob,className:"form-checkbox text-success"}),e("span",{children:"Date of Birth"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",disabled:!S.dob,name:"age",onChange:v=>_(v),checked:!!S.age,className:"form-checkbox text-warning"}),e("span",{children:"Age"})]})]}),e("div",{className:"float-right",children:e("button",{className:"btn btn-success shadow",disabled:A,onClick:()=>E(),children:A?"Please Wait...":"Update"})})]}),e(Xk,{data:m,drawer:f,setDrawer:h,selectedRisk:c,setSelectedRisk:p,setRiskprofile:a})]})}const Xk=({data:t,drawer:a,setDrawer:n,selectedRisk:r,setSelectedRisk:i,setRiskprofile:o})=>{const m=l.useRef(null),[u,c]=l.useState("/assets/images/icon.png"),{logout:p,crmToken:f,settingData:h,apiUrl:b}=ee(),[S,I]=l.useState([{option:"",score:""}]),[T,w]=l.useState({});l.useEffect(()=>{k({...A,options:S}),console.log(S)},[S]);const _={id:"",risk_name:"",maximum_score:"",risk_image:"",allocation:"",description:"",status:0},[A,k]=l.useState(_);l.useEffect(()=>{r&&Object.values(r).length?(k({id:r!=null&&r.index||(r==null?void 0:r.index)==0?r.index+1:"",risk_name:r!=null&&r.risk_name?r.risk_name:"",maximum_score:r!=null&&r.maximum_score?r.maximum_score:"",risk_image:"",allocation:r!=null&&r.allocation?r.allocation:"",description:r!=null&&r.description?r.description:"",status:r!=null&&r.status?r.status:0}),r!=null&&r.risk_image&&c(b+"/storage/"+r.risk_image)):k(_)},[r]);const g=C=>{const{value:x,name:L}=C.target;w({...T,[L]:""}),k({...A,[L]:x}),console.table(A)},E=C=>{const{name:x}=C.target;if(w({...T,[x]:""}),C.target.files[0]){if(C.target.files[0].type&&C.target.files[0].type.indexOf("image")===-1){w({...T,[x]:"file is not a valid image"});return}const L=2*1024*1024;if(C.target.files[0].size>L){w({...T,[x]:"maximum file size is 2 mb"});return}const F=new FileReader;F.onload=function(O){x=="risk_image"&&c(F.result),console.log("e.target.files[0]",C.target.files[0]),k({...A,[x]:C.target.files[0]})},F.readAsDataURL(C.target.files[0])}},N=()=>{w({});let C={};return A.risk_name||(C.risk_name="risk name is required"),A.maximum_score?A.maximum_score>t.maximumScore&&(C.maximum_score="maximum score not grater than "+t.maximumScore):C.maximum_score="risk maximum score is required",A.allocation||(C.allocation="risk assessment is required"),A.description||(C.description="description is required"),w(C),{totalErrors:Object.keys(C).length}},[v,d]=l.useState(!1),y=async C=>{var L,F;d(!0);try{const O=await K({method:"post",url:b+"/api/riskprofile-settings-risks",data:C,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+f}});console.log(O),O.data.status=="success"?(o(O.data.riskprofile),n(!1),re.fire({icon:O.data.status,title:O.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})):alert("Failed")}catch(O){if(console.log(O),((L=O==null?void 0:O.response)==null?void 0:L.status)==401&&p(),((F=O==null?void 0:O.response)==null?void 0:F.status)===422){const $=O.response.data.errors;let B={};for(var x in $)B={...B,[x]:$[x][0]},console.log($[x][0]);w(B)}}finally{d(!1)}},M=()=>{if(k({...A,options:S}),N().totalErrors)return!1;const x=new FormData;x.append("id",A.id?A.id:""),x.append("risk_name",A.risk_name),x.append("maximum_score",A.maximum_score),x.append("risk_image",A.risk_image),x.append("allocation",A.allocation),x.append("status",A.status),x.append("description",A.description),y(x)};return s(J,{children:[e("div",{className:`${a&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>n(!1)}),e("nav",{className:`${a&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[80%] rtl:-left-[80%] top-0 bottom-0 w-full max-w-[80%] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[e("div",{className:"w-full text-center bg-dark px-4 py-2",children:e("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4",children:e("div",{className:"ltr:mr-3 rtl:ml-3 flex items-center",children:s("h5",{className:"font-semibold text-lg text-white",children:[A!=null&&A.id?"Update ":"Add New "," Risk"]})})})}),s("div",{className:"p-4",children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{children:[e("label",{htmlFor:"risk_name",children:"Risk Name"}),e("input",{id:"risk_name",name:"risk_name",value:A.risk_name,onChange:C=>g(C),type:"text",placeholder:"Enter Risk Name",className:"form-input"}),e("div",{className:"text-danger mt-1",children:T.risk_name})]}),s("div",{children:[e("label",{htmlFor:"maximum_score",children:"Maximum Score"}),e("input",{id:"maximum_score",name:"maximum_score",value:A.maximum_score,onChange:C=>g(C),type:"text",placeholder:"Enter Maximum Score",className:"form-input"}),e("div",{className:"text-danger mt-1",children:T.maximum_score})]}),s("div",{children:[e("label",{htmlFor:"status",children:"Status"}),s("select",{id:"ctnSelect1",name:"status",value:A.status,onChange:C=>g(C),className:"form-select text-white-dark",children:[e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Blocked"})]}),e("div",{className:"text-danger mt-1",children:T.status})]})]}),s("div",{className:"mt-4",children:[e("label",{htmlFor:"description",children:"Description"}),e("textarea",{name:"description",value:A.description,onChange:C=>g(C),rows:5,className:"form-textarea text-white-dark"}),e("div",{className:"text-danger mt-1",children:T.description})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[s("div",{children:[e("label",{htmlFor:"allocation",children:"Risk Allocation"}),e("textarea",{name:"allocation",value:A.allocation,onChange:C=>g(C),rows:6,className:"form-textarea text-white-dark"}),e("div",{className:"text-danger mt-1",children:T.allocation})]}),s("div",{className:"m-auto",children:[e("label",{children:"Risk Image"}),e("input",{ref:m,name:"risk_image",type:"file",onChange:C=>E(C),className:"form-input hidden",accept:"image/*"}),e("span",{className:" relative",children:e("img",{className:"w-[150px] h-[150px] overflow-hidden object-cover ",id:"risk_image",onClick:()=>{m.current.click()},src:u,alt:"risk_image"})}),e("div",{className:"text-danger mt-1",children:T.risk_image})]})]}),e("div",{className:"mt-5 float-right",children:e("button",{className:"btn b btn-success",disabled:v,onClick:()=>M(),children:v?"Please Wait":A!=null&&A.id?"Update Risk":"Add Risk"})})]})]})})]})};function Qk(t){return Ye({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:"currentColor"},child:[]}]})(t)}function eC({riskprofile:t,setRiskprofile:a}){const{logout:n,crmToken:r,authUser:i,apiUrl:o}=ee(),m=t!=null&&t.questions?JSON.parse(t.questions):[];console.log(m);const[u,c]=l.useState(null),[p,f]=l.useState(!1),h=b=>{re.fire({icon:"question",title:"Are You Sure",confirmButtonText:"Yes",text:"You cant able to retrive this  again!",showLoaderOnConfirm:!0,customClass:"sweet-alerts",preConfirm:async()=>{var S;try{const I=await K({method:"delete",url:o+"/api/riskprofile-settings/"+b,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+r}});I.data.status=="success"?(a(I.data.riskprofile),re.fire({icon:I.data.status,title:I.data.title,text:I.data.message,padding:"2em",customClass:"sweet-alerts"})):I.data.status=="error"&&re.fire({icon:I.data.status,title:I.data.title,text:I.data.message,padding:"2em",customClass:"sweet-alerts"})}catch(I){((S=I==null?void 0:I.response)==null?void 0:S.status)==401&&n(),console.log(I)}}})};return s("div",{className:"",children:[s("div",{className:"flex justify-between p-2 bg-black text-white items-center rounded",children:[e("b",{children:"Questions"}),e("button",{className:"btn btn-sm shadow",onClick:()=>{c(null),f(!0)},children:"Add Question"})]}),e("div",{className:"mt-4",children:m.length?m.map((b,S)=>s("div",{className:"bg-[#dbe7ff2e] rounded p-2 mb-2 shadow",children:[s("div",{className:"flex justify-between items-center gap-4",children:[s("p",{children:[S+1,". ",b.question]}),s("div",{className:"flex justify-between gap-4 ",children:[e("button",{onClick:()=>{c({...b,index:S}),f(!0)},children:e(Nt,{className:"w-5 h-5",color:"black"})}),s("button",{onClick:()=>h(S),children:[" ",e(ws,{className:"w-5 h-5",color:"black"})]})]})]}),s("div",{className:"mx-5 bg-[#dbe7ff38] rounded p-2 mt-2",children:[e("small",{className:"text-[#506690] font-bold",children:"Options"}),e("ol",{children:b!=null&&b.options?JSON.parse(b.options).map((I,T)=>s("li",{className:"flex gap-2 items-center",children:[e(Qk,{}),e("p",{children:I.option}),e("span",{className:"badge bg-[black]/50",children:I.score})]},T)):null})]})]})):e(J,{children:"No questions found"})}),e(tC,{question:u,drawer:p,setDrawer:f,setRiskprofile:a})]})}const tC=({question:t,drawer:a,setDrawer:n,setRiskprofile:r})=>{const{logout:i,crmToken:o,settingData:m,apiUrl:u}=ee(),[c,p]=l.useState([{option:"",score:""}]),[f,h]=l.useState({}),b=()=>{p([...c,{option:"",score:""}]),h({...f,options:[]})},S=(d,y)=>{const{name:M,value:C}=y.target,x=[...c];x[d][M]=C,p(x),h({...f,options:[]})},I=d=>{p(c.filter((y,M)=>M!==d)),h({...f,options:[]})};l.useEffect(()=>{_({...w,options:c}),console.log(c)},[c]);const T={id:"",question:"",options:[]},[w,_]=l.useState(T);console.log(t==null?void 0:t.index),l.useEffect(()=>{t&&Object.values(t).length?(p(t!=null&&t.options?JSON.parse(t.options):[]),_({id:t!=null&&t.index||(t==null?void 0:t.index)==0?t.index+1:"",question:t!=null&&t.question?t.question:"",options:t!=null&&t.options?JSON.parse(t.options):[]})):(_(T),p([{option:"",score:""}]))},[t]);const A=d=>{const{value:y,name:M}=d.target;h({...f,[M]:""}),_({...w,[M]:y}),console.log(w)},k=()=>{h({});let d={};if(w.question||(d.question="question is required"),!w.options.length)d.option="minimum one option required";else{let y=w.options.map((M,C)=>{let x={};return M.option||(x.option="option is required"),M.score||(x.score="score is required"),Object.keys(x).length?{...x,index:C}:null}).filter(Boolean);y.length&&(d.options=y)}return console.log(d),h(d),{totalErrors:Object.keys(d).length}},[g,E]=l.useState(!1),N=async d=>{var M,C;E(!0);try{const x=await K({method:"post",url:u+"/api/riskprofile-settings",data:d,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});console.log(x),x.data.status=="success"?(r(x.data.riskprofile),n(!1),_(T),p([{option:"",score:""}]),re.fire({icon:x.data.status,title:x.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}})):alert("Failed")}catch(x){if(console.log(x),((M=x==null?void 0:x.response)==null?void 0:M.status)==401&&i(),((C=x==null?void 0:x.response)==null?void 0:C.status)===422){const L=x.response.data.errors;let F={};for(var y in L)F={...F,[y]:L[y][0]},console.log(L[y][0]);h(F)}}finally{E(!1)}},v=()=>{if(_({...w,options:c}),k().totalErrors)return!1;const y=new FormData;y.append("id",w.id?w.id:""),y.append("question",w.question),y.append("options",JSON.stringify(w.options)),N(y)};return s(J,{children:[e("div",{className:`${a&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>n(!1)}),e("nav",{className:`${a&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[80%] rtl:-left-[80%] top-0 bottom-0 w-full max-w-[80%] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[e("div",{className:"w-full text-center bg-dark px-4 py-2",children:e("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4",children:e("div",{className:"ltr:mr-3 rtl:ml-3 flex items-center",children:s("h5",{className:"font-semibold text-lg text-white",children:[w!=null&&w.id?"Update Question":"Add New Qusetion"," "]})})})}),s("div",{className:"p-4",children:[s("div",{children:[e("label",{htmlFor:"question",children:"Question"}),e("textarea",{id:"question",rows:3,className:"form-textarea",placeholder:"Enter Question",name:"question",value:w.question,onChange:d=>A(d)}),e("div",{className:"text-danger mt-1",children:f.question})]}),s("div",{className:"mt-4",children:[s("div",{className:"flex justify-between items-center mb-4",children:[e("label",{htmlFor:"ctnTextarea",children:"Options"}),e("button",{className:"btn btn-sm btn-dark",onClick:b,children:"Add Option"})]}),s("div",{id:"optionsDiv",children:[e("div",{className:"text-danger mt-1",children:f.option}),c.map((d,y)=>{var M,C,x,L;return e("div",{className:"mb-2",children:s("div",{className:"flex gap-4 ",children:[s("div",{className:"w-full",children:[e("input",{type:"text",name:"option",value:d.option,placeholder:"Enter Option",className:"form-input",onChange:F=>S(y,F)}),s("div",{className:"text-danger",children:[" ",(C=(M=f==null?void 0:f.options)==null?void 0:M.find(F=>F.index===y))==null?void 0:C.option]})]}),s("div",{children:[e("input",{type:"text",name:"score",value:d.score,placeholder:"Enter Score",className:"form-input max-w-[150px]",onChange:F=>S(y,F)}),s("div",{className:"text-danger",children:[" ",(L=(x=f==null?void 0:f.options)==null?void 0:x.find(F=>F.index===y))==null?void 0:L.score]})]}),e("div",{children:e("button",{className:"btn btn-sm btn-danger",onClick:()=>I(y),children:"Delete"})})]},y)})})]}),e("div",{className:"mt-5 float-right",children:e("button",{className:"btn b btn-success",disabled:g,onClick:()=>v(),children:g?"Please Wait":w!=null&&w.id?"Update Question":"Add Question"})})]})]})]})})]})};function aC({riskprofile:t,setRiskprofile:a}){const{logout:n,crmToken:r,authUser:i,apiUrl:o}=ee(),{addToast:m}=ct(),u=t!=null&&t.credentials?JSON.parse(t.credentials):[];console.log(u);const c={username:"",password:""},[p,f]=l.useState(c),[h,b]=l.useState({});l.useEffect(()=>{var k,g,E,N;console.log("ccccccccccccccccc"),u&&Object.values(u).length?f({username:(k=u[0])!=null&&k.username?(g=u[0])==null?void 0:g.username:"",password:(E=u[0])!=null&&E.password?(N=u[0])==null?void 0:N.password:""}):f(c)},[t]);const S=k=>{const{value:g,name:E}=k.target;b({...h,[E]:""}),f({...p,[E]:g}),console.log(p)},I=()=>{b({});let k={};return p.username||(k.username="username is required"),p.password||(k.password="password is required"),console.log(k),b(k),{totalErrors:Object.keys(k).length}},[T,w]=l.useState(!1),_=async k=>{var E,N;w(!0);try{const v=await K({method:"post",url:o+"/api/riskprofile-settings-credentials",data:k,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+r}});console.log(v),v.data.status=="success"?(a(v.data.riskprofile),m({variant:"success",title:v.data.message})):m({variant:"error",title:v.data.message})}catch(v){if(console.log(v),((E=v==null?void 0:v.response)==null?void 0:E.status)==401&&n(),((N=v==null?void 0:v.response)==null?void 0:N.status)===422){const d=v.response.data.errors;let y={};for(var g in d)y={...y,[g]:d[g][0]},console.log(d[g][0]);b(y)}}finally{w(!1)}},A=()=>{if(I().totalErrors)return!1;const g=new FormData;g.append("username",p.username),g.append("password",p.password),_(g)};return s("div",{children:[s("h1",{className:"font-extrabold text-[18px] text-[#009688]",children:[" Credentials for ",e("span",{className:"italic",children:"https://signzy.tech/api/v2"})]}),s("form",{className:"space-y-5 mt-5 max-w-[500px] m-auto bg-[#f1faff] p-4 rounded-xl",children:[s("div",{children:[e("label",{htmlFor:"groupFname",children:"User Name"}),e("input",{type:"text",placeholder:"Enter User Name",className:"form-input",name:"username",value:p.username,onChange:k=>S(k)}),s("div",{className:"text-danger",children:[" ",h==null?void 0:h.username]})]}),s("div",{children:[e("label",{htmlFor:"groupLname",children:"Password"}),e("input",{type:"password",placeholder:"Enter Password",className:"form-input",name:"password",value:p.password,onChange:k=>S(k)}),s("div",{className:"text-danger",children:[" ",h==null?void 0:h.password]})]}),e("button",{type:"button",className:"btn btn-dark !mt-6",disabled:T,onClick:()=>A(),children:T?"Please Wait...":u.length?"Update":"Submit"})]})]})}function il(){const{logout:t,crmToken:a,authUser:n,apiUrl:r}=ee(),i=ve();l.useEffect(()=>{i(Se("Settings | Riskprofile"))});const[o,m]=l.useState("questions"),[u,c]=l.useState(!0);l.useEffect(()=>{h()},[]);const[p,f]=l.useState(null),h=async()=>{c(!0);try{const b=await K({method:"get",url:r+"/api/riskprofile-settings",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});b.data.status=="success"&&f(b.data.riskprofile)}catch{}finally{c(!1)}};return s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),e("div",{className:"panel  flex-1 overflow-x-hidden h-full",children:u?e(be,{}):s(J,{children:[s("div",{className:"flex justify-between mb-2 items-center",children:[e("h1",{className:"font-bold text-[18px]",children:"Risk Profile Settings"}),s("div",{className:"flex gap-4 ",children:[e("button",{onClick:()=>m("questions"),className:`border-b-4 px-2 py-2  font-bold ${o=="questions"?"border-[#000]":"border-[#000]/25 text-[#000]/50"}`,children:"Questions"}),e("button",{onClick:()=>m("general"),className:`border-b-4 px-2 py-2  font-bold ${o=="general"?"border-[#000]":"border-[#000]/25 text-[#000]/50"}`,children:"General"}),e("button",{onClick:()=>m("credentials"),className:`border-b-4 px-2 py-2  font-bold ${o=="credentials"?"border-[#000]":"border-[#000]/25 text-[#000]/50"}`,children:"Credentials"})]})]}),o=="general"?e(Yk,{riskprofile:p,setRiskprofile:f}):o=="questions"?e(eC,{riskprofile:p,setRiskprofile:f}):o=="credentials"?e(aC,{riskprofile:p,setRiskprofile:f}):null]})})]})}function ef(){const{logout:t,crmToken:a,authUser:n,apiUrl:r}=ee(),i=ve();l.useEffect(()=>{i(Se("Settings | Agreement"))}),l.useEffect(()=>{p()},[]);const[o,m]=l.useState(null),[u,c]=l.useState(!0),p=async()=>{c(!0);try{const d=await K({method:"get",url:r+"/api/agreement-settings",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});d.data.status=="success"&&m(d.data.agreement)}catch{}finally{c(!1)}},f=l.useRef(null),[h,b]=l.useState("/assets/images/default/logo.png"),S=d=>{const{name:y}=d.target;if(A({..._,[y]:""}),d.target.files[0]){if(d.target.files[0].type&&d.target.files[0].type.indexOf("image")===-1){A({..._,[y]:"file is not a valid image"});return}const M=2*1024*1024;if(d.target.files[0].size>M){A({..._,[y]:"maximum file size is 2 mb"});return}const C=new FileReader;C.onload=function(x){b(C.result),w({...T,[y]:d.target.files[0]})},C.readAsDataURL(d.target.files[0])}},I={full_name:0,phone:0,email:0,pan:0,aadhaar:0,dob:0,age:0,company_name:"",company_address:"",seal_or_signature:"",person_name:"",username:"",password:""},[T,w]=l.useState(I),[_,A]=l.useState({});l.useEffect(()=>{const d=C=>{try{return JSON.parse(C)||{}}catch{return{}}},y=C=>{const x=d(C);return{full_name:x.full_name==1?1:0,phone:x.phone==1?1:0,email:x.email==1?1:0,pan:x.pan==1?1:0,aadhaar:x.aadhaar==1?1:0,dob:x.dob==1?1:0,age:x.age==1?1:0}},M=C=>{const x=d(C);return{username:x.username||"",password:x.password||""}};if(o){const C=o.client_data?y(o.client_data):{},x=o.credentials?M(o.credentials):{};w({...C,...x,company_name:o.company_name??"",company_address:o.company_address??"",person_name:o.person_name??"",seal_or_signature:""}),console.log({...C,...x,company_name:o.company_name??"",company_address:o.company_address??"",person_name:o.person_name??"",seal_or_signature:""}),o.seal_or_signature&&b(`${r}/storage/${o.seal_or_signature}`)}},[o]);const k=d=>{const{name:y,checked:M,value:C,type:x}=d.target;A({..._,[y]:""});let L={};x=="checkbox"?L={...T,[y]:M?1:0}:L={...T,[y]:C},w({...L})},[g,E]=l.useState(!1),N=async d=>{var M,C;E(!0);try{const x=await K({method:"post",url:r+"/api/agreement-settings",data:d,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});x.data.status=="success"?re.fire({icon:x.data.status,title:x.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}):alert("Failed")}catch(x){if(console.log(x),((M=x==null?void 0:x.response)==null?void 0:M.status)==401&&t(),((C=x==null?void 0:x.response)==null?void 0:C.status)===422){const L=x.response.data.errors;let F={};for(var y in L)F={...F,[y]:L[y][0]},console.log(L[y][0]);A(F),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{E(!1)}},v=()=>{const d=new FormData;d.append("full_name",T.full_name),d.append("phone",T.phone),d.append("email",T.email),d.append("pan",T.pan),d.append("aadhaar",T.aadhaar),d.append("dob",T.dob),d.append("age",T.age),d.append("company_name",T.company_name),d.append("company_address",T.company_address),d.append("seal_or_signature",T.seal_or_signature),d.append("person_name",T.person_name),d.append("username",T.username),d.append("password",T.password),N(d)};return s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),e("div",{className:"panel  flex-1 overflow-x-hidden h-full",children:u?e(be,{}):s(J,{children:[e("div",{className:"flex justify-between mb-2 items-center",children:e("h1",{className:"font-bold text-[18px]",children:"Agreement Settings"})}),e("hr",{}),s("div",{className:"mt-4",children:[e("b",{children:"Agreement Settings"}),s("div",{className:"mt-4 mb-4",children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 ",children:[s("div",{children:[e("label",{htmlFor:"company_name",children:"Company Name"}),e("input",{id:"company_name",name:"company_name",value:T.company_name,onChange:d=>k(d),type:"text",placeholder:"Enter Company Name",className:"form-input"}),e("div",{className:"text-danger mt-1",children:_.company_name})]}),s("div",{children:[e("label",{htmlFor:"person_name",children:"Person Name"}),e("input",{id:"person_name",name:"person_name",value:T.person_name,onChange:d=>k(d),type:"text",placeholder:"Enter Maximum Score",className:"form-input"}),e("div",{className:"text-danger mt-1",children:_.person_name})]}),s("div",{className:"text-center m-auto",children:[e("label",{children:"Seal / signature"}),e("input",{ref:f,name:"seal_or_signature",type:"file",onChange:d=>S(d),className:"form-input hidden",accept:"image/*"}),e("span",{className:" relative",children:e("img",{className:"w-[100px] h-[50px] overflow-hidden object-cover rounded",id:"seal_or_signature",onClick:()=>{f.current.click()},src:h,alt:"seal_or_signature"})}),e("div",{className:"text-danger mt-1",children:_.seal_or_signature})]})]}),s("div",{children:[e("label",{htmlFor:"company_address",children:"Company Address"}),e("textarea",{name:"company_address",rows:5,value:T.company_address,onChange:d=>k(d),className:"form-textarea"}),e("div",{className:"text-danger mt-1",children:_.company_address})]})]}),e("b",{children:"Client data needs to be collected"}),s("div",{className:"mb-5 mt-4 flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"full_name",onChange:d=>k(d),checked:!!T.full_name,className:"form-checkbox text-success"}),e("span",{children:"Full Name"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"phone",onChange:d=>k(d),checked:!!T.phone,className:"form-checkbox text-success"}),e("span",{children:"Phone Number"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"email",onChange:d=>k(d),checked:!!T.email,className:"form-checkbox text-success"}),e("span",{children:"Email Address"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"pan",onChange:d=>k(d),checked:!!T.pan,className:"form-checkbox text-success"}),e("span",{children:"Pan Card Number"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"aadhaar",onChange:d=>k(d),checked:!!T.aadhaar,className:"form-checkbox text-success"}),e("span",{children:"Aaddhaar Number"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",name:"dob",onChange:d=>k(d),checked:!!T.dob,className:"form-checkbox text-success"}),e("span",{children:"Date of Birth"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"checkbox",disabled:!T.dob,name:"age",onChange:d=>k(d),checked:!!T.age,className:"form-checkbox text-warning"}),e("span",{children:"Age"})]})]}),e("hr",{className:"py-4"}),e("b",{children:"e-Sign Credentials"}),s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[s("div",{children:[s("label",{htmlFor:"username",children:["User Name ",T.username]}),e("input",{name:"username",value:T.username,onChange:d=>k(d),type:"text",placeholder:"Enter Usename",className:"form-input"}),e("div",{className:"text-danger mt-1",children:_.username})]}),s("div",{children:[e("label",{htmlFor:"password",children:"Password"}),e("input",{name:"password",value:T.password,onChange:d=>k(d),type:"text",placeholder:"Enter password",className:"form-input"}),e("div",{className:"text-danger mt-1",children:_.password})]})]}),e("div",{className:"float-right",children:e("button",{className:"btn btn-success shadow",disabled:g,onClick:()=>v(),children:g?"Please Wait...":"Updated"})})]})]})})]})}function nC(){const t=_e(n=>n.themeConfig.settingTap),{crmToken:a}=ee();return l.useEffect(()=>{},[a]),l.useState(!1),l.useState([]),s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:`panel w-[280px] h-[calc(100vh-200px)]

                `,children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),t=="general"?e(Wp,{}):t=="sebi"?e(Xp,{}):t=="employee"?e(Js,{}):t=="addemployee"?e(to,{}):t=="permission"?e(Qp,{}):t=="dropdown"?e(nl,{}):t=="product"?e(sl,{}):t=="leadautomation"?e(qp,{}):t=="iptracking"?e(rl,{}):t=="whatsapp"?e(Zp,{}):t=="sms"?e(Gp,{}):t=="email"?e(Kp,{}):t=="payments"?e(Jp,{}):t=="risk-profile"?e(il,{}):t=="agreement"?e(ef,{}):null]})}function sC({fetchingCard:t,cardData:a}){const n=Re();return e(J,{children:t?e(be,{}):s("div",{className:"grid grid-cols-1 sm:grid-cols-3 xl:grid-cols-5 gap-6 mb-6 text-white",children:[s("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400 cursor-pointer ",onClick:()=>{n("/leads/viewleads",{state:{fStatus:0,fState:0}})},children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Total Leads"}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:a==null?void 0:a.totalLeads})]}),s("div",{className:"panel bg-gradient-to-r from-[#6bed3d] to-[#09e1cd] cursor-pointer",onClick:()=>{n("/leads/viewleads",{state:{fStatus:"Closed Won",fState:0}})},children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Closed Won"}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:a==null?void 0:a.closedWon})]}),s("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400 cursor-pointer",onClick:()=>{n("/leads/viewleads",{state:{fStatus:"Follow Up",fState:0}})},children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Followup"}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:a==null?void 0:a.followUp})]}),s("div",{className:"panel bg-gradient-to-r from-blue-500 to-blue-400 cursor-pointer",onClick:()=>{n("/leads/viewleads",{state:{fStatus:"Free Trial",fState:0}})},children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold ",children:"Free Trial"}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:a==null?void 0:a.freeTrail})]}),s("div",{className:"panel bg-gradient-to-r from-fuchsia-500 to-fuchsia-400  cursor-pointer",onClick:()=>{n("/leads/viewleads",{state:{fStatus:0,fState:0}})},children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Others"}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:a==null?void 0:a.others})]})]})})}function rC({followUpData:t,followUpPageSize:a,followUpPage:n,setFollowUpPage:r,followUp_PAGE_SIZES:i,setFollowUpPageSize:o,followUpReload:m,followUpDate:u,setFollowUpDate:c}){const{authUser:p}=ee(),f=Re(),h=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return s("div",{className:"panel h-full w-full",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("div",{children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Follow UP"})}),e("div",{className:"flex items-center flex-wrap",children:e("div",{children:e(Je,{options:{dateFormat:"Y-m-d",position:"auto left"},value:u,className:"form-input w-[150px]",onChange:b=>{const S=b.map(I=>h.format(new Date(I)).split("/").reverse().join("-"));S.length==1&&c(S[0])}})})})]}),e("div",{className:"table-responsive",children:e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:t.data,columns:[{accessor:"first_name",title:"Name"},{accessor:"phone",title:"Phone"},{accessor:"state",title:"State"},{accessor:"followup",title:"Follow Up Date"}],onCellClick:({record:b,column:S})=>{f("/leads/viewleads/show",{state:{lead_id:b.id,filterOwner:p.id,filterStatus:"today-follow-up",filterState:0,multyLead:1}})},totalRecords:t.totalItems,recordsPerPage:a,page:n,onPageChange:b=>r(b),recordsPerPageOptions:i,onRecordsPerPageChange:o,fetching:m,minHeight:200,paginationText:({totalRecords:b})=>`Showing  ${t.from} to ${t.to} of ${b} entries`})})})]})}function tf({freeTrailData:t,freeTrailPageSize:a,freeTrailPage:n,setFreeTrailPage:r,freeTrail_PAGE_SIZES:i,setFreeTrailPageSize:o,freeTrailReload:m,freeTrailDate:u,setFreeTrailDate:c}){const{authUser:p}=ee(),f=Re(),h=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return console.log(1233),console.log("freeTrailData",t),console.log("freeTrailDate",u),s("div",{className:"panel h-full w-full",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("div",{children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Free Trial"})}),e("div",{className:"flex items-center flex-wrap",children:e("div",{children:e(Je,{options:{dateFormat:"Y-m-d",position:"auto left"},value:u,className:"form-input w-[150px]",onChange:b=>{const S=b.map(I=>h.format(new Date(I)).split("/").reverse().join("-"));S.length==1&&c(S[0])}})})})]}),e("div",{className:"table-responsive",children:e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:t.data,columns:[{accessor:"first_name",title:"Name"},{accessor:"phone",title:"Phone"},{accessor:"state",title:"State"},{accessor:"free_trial",title:"Free Trial Date"}],onCellClick:({record:b,column:S})=>{f("/leads/viewleads/show",{state:{lead_id:b.id,filterOwner:p.id,filterStatus:"today-free-trial",filterState:0,multyLead:1}})},totalRecords:t.totalItems,recordsPerPage:a,page:n,onPageChange:b=>r(b),recordsPerPageOptions:i,onRecordsPerPageChange:o,minHeight:200,paginationText:({totalRecords:b})=>`Showing  ${t.from} to ${t.to} of ${b} entries`})})})]})}function iC({fetchingSale:t,saleData:a}){return e(J,{children:t?e(be,{}):e("div",{className:"panel bg-gradient-to-r from-[#6bed3d] to-[#09e1cd] mb-4",children:s("div",{className:"grid grid-cols-1 sm:grid-cols-3 xl:grid-cols-4 gap-6  ",children:[s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Today's Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a==null?void 0:a.today]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"This Month Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a==null?void 0:a.thisMonth]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Last Month Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a.lastMonth]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"All Time Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a==null?void 0:a.allTime]})]})]})})})}function Ns(){const{logout:t,crmToken:a,authUser:n,apiUrl:r}=ee(),i=ve(),[o,m]=l.useState(!1),{addToast:u}=ct();l.useEffect(()=>{n!=null&&n.pin?m(!1):m(!0)},[n==null?void 0:n.pin]);const[c]=l.useState({id:"",pin:"",pin_confirmation:""}),[p,f]=l.useState(c),[h,b]=l.useState({}),S=()=>{b({});let k={};return p.pin||(k={...k,pin:"pin is required"}),b(k),{totalErrors:Object.keys(k).length}},I=k=>{const{value:g,name:E}=k.target;b({...h,[E]:""}),f({...p,[E]:g})},[T,w]=l.useState(!1),_=async k=>{var E;w(!0);try{const N=await K({method:"post",url:r+"/api/user-update-pin",data:k,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});N.data.status=="success"?(f(c),m(!1),i(Gn({...n,pin:!0})),u({variant:"success",title:N.data.message})):alert("Failed")}catch(N){if(N.response.status==401&&t(),((E=N==null?void 0:N.response)==null?void 0:E.status)===422){const v=N.response.data.errors;let d={};for(var g in v)d={...d,[g]:v[g][0]},console.log(v[g][0]);b(d),u({variant:"error",title:N.response.message})}}finally{w(!1)}},A=()=>{if(S().totalErrors)return u({variant:"error",title:"Validation Error! Please Solve"}),!1;const g=new FormData;g.append("id",p.id),g.append("pin",p.pin),g.append("pin_confirmation",p.pin_confirmation),_(g)};return e("div",{children:e(ge,{appear:!0,show:o,as:l.Fragment,children:s(Ie,{as:"div",open:o,onClose:()=>{m(!1)},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"register_modal",className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 py-1 px-4 rounded-lg overflow-hidden w-full max-w-sm my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex items-center justify-between p-5 font-semibold text-lg dark:text-white",children:[e("h5",{children:"Set Pin"}),e("button",{type:"button",onClick:()=>m(!1),className:"text-white-dark hover:text-dark",children:e(Ht,{className:"w-5 h-5"})})]}),e("div",{className:"p-3",children:s("form",{autoComplete:"off",children:[s("div",{className:"relative mb-4",children:[e("label",{children:"Pin"}),e("input",{className:"form-input",type:"text",maxLength:4,name:"pin",onChange:k=>{I(k)},placeholder:"Enter New Pin"}),e("div",{className:"text-danger mt-1",children:h.pin})]}),s("div",{className:"relative mb-4",children:[e("label",{children:"Confirm Pin"}),e("input",{className:"form-input",type:"text",maxLength:4,name:"pin_confirmation",onChange:k=>{I(k)},placeholder:"Enter Confirm Pin "}),e("div",{className:"text-danger mt-1",children:h.pin_confirmation})]}),s("div",{className:"flex justify-between gap-5",children:[e("button",{type:"button",onClick:()=>i(Gn({...n,pin:!0})),className:"btn btn-outline-primary w-full",children:"Skip"}),e("button",{type:"button",onClick:()=>A(),disabled:T,className:"btn btn-primary w-full",children:T?"Please Wait":"Submit"})]})]})})]})})})})]})})})}function lC(){const{logout:t,crmToken:a,apiUrl:n}=ee(),[r,i]=l.useState(!0),[o,m]=l.useState([]),[u,c]=l.useState(!0),[p,f]=l.useState([]),h=()=>new Date().toISOString().split("T")[0];l.useState();const[b,S]=l.useState(!0),[I,T]=l.useState([]),[w,_]=l.useState(1),A=[10,20,30,50,100],[k,g]=l.useState(A[0]),[E,N]=l.useState(h()),[v,d]=l.useState(!0),[y,M]=l.useState([]),[C,x]=l.useState(1),L=[10,20,30,50,100],[F,O]=l.useState(L[0]),[$,B]=l.useState(h());l.useEffect(()=>{C!==1?x(1):d(!0)},[F,$]),l.useEffect(()=>{C||d(!0)},[C]),l.useEffect(()=>{w!==1?_(1):S(!0)},[k,E]),l.useEffect(()=>{w||S(!0)},[w]),l.useEffect(()=>{(r||b||v)&&R()},[r,b,v]);const R=async()=>{console.log("Fecheing BDE Dashboard Data ......");try{const P=await K({method:"get",url:n+"/api/get-bde-dashboard",params:{fetchingCard:r,fetchingSale:u,followUpReload:b,freeTrailReload:v,followUpPageSize:k,followUpPage:w,followUpDate:E,freeTrailPageSize:F,freeTrailPage:C,freeTrailDate:$},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});P.data.status=="success"&&(r&&m(P.data.data.cardData),u&&f(P.data.data.saleData),b&&T(P.data.data.followUpData),v&&M(P.data.data.freeTrailData)),console.log(P)}catch{}finally{r&&i(!1),u&&c(!1),b&&S(!1),v&&d(!1)}};return s(J,{children:[e(sC,{fetchingCard:r,cardData:o}),e(iC,{fetchingSale:u,saleData:p}),e(Ns,{}),s("div",{className:"grid grid-cols-1 sm:grid-cols-1 xl:grid-cols-2 gap-6 mb-6 ",children:[e(rC,{followUpData:I,followUpPageSize:k,followUpPage:w,setFollowUpPage:_,followUp_PAGE_SIZES:A,setFollowUpPageSize:g,followUpReload:b,followUpDate:E,setFollowUpDate:N}),e(tf,{freeTrailData:y,freeTrailPageSize:F,freeTrailPage:C,setFreeTrailPage:x,freeTrail_PAGE_SIZES:L,setFreeTrailPageSize:O,freeTrailReload:v,freeTrailDate:$,setFreeTrailDate:B})]})]})}function oC({cardLoad:t,cardData:a}){const n=Re();return e(J,{children:t?e(be,{}):s("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6 mb-6 text-white",children:[s("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Total Leads"}),s("div",{className:"flex justify-between mt-5",children:[s("div",{className:"cursor-pointer w-full",onClick:()=>{n("/leads/viewleads",{state:{fStatus:0,fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.ownTotalLeads}),e("small",{children:"My Own"})]}),e("hr",{className:"border-2 h-[50px]"}),s("div",{className:"cursor-pointer w-full text-end",onClick:()=>{n("/team-leads",{state:{fStatus:0,fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.teamTotalLeads}),e("small",{children:"My Team's"})]})]})]}),s("div",{className:"panel bg-gradient-to-r from-[#6bed3d] to-[#09e1cd]",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Closed Won"}),s("div",{className:"flex justify-between mt-5",children:[s("div",{className:"cursor-pointer w-full",onClick:()=>{n("/leads/viewleads",{state:{fStatus:"Closed Won",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.ownClosedWonLeads}),e("small",{children:"My Own"})]}),e("hr",{className:"border-2 h-[50px]"}),s("div",{className:"cursor-pointer w-full text-end",onClick:()=>{n("/team-leads",{state:{fStatus:"Closed Won",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.teamClosedWonLeads}),e("small",{children:"My Team's"})]})]})]}),s("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Followup"}),s("div",{className:"flex justify-between mt-5",children:[s("div",{className:"cursor-pointer w-full",onClick:()=>{n("/leads/viewleads",{state:{fStatus:"Follow Up",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.ownFollowupLeads}),e("small",{children:"My Own"})]}),e("hr",{className:"border-2 h-[50px]"}),s("div",{className:"cursor-pointer w-full text-end",onClick:()=>{n("/team-leads",{state:{fStatus:"Follow Up",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.teamFollowupLeads}),e("small",{children:"My Team's"})]})]})]}),s("div",{className:"panel bg-gradient-to-r from-blue-500 to-blue-400",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Free Trial"}),s("div",{className:"flex justify-between mt-5",children:[s("div",{className:"cursor-pointer w-full",onClick:()=>{n("/leads/viewleads",{state:{fStatus:"Free Trial",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.ownFreeTrailLeads}),e("small",{children:"My Own"})]}),e("hr",{className:"border-2 h-[50px]"}),s("div",{className:"cursor-pointer w-full text-end",onClick:()=>{n("/team-leads",{state:{fStatus:"Free Trial",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.teamFreeTrailLeads}),e("small",{children:"My Team's"})]})]})]})]})})}function cC({todaySaleDtata:t,setTodaySaleFilter:a,todaySaleFilter:n,graphLoad:r}){const i=_e(u=>u.themeConfig.theme==="dark"||u.themeConfig.isDarkMode),o=_e(u=>u.themeConfig.rtlClass)==="rtl";l.useState(!1);const m={series:[{name:"Sales",data:t==null?void 0:t.map(u=>u.sales),type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#5c1ac3","#a78bfa"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:.4},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:i?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}}},xaxis:{categories:t==null?void 0:t.map(u=>u.name),axisBorder:{show:!0,color:i?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:6,opposite:!!o,labels:{offsetX:o?-10:0}},fill:{type:"gradient",gradient:{shade:i?"dark":"light",type:"vertical",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-start justify-between dark:text-white-light p-5 border-b  border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg ",children:"Today's Sales"}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",defaultChecked:n=="active",onClick:()=>a("active")}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",defaultChecked:n=="inactive",onClick:()=>a("inactive")}),e("span",{children:"Inactive Users"})]})]})]}),r?e(be,{}):t!=null&&t.length?e(et,{options:m.options,series:m.series,type:"bar",height:450,className:"overflow-hidden"}):e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})})]})}function dC({monthSaleDtata:t,monthSaleFilter:a,setMonthSaleFilter:n,graphLoad:r}){const i=_e(u=>u.themeConfig.theme==="dark"||u.themeConfig.isDarkMode),o=_e(u=>u.themeConfig.rtlClass)==="rtl",m={series:[{name:"Direct",data:t==null?void 0:t.map(u=>u.sales),type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#5c1ac3","#a78bfa"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:.4},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:i?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}}},xaxis:{categories:t==null?void 0:t.map(u=>u.name),axisBorder:{show:!0,color:i?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:6,opposite:!!o,labels:{offsetX:o?-10:0}},fill:{type:"gradient",gradient:{shade:i?"dark":"light",type:"vertical",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-start justify-between dark:text-white-light p-5 border-b  border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg ",children:"Monthly Sales"}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",defaultChecked:a=="active",onClick:()=>n("active")}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",defaultChecked:a=="inactive",onClick:()=>n("inactive")}),e("span",{children:"Inactive Users"})]})]})]}),r?e(be,{}):t!=null&&t.length?e(et,{options:m.options,series:m.series,type:"bar",height:450,className:"overflow-hidden"}):e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})})]})}function uC({todayCallData:t,todayCallFilter:a,setTodayCallFilter:n,graphLoad:r}){const i=_e(u=>u.themeConfig.theme==="dark"||u.themeConfig.isDarkMode),o=_e(u=>u.themeConfig.rtlClass)==="rtl",m={series:[{name:"Calls",data:t==null?void 0:t.map(u=>u.calls),type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#5c1ac3","#a78bfa"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:.4},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:i?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}}},xaxis:{categories:t==null?void 0:t.map(u=>u.name),axisBorder:{show:!0,color:i?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:6,opposite:!!o,labels:{offsetX:o?-10:0}},fill:{type:"gradient",gradient:{shade:i?"dark":"light",type:"vertical",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-start justify-between dark:text-white-light p-5 border-b  border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg ",children:"Today's Calls"}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",defaultChecked:a=="active",onClick:()=>n("active")}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",defaultChecked:a=="inactive",onClick:()=>n("inactive")}),e("span",{children:"Inactive Users"})]})]})]}),r?e(be,{}):t!=null&&t.length?e(et,{options:m.options,series:m.series,type:"bar",height:450,className:"overflow-hidden"}):e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})})]})}function mC({monthCallData:t,monthCallFilter:a,setMonthCallFilter:n,graphLoad:r}){const i=_e(u=>u.themeConfig.theme==="dark"||u.themeConfig.isDarkMode),o=_e(u=>u.themeConfig.rtlClass)==="rtl",m={series:[{name:"Direct",data:t==null?void 0:t.map(u=>u.calls),type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#5c1ac3","#a78bfa"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:.4},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:i?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}}},xaxis:{categories:t==null?void 0:t.map(u=>u.name),axisBorder:{show:!0,color:i?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:6,opposite:!!o,labels:{offsetX:o?-10:0}},fill:{type:"gradient",gradient:{shade:i?"dark":"light",type:"vertical",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-start justify-between dark:text-white-light p-5 border-b  border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg ",children:"Monthly Sales"}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",defaultChecked:a=="active",onClick:()=>n("active")}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",defaultChecked:a=="inactive",onClick:()=>n("inactive")}),e("span",{children:"Inactive Users"})]})]})]}),r?e(be,{}):t!=null&&t.length?e(et,{options:m.options,series:m.series,type:"bar",height:450,className:"overflow-hidden"}):e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})})]})}function hC({leadData:t,leadFilter:a,setLeadFilter:n,graphLoad:r}){const i=_e(u=>u.themeConfig.theme==="dark"||u.themeConfig.isDarkMode),o=_e(u=>u.themeConfig.rtlClass)==="rtl",m={series:[{name:"Leads",data:t==null?void 0:t.map(u=>u.leads),type:"column"},{name:"Closed Won",type:"area",data:t==null?void 0:t.map(u=>u.closedwon_leads)}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#5c1ac3","#a78bfa"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:.4},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:i?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}}},xaxis:{categories:t==null?void 0:t.map(u=>u.name),axisBorder:{show:!0,color:i?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:6,opposite:!!o,labels:{offsetX:o?-10:0}},fill:{type:"gradient",gradient:{shade:i?"dark":"light",type:"vertical",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-start justify-between dark:text-white-light p-5 border-b  border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg ",children:"Lead Count"}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",defaultChecked:a=="active",onClick:()=>n("active")}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",defaultChecked:a=="inactive",onClick:()=>n("inactive")}),e("span",{children:"Inactive Users"})]})]})]}),r?e(be,{}):t!=null&&t.length?e(et,{options:m.options,series:m.series,type:"bar",height:450,className:"overflow-hidden"}):e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})})]})}function pC({tab:t,setTab:a,todaySaleDtata:n,setTodaySaleFilter:r,todaySaleFilter:i,graphLoad:o,monthSaleDtata:m,monthSaleFilter:u,setMonthSaleFilter:c,todayCallData:p,todayCallFilter:f,setTodayCallFilter:h,monthCallData:b,monthCallFilter:S,setMonthCallFilter:I,leadData:T,leadFilter:w,setLeadFilter:_}){return s("div",{className:" flex gap-5",children:[s("div",{className:"bg-white-light shadow-[4px_6px_10px_-3px_#bfc9d4] flex flex-col gap-6 p-5 rounded min-w-[220px] h-full",children:[e("button",{type:"button",className:`btn btn-lg ${t=="todaySale"?"btn-gradient":"btn-dark"}`,onClick:()=>a("todaySale"),children:"Today's Sales"}),e("button",{type:"button",className:`btn btn-lg ${t=="monthSale"?"btn-gradient":"btn-dark"}`,onClick:()=>a("monthSale"),children:"Monthly Sales"}),e("button",{type:"button",className:`btn btn-lg ${t=="todayCall"?"btn-gradient":"btn-dark"}`,onClick:()=>a("todayCall"),children:"Today's Calls"}),e("button",{type:"button",className:`btn btn-lg ${t=="monthCall"?"btn-gradient":"btn-dark"}`,onClick:()=>a("monthCall"),children:"Monthly Calls"}),e("button",{type:"button",className:`btn btn-lg ${t=="leadCount"?"btn-gradient":"btn-dark"}`,onClick:()=>a("leadCount"),children:"Leads Count"})]}),e("div",{className:" flex-1 ",children:t=="todaySale"?e(cC,{todaySaleDtata:n,setTodaySaleFilter:r,todaySaleFilter:i,graphLoad:o}):t=="monthSale"?e(dC,{monthSaleDtata:m,monthSaleFilter:u,setMonthSaleFilter:c,graphLoad:o}):t=="todayCall"?e(uC,{todayCallData:p,todayCallFilter:f,setTodayCallFilter:h,graphLoad:o}):t=="monthCall"?e(mC,{monthCallData:b,monthCallFilter:S,setMonthCallFilter:I,graphLoad:o}):e(hC,{leadData:T,leadFilter:w,setLeadFilter:_,graphLoad:o})})]})}function fC({fetchingSale:t,saleData:a}){var n,r,i,o;return e(J,{children:t?e(be,{}):s(J,{children:[e("div",{className:"panel bg-gradient-to-r from-[#6bed3d] to-[#09e1cd] mb-4",children:s("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6  ",children:[s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Today's Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a==null?void 0:a.today]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"This Month Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a==null?void 0:a.thisMonth]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Last Month Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a==null?void 0:a.lastMonth]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"All Time Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a==null?void 0:a.allTime]})]})]})}),e("div",{className:"panel bg-gradient-to-r from-[#6bed3d] to-[#09e1cd] mb-4",children:s("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6  ",children:[s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Today's Team Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",(n=a==null?void 0:a.teamSales)==null?void 0:n.today]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"This Month Team Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",(r=a==null?void 0:a.teamSales)==null?void 0:r.thisMonth]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Last Month Team Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",(i=a==null?void 0:a.teamSales)==null?void 0:i.lastMonth]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"All Time Team Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",(o=a==null?void 0:a.teamSales)==null?void 0:o.allTime]})]})]})})]})})}function gC({followUpData:t,followUpPageSize:a,followUpPage:n,setFollowUpPage:r,followUp_PAGE_SIZES:i,setFollowUpPageSize:o,followUpReload:m,followUpDate:u,setFollowUpDate:c}){const{authUser:p}=ee(),f=Re(),h=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return s("div",{className:"panel h-full w-full",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("div",{children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Follow UP"})}),e("div",{className:"flex items-center flex-wrap",children:e("div",{children:e(Je,{options:{dateFormat:"Y-m-d",position:"auto left"},value:u,className:"form-input w-[150px]",onChange:b=>{const S=b.map(I=>h.format(new Date(I)).split("/").reverse().join("-"));S.length==1&&c(S[0])}})})})]}),e("div",{className:"table-responsive",children:e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:t.data,columns:[{accessor:"first_name",title:"Name"},{accessor:"phone",title:"Phone"},{accessor:"state",title:"State"},{accessor:"followup",title:"Follow Up Date"}],onCellClick:({record:b,column:S})=>{f("/leads/viewleads/show",{state:{lead_id:b.id,filterOwner:p.id,filterStatus:"today-follow-up",filterState:0,multyLead:1}})},totalRecords:t.totalItems,recordsPerPage:a,page:n,onPageChange:b=>r(b),recordsPerPageOptions:i,onRecordsPerPageChange:o,minHeight:200,paginationText:({totalRecords:b})=>`Showing  ${t.from} to ${t.to} of ${b} entries`})})})]})}function bC(){const{logout:t,crmToken:a,apiUrl:n}=ee(),[r,i]=l.useState("todaySale"),[o,m]=l.useState([]),[u,c]=l.useState(!0),[p,f]=l.useState(!0),[h,b]=l.useState([]),[S,I]=l.useState(!0),[T,w]=l.useState([]),[_,A]=l.useState("active"),[k,g]=l.useState([]),[E,N]=l.useState("active"),[v,d]=l.useState([]),[y,M]=l.useState("active"),[C,x]=l.useState([]),[L,F]=l.useState("active"),[O,$]=l.useState([]),[B,R]=l.useState("active"),P=()=>new Date().toISOString().split("T")[0],[z,H]=l.useState(!0),[W,q]=l.useState([]),[D,V]=l.useState(1),j=[10,20,30,50,100],[U,Z]=l.useState(j[0]),[Y,X]=l.useState(P()),[ae,he]=l.useState(!0),[te,G]=l.useState([]),[fe,ne]=l.useState(1),pe=[10,20,30,50,100],[ue,le]=l.useState(pe[0]),[Ce,Be]=l.useState(P());l.useEffect(()=>{fe!==1?ne(1):he(!0)},[ue,Ce]),l.useEffect(()=>{fe||he(!0)},[fe]),l.useEffect(()=>{D!==1?V(1):H(!0)},[U,Y,Y,Ce]),l.useEffect(()=>{Ue()},[r,_,E,y,L,B,p,Y,Ce,z,ae]);const Ue=async()=>{I(!0);try{const Te=await K({method:"get",url:n+"/api/get-leader-dashboard",params:{cardLoad:u,tab:r,todaySaleFilter:_,monthSaleFilter:E,todayCallFilter:y,monthCallFilter:L,leadFilter:B,fetchingSale:p,followUpReload:z,freeTrailReload:ae,followUpPageSize:U,followUpPage:D,followUpDate:Y,freeTrailPageSize:ue,freeTrailPage:fe,freeTrailDate:Ce},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});Te.data.status=="success"&&(u&&m(Te.data.data.cardData),p&&b(Te.data.data.saleData),z&&q(Te.data.data.followUpData),ae&&G(Te.data.data.freeTrailData),r=="todaySale"?w(Te.data.data.todaySaleDtata):r=="monthSale"?g(Te.data.data.monthSaleDtata):r=="todayCall"?d(Te.data.data.todayCallData):r=="monthCall"?x(Te.data.data.monthCallData):r=="leadCount"&&$(Te.data.data.leadData))}catch{}finally{u&&c(!1),p&&f(!1),I(!1)}};return s(J,{children:[e(oC,{cardLoad:u,cardData:o}),e(Ns,{}),e(fC,{fetchingSale:p,saleData:h}),e(pC,{tab:r,setTab:i,graphLoad:S,todaySaleDtata:T,setTodaySaleFilter:A,todaySaleFilter:_,monthSaleDtata:k,monthSaleFilter:E,setMonthSaleFilter:N,todayCallData:v,todayCallFilter:y,setTodayCallFilter:M,monthCallData:C,monthCallFilter:L,setMonthCallFilter:F,leadData:O,leadFilter:B,setLeadFilter:R}),s("div",{className:"grid grid-cols-1 sm:grid-cols-1 xl:grid-cols-2 gap-6 mb-6 mt-5 ",children:[e(gC,{followUpData:W,followUpPageSize:U,followUpPage:D,setFollowUpPage:V,followUp_PAGE_SIZES:j,setFollowUpPageSize:Z,followUpReload:z,followUpDate:Y,setFollowUpDate:X}),e(tf,{freeTrailData:te,freeTrailPageSize:ue,freeTrailPage:fe,setFreeTrailPage:ne,freeTrail_PAGE_SIZES:pe,setFreeTrailPageSize:le,freeTrailReload:ae,freeTrailDate:Ce,setFreeTrailDate:Be})]})]})}function vC({cardLoad:t,cardData:a}){const{authUser:n}=ee(),r=Re();return e(J,{children:t?e(be,{}):s("div",{className:"grid sm:grid-cols-2 xl:grid-cols-3 gap-6 mb-6",children:[s("div",{className:"panel h-full p-0 border-0 overflow-hidden",children:[s("div",{className:"p-6 bg-gradient-to-r from-[#4361ee] to-[#160f6b] min-h-[190px]",children:[e("div",{className:"flex justify-between items-center mb-6",children:s("div",{className:"bg-black/50 rounded-full p-1 ltr:pr-3 rtl:pl-3 flex items-center text-white font-semibold",children:[e("img",{className:"w-8 h-8 rounded-full border-2 border-white/50 block object-cover ltr:mr-1 rtl:ml-1",src:`https://ui-avatars.com/api/?background=000&color=fff&name=${(n==null?void 0:n.first_name)+" "+(n==null?void 0:n.last_name)}`,alt:"avatar"}),(n==null?void 0:n.first_name)+" "+(n==null?void 0:n.last_name)]})}),s("div",{className:"text-white flex justify-between items-center",children:[e("p",{className:"text-xl",children:"Today's Total Sales"}),s("h5",{className:"ltr:ml-auto rtl:mr-auto text-2xl",children:[e("span",{className:"text-white-light",children:"₹"}),a==null?void 0:a.totalSales]})]})]}),s("div",{className:"-mt-12 px-8 grid grid-cols-2 gap-2",children:[s("div",{className:"bg-white rounded-md shadow px-4 py-2.5 dark:bg-[#060818]",children:[e("span",{className:"flex justify-between items-center mb-4 dark:text-white font-bold",children:"Team Leaders"}),e("div",{className:"btn w-full  py-1 text-base shadow-none border-0 bg-[#ebedf2] dark:bg-black text-[#515365] dark:text-[#bfc9d4]",children:a==null?void 0:a.leaders})]}),s("div",{className:"bg-white rounded-md shadow px-4 py-2.5 dark:bg-[#060818]",children:[e("span",{className:"flex justify-between items-center mb-4 dark:text-white font-bold",children:"BDE"}),e("div",{className:"btn w-full  py-1 text-base shadow-none border-0 bg-[#ebedf2] dark:bg-black text-[#515365] dark:text-[#bfc9d4]",children:a==null?void 0:a.bdes})]})]}),e("div",{className:"p-5",children:s("div",{className:" space-y-1",children:[s("div",{className:"flex items-center justify-between",children:[e("p",{className:"text-[#515365] font-semibold",children:"Today's Own Sales"}),s("p",{className:"text-base",children:[e("span",{children:"₹"})," ",e("span",{className:"font-semibold",children:a==null?void 0:a.ownSales})]})]}),s("div",{className:"flex items-center justify-between",children:[e("p",{className:"text-[#515365] font-semibold",children:"Today's Team Sales"}),s("p",{className:"text-base",children:[e("span",{children:"₹"})," ",e("span",{className:"font-semibold ",children:a==null?void 0:a.teamSales})]})]})]})})]}),e("div",{className:"col-span-2",children:s("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-2 gap-6 mb-6 text-white",children:[s("div",{className:"panel bg-gradient-to-r from-[#c706d4d1] to-[#2247eec9]",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Total Leads"}),s("div",{className:"flex justify-between mt-5",children:[s("div",{className:"cursor-pointer w-full",onClick:()=>{r("/leads/viewleads",{state:{fStatus:0,fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.ownLeads}),e("small",{children:"My Own"})]}),e("hr",{className:"border-2 h-[50px]"}),s("div",{className:"cursor-pointer w-full text-end",onClick:()=>{r("/team-leads",{state:{fStatus:0,fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.teamLeads}),e("small",{children:"My Team's"})]})]})]}),s("div",{className:"panel bg-gradient-to-r from-[#12a300d1] to-[#c3d703]",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Closed Won"}),s("div",{className:"flex justify-between mt-5",children:[s("div",{className:"cursor-pointer w-full",onClick:()=>{r("/leads/viewleads",{state:{fStatus:"Closed Won",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.ownCloseWonLeads}),e("small",{children:"My Own"})]}),e("hr",{className:"border-2 h-[50px]"}),s("div",{className:"cursor-pointer w-full text-end",onClick:()=>{r("/team-leads",{state:{fStatus:"Closed Won",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.teamCloseWonLeads}),e("small",{children:"My Team's"})]})]})]}),s("div",{className:"panel bg-gradient-to-r from-[#d40606b8] to-[#ee8722]",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Followup"}),s("div",{className:"flex justify-between mt-5",children:[s("div",{className:"cursor-pointer w-full",onClick:()=>{r("/leads/viewleads",{state:{fStatus:"Follow Up",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.ownFollowupLeads}),e("small",{children:"My Own"})]}),e("hr",{className:"border-2 h-[50px]"}),s("div",{className:"cursor-pointer w-full text-end",onClick:()=>{r("/team-leads",{state:{fStatus:"Follow Up",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.teamFollowupLeads}),e("small",{children:"My Team's"})]})]})]}),s("div",{className:"panel bg-gradient-to-r from-[#f63b3b] to-[#f7107db0]",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Free Trial"}),s("div",{className:"flex justify-between mt-5",children:[s("div",{className:"cursor-pointer w-full",onClick:()=>{r("/leads/viewleads",{state:{fStatus:"Free Trial",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.ownFreeTrailLeads}),e("small",{children:"My Own"})]}),e("hr",{className:"border-2 h-[50px]"}),s("div",{className:"cursor-pointer w-full text-end",onClick:()=>{r("/team-leads",{state:{fStatus:"Free Trial",fState:0}})},children:[e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3",children:a==null?void 0:a.teamFreeTrailLeads}),e("small",{children:"My Team's"})]})]})]})]})})]})})}function xC({fetchingSale:t,saleData:a}){var n,r,i,o;return e(J,{children:t?e(be,{}):s(J,{children:[e("div",{className:"panel bg-gradient-to-r from-[#ed3d3d] to-[#0980e1] mb-4",children:s("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6  ",children:[s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Today's Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a==null?void 0:a.today]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"This Month Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a==null?void 0:a.thisMonth]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Last Month Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a==null?void 0:a.lastMonth]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"All Time Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",a==null?void 0:a.allTime]})]})]})}),e("div",{className:"panel bg-gradient-to-r from-[#6bed3d] to-[#09e1cd] mb-4",children:s("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6  ",children:[s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Today's Team Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",(n=a==null?void 0:a.teamSales)==null?void 0:n.today]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"This Month Team Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",(r=a==null?void 0:a.teamSales)==null?void 0:r.thisMonth]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Last Month Team Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",(i=a==null?void 0:a.teamSales)==null?void 0:i.lastMonth]})]}),s("div",{className:"panel bg-white",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"All Time Team Sales"}),s("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:["₹",(o=a==null?void 0:a.teamSales)==null?void 0:o.allTime]})]})]})})]})})}function yC({todaySaleDtata:t,setTodaySaleFilter:a,todaySaleFilter:n,graphLoad:r}){const i=_e(u=>u.themeConfig.theme==="dark"||u.themeConfig.isDarkMode),o=_e(u=>u.themeConfig.rtlClass)==="rtl";l.useState(!1);const m={series:[{name:"Sales",data:t==null?void 0:t.map(u=>u.sales),type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#5c1ac3","#a78bfa"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:.4},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:i?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}}},xaxis:{categories:t==null?void 0:t.map(u=>u.name),axisBorder:{show:!0,color:i?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:6,opposite:!!o,labels:{offsetX:o?-10:0}},fill:{type:"gradient",gradient:{shade:i?"dark":"light",type:"vertical",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-start justify-between dark:text-white-light p-5 border-b  border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg ",children:"Today's Sales"}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",defaultChecked:n=="active",onClick:()=>a("active")}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",defaultChecked:n=="inactive",onClick:()=>a("inactive")}),e("span",{children:"Inactive Users"})]})]})]}),r?e(be,{}):t!=null&&t.length?e(et,{options:m.options,series:m.series,type:"bar",height:450,className:"overflow-hidden"}):e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})})]})}function wC({monthSaleDtata:t,monthSaleFilter:a,setMonthSaleFilter:n,graphLoad:r}){const i=_e(u=>u.themeConfig.theme==="dark"||u.themeConfig.isDarkMode),o=_e(u=>u.themeConfig.rtlClass)==="rtl",m={series:[{name:"Direct",data:t==null?void 0:t.map(u=>u.sales),type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#5c1ac3","#a78bfa"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:.4},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:i?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}}},xaxis:{categories:t==null?void 0:t.map(u=>u.name),axisBorder:{show:!0,color:i?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:6,opposite:!!o,labels:{offsetX:o?-10:0}},fill:{type:"gradient",gradient:{shade:i?"dark":"light",type:"vertical",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-start justify-between dark:text-white-light p-5 border-b  border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg ",children:"Monthly Sales"}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",defaultChecked:a=="active",onClick:()=>n("active")}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",defaultChecked:a=="inactive",onClick:()=>n("inactive")}),e("span",{children:"Inactive Users"})]})]})]}),r?e(be,{}):t!=null&&t.length?e(et,{options:m.options,series:m.series,type:"bar",height:450,className:"overflow-hidden"}):e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})})]})}function NC({todayCallData:t,todayCallFilter:a,setTodayCallFilter:n,graphLoad:r}){const i=_e(u=>u.themeConfig.theme==="dark"||u.themeConfig.isDarkMode),o=_e(u=>u.themeConfig.rtlClass)==="rtl",m={series:[{name:"Calls",data:t==null?void 0:t.map(u=>u.calls),type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#5c1ac3","#a78bfa"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:.4},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:i?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}}},xaxis:{categories:t==null?void 0:t.map(u=>u.name),axisBorder:{show:!0,color:i?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:6,opposite:!!o,labels:{offsetX:o?-10:0}},fill:{type:"gradient",gradient:{shade:i?"dark":"light",type:"vertical",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-start justify-between dark:text-white-light p-5 border-b  border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg ",children:"Today's Calls"}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",defaultChecked:a=="active",onClick:()=>n("active")}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",defaultChecked:a=="inactive",onClick:()=>n("inactive")}),e("span",{children:"Inactive Users"})]})]})]}),r?e(be,{}):t!=null&&t.length?e(et,{options:m.options,series:m.series,type:"bar",height:450,className:"overflow-hidden"}):e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})})]})}function _C({monthCallData:t,monthCallFilter:a,setMonthCallFilter:n,graphLoad:r}){const i=_e(u=>u.themeConfig.theme==="dark"||u.themeConfig.isDarkMode),o=_e(u=>u.themeConfig.rtlClass)==="rtl",m={series:[{name:"Direct",data:t==null?void 0:t.map(u=>u.calls),type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#5c1ac3","#a78bfa"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:.4},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:i?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}}},xaxis:{categories:t==null?void 0:t.map(u=>u.name),axisBorder:{show:!0,color:i?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:6,opposite:!!o,labels:{offsetX:o?-10:0}},fill:{type:"gradient",gradient:{shade:i?"dark":"light",type:"vertical",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-start justify-between dark:text-white-light p-5 border-b  border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg ",children:"Monthly Sales"}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",defaultChecked:a=="active",onClick:()=>n("active")}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",defaultChecked:a=="inactive",onClick:()=>n("inactive")}),e("span",{children:"Inactive Users"})]})]})]}),r?e(be,{}):t!=null&&t.length?e(et,{options:m.options,series:m.series,type:"bar",height:450,className:"overflow-hidden"}):e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})})]})}function kC({leadData:t,leadFilter:a,setLeadFilter:n,graphLoad:r}){const i=_e(u=>u.themeConfig.theme==="dark"||u.themeConfig.isDarkMode),o=_e(u=>u.themeConfig.rtlClass)==="rtl",m={series:[{name:"Leads",data:t==null?void 0:t.map(u=>u.leads),type:"column"},{name:"Closed Won",type:"area",data:t==null?void 0:t.map(u=>u.closedwon_leads)}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#5c1ac3","#a78bfa"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:.4},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:i?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}}},xaxis:{categories:t==null?void 0:t.map(u=>u.name),axisBorder:{show:!0,color:i?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:6,opposite:!!o,labels:{offsetX:o?-10:0}},fill:{type:"gradient",gradient:{shade:i?"dark":"light",type:"vertical",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-start justify-between dark:text-white-light p-5 border-b  border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg ",children:"Lead Count"}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",defaultChecked:a=="active",onClick:()=>n("active")}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",defaultChecked:a=="inactive",onClick:()=>n("inactive")}),e("span",{children:"Inactive Users"})]})]})]}),r?e(be,{}):t!=null&&t.length?e(et,{options:m.options,series:m.series,type:"bar",height:450,className:"overflow-hidden"}):e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})})]})}function CC({tab:t,setTab:a,todaySaleDtata:n,setTodaySaleFilter:r,todaySaleFilter:i,graphLoad:o,monthSaleDtata:m,monthSaleFilter:u,setMonthSaleFilter:c,todayCallData:p,todayCallFilter:f,setTodayCallFilter:h,monthCallData:b,monthCallFilter:S,setMonthCallFilter:I,leadData:T,leadFilter:w,setLeadFilter:_}){return s("div",{className:" flex gap-5",children:[s("div",{className:"bg-white-light shadow-[4px_6px_10px_-3px_#bfc9d4] flex flex-col gap-6 p-5 rounded min-w-[220px] h-full",children:[e("button",{type:"button",className:`btn btn-lg ${t=="todaySale"?"btn-gradient":"btn-dark"}`,onClick:()=>a("todaySale"),children:"Today's Sales"}),e("button",{type:"button",className:`btn btn-lg ${t=="monthSale"?"btn-gradient":"btn-dark"}`,onClick:()=>a("monthSale"),children:"Monthly Sales"}),e("button",{type:"button",className:`btn btn-lg ${t=="todayCall"?"btn-gradient":"btn-dark"}`,onClick:()=>a("todayCall"),children:"Today's Calls"}),e("button",{type:"button",className:`btn btn-lg ${t=="monthCall"?"btn-gradient":"btn-dark"}`,onClick:()=>a("monthCall"),children:"Monthly Calls"}),e("button",{type:"button",className:`btn btn-lg ${t=="leadCount"?"btn-gradient":"btn-dark"}`,onClick:()=>a("leadCount"),children:"Leads Count"})]}),e("div",{className:" flex-1 ",children:t=="todaySale"?e(yC,{todaySaleDtata:n,setTodaySaleFilter:r,todaySaleFilter:i,graphLoad:o}):t=="monthSale"?e(wC,{monthSaleDtata:m,monthSaleFilter:u,setMonthSaleFilter:c,graphLoad:o}):t=="todayCall"?e(NC,{todayCallData:p,todayCallFilter:f,setTodayCallFilter:h,graphLoad:o}):t=="monthCall"?e(_C,{monthCallData:b,monthCallFilter:S,setMonthCallFilter:I,graphLoad:o}):e(kC,{leadData:T,leadFilter:w,setLeadFilter:_,graphLoad:o})})]})}function SC({followUpData:t,followUpPageSize:a,followUpPage:n,setFollowUpPage:r,followUp_PAGE_SIZES:i,setFollowUpPageSize:o,followUpReload:m,followUpDate:u,setFollowUpDate:c}){const{authUser:p}=ee(),f=Re(),h=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return s("div",{className:"panel h-full w-full",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("div",{children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Follow UP"})}),e("div",{className:"flex items-center flex-wrap",children:e("div",{children:e(Je,{options:{dateFormat:"Y-m-d",position:"auto left"},value:u,className:"form-input w-[150px]",onChange:b=>{const S=b.map(I=>h.format(new Date(I)).split("/").reverse().join("-"));S.length==1&&c(S[0])}})})})]}),e("div",{className:"table-responsive",children:e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:t.data,columns:[{accessor:"first_name",title:"Name"},{accessor:"phone",title:"Phone"},{accessor:"state",title:"State"},{accessor:"followup",title:"Follow Up Date"}],onCellClick:({record:b,column:S})=>{f("/leads/viewleads/show",{state:{lead_id:b.id,filterOwner:p.id,filterStatus:"today-follow-up",filterState:0,multyLead:1}})},totalRecords:t.totalItems,recordsPerPage:a,page:n,onPageChange:b=>r(b),recordsPerPageOptions:i,onRecordsPerPageChange:o,minHeight:200,paginationText:({totalRecords:b})=>`Showing  ${t.from} to ${t.to} of ${b} entries`})})})]})}function EC({freeTrailData:t,freeTrailPageSize:a,freeTrailPage:n,setFreeTrailPage:r,freeTrail_PAGE_SIZES:i,setFreeTrailPageSize:o,freeTrailReload:m,freeTrailDate:u,setFreeTrailDate:c}){const{authUser:p}=ee(),f=Re(),h=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return console.log(1233),console.log("freeTrailData",t),console.log("freeTrailDate",u),s("div",{className:"panel h-full w-full",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("div",{children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Free Trial"})}),e("div",{className:"flex items-center flex-wrap",children:e("div",{children:e(Je,{options:{dateFormat:"Y-m-d",position:"auto left"},value:u,className:"form-input w-[150px]",onChange:b=>{const S=b.map(I=>h.format(new Date(I)).split("/").reverse().join("-"));S.length==1&&c(S[0])}})})})]}),e("div",{className:"table-responsive",children:e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:t.data,columns:[{accessor:"first_name",title:"Name"},{accessor:"phone",title:"Phone"},{accessor:"state",title:"State"},{accessor:"free_trial",title:"Free Trial Date"}],onCellClick:({record:b,column:S})=>{f("/leads/viewleads/show",{state:{lead_id:b.id,filterOwner:p.id,filterStatus:"today-free-trial",filterState:0,multyLead:1}})},totalRecords:t.totalItems,recordsPerPage:a,page:n,onPageChange:b=>r(b),recordsPerPageOptions:i,onRecordsPerPageChange:o,minHeight:200,paginationText:({totalRecords:b})=>`Showing  ${t.from} to ${t.to} of ${b} entries`})})})]})}function TC(){const{logout:t,crmToken:a,apiUrl:n}=ee(),[r,i]=l.useState("todaySale"),[o,m]=l.useState([]),[u,c]=l.useState(!0),[p,f]=l.useState([]),[h,b]=l.useState(!0),[S,I]=l.useState(!0),[T,w]=l.useState([]),[_,A]=l.useState("active"),[k,g]=l.useState([]),[E,N]=l.useState("active"),[v,d]=l.useState([]),[y,M]=l.useState("active"),[C,x]=l.useState([]),[L,F]=l.useState("active"),[O,$]=l.useState([]),[B,R]=l.useState("active"),P=()=>new Date().toISOString().split("T")[0],[z,H]=l.useState(!0),[W,q]=l.useState([]),[D,V]=l.useState(1),j=[10,20,30,50,100],[U,Z]=l.useState(j[0]),[Y,X]=l.useState(P()),[ae,he]=l.useState(!0),[te,G]=l.useState([]),[fe,ne]=l.useState(1),pe=[10,20,30,50,100],[ue,le]=l.useState(pe[0]),[Ce,Be]=l.useState(P());l.useEffect(()=>{Ue()},[r,u,Y,Ce]);const Ue=async()=>{try{const Te=await K({method:"get",url:n+"/api/get-manager-dashboard",params:{cardLoad:u,fetchingSale:h,tab:r,todaySaleFilter:_,monthSaleFilter:E,todayCallFilter:y,monthCallFilter:L,leadFilter:B,followUpReload:z,freeTrailReload:ae,followUpPageSize:U,followUpPage:D,followUpDate:Y,freeTrailPageSize:ue,freeTrailPage:fe,freeTrailDate:Ce},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});Te.data.status=="success"&&(u&&m(Te.data.data.cardData),h&&f(Te.data.data.saleData),z&&q(Te.data.data.followUpData),ae&&G(Te.data.data.freeTrailData),r=="todaySale"?w(Te.data.data.todaySaleDtata):r=="monthSale"?g(Te.data.data.monthSaleDtata):r=="todayCall"?d(Te.data.data.todayCallData):r=="monthCall"?x(Te.data.data.monthCallData):r=="leadCount"&&$(Te.data.data.leadData))}catch{}finally{u&&c(!1),h&&b(!1),I(!1)}};return s(J,{children:[e(vC,{cardLoad:u,cardData:o}),e(Ns,{}),e(xC,{fetchingSale:h,saleData:p}),e(CC,{tab:r,setTab:i,graphLoad:S,todaySaleDtata:T,setTodaySaleFilter:A,todaySaleFilter:_,monthSaleDtata:k,monthSaleFilter:E,setMonthSaleFilter:N,todayCallData:v,todayCallFilter:y,setTodayCallFilter:M,monthCallData:C,monthCallFilter:L,setMonthCallFilter:F,leadData:O,leadFilter:B,setLeadFilter:R}),s("div",{className:"grid grid-cols-1 sm:grid-cols-1 xl:grid-cols-2 mt-5 gap-6 mb-6 ",children:[e(SC,{followUpData:W,followUpPageSize:U,followUpPage:D,setFollowUpPage:V,followUp_PAGE_SIZES:j,setFollowUpPageSize:Z,followUpReload:z,followUpDate:Y,setFollowUpDate:X}),e(EC,{freeTrailData:te,freeTrailPageSize:ue,freeTrailPage:fe,setFreeTrailPage:ne,freeTrail_PAGE_SIZES:pe,setFreeTrailPageSize:le,freeTrailReload:ae,freeTrailDate:Ce,setFreeTrailDate:Be})]})]})}function AC(){return s(J,{children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-3 xl:grid-cols-5 gap-6 mb-4",children:[e("div",{children:e(ce,{duration:1,inline:!0,height:80,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,height:80,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,height:80,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,height:80,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,height:80})})]}),s("div",{className:"grid sm:grid-cols-4 xl:grid-cols-5 gap-6 mb-4",children:[e("div",{children:e(ce,{duration:1,inline:!0,height:60,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,height:60,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,height:60,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,height:60,className:"me-4 "})}),e("div",{children:e(ce,{duration:1,inline:!0,height:60})})]})]})}function PC({cardData:t,filter:a,setFilter:n,serviceData:r}){const{isFirstLoading:i,cardReload:o}=a,m=Re(),u=l.useCallback((f,h)=>{m("/leads/viewleads",{state:{fOwner:h,fStatus:f,fState:0}})},[m]),c=[{title:"Total Leads",key:"total",colors:"from-cyan-500 to-cyan-400",fStatus:0},{title:"Closed Won",key:"closedWon",colors:"from-[#6bed3d] to-[#09e1cd]",fStatus:"Closed Won"},{title:"Free Trial",key:"freeTrail",colors:"from-blue-500 to-blue-400",fStatus:"Free Trial"},{title:"Follow UP",key:"followup",colors:"from-fuchsia-500 to-fuchsia-400",fStatus:"Follow Up"},{title:"Admin Leads",key:"admin",colors:"from-violet-500 to-violet-400",fStatus:0,fOwner:1}],p=[{title:"Active Services",key:"activeservices",color:"text-success",bgColor:"dark:bg-success"},{title:"Expired Today",key:"expiredtoday",color:"text-danger",bgColor:"dark:bg-success"},{title:"Expiring Tomorrow",key:"expiringtomorrow",color:"text-danger",bgColor:"dark:bg-primary"},{title:"Expiring This Week",key:"expiringthisweek",color:"text-danger",bgColor:"dark:bg-danger"},{title:"Expiring This Month",key:"expiringthismonth",color:"text-danger",bgColor:"dark:bg-danger"}];return e(J,{children:i|o?e(AC,{}):s(J,{children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-3 xl:grid-cols-5 gap-6 mb-6 text-white ",children:c.map(({title:f,key:h,colors:b,fStatus:S,fOwner:I=0})=>e("div",{className:`py-2 px-3 rounded hover:scale-105 bg-gradient-to-r ${b} cursor-pointer group/item`,onClick:()=>u(S,I),children:s("div",{className:"flex justify-between items-center",children:[s("div",{children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:f}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-3",children:t==null?void 0:t[h]})]}),e("span",{className:"invisible group-hover/item:visible ",children:e(Du,{size:25})})]})},h))}),e("div",{className:"grid sm:grid-cols-4 xl:grid-cols-5 gap-6 mb-6",children:p.map((f,h)=>e(IC,{title:f.title,value:r==null?void 0:r[f.key],color:f.color,bgColor:f.bgColor,datakey:f.key},h))})]})})}const IC=({title:t,value:a,color:n,bgColor:r,datakey:i})=>{const{logout:o,crmToken:m,apiUrl:u,selectedBranch:c}=ee(),[p,f]=l.useState(!1),[h,b]=l.useState(null),[S,I]=l.useState([]),[T,w]=l.useState(!1),_=async A=>{w(!0);try{I([]);const k=await K({method:"get",url:u+"/api/home-data-services-details",params:{action:A.key},headers:{"Content-Type":"application/json",Authorization:"Bearer "+m}});k.data.status=="success"&&I(k.data.data)}catch{I([])}finally{setTimeout(()=>{w(!1)},500)}};return l.useEffect(()=>{h&&(f(!0),_(h))},[h]),s(J,{children:[e("div",{className:"panel h-full p-0 cursor-pointer hover:scale-105",children:s("div",{className:"flex p-2",onClick:()=>b({title:t,key:i}),children:[e("div",{className:`shrink-0 ${n} rounded-xl flex justify-center items-center ${r} dark:text-white-light`,children:e(E0,{size:25})}),s("div",{className:"ltr:ml-3 rtl:mr-3 font-semibold",children:[e("p",{className:"text-xl dark:text-white-light",children:a}),e("h5",{className:"text-[#506690] text-xs",children:t})]})]})}),e(ge,{appear:!0,show:p,as:l.Fragment,children:s(Ie,{as:"div",open:p,onClose:()=>{},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-5xl my-8 text-black dark:text-white-dark animate__animated animate__slideInDown",children:[e("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:e("h5",{className:"font-bold text-lg",children:h==null?void 0:h.title})}),s("div",{className:"",children:[T?e(be,{}):e("div",{className:"table-responsive max-h-[calc(100vh-300px)] overflow-y-auto",children:s("table",{className:"w-full",children:[e("thead",{children:s("tr",{children:[e("th",{children:"Client"}),e("th",{children:"Phone"}),e("th",{children:"Product"}),e("th",{className:"w-[125px]",children:"Start Date"}),e("th",{className:"w-[125px]",children:"Due Date"})]})}),e("tbody",{children:S.map(A=>s("tr",{children:[s("td",{className:"max-w-[250px] truncate",children:[" ",s("div",{className:"whitespace-nowrap",children:[A.first_name," ",A.last_name]})]}),e("td",{children:A.phone}),e("td",{children:A.product}),e("td",{children:A.start_date}),e("td",{children:A.due_date})]},A.id))})]})}),s("div",{className:"flex justify-between items-center p-5",children:[s("span",{className:"badge bg-[#075E54]",children:["Total ",S.length]}),e("button",{onClick:()=>f(!1),disabled:T,type:"button",className:"btn btn-outline-danger",children:"Close"})]})]})]})})})})]})})]})};function LC({todaySaleData:t,filter:a,setFilter:n}){const r=_e(_=>_.themeConfig.theme==="dark"||_.themeConfig.isDarkMode),i=_e(_=>_.themeConfig.rtlClass)==="rtl",{todaySalesFilter:o,graphReload:m}=a,u=t.filterUsers,c=(t==null?void 0:t.sales)||[],p=c.map(_=>_.sales),f=c.map(_=>_.name),h=l.useMemo(()=>({series:[{name:"Sales",data:p,type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#EF1262","#b512efe6"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:1},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:r?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},xaxis:{categories:f,axisBorder:{show:!0,color:r?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:5,opposite:i,labels:{formatter:_=>Math.round(_)}},fill:{type:"gradient",gradient:{shade:r?"dark":"light",type:"vertical",shadeIntensity:.2,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}}),[p,f,r,i]),b=l.useMemo(()=>({series:[{name:"Sales",data:p}],options:{chart:{type:"area",height:300,zoom:{enabled:!1},toolbar:{show:!1}},colors:["#7300d0"],dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},xaxis:{axisBorder:{color:r?"#191e3a":"#e0e6ed"}},yaxis:{opposite:i,labels:{offsetX:i?-40:0}},labels:f,legend:{horizontalAlign:"left"},grid:{borderColor:r?"#191E3A":"#E0E6ED"},tooltip:{theme:r?"dark":"light"}}}),[p,f,r,i]),S=l.useMemo(()=>c.map(_=>({x:_.name,y:_.sales})),[c]),I=l.useMemo(()=>({series:[{data:S}],options:{legend:{show:!1},chart:{height:450,type:"treemap",toolbar:{show:!1}},colors:["#3B93A5","#F7B844","#ADD8C7","#EC3C65","#CDD7B6","#C1F666","#D43F97","#1E5D8C","#421243","#7F94B0","#EF6537","#C0ADDB"]}}),[S]),T=_=>{n(A=>({...A,todaySalesFilter:{...A.todaySalesFilter,[_.action]:_.value,reload:!0}}))},w=()=>{if(o.reload)return e(be,{});if(c.length===0)return e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})});switch(o==null?void 0:o.chart){case"column":return e(et,{options:h.options,series:h.series,type:"bar",height:400,className:"overflow-hidden"});case"area":return e(et,{options:b.options,series:b.series,type:"area",height:400,className:"overflow-hidden"});case"treemap":return e(et,{options:I.options,series:I.series,type:"treemap",height:400,className:"overflow-hidden"});default:return null}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-center justify-between dark:text-white-light p-3 border-b border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg",children:"Today's Sales"}),e("div",{children:s("div",{className:"flex gap-4",children:[s("select",{className:"form-select form-select-sm w-[150px]",value:o==null?void 0:o.manager,onChange:_=>T({action:"manager",value:_.target.value}),children:[e("option",{value:"0",children:"All"}),u==null?void 0:u.filter(_=>_.user_type==="Manager").map(_=>s("option",{value:_.id,children:[_.first_name," ",_.last_name]},_.id))]}),(o==null?void 0:o.manager)!="0"&&s("select",{className:"form-select form-select-sm w-[150px]",value:o==null?void 0:o.leader,onChange:_=>T({action:"leader",value:_.target.value}),children:[e("option",{value:"0",children:"All "}),u==null?void 0:u.filter(_=>_.user_type==="Team Leader"&&_.manager_id==(o==null?void 0:o.manager)).map(_=>s("option",{value:_.id,children:[_.first_name," ",_.last_name]},_.id))]})]})}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",checked:(o==null?void 0:o.isActiveUsers)==="active",onChange:()=>T({action:"isActiveUsers",value:"active"})}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",checked:(o==null?void 0:o.isActiveUsers)==="inactive",onChange:()=>T({action:"isActiveUsers",value:"inactive"})}),e("span",{children:"Inactive Users"})]})]}),s("div",{className:"flex gap-4",children:[["treemap","area","column"].map(_=>e("button",{className:`${(o==null?void 0:o.chart)===_?"bg-[#1abc9c]":"bg-[red]/50"} btn btn-sm shadow`,onClick:()=>T({action:"chart",value:_}),children:_==="treemap"?e(Xa,{color:"white",className:"w-5 h-5"}):_==="area"?e(Ya,{color:"white",className:"w-5 h-5"}):e(Qa,{color:"white",className:"w-5 h-5"})},_)),e("button",{className:"bg-dark btn btn-sm shadow",onClick:()=>T({action:"reload",value:!(o!=null&&o.reload)}),children:e(Oe,{className:"w-5 h-5",color:"white"})})]})]}),w()]})}function FC({monthSaleData:t,filter:a,setFilter:n}){const r=_e(_=>_.themeConfig.theme==="dark"||_.themeConfig.isDarkMode),i=_e(_=>_.themeConfig.rtlClass)==="rtl",{monthSalesFilter:o,graphReload:m}=a,u=t.filterUsers,c=(t==null?void 0:t.sales)||[],p=c.map(_=>_.sales),f=c.map(_=>_.name),h=l.useMemo(()=>({series:[{name:"Sales",data:p,type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#EF1262","#b512efe6"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:1},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:r?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},xaxis:{categories:f,axisBorder:{show:!0,color:r?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:5,opposite:i,labels:{formatter:_=>Math.round(_)}},fill:{type:"gradient",gradient:{shade:r?"dark":"light",type:"vertical",shadeIntensity:.2,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}}),[p,f,r,i]),b=l.useMemo(()=>({series:[{name:"Sales",data:p}],options:{chart:{type:"area",height:300,zoom:{enabled:!1},toolbar:{show:!1}},colors:["#7300d0"],dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},xaxis:{axisBorder:{color:r?"#191e3a":"#e0e6ed"}},yaxis:{opposite:i,labels:{offsetX:i?-40:0}},labels:f,legend:{horizontalAlign:"left"},grid:{borderColor:r?"#191E3A":"#E0E6ED"},tooltip:{theme:r?"dark":"light"}}}),[p,f,r,i]),S=l.useMemo(()=>c.map(_=>({x:_.name,y:_.sales})),[c]),I=l.useMemo(()=>({series:[{data:S}],options:{legend:{show:!1},chart:{height:450,type:"treemap",toolbar:{show:!1}},colors:["#3B93A5","#F7B844","#ADD8C7","#EC3C65","#CDD7B6","#C1F666","#D43F97","#1E5D8C","#421243","#7F94B0","#EF6537","#C0ADDB"]}}),[S]),T=_=>{n(A=>({...A,monthSalesFilter:{...A.monthSalesFilter,[_.action]:_.value,reload:!0}}))},w=()=>{if(o.reload)return e(be,{});if(c.length===0)return e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})});switch(o==null?void 0:o.chart){case"column":return e(et,{options:h.options,series:h.series,type:"bar",height:400,className:"overflow-hidden"});case"area":return e(et,{options:b.options,series:b.series,type:"area",height:400,className:"overflow-hidden"});case"treemap":return e(et,{options:I.options,series:I.series,type:"treemap",height:400,className:"overflow-hidden"});default:return null}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-center justify-between dark:text-white-light p-3 border-b border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg",children:"Month Sales"}),e("div",{children:s("div",{className:"flex gap-4",children:[s("select",{className:"form-select form-select-sm w-[150px]",value:o==null?void 0:o.manager,onChange:_=>T({action:"manager",value:_.target.value}),children:[e("option",{value:"0",children:"All"}),u==null?void 0:u.filter(_=>_.user_type==="Manager").map(_=>s("option",{value:_.id,children:[_.first_name," ",_.last_name]},_.id))]}),(o==null?void 0:o.manager)!="0"&&s("select",{className:"form-select form-select-sm w-[150px]",value:o==null?void 0:o.leader,onChange:_=>T({action:"leader",value:_.target.value}),children:[e("option",{value:"0",children:"All"}),u==null?void 0:u.filter(_=>_.user_type==="Team Leader"&&_.manager_id==(o==null?void 0:o.manager)).map(_=>s("option",{value:_.id,children:[_.first_name," ",_.last_name]},_.id))]})]})}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",checked:(o==null?void 0:o.isActiveUsers)==="active",onChange:()=>T({action:"isActiveUsers",value:"active"})}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",checked:(o==null?void 0:o.isActiveUsers)==="inactive",onChange:()=>T({action:"isActiveUsers",value:"inactive"})}),e("span",{children:"Inactive Users"})]})]}),s("div",{className:"flex gap-4",children:[["treemap","area","column"].map(_=>e("button",{className:`${(o==null?void 0:o.chart)===_?"bg-[#1abc9c]":"bg-[red]/50"} btn btn-sm shadow`,onClick:()=>T({action:"chart",value:_}),children:_==="treemap"?e(Xa,{color:"white",className:"w-5 h-5"}):_==="area"?e(Ya,{color:"white",className:"w-5 h-5"}):e(Qa,{color:"white",className:"w-5 h-5"})},_)),e("button",{className:"bg-dark btn btn-sm shadow",onClick:()=>T({action:"reload",value:!(o!=null&&o.reload)}),children:e(Oe,{className:"w-5 h-5",color:"white"})})]})]}),w()]})}function MC({todayCallData:t,filter:a,setFilter:n}){const r=_e(_=>_.themeConfig.theme==="dark"||_.themeConfig.isDarkMode),i=_e(_=>_.themeConfig.rtlClass)==="rtl",{todayCallFilter:o,graphReload:m}=a,u=t.filterUsers,c=(t==null?void 0:t.calls)||[],p=c.map(_=>_.calls),f=c.map(_=>_.name),h=l.useMemo(()=>({series:[{name:"Calls",data:p,type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#EF1262","#b512efe6"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:1},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:r?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},xaxis:{categories:f,axisBorder:{show:!0,color:r?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:5,opposite:i,labels:{formatter:_=>Math.round(_)}},fill:{type:"gradient",gradient:{shade:r?"dark":"light",type:"vertical",shadeIntensity:.2,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}}),[p,f,r,i]),b=l.useMemo(()=>({series:[{name:"Calls",data:p}],options:{chart:{type:"area",height:300,zoom:{enabled:!1},toolbar:{show:!1}},colors:["#7300d0"],dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},xaxis:{axisBorder:{color:r?"#191e3a":"#e0e6ed"}},yaxis:{opposite:i,labels:{offsetX:i?-40:0}},labels:f,legend:{horizontalAlign:"left"},grid:{borderColor:r?"#191E3A":"#E0E6ED"},tooltip:{theme:r?"dark":"light"}}}),[p,f,r,i]),S=l.useMemo(()=>c.map(_=>({x:_.name,y:_.calls})),[c]),I=l.useMemo(()=>({series:[{data:S}],options:{legend:{show:!1},chart:{height:450,type:"treemap",toolbar:{show:!1}},colors:["#3B93A5","#F7B844","#ADD8C7","#EC3C65","#CDD7B6","#C1F666","#D43F97","#1E5D8C","#421243","#7F94B0","#EF6537","#C0ADDB"]}}),[S]),T=_=>{n(A=>({...A,todayCallFilter:{...A.todayCallFilter,[_.action]:_.value,reload:!0}}))},w=()=>{if(t.reload)return e(be,{});if(c.length===0)return e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})});switch(o==null?void 0:o.chart){case"column":return e(et,{options:h.options,series:h.series,type:"bar",height:400,className:"overflow-hidden"});case"area":return e(et,{options:b.options,series:b.series,type:"area",height:400,className:"overflow-hidden"});case"treemap":return e(et,{options:I.options,series:I.series,type:"treemap",height:400,className:"overflow-hidden"});default:return null}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-center justify-between dark:text-white-light p-3 border-b border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg",children:"Today's Calls"}),e("div",{children:s("div",{className:"flex gap-4",children:[s("select",{className:"form-select form-select-sm w-[150px]",value:o==null?void 0:o.manager,onChange:_=>T({action:"manager",value:_.target.value}),children:[e("option",{value:"0",children:"All"}),u==null?void 0:u.filter(_=>_.user_type==="Manager").map(_=>s("option",{value:_.id,children:[_.first_name," ",_.last_name]},_.id))]}),(o==null?void 0:o.manager)!="0"&&s("select",{className:"form-select form-select-sm w-[150px]",value:o==null?void 0:o.leader,onChange:_=>T({action:"leader",value:_.target.value}),children:[e("option",{value:"0",children:"All"}),u==null?void 0:u.filter(_=>_.user_type==="Team Leader"&&_.manager_id==(o==null?void 0:o.manager)).map(_=>s("option",{value:_.id,children:[_.first_name," ",_.last_name]},_.id))]})]})}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",checked:(o==null?void 0:o.isActiveUsers)==="active",onChange:()=>T({action:"isActiveUsers",value:"active"})}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",checked:(o==null?void 0:o.isActiveUsers)==="inactive",onChange:()=>T({action:"isActiveUsers",value:"inactive"})}),e("span",{children:"Inactive Users"})]})]}),s("div",{className:"flex gap-4",children:[["treemap","area","column"].map(_=>e("button",{className:`${(o==null?void 0:o.chart)===_?"bg-[#1abc9c]":"bg-[red]/50"} btn btn-sm shadow`,onClick:()=>T({action:"chart",value:_}),children:_==="treemap"?e(Xa,{color:"white",className:"w-5 h-5"}):_==="area"?e(Ya,{color:"white",className:"w-5 h-5"}):e(Qa,{color:"white",className:"w-5 h-5"})},_)),e("button",{className:"bg-dark btn btn-sm shadow",onClick:()=>T({action:"reload",value:!(o!=null&&o.reload)}),children:e(Oe,{className:"w-5 h-5",color:"white"})})]})]}),w()]})}function OC({monthCallData:t,filter:a,setFilter:n}){const r=_e(w=>w.themeConfig.theme==="dark"||w.themeConfig.isDarkMode),i=_e(w=>w.themeConfig.rtlClass)==="rtl",{monthCallFilter:o}=a,m=t.filterUsers,u=(t==null?void 0:t.calls)||[],c=u.map(w=>w.calls),p=u.map(w=>w.name),f=l.useMemo(()=>({series:[{name:"Calls",data:c,type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#EF1262","#b512efe6"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:1},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:r?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},xaxis:{categories:p,axisBorder:{show:!0,color:r?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:5,opposite:i,labels:{formatter:w=>Math.round(w)}},fill:{type:"gradient",gradient:{shade:r?"dark":"light",type:"vertical",shadeIntensity:.2,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}}),[c,p,r,i]),h=l.useMemo(()=>({series:[{name:"Calls",data:c}],options:{chart:{type:"area",height:300,zoom:{enabled:!1},toolbar:{show:!1}},colors:["#7300d0"],dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},xaxis:{axisBorder:{color:r?"#191e3a":"#e0e6ed"}},yaxis:{opposite:i,labels:{offsetX:i?-40:0}},labels:p,legend:{horizontalAlign:"left"},grid:{borderColor:r?"#191E3A":"#E0E6ED"},tooltip:{theme:r?"dark":"light"}}}),[c,p,r,i]),b=l.useMemo(()=>u.map(w=>({x:w.name,y:w.calls})),[u]),S=l.useMemo(()=>({series:[{data:b}],options:{legend:{show:!1},chart:{height:450,type:"treemap",toolbar:{show:!1}},colors:["#3B93A5","#F7B844","#ADD8C7","#EC3C65","#CDD7B6","#C1F666","#D43F97","#1E5D8C","#421243","#7F94B0","#EF6537","#C0ADDB"]}}),[b]),I=w=>{n(_=>({..._,monthCallFilter:{..._.monthCallFilter,[w.action]:w.value,reload:!0}}))},T=()=>{if(o.reload)return e(be,{});if(u.length===0)return e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})});switch(o==null?void 0:o.chart){case"column":return e(et,{options:f.options,series:f.series,type:"bar",height:400,className:"overflow-hidden"});case"area":return e(et,{options:h.options,series:h.series,type:"area",height:400,className:"overflow-hidden"});case"treemap":return e(et,{options:S.options,series:S.series,type:"treemap",height:400,className:"overflow-hidden"});default:return null}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-center justify-between dark:text-white-light p-3 border-b border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg",children:"Month Calls"}),e("div",{children:s("div",{className:"flex gap-4",children:[s("select",{className:"form-select form-select-sm w-[150px]",value:o==null?void 0:o.manager,onChange:w=>I({action:"manager",value:w.target.value}),children:[e("option",{value:"0",children:"All"}),m==null?void 0:m.filter(w=>w.user_type==="Manager").map(w=>s("option",{value:w.id,children:[w.first_name," ",w.last_name]},w.id))]}),(o==null?void 0:o.manager)!="0"&&s("select",{className:"form-select form-select-sm w-[150px]",value:o==null?void 0:o.leader,onChange:w=>I({action:"leader",value:w.target.value}),children:[e("option",{value:"0",children:"All"}),m==null?void 0:m.filter(w=>w.user_type==="Team Leader"&&w.manager_id==(o==null?void 0:o.manager)).map(w=>s("option",{value:w.id,children:[w.first_name," ",w.last_name]},w.id))]})]})}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",checked:(o==null?void 0:o.isActiveUsers)==="active",onChange:()=>I({action:"isActiveUsers",value:"active"})}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",checked:(o==null?void 0:o.isActiveUsers)==="inactive",onChange:()=>I({action:"isActiveUsers",value:"inactive"})}),e("span",{children:"Inactive Users"})]})]}),s("div",{className:"flex gap-4",children:[["treemap","area","column"].map(w=>e("button",{className:`${(o==null?void 0:o.chart)===w?"bg-[#1abc9c]":"bg-[red]/50"} btn btn-sm shadow`,onClick:()=>I({action:"chart",value:w}),children:w==="treemap"?e(Xa,{color:"white",className:"w-5 h-5"}):w==="area"?e(Ya,{color:"white",className:"w-5 h-5"}):e(Qa,{color:"white",className:"w-5 h-5"})},w)),e("button",{className:"bg-dark btn btn-sm shadow",onClick:()=>I({action:"reload",value:!(o!=null&&o.reload)}),children:e(Oe,{className:"w-5 h-5",color:"white"})})]})]}),T()]})}function BC({leadCountData:t,filter:a,setFilter:n}){const{LoadCoundFilter:r}=a,i=_e(w=>w.themeConfig.theme==="dark"||w.themeConfig.isDarkMode),o=_e(w=>w.themeConfig.rtlClass)==="rtl",m=t.filterUsers,u=(t==null?void 0:t.leads)||[],c=u.map(w=>w.leads),p=u.map(w=>w.name),f=l.useMemo(()=>({series:[{name:"Leads",data:c,type:"column"}],options:{chart:{height:750,type:"bar",fontFamily:"Nunito, sans-serif",toolbar:{show:!1}},dataLabels:{enabled:!1},stroke:{width:2,colors:["transparent"]},colors:["#EF1262","#b512efe6"],dropShadow:{enabled:!0,blur:3,color:"#515365",opacity:1},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:8,borderRadiusApplication:"end"}},legend:{position:"bottom",horizontalAlign:"center",fontSize:"14px",itemMargin:{horizontal:8,vertical:8}},grid:{borderColor:i?"#191e3a":"#e0e6ed",padding:{left:20,right:20},xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}}},xaxis:{categories:p,axisBorder:{show:!0,color:i?"#3b3f5c":"#e0e6ed"}},yaxis:{tickAmount:5,opposite:o,labels:{formatter:w=>Math.round(w)}},fill:{type:"gradient",gradient:{shade:i?"dark":"light",type:"vertical",shadeIntensity:.2,inverseColors:!1,opacityFrom:1,opacityTo:.9,stops:[0,100]}},tooltip:{shared:!0,intersect:!1,marker:{show:!0}}}}),[c,p,i,o]),h=l.useMemo(()=>({series:[{name:"Leads",data:c}],options:{chart:{type:"area",height:300,zoom:{enabled:!1},toolbar:{show:!1}},colors:["#7300d0"],dataLabels:{enabled:!1},stroke:{width:2,curve:"smooth"},xaxis:{axisBorder:{color:i?"#191e3a":"#e0e6ed"}},yaxis:{opposite:o,labels:{offsetX:o?-40:0}},labels:p,legend:{horizontalAlign:"left"},grid:{borderColor:i?"#191E3A":"#E0E6ED"},tooltip:{theme:i?"dark":"light"}}}),[c,p,i,o]),b=l.useMemo(()=>u.map(w=>({x:w.name,y:w.leads})),[u]),S=l.useMemo(()=>({series:[{data:b}],options:{legend:{show:!1},chart:{height:450,type:"treemap",toolbar:{show:!1}},colors:["#3B93A5","#F7B844","#ADD8C7","#EC3C65","#CDD7B6","#C1F666","#D43F97","#1E5D8C","#421243","#7F94B0","#EF6537","#C0ADDB"]}}),[b]),I=w=>{n(_=>({..._,LoadCoundFilter:{..._.LoadCoundFilter,[w.action]:w.value,reload:!0}}))},T=()=>{if(r.reload)return e(be,{});if(u.length===0)return e("div",{className:"flex items-center p-3.5 rounded text-danger bg-danger-light dark:bg-danger-dark-light",children:e("span",{className:"ltr:pr-2 rtl:pl-2",children:e("strong",{className:"ltr:mr-1 rtl:ml-1",children:"No Data Found!"})})});switch(r==null?void 0:r.chart){case"column":return e(et,{options:f.options,series:f.series,type:"bar",height:400,className:"overflow-hidden"});case"area":return e(et,{options:h.options,series:h.series,type:"area",height:400,className:"overflow-hidden"});case"treemap":return e(et,{options:S.options,series:S.series,type:"treemap",height:400,className:"overflow-hidden"});default:return null}};return s("div",{className:"panel h-full p-0 lg:col-span-2",children:[s("div",{className:"flex items-center justify-between dark:text-white-light p-3 border-b border-white-light dark:border-[#1b2e4b]",children:[e("h5",{className:"font-semibold text-lg",children:"Leads Count"}),e("div",{children:s("div",{className:"flex gap-4",children:[s("select",{className:"form-select form-select-sm w-[150px]",value:r==null?void 0:r.manager,onChange:w=>I({action:"manager",value:w.target.value}),children:[e("option",{value:"0",children:"All"}),m==null?void 0:m.filter(w=>w.user_type==="Manager").map(w=>s("option",{value:w.id,children:[w.first_name," ",w.last_name]},w.id))]}),(r==null?void 0:r.manager)!="0"&&s("select",{className:"form-select form-select-sm w-[150px]",value:r==null?void 0:r.leader,onChange:w=>I({action:"leader",value:w.target.value}),children:[e("option",{value:"0",children:"All"}),m==null?void 0:m.filter(w=>w.user_type==="Team Leader"&&w.manager_id==(r==null?void 0:r.manager)).map(w=>s("option",{value:w.id,children:[w.first_name," ",w.last_name]},w.id))]})]})}),s("div",{className:"flex gap-5",children:[s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"active",className:"form-radio",checked:(r==null?void 0:r.isActiveUsers)==="active",onChange:()=>I({action:"isActiveUsers",value:"active"})}),e("span",{children:"Active Users"})]}),s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio2",value:"inactive",className:"form-radio",checked:(r==null?void 0:r.isActiveUsers)==="inactive",onChange:()=>I({action:"isActiveUsers",value:"inactive"})}),e("span",{children:"Inactive Users"})]})]}),s("div",{className:"flex gap-4",children:[["treemap","area","column"].map(w=>e("button",{className:`${(r==null?void 0:r.chart)===w?"bg-[#1abc9c]":"bg-[red]/50"} btn btn-sm shadow`,onClick:()=>I({action:"chart",value:w}),children:w==="treemap"?e(Xa,{color:"white",className:"w-5 h-5"}):w==="area"?e(Ya,{color:"white",className:"w-5 h-5"}):e(Qa,{color:"white",className:"w-5 h-5"})},w)),e("button",{className:"bg-dark btn btn-sm shadow",onClick:()=>I({action:"reload",value:!(r!=null&&r.reload)}),children:e(Oe,{className:"w-5 h-5",color:"white"})})]})]}),T()]})}function RC({filter:t,setFilter:a,todaySaleData:n,monthSaleData:r,todayCallData:i,monthCallData:o,leadCountData:m}){const{isFirstLoading:u,graphReload:c,tab:p}=t,f=h=>{a({...t,tab:h,graphReload:!0})};return s("div",{className:" flex gap-5",children:[u?e("div",{className:" flex flex-col gap-4 rounded min-w-[220px] h-full",children:e(ce,{duration:1,inline:!0,height:360,className:"me-4 "})}):s("div",{className:"bg-white-light shadow-[0_0_20px_0_#d0d0d0] dark:bg-[#050b14] flex flex-col gap-6 p-5 rounded min-w-[220px] h-full",children:[e("button",{type:"button",className:`btn btn-lg ${p=="todaySale"?"btn-gradient":"btn-dark"}`,onClick:()=>f("todaySale"),children:"Today's Sales"}),e("button",{type:"button",className:`btn btn-lg ${p=="monthSale"?"btn-gradient":"btn-dark"}`,onClick:()=>f("monthSale"),children:"Monthly Sales"}),e("button",{type:"button",className:`btn btn-lg ${p=="todayCall"?"btn-gradient":"btn-dark"}`,onClick:()=>f("todayCall"),children:"Today's Calls"}),e("button",{type:"button",className:`btn btn-lg ${p=="monthCall"?"btn-gradient":"btn-dark"}`,onClick:()=>f("monthCall"),children:"Monthly Calls"}),e("button",{type:"button",className:`btn btn-lg ${p=="leadCount"?"btn-gradient":"btn-dark"}`,onClick:()=>f("leadCount"),children:"Leads Count"})]}),e("div",{className:" flex-1 ",children:u||c?e(ce,{duration:1,inline:!0,height:360,className:"me-4 "}):p=="todaySale"?e(LC,{todaySaleData:n,filter:t,setFilter:a}):p=="monthSale"?e(FC,{monthSaleData:r,filter:t,setFilter:a}):p=="todayCall"?e(MC,{todayCallData:i,filter:t,setFilter:a}):p=="monthCall"?e(OC,{monthCallData:o,filter:t,setFilter:a}):e(BC,{leadCountData:m,filter:t,setFilter:a})})]})}function iu(){const{logout:t,crmToken:a,apiUrl:n,selectedBranch:r}=ee(),i=ve();l.useState();const[o,m]=l.useState([]),[u,c]=l.useState([]),[p,f]=l.useState([]),[h,b]=l.useState([]),[S,I]=l.useState([]),[T,w]=l.useState([]),[_,A]=l.useState([]),[k,g]=l.useState({isFirstLoading:!0,cardReload:!1,graphReload:!0,tab:"todaySale",todaySalesFilter:{manager:0,leader:0,isActiveUsers:"active",chart:"column",reload:!1},monthSalesFilter:{manager:0,leader:0,isActiveUsers:"active",chart:"column",reload:!1},todayCallFilter:{manager:0,leader:0,isActiveUsers:"active",chart:"column",reload:!1},monthCallFilter:{manager:0,leader:0,isActiveUsers:"active",chart:"column",reload:!1},LoadCoundFilter:{manager:0,leader:0,isActiveUsers:"active",chart:"column",reload:!1}}),E=async()=>{var v;console.log("Fecheing Leads Dashboard Data ......");try{const d=await K({method:"get",url:n+"/api/home-data-leads-dashboard",params:{filter:JSON.stringify(k)},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a,SelectedBranch:r}});if(d.data.status==="success"){const{isFirstLoading:y,cardReload:M,tab:C}=k,x=d.data.data;if((y||M)&&(m(x.cardData),c(x.serviceData)),y||C==="todaySale")f(x.todaySaleData);else switch(C){case"monthSale":b(x.monthSaleData);break;case"todayCall":I(x.todayCallData);break;case"monthCall":w(x.monthCallData);break;case"leadCount":A(x.leadData);break;default:console.warn("Unhandled tab:",C)}g(L=>{const F=C==="todaySale"?"todaySalesFilter":C==="monthSale"?"monthSalesFilter":C==="todayCall"?"todayCallFilter":C==="monthCall"?"monthCallFilter":C==="leadCount"?"LoadCoundFilter":null;return F?{...L,isFirstLoading:!1,cardReload:!1,graphReload:!1,[F]:{...L[F],reload:!1}}:L})}}catch(d){console.log(d),((v=d==null?void 0:d.response)==null?void 0:v.status)==401&&t()}finally{}};l.useEffect(()=>{i(Se("Lead Dashboard"));const{isFirstLoading:v,cardReload:d,todaySalesFilter:y,monthSalesFilter:M,todayCallFilter:C,monthCallFilter:x,LoadCoundFilter:L,graphReload:F}=k;(v||d||F||y.reload||M.reload||C.reload||x.reload||L.reload)&&E()},[k.isFirstLoading,k.cardReload,k.tab,k.todaySalesFilter,k.monthSalesFilter,k.todayCallFilter,k.monthCallFilter,k.LoadCoundFilter,k.LoadCoundFilter]);const N=()=>{g(v=>({...v,cardReload:!0}))};return s("div",{children:[s("div",{className:"flex justify-between items-center mb-2",children:[e("h1",{className:"font-extrabold text-[18px]",children:"Dashboard"}),e("button",{className:"bg-dark btn btn-sm shadow",onClick:()=>N(),children:e(Oe,{className:"w-5 h-5",color:"white"})})]}),e(PC,{cardData:o,filter:k,setFilter:g,serviceData:u}),e(Ns,{}),e(RC,{filter:k,setFilter:g,todaySaleData:p,monthSaleData:h,todayCallData:S,monthCallData:T,leadCountData:_})]})}function $C({fetchingCard:t}){const{logout:a,crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState([]),m=async()=>{console.log("Fecheing BDE Dashboard Data ......");try{const u=await K({method:"get",url:r+"/api/analyst-dashboards",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});u.data.status=="success"&&o(u.data)}catch{}finally{console.log(88)}};return console.log(i),l.useEffect(()=>{m()},[]),e(J,{children:t?e(be,{}):s("div",{className:"grid grid-cols-1 sm:grid-cols-3 xl:grid-cols-4 gap-6 mb-6 text-white",children:[e(Q,{to:"/analyst/campaign",children:s("div",{className:"panel bg-gradient-to-r from-cyan-500 to-cyan-400 cursor-pointer",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Total Campaign"}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:i==null?void 0:i.total_campaign})]})}),e(Q,{to:"/analyst/expiredservice",children:s("div",{className:"panel bg-gradient-to-r from-[#6bed3d] to-[#09e1cd] cursor-pointer",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Total Whatsapp Campaign"}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:i==null?void 0:i.whatsapp_campaign})]})}),e(Q,{to:"/analyst/saleservice",children:s("div",{className:"panel bg-gradient-to-r from-fuchsia-500 to-fuchsia-400 cursor-pointer",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Total Sms Campaign"}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:i==null?void 0:i.sms_campaign})]})}),e(Q,{to:"/analyst/expiredservice",children:s("div",{className:"panel bg-gradient-to-r from-[#92cf7c] to-[#09e1cd] cursor-pointer",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Total Application Campaign"}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:i==null?void 0:i.application_campaign})]})}),e(Q,{to:"/analyst/expiredservice",children:s("div",{className:"panel bg-gradient-to-r from-[#37522e] to-[#09e1cd] cursor-pointer",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Expired Campaign"}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:i==null?void 0:i.expired})]})}),e(Q,{to:"/analyst/pausedservice",children:s("div",{className:"panel bg-gradient-to-r from-[#09e1cd] to-cyan-400 cursor-pointer",children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:"Paused Campaign"}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:i==null?void 0:i.paused})]})})]})})}function jC(){return e("div",{children:e($C,{})})}function af(){return s("div",{children:[e(Hp,{}),e(Ns,{})]})}function zC({cardData:t,hrData:a,filter:n,setFilter:r}){console.log("hrData",a);const i=Re(),o=l.useCallback((u,c)=>{console.log("click event")},[i]),m=[{title:"Todays Sales Amount",key:"todaysales",amount:a.todaysSales,colors:"from-cyan-500 to-cyan-400",fStatus:0},{title:"This Month Sales Amount",key:"monthlysale",amount:a.monthlySales,colors:"from-[#6bed3d] to-[#09e1cd]",fStatus:"Closed Won"},{title:"This Year Sale Amount",key:"yealysale",amount:a.yearlySales,colors:"from-blue-500 to-blue-400",fStatus:"Free Trial"},{title:"Total Sales Amount",key:"totalsale",amount:a.totalSales,colors:"from-fuchsia-500 to-fuchsia-400",fStatus:"Follow Up"}];return e(J,{children:s(J,{children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-3 xl:grid-cols-4 gap-6 mb-6 text-white",children:m.map(({title:u,key:c,amount:p,colors:f,fStatus:h,fOwner:b=0})=>e("div",{className:`panel bg-gradient-to-r ${f} cursor-pointer group/item`,onClick:()=>o(h,b),children:s("div",{className:"flex justify-between items-center",children:[s("div",{children:[e("div",{className:"ltr:mr-1 rtl:ml-1 text-md font-semibold",children:u}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:t==null?void 0:t[c]}),e("div",{className:"text-3xl font-bold ltr:mr-3 rtl:ml-3 mt-5",children:p})]}),e("span",{className:"invisible group-hover/item:visible ",children:e(Du,{size:25})})]})},c))}),s("div",{className:"grid sm:grid-cols-4 xl:grid-cols-4 gap-6 mb-6",children:[e("div",{className:"panel h-full p-0",children:s("div",{className:"flex p-5",children:[e("div",{className:"shrink-0 bg-success/10 text-success rounded-xl w-11 h-11 flex justify-center items-center dark:bg-success dark:text-white-light",children:e(Ys,{className:"w-5 h-5"})}),s("div",{className:"ltr:ml-3 rtl:mr-3 font-semibold",children:[e("p",{className:"text-xl dark:text-white-light",children:a==null?void 0:a.totalEmployees}),e("h5",{className:"text-[#506690] text-xs",children:"Total Employee"})]})]})}),e("div",{className:"panel h-full p-0",children:s("div",{className:"flex p-5",children:[e("div",{className:"shrink-0 bg-success/10 text-success rounded-xl w-11 h-11 flex justify-center items-center dark:bg-success dark:text-white-light",children:e(Ys,{className:"w-5 h-5"})}),s("div",{className:"ltr:ml-3 rtl:mr-3 font-semibold",children:[e("p",{className:"text-xl dark:text-white-light",children:a==null?void 0:a.activeEmployees}),e("h5",{className:"text-[#506690] text-xs",children:"Total Active Employee"})]})]})}),e("div",{className:"panel h-full p-0",children:s("div",{className:"flex p-5",children:[e("div",{className:"shrink-0 bg-primary/10 text-primary rounded-xl w-11 h-11 flex justify-center items-center dark:bg-primary dark:text-white-light",children:e(Su,{className:"w-5 h-5"})}),s("div",{className:"ltr:ml-3 rtl:mr-3 font-semibold",children:[e("p",{className:"text-xl dark:text-white-light",children:a==null?void 0:a.inactiveEmployees}),e("h5",{className:"text-[#506690] text-xs",children:"Total Inactive Employee"})]})]})}),e("div",{className:"panel h-full p-0",children:s("div",{className:"flex p-5",children:[e("div",{className:"shrink-0 bg-danger/10 text-danger rounded-xl w-11 h-11 flex justify-center items-center dark:bg-danger dark:text-white-light",children:e(Eu,{className:"w-5 h-5"})}),s("div",{className:"ltr:ml-3 rtl:mr-3 font-semibold",children:[e("p",{className:"text-xl dark:text-white-light",children:a==null?void 0:a.presentEmployees}),e("h5",{className:"text-[#506690] text-xs",children:"Total Present Employee"})]})]})})]})]})})}function xi(){const{logout:t,crmToken:a,apiUrl:n,selectedBranch:r}=ee();ve(),l.useState();const[i,o]=l.useState([]),m=async()=>{try{const u=await K({method:"get",url:n+"/api/home-data-hr-dashboard",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});u.data.status=="success"&&o(u.data.data),console.log(u.data.data)}catch(u){console.log(u)}finally{console.log("ginfal")}};return l.useEffect(()=>{m()},[]),l.useState(!1),s("div",{children:[s("div",{className:"flex justify-between items-center mb-2",children:[e("h1",{className:"font-extrabold text-[18px]",children:"Dashboard"}),e("button",{className:"bg-dark btn btn-sm shadow",onClick:()=>alert(12),children:e(Oe,{className:"w-5 h-5",color:"white"})})]}),e(zC,{hrData:i})]})}function DC(){const{logout:t,crmToken:a,authUser:n,apiUrl:r}=ee();return e(J,{children:n.user_type=="BDE"?e(lC,{}):n.user_type=="Team Leader"?e(bC,{}):n.user_type=="Manager"?e(TC,{}):n.user_type=="Admin"?e(iu,{}):n.user_type=="Floor Manager"?e(iu,{}):n.user_type=="Analyst"?e(jC,{}):n.user_type=="Accounts"?e(af,{}):n.user_type=="HR"?e(xi,{}):n.user_type=="Networking"?e(xi,{}):n.user_type=="Complaince"?e(xi,{}):null})}const on=({className:t,fill:a=!1,duotone:n=!0})=>e(J,{children:a?s("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:t,children:[e("path",{opacity:n?"0.5":"1",d:"M10.65 2.25H7.35C4.23873 2.25 2.6831 2.25 1.71655 3.23851C0.75 4.22703 0.75 5.81802 0.75 9C0.75 12.182 0.75 13.773 1.71655 14.7615C2.6831 15.75 4.23873 15.75 7.35 15.75H10.65C13.7613 15.75 15.3169 15.75 16.2835 14.7615C17.25 13.773 17.25 12.182 17.25 9C17.25 5.81802 17.25 4.22703 16.2835 3.23851C15.3169 2.25 13.7613 2.25 10.65 2.25Z",fill:"currentColor"}),e("path",{d:"M14.3465 6.02574C14.609 5.80698 14.6445 5.41681 14.4257 5.15429C14.207 4.89177 13.8168 4.8563 13.5543 5.07507L11.7732 6.55931C11.0035 7.20072 10.4691 7.6446 10.018 7.93476C9.58125 8.21564 9.28509 8.30993 9.00041 8.30993C8.71572 8.30993 8.41956 8.21564 7.98284 7.93476C7.53168 7.6446 6.9973 7.20072 6.22761 6.55931L4.44652 5.07507C4.184 4.8563 3.79384 4.89177 3.57507 5.15429C3.3563 5.41681 3.39177 5.80698 3.65429 6.02574L5.4664 7.53583C6.19764 8.14522 6.79033 8.63914 7.31343 8.97558C7.85834 9.32604 8.38902 9.54743 9.00041 9.54743C9.6118 9.54743 10.1425 9.32604 10.6874 8.97558C11.2105 8.63914 11.8032 8.14522 12.5344 7.53582L14.3465 6.02574Z",fill:"currentColor"})]}):s("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{opacity:n?"0.5":"1",d:"M2 12C2 8.22876 2 6.34315 3.17157 5.17157C4.34315 4 6.22876 4 10 4H14C17.7712 4 19.6569 4 20.8284 5.17157C22 6.34315 22 8.22876 22 12C22 15.7712 22 17.6569 20.8284 18.8284C19.6569 20 17.7712 20 14 20H10C6.22876 20 4.34315 20 3.17157 18.8284C2 17.6569 2 15.7712 2 12Z",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M6 8L8.1589 9.79908C9.99553 11.3296 10.9139 12.0949 12 12.0949C13.0861 12.0949 14.0045 11.3296 15.8411 9.79908L18 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),ll=({className:t,fill:a=!1,duotone:n=!0})=>e(J,{children:a?s("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:t,children:[e("path",{opacity:n?"0.5":"1",d:"M1.5 12C1.5 9.87868 1.5 8.81802 2.15901 8.15901C2.81802 7.5 3.87868 7.5 6 7.5H12C14.1213 7.5 15.182 7.5 15.841 8.15901C16.5 8.81802 16.5 9.87868 16.5 12C16.5 14.1213 16.5 15.182 15.841 15.841C15.182 16.5 14.1213 16.5 12 16.5H6C3.87868 16.5 2.81802 16.5 2.15901 15.841C1.5 15.182 1.5 14.1213 1.5 12Z",fill:"currentColor"}),e("path",{d:"M6 12.75C6.41421 12.75 6.75 12.4142 6.75 12C6.75 11.5858 6.41421 11.25 6 11.25C5.58579 11.25 5.25 11.5858 5.25 12C5.25 12.4142 5.58579 12.75 6 12.75Z",fill:"currentColor"}),e("path",{d:"M9 12.75C9.41421 12.75 9.75 12.4142 9.75 12C9.75 11.5858 9.41421 11.25 9 11.25C8.58579 11.25 8.25 11.5858 8.25 12C8.25 12.4142 8.58579 12.75 9 12.75Z",fill:"currentColor"}),e("path",{d:"M12.75 12C12.75 12.4142 12.4142 12.75 12 12.75C11.5858 12.75 11.25 12.4142 11.25 12C11.25 11.5858 11.5858 11.25 12 11.25C12.4142 11.25 12.75 11.5858 12.75 12Z",fill:"currentColor"}),e("path",{d:"M5.0625 6C5.0625 3.82538 6.82538 2.0625 9 2.0625C11.1746 2.0625 12.9375 3.82538 12.9375 6V7.50268C13.363 7.50665 13.7351 7.51651 14.0625 7.54096V6C14.0625 3.20406 11.7959 0.9375 9 0.9375C6.20406 0.9375 3.9375 3.20406 3.9375 6V7.54096C4.26488 7.51651 4.63698 7.50665 5.0625 7.50268V6Z",fill:"currentColor"})]}):s("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M2 16C2 13.1716 2 11.7574 2.87868 10.8787C3.75736 10 5.17157 10 8 10H16C18.8284 10 20.2426 10 21.1213 10.8787C22 11.7574 22 13.1716 22 16C22 18.8284 22 20.2426 21.1213 21.1213C20.2426 22 18.8284 22 16 22H8C5.17157 22 3.75736 22 2.87868 21.1213C2 20.2426 2 18.8284 2 16Z",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{opacity:n?"0.5":"1",d:"M6 10V8C6 4.68629 8.68629 2 12 2C15.3137 2 18 4.68629 18 8V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),s("g",{opacity:n?"0.5":"1",children:[e("path",{d:"M9 16C9 16.5523 8.55228 17 8 17C7.44772 17 7 16.5523 7 16C7 15.4477 7.44772 15 8 15C8.55228 15 9 15.4477 9 16Z",fill:"currentColor"}),e("path",{d:"M13 16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16C11 15.4477 11.4477 15 12 15C12.5523 15 13 15.4477 13 16Z",fill:"currentColor"}),e("path",{d:"M17 16C17 16.5523 16.5523 17 16 17C15.4477 17 15 16.5523 15 16C15 15.4477 15.4477 15 16 15C16.5523 15 17 15.4477 17 16Z",fill:"currentColor"})]})]})});function VC({setAction:t,companyType:a}){const{addToast:n}=ct(),r=ve(),i=_e(w=>w.themeConfig.apiUrl);l.useEffect(()=>{r(Se("Admin Onboarding"))},[]);const[o]=l.useState({first_name:"",last_name:"",email:"",phone_number:"",password:"",password_confirmation:"",crm_link:"",gst_enabled:a?1:0,gst_value:0}),[m,u]=l.useState(o),[c,p]=l.useState({}),f=()=>{p({});let w={};return m.crm_link||(w={...w,crm_link:"crm link is required!"}),m.first_name||(w={...w,first_name:"first name is required!"}),m.last_name||(w={...w,last_name:"last name is required!"}),m.gst_enabled&&!m.gst_value&&(w={...w,gst_value:"gst value is required!"}),m.email||(w={...w,email:"email is required!"}),m.phone_number||(w={...w,phone_number:"phone number is required!"}),m.password?m.password!=m.password_confirmation&&(w={...w,password_confirmation:"password missmatch!"}):w={...w,password:"password is required!"},p(w),{totalErrors:Object.keys(w).length}},h=w=>{const{value:_,name:A,type:k,checked:g}=w.target;p({...c,[A]:""}),k=="checkbox"?u({...m,[A]:g?1:0}):u({...m,[A]:_})},[b,S]=l.useState(!1),I=async w=>{var A;S(!0);try{const k=await K({method:"post",url:i+"/api/admin",data:w,headers:{"Content-Type":"multipart/form-data"}});k.data.status=="success"&&k.data.action=="login"&&(t("login"),n({variant:"success",title:k.data.message}))}catch(k){if(console.log(k),((A=k==null?void 0:k.response)==null?void 0:A.status)===422){const g=k.response.data.errors;let E={};for(var _ in g)E={...E,[_]:g[_][0]},console.log(g[_][0]);p(E),n({variant:"error",title:"Server Validation Error! Please Solve"})}}finally{S(!1)}},T=()=>{if(f().totalErrors)return n({variant:"error",title:"Validation Error! Please Solve"}),!1;const _=new FormData;_.append("first_name",m.first_name),_.append("last_name",m.last_name),_.append("email",m.email),_.append("phone_number",m.phone_number),_.append("password",m.password),_.append("password_confirmation",m.password_confirmation),_.append("crm_link",m.crm_link),_.append("gst_enabled",m.gst_enabled),_.append("gst_value",m.gst_value),I(_)};return e("div",{className:"relative w-full max-w-[700px] rounded-md bg-[linear-gradient(45deg,#fff9f9_0%,rgba(255,255,255,0)_25%,rgba(255,255,255,0)_75%,_#fff9f9_100%)] p-2 dark:bg-[linear-gradient(52.22deg,#0E1726_0%,rgba(14,23,38,0)_18.66%,rgba(14,23,38,0)_51.04%,rgba(14,23,38,0)_80.07%,#0E1726_100%)]",children:e("div",{className:"relative flex flex-col justify-center rounded-md bg-white/60 backdrop-blur-lg dark:bg-black/50 px-8 lg:min-h-[auto] py-6",children:s("div",{className:"space-y-5 mx-auto w-full ",children:[s("div",{className:"mb-10 text-center",children:[e("h1",{className:"text-3xl font-extrabold uppercase !leading-snug text-primary md:text-4xl",children:"Admin Onboarding"}),e("p",{className:"text-base font-bold leading-normal text-white-dark",children:"Setting Up Your CRM Admin Account"})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{children:[e("label",{children:"CRM Link"}),s("div",{className:"relative text-white-dark",children:[e("input",{name:"crm_link",type:"text",placeholder:"Enter crm link",className:"form-input ps-10 placeholder:text-white-dark",onChange:w=>h(w)}),e("span",{className:"absolute start-4 top-1/2 -translate-y-1/2",children:e(on,{fill:!0})})]}),e("span",{className:"text-danger",children:c!=null&&c.crm_link?c.crm_link:""})]}),a?s("div",{children:[e("label",{children:"GST Value"}),e("input",{type:"tel",placeholder:"Enter GST Value",className:"form-input",name:"gst_value",value:m.gst_value,onChange:w=>h(w)}),e("div",{className:"text-danger mt-1",children:c.gst_value})]}):null]}),e("hr",{}),s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s("div",{children:[e("label",{children:"First Name"}),s("div",{className:"relative text-white-dark",children:[e("input",{name:"first_name",type:"text",placeholder:"Enter First Name",className:"form-input ps-10 placeholder:text-white-dark",onChange:w=>h(w)}),e("span",{className:"absolute start-4 top-1/2 -translate-y-1/2",children:e(on,{fill:!0})})]}),e("span",{className:"text-danger",children:c!=null&&c.first_name?c.first_name:""})]}),s("div",{children:[e("label",{children:"Last Name"}),s("div",{className:"relative text-white-dark",children:[e("input",{name:"last_name",type:"text",placeholder:"Enter Last Name",className:"form-input ps-10 placeholder:text-white-dark",onChange:w=>h(w)}),e("span",{className:"absolute start-4 top-1/2 -translate-y-1/2",children:e(on,{fill:!0})})]}),e("span",{className:"text-danger",children:c!=null&&c.last_name?c.last_name:""})]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s("div",{children:[e("label",{children:"Email"}),s("div",{className:"relative text-white-dark",children:[e("input",{name:"email",type:"email",placeholder:"Enter Email",className:"form-input ps-10 placeholder:text-white-dark",onChange:w=>h(w)}),e("span",{className:"absolute start-4 top-1/2 -translate-y-1/2",children:e(on,{fill:!0})})]}),e("span",{className:"text-danger",children:c!=null&&c.email?c.email:""})]}),s("div",{children:[e("label",{children:"Phone Number"}),s("div",{className:"relative text-white-dark",children:[e("input",{name:"phone_number",type:"tel",maxLength:10,placeholder:"Enter phone number",className:"form-input ps-10 placeholder:text-white-dark",onChange:w=>h(w)}),e("span",{className:"absolute start-4 top-1/2 -translate-y-1/2",children:e(on,{fill:!0})})]}),e("span",{className:"text-danger",children:c!=null&&c.phone_number?c.phone_number:""})]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s("div",{children:[e("label",{children:"Password"}),s("div",{className:"relative text-white-dark",children:[e("input",{name:"password",type:"password",placeholder:"Enter Password",className:"form-input ps-10 placeholder:text-white-dark",onChange:w=>h(w)}),e("span",{className:"absolute start-4 top-1/2 -translate-y-1/2",children:e(ll,{fill:!0})})]}),e("span",{className:"text-danger",children:c!=null&&c.password?c.password:""})]}),s("div",{children:[e("label",{children:"Confirm Password"}),s("div",{className:"relative text-white-dark",children:[e("input",{name:"password_confirmation",type:"password",placeholder:"Enter password confirmation",className:"form-input ps-10 placeholder:text-white-dark",onChange:w=>h(w)}),e("span",{className:"absolute start-4 top-1/2 -translate-y-1/2",children:e(ll,{fill:!0})})]}),e("span",{className:"text-danger",children:c!=null&&c.password_confirmation?c.password_confirmation:""})]})]}),e("button",{type:"button",className:"btn btn-gradient !mt-6 w-full border-0 uppercase shadow-[0_10px_20px_-10px_rgba(67,97,238,0.44)]",disabled:!!b,onClick:()=>T(),children:b?"Please wait...":"Submit"})]})})})}function lu(){return e("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg shadow-lg overflow-hidden",children:s("div",{className:"p-6 text-white",children:[e("div",{className:"flex justify-center mb-4",children:e(vr,{size:50})}),e("h2",{className:"text-2xl font-bold text-center mb-2",children:"CRM Blocked"}),e("p",{className:"text-center mb-6",children:"CRM Blocked by Team Finsap"})]})})}function UC(){return e("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg shadow-lg overflow-hidden",children:s("div",{className:"p-6 text-white",children:[e("div",{className:"flex justify-center mb-4",children:e(vr,{size:50})}),e("h2",{className:"text-2xl font-bold text-center mb-2",children:"CRM Blocked"}),e("p",{className:"text-center mb-6",children:"CRM blocked due to payment issues by Team Finsap"})]})})}function HC({block:t}){return e("div",{className:"min-w-[500px] h-[90%] mx-auto ",children:t=="block"?e(lu,{}):t=="payment"?e(UC,{}):e(lu,{})})}const WC=()=>{const t=ve();ct(),l.useEffect(()=>{t(Se("Login"))});const a=Re(),{crmToken:n,apiUrl:r,authUser:i}=ee(),o=_e(T=>T.themeConfig.lastLogin);l.useEffect(()=>{n&&o==0&&i.id!=1?a("/create-password"):n?a("/"):I()},[n,o]);const[m,u]=l.useState(!0),[c,p]=l.useState(""),[f,h]=l.useState(null),[b,S]=l.useState(0),I=async()=>{u(!0);try{console.log("Checking CRM Status API .....");let T=await K({method:"get",url:r+"/api/check-crm"});T.data.status=="success"&&p("login"),T.data.settings&&t(Zn(T.data.settings)),T.data.status=="error"&&T.data.action=="admin"?(p("admin"),S(T.data.company_type)):T.data.status=="error"&&T.data.action=="blocked"&&(p("blocked"),h(T.data.type))}catch(T){console.log(T),alert("Error")}finally{u(!1)}};return s("div",{children:[e("div",{className:"absolute inset-0",children:e("img",{src:"/assets/images/auth/bg-gradient.png",alt:"image",className:"h-full w-full object-cover"})}),e("div",{className:"relative flex min-h-screen items-center justify-center bg-[url(/assets/images/auth/map.png)] bg-cover bg-center bg-no-repeat px-6 py-10 dark:bg-[#060818] sm:px-16",children:m?e(be,{}):c=="login"?e("div",{className:"relative w-full max-w-[500px] rounded-md",children:e("div",{className:"relative flex flex-col justify-center rounded-md dark:bg-black/50 px-8 lg:min-h-[auto] py-6",children:e(qC,{})})}):c=="admin"?e(VC,{setAction:p,companyType:b}):c=="blocked"?e(HC,{block:f}):null})]})},qC=()=>{const{addToast:t}=ct(),a=_e(T=>T.themeConfig.apiUrl),n=_e(T=>T.themeConfig.settingData),r=ve(),[i]=l.useState({password:"",pin:"",email_or_emp_id_or_phone:"",isChecked:!1,user_name:"",isPin:!1,showPin:!1}),[o,m]=l.useState(i),[u,c]=l.useState({}),p=T=>{const{value:w,name:_}=T.target;c({...u,[_]:""}),m({...o,[_]:w})},f=()=>{c({});let T={};return o.email_or_emp_id_or_phone||(T={...T,email_or_emp_id_or_phone:"email or employee id  is required"}),c(T),{totalErrors:Object.keys(T).length}},[h,b]=l.useState(!1),S=async T=>{var _;console.log("Checking Login User API...."),b(!0);try{const A=await K({method:"post",url:a+"/api/check-login-user",data:T,headers:{"Content-Type":"multipart/form-data"}});A.data.status=="success"?(m({...o,isChecked:!0,user_name:A.data.user,isPin:A.data.isPin,showPin:A.data.isPin}),r(Ci(A.data.branches))):alert("Failed")}catch(A){if(((_=A==null?void 0:A.response)==null?void 0:_.status)===422){const k=A.response.data.errors;let g={};for(var w in k)g={...g,[w]:k[w][0]};c(g),t({variant:"error",title:A.response.data.message})}}finally{b(!1)}},I=()=>{if(f().totalErrors)return t({variant:"error",title:"Validation Error! Please Solve"}),!1;const w=new FormData;w.append("email_or_emp_id_or_phone",o.email_or_emp_id_or_phone),S(w)};return e(J,{children:o.isChecked?e(ZC,{params:o,setParams:m,defaultParams:i}):s("div",{className:"bg-white shadow-lg rounded-lg mt-9",children:[s("header",{className:"px-5 pb-5",children:[n!=null&&n.logo?e("div",{className:"flex-none",children:e("img",{className:"w-[200px] max-w-[100px] ltr:-ml-1 rtl:-mr-1 inline mt-5",src:`${a}/storage/${n==null?void 0:n.logo}`})}):null,s("div",{className:"mt-2",children:[e("h2",{className:"text-2xl font-semibold",children:"Sign in"}),e("span",{children:"to access CRM"})]})]}),e("div",{className:"bg-gray-100 text-center px-5 py-10",children:s("form",{autoComplete:"off",onSubmit:T=>{T.preventDefault(),I()},className:"justify-center rounded",children:[s("div",{children:[e("label",{htmlFor:"email_or_emp_id_or_phone",className:"text-left",children:"Email Address or User ID"}),s("div",{className:"relative text-white-dark mb-2",children:[e("input",{name:"email_or_emp_id_or_phone",type:"text",placeholder:"Enter Email or User ID",className:"form-input ps-10 placeholder:text-white-dark",value:o.email_or_emp_id_or_phone,onChange:T=>p(T)}),e("span",{className:"absolute start-4 top-1/2 -translate-y-1/2",children:e(on,{fill:!0})})]}),e("span",{className:"text-danger font-bold ",children:u!=null&&u.email_or_emp_id_or_phone?u.email_or_emp_id_or_phone:""})]}),e("div",{className:"max-w-[260px] mx-auto mt-4",children:e("button",{type:"submit",className:"btn btn-gradient !mt-6 w-full border-0 w-100px uppercase shadow-[0_10px_20px_-10px_rgba(67,97,238,0.44)]",disabled:h,children:h?"Please Wait":"Login"})})]})})]})})},ZC=({params:t,setParams:a,defaultParams:n})=>{const r=ve(),{addToast:i}=ct();l.useEffect(()=>{r(Se("Login"))});const o=Re(),{apiUrl:m}=ee(),[u,c]=l.useState({}),p=_=>{const{value:A,name:k}=_.target,[g,E]=k.split("_"),N=parseInt(E,10);if(g==="pin"){if(c({...u,pin:""}),A){const y=document.querySelector(`input[name=pin_${N+1}]`);y&&y.focus()}const v=document.querySelectorAll(".pin");let d="";v.forEach(y=>{d+=y.value}),a({...t,pin:d})}else c({...u,[k]:""}),a({...t,[k]:A})},f=(_,A)=>{if(_.key==="Backspace"&&!_.target.value){const k=document.querySelector(`input[name=pin_${A-1}]`);k&&(k.focus(),k.value="")}},h=()=>{c({});let _={};return t.isPin?t.pin||(_={..._,pin:"Pin is required",password:""}):t.password||(_={..._,pin:"",password:"Password is required"}),c(_),{totalErrors:Object.keys(_).length}},[b,S]=l.useState(!1),I=async _=>{var k;S(!0);try{const g=await K({method:"post",url:m+"/api/login",data:_,headers:{"Content-Type":"multipart/form-data"}});g.data.status=="success"?(g.data.lastLogin==0&&o("/create-password"),r(at(g.data.token)),r(Gn(g.data.user)),r(og(g.data.lastLogin)),localStorage.setItem("callbacks",JSON.stringify(g.data.callbacks))):alert("Failed")}catch(g){if(((k=g==null?void 0:g.response)==null?void 0:k.status)===422){const E=g.response.data.errors;let N={};for(var A in E)N={...N,[A]:E[A][0]};c(N),i({variant:"error",title:g.response.data.message})}}finally{S(!1)}},T=()=>{if(h().totalErrors)return i({variant:"error",title:"Validation Error! Please Solve"}),!1;const A=new FormData;A.append("pin",t.pin),A.append("password",t.password),A.append("email_or_emp_id_or_phone",t.email_or_emp_id_or_phone),I(A)},w=l.useRef(null);return l.useEffect(()=>{w.current&&w.current.focus()},[]),s("div",{className:"bg-white shadow-lg rounded-lg mt-9",children:[s("header",{className:"text-center px-5 pb-5",children:[e("div",{className:"flex-none",children:e("img",{src:`https://ui-avatars.com/api/?background=random&name=${t.user_name}&length=3`,className:"inline-flex -mt-9 w-[72px] h-[72px] fill-current rounded-full border-4 border-white box-content shadow mb-3 rounded-full h-12 w-12 object-cover",alt:""})}),e("div",{className:"text-[18px] font-medium text-gray-500",children:t.user_name}),e("div",{className:" text-[14px] text-blue-900 mt-2 cursor-pointer",onClick:()=>{a(n)},children:"change user"})]}),e("div",{className:"bg-gray-100 text-center px-5 py-6",children:s("form",{autoComplete:"off",onSubmit:_=>{_.preventDefault(),T()},className:"justify-center rounded",children:[t.isPin?s("div",{children:[e("label",{className:"text-2xl font-bold mb-8",children:"Enter 4 Digit PIN "}),e("div",{className:"flex items-center justify-center gap-3 mb-2",children:Array.from({length:4}).map((_,A)=>e("input",{type:"password",ref:A===0?w:null,value:t.pin.charAt(A),name:`pin_${A}`,onChange:p,onKeyDown:k=>f(k,A),className:`w-14 h-14 text-center text-2xl font-extrabold text-slate-900
                                      border border-transparent hover:border-slate-200 appearance-none
                                      rounded p-4 outline-none focus:bg-white focus:border-indigo-400
                                      focus:ring-2 focus:ring-indigo-100 pin`,maxLength:1},A))}),u.pin?e("b",{className:"text-danger font-bold p-2",children:u.pin}):""]}):s("div",{children:[e("label",{className:" text-left",children:"Password"}),s("div",{className:"relative text-white-dark mb-2",children:[e("input",{name:"password",value:t.password,type:"password",placeholder:"Enter Password",className:"form-input ps-10 placeholder:text-white-dark",onChange:_=>p(_)}),e("span",{className:"absolute start-4 top-1/2 -translate-y-1/2",children:e(ll,{fill:!0})})]}),e("span",{className:"text-danger font-bold",children:u!=null&&u.password?u.password:""}),e("div",{children:s("label",{className:"flex cursor-pointer items-center",children:[e("input",{type:"checkbox",className:"form-checkbox bg-white dark:bg-black"}),e("span",{className:"text-white-dark",children:"Remember me"})]})})]}),e("div",{className:"max-w-[260px] mx-auto mt-4",children:e("button",{type:"submit",disabled:b,className:"btn btn-gradient !mt-6 w-full border-0 w-100px uppercase shadow-[0_10px_20px_-10px_rgba(67,97,238,0.44)]",children:b?"Please Wait":"Login"})}),t.showPin?e("div",{className:" flex justify-center cursor-pointer mt-2",children:t.isPin?e("b",{className:"mt-4",onClick:()=>{a({...t,pin:"",isPin:!1})},children:"Login with Password"}):e("b",{className:"mt-4",onClick:()=>{a({...t,password:"",isPin:!0})},children:"Login with 4 Digit PIN"})}):null]})})]})};function GC(){const t=ve();l.useEffect(()=>{t(Se("Application Report"))});const{settingData:a,crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState([]),S=async()=>{console.log("*** Fetching Application data ***"),_(!0);try{const k=await K({method:"get",url:r+"/api/reports/application",params:{page:i,pageSize:u,search:p},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});k.data.status=="success"&&(b(k.data.data),console.log(k.data.data))}catch{}finally{_(!1)}},[I,T]=l.useState(!1);l.useEffect(()=>{I&&(S(),T(!1))},[I]),l.useEffect(()=>{i!==1?o(1):T(!0)},[u]),l.useEffect(()=>{I||T(!0)},[i]);const[w,_]=l.useState(!1),A=()=>{i!==1?o(1):T(!0),f(p)};return e(J,{children:s("div",{className:"panel flex-1 overflow-x-hidden h-full",children:[e("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:s("div",{className:"flex items-center flex-wrap justify-between gap-2 ",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:p,onChange:k=>{f(k.target.value)},placeholder:"Search by Name",className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{A()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),e("button",{onClick:()=>{S()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})}),e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:h==null?void 0:h.data,columns:[{accessor:"Campaign Name",sortable:!0,render:({campaign_name:k})=>e("div",{className:"flex items-center font-semibold",children:e("div",{children:k})})},{accessor:"Application Content",sortable:!0,render:({campaign:k})=>e("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:e("h1",{children:e("b",{children:k})})})},{accessor:"Date",sortable:!0,render:({created_at:k})=>e("p",{children:k})},{accessor:"Status",sortable:!0,render:()=>e("div",{className:"flex gap-2",children:e("span",{className:"badge bg-success",children:"success"})})}],totalRecords:h==null?void 0:h.totalItems,recordsPerPage:h==null?void 0:h.pageSize,page:i,fetching:w,onPageChange:k=>o(k),recordsPerPageOptions:m,onRecordsPerPageChange:c,minHeight:200,paginationText:({totalRecords:k})=>`Showing  ${h==null?void 0:h.from} to ${h==null?void 0:h.to} of ${k} entries`})})]})})}function KC({selectedData:t,drawer:a}){const{settingData:n,crmToken:r,apiUrl:i}=ee(),[o,m]=l.useState(1),u=[10,25,50,100,250,500,1e3],[c,p]=l.useState(u[0]),[f,h]=l.useState(""),[b,S]=l.useState([]);l.useEffect(()=>{a&&(S([]),w())},[o,f,t,a]),l.useEffect(()=>{m(1)},[c]);const[I,T]=l.useState(!0),w=async()=>{console.log("Fetching SMS Campaigns........"),T(!0);try{const _=await K({method:"get",url:i+"/api/reports/whatsapp/"+t.id,params:{page:o,size:c},headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});_.data.status=="success"&&S(_.data.data)}catch(_){console.log(_)}finally{T(!1)}};return s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full py-4",children:[s("div",{className:"flex justify-between",children:[e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:"Whatsapp Reports"}),e("button",{className:"btn btn-sm btn-dark shadow",onClick:()=>w(),disabled:!!I,children:I?"Loading...":"Reload"})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar ",children:e("div",{className:"datatables",children:e(je,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:b[0],columns:[{accessor:"MobileNumber",title:"Phone Number",render:({MobileNumber:_})=>e("b",{children:_})},{accessor:"SubmitDate",title:"Date",render:({SubmitDate:_,DoneDate:A})=>s("b",{children:[_," ",e("br",{}),A]})},{accessor:"Status",title:"Status",render:({Status:_})=>e("span",{className:"badge bg-primary",children:_})},{accessor:"ErrorCode",title:"ErrorCode",render:({ErrorCode:_})=>e("span",{className:"font-bold badge bg-[#DBE7FF] text-[12px] text-[#506690]",children:_})}],fetching:I,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:b[2],recordsPerPage:c,page:o,onPageChange:_=>m(_),recordsPerPageOptions:u,onRecordsPerPageChange:p,minHeight:200,paginationText:({totalRecords:_})=>`Showing  ${b[3]} to ${b[4]} of ${_} entries`})})})]})}function JC(){const{settingData:t,crmToken:a,apiUrl:n}=ee(),[r,i]=l.useState(1),o=ve();l.useEffect(()=>{o(Se("Whatsapp Report"))});const m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState("");l.useEffect(()=>{T()},[r,p,u]),l.useEffect(()=>{i(1)},[u]);const[h,b]=l.useState([]),[S,I]=l.useState(!0),T=async()=>{console.log("Fetching Whatsapp Campaigns........"),I(!0);try{const v=await K({method:"get",url:n+"/api/reports/whatsapp",params:{page:r,size:u,search:p},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});v.data.status=="success"&&b(v.data.data)}catch(v){console.log(v)}finally{I(!1)}},[w,_]=l.useState(!1);l.useEffect(()=>{w&&(T(),_(!1))},[w]),l.useEffect(()=>{r!==1?i(1):_(!0)},[u]),l.useEffect(()=>{w||_(!0)},[r]);const[A,k]=l.useState(!1),[g,E]=l.useState("");l.useState("");const N=()=>{r!==1?i(1):_(!0),f(p)};return s("div",{className:"panel flex-1 overflow-x-hidden h-full",children:[s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[e("div",{className:"flex items-center flex-wrap"}),s("div",{className:" flex  justify-between gap-2",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:p,onChange:v=>f(v.target.value),placeholder:"Search by Campaign Name",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{N()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),e("button",{onClick:()=>{T()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables",children:e(je,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:h[0],columns:[{accessor:"campaign_name",title:"Campaign Name",render:({campaign_name:v})=>e("b",{children:v})},{accessor:"count",title:"Clients",render:v=>e("span",{className:"badge bg-primary",children:v.count})},{accessor:"final_template",title:"Content",render:({final_template:v,campaign_name:d})=>s("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:[e("h1",{children:e("b",{children:d})}),e("span",{className:"font-bold text-[12px] text-[#506690]",children:v})]})},{accessor:"id",title:"Action",render:v=>e("div",{children:e("span",{className:"badge bg-success cursor-pointer me-2",onClick:()=>{E(v),k(!0)},children:"View"})})},{accessor:"created_at",title:"Time"}],fetching:S,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:h[2],recordsPerPage:u,page:r,onPageChange:v=>i(v),recordsPerPageOptions:m,onRecordsPerPageChange:c,minHeight:200,paginationText:({totalRecords:v})=>`Showing  ${h[3]} to ${h[4]} of ${v} entries`})}),s("div",{children:[e("div",{className:`${A&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>k(!1)}),e("nav",{className:`${A&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[900px] rtl:-left-[900px] top-0 bottom-0 w-full max-w-[900px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e(KC,{selectedData:g,drawer:A})})]})]})}function YC({selectedData:t,drawer:a}){const{crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]);l.useState("");const[p,f]=l.useState([]),[h,b]=l.useState(!0);l.useEffect(()=>{a&&S()},[a,i]),l.useEffect(()=>{i!=1?o(1):a&&S()},[u]);const S=async()=>{console.log("Fetching SMS Campaigns........"),b(!0);try{const I=await K({method:"get",url:r+"/api/reports/sms/"+t.id,params:{page:i,pageSize:u},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});I.data.status=="success"&&(f(I.data.data),console.log("viewwww report",I.data.data))}catch(I){console.log(I)}finally{b(!1)}};return s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full py-4",children:[s("div",{className:"flex justify-between",children:[e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:"SMS Reports"}),e("button",{className:"btn btn-sm btn-dark shadow",onClick:()=>S(),disabled:!!h,children:h?"Loading...":"Reload"})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar ",children:e("div",{className:"datatables",children:e(je,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:p==null?void 0:p.data,columns:[{accessor:"MobileNumber",title:"Phone Number",render:({MobileNumber:I})=>e("b",{children:I})},{accessor:"SenderId",title:"Sender Id",render:({SenderId:I})=>e("span",{className:"badge bg-[#3b3f5c] w-fit",children:I})},{accessor:"SubmitDate",title:"Date",render:({SubmitDate:I,DoneDate:T})=>s("b",{children:[I," ",e("br",{}),T]})},{accessor:"Status",title:"Status",render:({Status:I})=>e("span",{className:`badge ${I=="DELIVRD"?"bg-success":I=="SUBMITTED"?"bg-warning":"bg-primary"} `,children:I})},{accessor:"ErrorCode",title:"ErrorCode",render:({ErrorCode:I})=>e("span",{className:"font-bold badge bg-[#DBE7FF] text-[12px] text-[#506690]",children:I})}],totalRecords:p.totalItems,recordsPerPage:u,page:i,onPageChange:I=>o(I),recordsPerPageOptions:m,onRecordsPerPageChange:c,sortStatus:{columnAccessor:"id",direction:"asc"},minHeight:500,fetching:h,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:I})=>`Showing  ${p==null?void 0:p.from} to ${p.to} of ${I} entries`})})})]})}function XC(){const{crmToken:t,apiUrl:a}=ee(),[n,r]=l.useState(1),i=ve();l.useEffect(()=>{i(Se("SMS Report"))});const o=[10,25,50,100,250,500,1e3],[m,u]=l.useState(o[0]),[c,p]=l.useState(""),[f,h]=l.useState([]),[b,S]=l.useState(!0),I=async()=>{console.log("Fetching SMS Campaigns........"),S(!0);try{const E=await K({method:"get",url:a+"/api/reports/sms",params:{page:n,size:m,search:c},headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});E.data.status=="success"&&h(E.data.data)}catch(E){console.log(E)}finally{S(!1)}},[T,w]=l.useState(!0);l.useEffect(()=>{I()},[n,T,m]),l.useEffect(()=>{n!=1?r(1):w(!0)},[m]);const[_,A]=l.useState(!1),[k,g]=l.useState("");return l.useState(""),s("div",{className:"panel flex-1 overflow-x-hidden h-full",children:[s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[e("div",{className:"flex items-center flex-wrap"}),s("div",{className:" flex justify-between gap-2",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:c,onChange:E=>p(E.target.value),placeholder:"Search by Campaign Name",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{n!=1?r(1):I()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),e("button",{onClick:()=>{I()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables",children:e(je,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:f[0],columns:[{accessor:"campaign_name",title:"Campaign Name",render:({campaign_name:E})=>e("b",{children:E})},{accessor:"sender_id",title:"Sender Id",render:({sender_id:E,template_name:N})=>s("div",{className:"flex flex-col gap-1",children:[e("span",{className:"badge bg-[#3b3f5c] w-fit",children:E}),e("span",{children:e("b",{children:N})})]})},{accessor:"count",title:"Clients",render:E=>e("span",{className:"badge bg-primary",children:E.count})},{accessor:"final_template",title:"Content",render:({final_template:E,campaign_name:N})=>s("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:[e("h1",{children:e("b",{children:N})}),e("span",{className:"font-bold text-[12px] text-[#506690]",children:E})]})},{accessor:"id",title:"Action",render:E=>e("div",{children:e("span",{className:"badge bg-success cursor-pointer me-2",onClick:()=>{g(E),A(!0)},children:"View "})})},{accessor:"created_at",title:"Time"}],fetching:b,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:f[2],recordsPerPage:m,page:n,onPageChange:E=>r(E),recordsPerPageOptions:o,onRecordsPerPageChange:u,minHeight:200,paginationText:({totalRecords:E})=>`Showing  ${f[3]} to ${f[4]} of ${E} entries`})}),s("div",{children:[e("div",{className:`${_&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>A(!1)}),e("nav",{className:`${_&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[900px] rtl:-left-[900px] top-0 bottom-0 w-full max-w-[900px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e(YC,{selectedData:k,drawer:_})})]})]})}const nf=({message:t})=>{const{apiUrl:a,settingData:n}=ee();return e("div",{className:"flex justify-center items-center animate__bounceIn ",children:s("div",{className:"w-80 min-h-[500px] bg-[#E5DDD5] rounded-lg overflow-hidden shadow-xl flex flex-col",children:[s("div",{className:"bg-[#075E54] text-white p-3 flex items-center",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),e("div",{className:"flex-shrink-0 w-10 h-10 bg-gray-300 rounded-full mr-3",children:e("img",{className:"rounded-full h-full",src:`${a}/storage/${n==null?void 0:n.favicon}`})}),s("div",{className:"flex-grow",children:[e("p",{className:"font-semibold text-lg truncate w-[150px]",children:n==null?void 0:n.crm_name}),e("p",{className:"text-sm",children:"online"})]}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})]}),s("div",{className:"flex-grow p-4 overflow-y-auto",children:[s("div",{className:"bg-[#DCF8C6] rounded-lg p-2 max-w-[80%] ml-auto mb-2",children:[e("p",{className:"text-sm font-semibold",children:"This is just a priview of your message"}),s("p",{className:"text-right text-xs text-gray-500",children:["11:38 ",e("span",{className:"text-blue-500",children:"✓✓"})]})]}),t?s("div",{className:"bg-white rounded-lg p-2 max-w-[80%] ",children:[e("p",{className:"text-sm font-semibold",style:{whiteSpace:"pre-line"},children:t}),e("p",{className:"text-right text-xs text-gray-500",children:"8:45"})]}):null]}),s("div",{className:"bg-[#F0F0F0] p-2 flex items-center",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("input",{type:"text",disabled:!0,placeholder:"Type a message",className:"flex-grow bg-white rounded-full py-2 px-4 text-sm focus:outline-none"}),s("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-gray-500 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})]})]})})};function ou({drawer:t,setDrawer:a,selectedRecords:n}){console.log(n);const r=n.map(O=>O.id),{crmToken:i,apiUrl:o,logout:m}=ee();l.useEffect(()=>{t&&S()},[t]);const[u,c]=l.useState(!0),[p,f]=l.useState([]),[h,b]=l.useState(null);console.log("templates",p);const S=async()=>{var O;console.log("Fetching Whatsapp Template ......"),c(!0);try{const $=await K({method:"get",url:o+"/api/campaigns/get-whatsapp-template",params:{sales:JSON.stringify(r)},headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});$.data.status=="success"&&(f($.data.templates.filter(B=>B.template_type=="Other")),b($.data.sales)),console.log("ddfkdfjkfd",$.data.templates)}catch($){console.log($),((O=$==null?void 0:$.response)==null?void 0:O.status)==401&&m()}finally{c(!1)}},I={template_id:"",campaign_name:"",final_template:"",fields:[]},[T,w]=l.useState({}),[_,A]=l.useState(I),[k,g]=l.useState(""),[E,N]=l.useState(0);l.useEffect(()=>{t&&(A({...I,campaign_name:"",template_id:"",final_template:"",fields:[]}),N(0),g(""))},[t]);const v=O=>{const{value:$,name:B}=O.target;w({...T,[B]:""}),A({..._,[B]:$})},d=()=>{w({});let O={};return _.campaign_name||(O={...O,campaign_name:"campaign_name is required."}),w(O),{totalErrors:Object.keys(O).length}},[y,M]=l.useState(!1),C=async O=>{var B,R;try{M(!0),(await K({method:"post",url:o+"/api/campaigns/whatsapp",data:O,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}})).data.status==="success"&&(re.fire({title:"Campaign Updated successfully",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),a(!1))}catch(P){if(console.log(P),((B=P==null?void 0:P.response)==null?void 0:B.status)==401&&m(),((R=P==null?void 0:P.response)==null?void 0:R.status)===422){const z=P.response.data.errors;let H={};for(var $ in z)H={...H,[$]:z[$][0]},console.log(z[$][0]);w(H),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{M(!1)}},x=()=>{var B;if(d().totalErrors)return!1;const $=new FormData;$.append("campaign_name",_.campaign_name),$.append("template_id",_.template_id),$.append("sales",JSON.stringify(r)),$.append("fields",(B=_==null?void 0:_.fields)!=null&&B.length?JSON.stringify(_.fields):JSON.stringify([])),C($)},L=(O,$)=>{const{value:B}=O.target,R=[..._.fields];R[$]=B;let P=k.template.replace(/{{(\d+)}}/g,(H,W)=>R[W-1]?R[W-1]:H);const z={..._,fields:R,final_template:P};A(z)};function F(O){const $=/\{\{/g,B=O.match($);return B?B.length:0}return l.useEffect(()=>{if(_.template_id){const O=p.find($=>$.id==_.template_id);g(O),N(F(O.template)),A({..._,fields:[],final_template:O.template})}},[_.template_id]),e(J,{children:u?e(be,{}):s("div",{children:[h?s("div",{className:"flex gap-2 items-center bg-white-light/40 p-3 rounded mb-3",children:[e("div",{children:e(Hl,{size:24})}),e("div",{className:"text-[16px] font-bold",children:s("span",{className:"text-black/70",children:["Whatsapp Message Sending to ",e("span",{className:"text-black",children:h})," Clients"]})})]}):null,s("div",{className:"flex",children:[s("form",{autoComplete:"off",action:"",method:"post",className:"flex-1 bg-[#e3e7fc] p-4 rounded h-fit",children:[s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Campaign Name"}),e("input",{type:"text",className:"form-input",name:"campaign_name",onChange:O=>v(O),value:_.campaign_name}),e("div",{className:"text-danger font-semibold text-sm",children:T.campaign_name})]}),s("div",{className:"mb-4",children:[s("select",{onChange:O=>v(O),value:_.template_id,name:"template_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",children:"Select Template"}),p==null?void 0:p.map(O=>e("option",{value:O.id,children:O.short_name},O.id))]}),e("div",{className:"text-danger font-semibold text-sm",children:T.template_id})]}),k&&e("div",{className:"mb-4  ",children:e("div",{className:"bg-[#f1faff] p-4 rounded shadow",children:e("p",{style:{whiteSpace:"pre-line"},children:_.final_template})})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Array.from({length:E},(O,$)=>s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:`{{${$+1}}}`,className:"form-input",name:`fields[${$}]`,onChange:B=>L(B,$)}),e("div",{className:"text-danger font-semibold text-sm",children:T.fields})]},$))}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn btn-danger shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>x(),disabled:y,className:"btn  btn-dark shadow bg-black",children:y?"Please Wait...":"Send Updates"})]})]}),e("div",{className:" m-4",children:e(nf,{message:_==null?void 0:_.final_template})})]})]})})}function QC({drawer:t,setDrawer:a,selectedRecords:n}){const r=n.map(P=>P.id),{crmToken:i,apiUrl:o,logout:m}=ee();l.useEffect(()=>{t&&_()},[t]);const[u,c]=l.useState(!0),[p,f]=l.useState([]),[h,b]=l.useState([]),[S,I]=l.useState([]),[T,w]=l.useState(null),_=async()=>{var P;console.log("Fetching SMS Template ......"),c(!0);try{const z=await K({method:"get",url:o+"/api/campaigns/get-sms-template",params:{sales:JSON.stringify(r)},headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});z.data.status=="success"&&(I(z.data.sender_ids),f(z.data.templates.filter(H=>H.template_type=="Other")),w(z.data.sales))}catch(z){console.log(z),((P=z==null?void 0:z.response)==null?void 0:P.status)==401&&m()}finally{c(!1)}},A={template_id:"",campaign_name:"",final_template:"",fields:[]},[k,g]=l.useState({}),[E,N]=l.useState(A),[v,d]=l.useState(""),[y,M]=l.useState(0);l.useEffect(()=>{E.sender_id&&b(p.filter(P=>P.sender_id==E.sender_id))},[E.sender_id]),l.useEffect(()=>{t&&(N({...A,campaign_name:"",template_id:"",final_template:"",fields:[]}),M(0),d(""))},[t]);const C=P=>{const{value:z,name:H}=P.target;g({...k,[H]:""}),N({...E,[H]:z}),console.table(E)},x=()=>{g({});let P={};return E.campaign_name||(P={...P,campaign_name:"campaign_name is required."}),g(P),{totalErrors:Object.keys(P).length}},[L,F]=l.useState(!1),O=async P=>{var H,W;try{F(!0),(await K({method:"post",url:o+"/api/campaigns/sms",data:P,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}})).data.status==="success"&&(re.fire({title:"Campaign Sent successfully",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),a(!1))}catch(q){if(((H=q==null?void 0:q.response)==null?void 0:H.status)==401&&m(),((W=q==null?void 0:q.response)==null?void 0:W.status)===422){const D=q.response.data.errors;let V={};for(var z in D)V={...V,[z]:D[z][0]},console.log(D[z][0]);g(V),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{F(!1)}},$=()=>{var H;if(x().totalErrors)return!1;const z=new FormData;z.append("campaign_name",E.campaign_name),z.append("template_id",E.template_id),z.append("sales",JSON.stringify(r)),z.append("fields",(H=E==null?void 0:E.fields)!=null&&H.length?JSON.stringify(E.fields):JSON.stringify([])),O(z)},B=(P,z)=>{const{value:H}=P.target,W=[...E.fields];W[z]=H;let q=0,D=v.template.replace(/\{#var#\}/g,j=>{let U=W[q]!==void 0?W[q]:j;return q++,U});const V={...E,fields:W,final_template:D};N(V)};function R(P){const z=/\{\#/g,H=P.match(z);return console.log(H?H.length:0),H?H.length:0}return l.useEffect(()=>{if(E.template_id){const P=p.find(z=>z.id==E.template_id);d(P),M(R(P.template)),N({...E,fields:[],final_template:P.template})}},[E.template_id]),e(J,{children:u?e(be,{}):s("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:[T?s("div",{className:"flex gap-2 items-center bg-white-light/40 p-3 rounded mb-3",children:[e("div",{children:e(Iu,{size:24})}),e("div",{className:"text-[16px] font-bold",children:s("span",{className:"text-black/70",children:["SMS Sending to ",e("span",{className:"text-black",children:T})," Clients"]})})]}):null,s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Campaign Name"}),e("input",{type:"text",className:"form-input",name:"campaign_name",value:E.campaign_name,onChange:P=>C(P)}),e("div",{className:"text-danger font-semibold text-sm",children:k.campaign_name})]}),s("div",{className:"mb-4",children:[s("select",{onChange:P=>C(P),value:E.sender_id,name:"sender_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",disabled:!0,selected:!0,children:"Select Sender Id"}),S==null?void 0:S.map((P,z)=>e("option",{value:P,children:P},z))]}),e("div",{className:"text-danger font-semibold text-sm",children:k.sender_id})]}),s("div",{className:"mb-4",children:[s("select",{onChange:P=>C(P),value:E.template_id,name:"template_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",children:"Select Template"}),h==null?void 0:h.map(P=>e("option",{value:P.id,children:P.short_name},P.id))]}),e("div",{className:"text-danger font-semibold text-sm",children:k.template_id})]}),v&&e("div",{className:"mb-4  ",children:e("div",{className:"bg-[#f1faff] p-4 rounded shadow",children:e("p",{children:E.final_template})})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Array.from({length:y},(P,z)=>s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:`{{${z+1}}}`,className:"form-input",name:`fields[${z}]`,onChange:H=>B(H,z)}),e("div",{className:"text-danger font-semibold text-sm",children:k.fields})]},z))}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>$(),disabled:L,className:"btn  btn-dark shadow bg-black",children:L?"Please Wait...":"Send Updates "})]})]})})}function e6({leads:t,drawer:a,setDrawer:n,selectedRecords:r}){const i=r.map(N=>N.id);console.log(i),ve();const{crmToken:o,apiUrl:m,logout:u}=ee();console.log("application selectedRecords",r);const[c,p]=l.useState(!1);l.useEffect(()=>{const N=r.map(v=>({number:v.number,phone:v.phone}));p(N)},[]);const[f]=l.useState({id:"",script_name:"",price_range:"",action:"",stoploss:"",target_one:"",target_two:""}),[h,b]=l.useState(f),[S,I]=l.useState({}),T=()=>{I({});let N={};return h.script_name||(N={...N,script_name:"Instrument Name required"}),console.log(N),I(N),{totalErrors:Object.keys(N).length}},[w,_]=l.useState(!1),A=N=>{const{value:v,name:d}=N.target;I({...S,[d]:""}),b({...h,[d]:v}),console.table(h)},k=async N=>{var d,y;_(!0);try{const M=await K({method:"post",url:m+"/api/save-application-notification",data:N,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o}});M.data.status=="success"?(E(M.data.message),b(f),console.log("params",h)):alert(M.data.message)}catch(M){if(console.log(M),((d=M==null?void 0:M.response)==null?void 0:d.status)==401&&u(),((y=M==null?void 0:M.response)==null?void 0:y.status)===422){const C=M.response.data.errors;let x={};for(var v in C)x={...x,[v]:C[v][0]},console.log(C[v][0]);I(x),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{_(!1)}},g=()=>{if(T().totalErrors)return!1;const v=new FormData;v.append("script_name",h.script_name),v.append("price_range",h.price_range),v.append("action",h.action),v.append("stoploss",h.stoploss),v.append("target_one",h.target_one),v.append("target_two",h.target_two),v.append("sales",JSON.stringify(i)),k(v)},E=(N="",v="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:v,title:N,padding:"10px 20px"})};return s("div",{className:" pt-5",children:[s("div",{className:" grid grid-cols-1 md:grid-cols-2 gap-2",children:[s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:"Enter Instrument ",className:"form-input",name:"script_name",onChange:N=>A(N),value:h.script_name}),e("div",{className:"text-danger font-semibold text-sm",children:S.script_name})]}),s("div",{className:"mb-4",children:[s("select",{onChange:N=>A(N),name:"action",value:h.action,className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",children:"Select Action"}),e("option",{value:"Buy",children:"Buy"}),e("option",{value:"Sell",children:"Sell"}),e("option",{value:"Hold",children:"Hold"})]}),e("div",{className:"text-danger font-semibold text-sm",children:S.action})]}),s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:"Enter Entry Price ",className:"form-input",name:"price_range",onChange:N=>A(N),value:h.price_range}),e("div",{className:"text-danger font-semibold text-sm",children:S.price_range})]}),s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:"Enter Target 1",className:"form-input",name:"target_one",onChange:N=>A(N),value:h.target_one}),e("div",{className:"text-danger font-semibold text-sm",children:S.target_one})]}),s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:"Enter Target 2",className:"form-input",name:"target_two",onChange:N=>A(N),value:h.target_two}),e("div",{className:"text-danger font-semibold text-sm",children:S.target_two})]}),s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:"Enter Stoloss",className:"form-input",name:"stoploss",onChange:N=>A(N),value:h.stoploss}),e("div",{className:"text-danger font-semibold text-sm",children:S.stoploss})]})]}),e("footer",{className:"w-full text-center border-t border-grey p-4",children:e("div",{className:"flex justify-end gap-5 py-2",children:s("button",{onClick:()=>{g()},type:"button",disabled:w,className:"btn btn-dark",children:[" ",w?"Please Wait":"Send Advice"," "]})})})]})}function t6(){var F;const{logout:t,crmToken:a,settingData:n,authUser:r,apiUrl:i}=ee(),o=ve();l.useEffect(()=>{o(Se("Sales Campaign"))});const[m,u]=l.useState(1),c=[1e3,2500,5e3,1e4,5e4,1e5],[p,f]=l.useState(c[0]),[h,b]=l.useState(""),[S,I]=l.useState([]),[T,w]=l.useState([]);l.useEffect(()=>{E()},[m,p]),l.useEffect(()=>{m!=1?u(1):E()},[p]);const[_,A]=l.useState([]),[k,g]=l.useState(!0),E=async()=>{var $,B;const O=[];($=_[5])==null||$.forEach(R=>{R.groups.forEach(P=>{T.includes(P.id)&&O.push(...P.products.map(z=>z.id))})}),console.log("Fetching Whatsapp Campaigns........"),g(!0);try{const R=await K({method:"get",url:i+"/api/analyst/active-sales",params:{page:m,size:p,filter:JSON.stringify(O),search:h},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});R.data.status=="success"&&A(R.data.data)}catch(R){((B=R==null?void 0:R.response)==null?void 0:B.status)==401&&t(),console.log(R)}finally{g(!1)}},[N,v]=l.useState([]),[d,y]=l.useState(!1),[M,C]=l.useState(!1),x=(O,$)=>{const{value:B,checked:R}=O.target,P=$.map(H=>H.id),z=Number(B);w(H=>{const W=R?[...H,...P.filter(q=>!H.includes(q))]:H.filter(q=>!P.includes(q));return[...new Set(W)]}),console.log(z),I(H=>R?[...H,z]:H.filter(W=>W!==z))},L=(O,$,B)=>{const{value:R,checked:P}=O.target;w(z=>P?[...z,Number(R)]:z.filter(H=>H!==Number(R))),!P&&!T.some(z=>$.includes(z))&&(console.log("yesss"),I(z=>z.filter(H=>H!==B)))};return l.useEffect(()=>{console.log(T)},[T]),e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel shadow-none ",children:[s("div",{className:"flex justify-between gap-4",children:[e("div",{className:"flex gap-3  w-full",children:s("button",{type:"button",className:"btn btn-dark ",onClick:()=>C(!0),children:["Filter",S.length?e("span",{className:"badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4",children:S.length}):""]})}),s("div",{className:"flex gap-3 justify-end  w-full",children:[s("div",{className:"flex min-w-[275px]",children:[e("input",{type:"text",placeholder:"Search by phone number",className:"form-input ltr:rounded-r-none rtl:rounded-l-none",onChange:O=>b(O.target.value)}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>m==1?E():u(1),children:e(Pa,{})})]}),N.length?s("div",{className:"flex items-center flex-wrap",children:[s("button",{type:"button",className:"btn btn-primary m-1",onClick:()=>y(!d),children:[e(wu,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"Send Advice"]}),e(a6,{drawer:d,setDrawer:y,selectedRecords:N})]}):"",e("button",{disabled:!!k,onClick:()=>E(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]}),e(ge,{appear:!0,show:M,as:l.Fragment,children:s(Ie,{as:"div",open:M,onClose:()=>C(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-[screen] px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-[800px] my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"font-bold text-lg",children:"Filter By Products"}),e("button",{type:"button",onClick:()=>C(!1),className:"text-white-dark hover:text-dark",children:"x"})]}),s("div",{className:"p-5",children:[(F=_[5])==null?void 0:F.map(O=>s(J,{children:[s("label",{className:"flex items-center",children:[e("input",{type:"checkbox",className:"form-checkbox text-success",value:O.id,onChange:$=>x($,O.groups),checked:S.includes(O.id)}),e("span",{style:{display:"flex",alignItems:"center"},children:O.value})]},O.id),S.includes(O.id)?e("div",{className:"mx-8",children:O==null?void 0:O.groups.map($=>{var B,R;return s("label",{className:"flex items-center",children:[e("input",{type:"checkbox",className:"form-checkbox  rounded-full text-success",value:$.id,onChange:P=>L(P,O.groups.filter(z=>$.id!==z.id).map(z=>z.id),O.id),checked:T.includes($.id)}),s("span",{style:{display:"flex",alignItems:"center"},children:[$.group_name,(B=$==null?void 0:$.products)!=null&&B.length?e(lt,{content:e("ul",{children:(R=$==null?void 0:$.products)==null?void 0:R.map(P=>e("li",{children:P.pro_name}))}),placement:"right",children:e("span",{className:"mx-2",children:e(vr,{})})}):null]})]},$.id)})}):null]})),s("div",{className:"flex justify-end items-center mt-8",children:[S!=null&&S.length?e("button",{type:"button",onClick:()=>{I([]),w([])},className:"btn btn-outline-danger",children:"Clear"}):null,e("button",{type:"button",onClick:()=>{E(),C(!1)},className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"Apply"})]})]})]})})})})]})})]}),e("div",{className:"datatables  mt-4",children:e(je,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:_[0],columns:[{accessor:"owner",title:"Owner",render:({owner:O})=>e("b",{children:O})},{accessor:"client",title:"Client",sortable:!0,render:({first_name:O,last_name:$,phone:B})=>{const R=P=>{const z=P.toString();if(z.length!==10)throw new Error("Number must be exactly 10 digits long.");return z.slice(0,2)+"****"+z.slice(6)};return e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:s("b",{children:[O," ",$," ",e("br",{}),r.user_type==="Analyst"&&(n!=null&&n.crm_phones)&&JSON.parse(n==null?void 0:n.crm_phones).includes("Analyst")||r.user_type==="Accounts"&&(n!=null&&n.crm_phones)&&JSON.parse(n==null?void 0:n.crm_phones).includes("Accounts")?R(B):B]})})})}},{accessor:"sale_service",title:"Sale Service",render:({sale_service:O,is_service_activated:$})=>s("div",{className:"flex gap-2",children:[$?e(ml,{style:{color:"green",fontSize:20}}):e(v1,{style:{color:"red",fontSize:20}}),e("div",{children:JSON.parse(O||"[]").map((B,R)=>e("span",{className:"me-1 badge bg-[black]/60",children:B},R))})]})},{accessor:"client_type",title:"Client Type",render:({client_type:O,product:$})=>s("span",{children:[" ",e("b",{children:O})," ",e("br",{})," ",s("small",{className:"font-bold",children:[$," apple orange mano grape"]})," "]})},{accessor:"start_date",title:"Date",render:({start_date:O,due_date:$})=>s("b",{children:[O," ",e("br",{})," ",$]})}],fetching:k,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:_[2],recordsPerPage:p,page:m,onPageChange:O=>u(O),recordsPerPageOptions:c,onRecordsPerPageChange:O=>{f(O==="All"?_[2]:O)},selectedRecords:N,onSelectedRecordsChange:v,minHeight:200,paginationText:({totalRecords:O})=>`Showing ${_[3]} to ${_[4]} of ${O} entries`})})]})})})}const a6=({drawer:t,setDrawer:a,selectedRecords:n})=>{const r=_e(m=>m.themeConfig.settingData),[i,o]=l.useState("s");return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!t)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[900px] rtl:-left-[900px] top-0 bottom-0 w-full max-w-[900px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:s("div",{className:"mb-5",children:[s("div",{className:"mb-5 flex items-center justify-between",children:[e("h5",{className:"text-lg font-semibold dark:text-white-light",children:"Campaign"}),s("div",{className:"flex gap-4",children:[(r==null?void 0:r.sms_enabled)&&!(r!=null&&r.app_enabled)&&e("button",{className:`${i=="s"&&"text-secondary !outline-none before:!w-full"}
             before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>o("s"),type:"button",children:"Sms"}),r!=null&&r.sms_enabled&&(r!=null&&r.app_enabled)?e("button",{className:`${i=="s"&&"text-secondary !outline-none before:!w-full"}
             before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>o("s"),type:"button",children:"Sms/Application"}):"",r!=null&&r.whatsapp_enabled?e("button",{className:`${i=="w"&&"text-secondary !outline-none before:!w-full"}
                before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>o("w"),type:"button",children:"Whatsapp"}):""]})]}),i=="s"&&(r!=null&&r.sms_enabled)?e(QC,{drawer:t,setDrawer:a,selectedRecords:n}):i=="w"&&(r!=null&&r.whatsapp_enabled)?e(ou,{drawer:t,setDrawer:a,selectedRecords:n}):!(r!=null&&r.sms_enabled)&&(r!=null&&r.whatsapp_enabled)?e(ou,{drawer:t,setDrawer:a,selectedRecords:n}):!(r!=null&&r.sms_enabled)||!(r!=null&&r.whatsapp_enabled)&&(r!=null&&r.app_enabled)?e(e6,{drawer:t,setDrawer:a,selectedRecords:n}):""]})})})})})]})},cu=[50,100,250,500,1e3,2500],n6=()=>{const{logout:t,crmToken:a,apiUrl:n,authUser:r,settingData:i}=ee(),[o,m]=l.useState(1),[u,c]=l.useState(cu[0]),[p,f]=l.useState(""),[h,b]=l.useState(""),[S,I]=l.useState([]),[T,w]=l.useState([]),[_,A]=l.useState(!1),k=async()=>{var g;A(!0);try{const E=await K.get(`${n}/api/expired-sales`,{params:{page:o,pageSize:u,filterProducts:h,search:p},headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});E.data.status==="success"&&(I(E.data.data),T.length||w(E.data.products))}catch(E){console.error(E),((g=E.response)==null?void 0:g.status)===401&&t()}finally{A(!1)}};return l.useEffect(()=>{k()},[o,u]),l.useEffect(()=>{h&&(o==1?k():m(1))},[h]),e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-[calc(100vh-200px)]",children:s("div",{className:"panel shadow-none",children:[s("div",{className:"flex justify-between gap-4",children:[s("div",{className:"flex gap-3 ",children:[s("select",{className:"form-select min-w-[220px]",onChange:g=>b(g.target.value),"aria-label":"Filter Products",children:[e("option",{value:"0",children:"All"}),T.map(g=>e("option",{value:g.id,children:g.pro_name},g.id))]}),s("div",{className:"flex min-w-[275px]",children:[e("input",{type:"text",placeholder:"Search by phone number",value:p,className:"form-input ltr:rounded-r-none rtl:rounded-l-none",onChange:g=>f(g.target.value)}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>k(),children:e(Pa,{})})]})]}),e("button",{disabled:_,onClick:k,className:"bg-[#f4f4f4] rounded-md p-2 disabled:opacity-60","aria-label":"Refresh",children:e(Oe,{className:"w-5 h-5"})})]}),e("div",{className:"datatables mt-4",children:e(je,{className:"whitespace-nowrap table-hover",records:S==null?void 0:S.data,columns:[{accessor:"owner",title:"Owner",render:({owner:g})=>e("b",{children:g})},{accessor:"client",title:"Client",sortable:!0,render:({first_name:g,last_name:E,phone:N})=>{const v=d=>{const y=d.toString();if(y.length!==10)throw new Error("Number must be exactly 10 digits long.");return y.slice(0,2)+"****"+y.slice(6)};return e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:s("b",{children:[g," ",E," ",e("br",{}),r.user_type==="Analyst"&&(i!=null&&i.crm_phones)&&JSON.parse(i==null?void 0:i.crm_phones).includes("Analyst")||r.user_type==="Accounts"&&(i!=null&&i.crm_phones)&&JSON.parse(i==null?void 0:i.crm_phones).includes("Accounts")?v(N):N]})})})}},{accessor:"sale_service",title:"Sale Service",render:({sale_service:g})=>JSON.parse(g).map((E,N)=>e("span",{className:"me-1 badge bg-[black]/60",children:E},N))},{accessor:"client_type",title:"Client Type"},{accessor:"status",title:"Status",render:({status:g})=>g==="Closed Won"?e("button",{type:"button",className:"btn btn-success btn-sm",children:"Create Sale"}):e("span",{className:"badge bg-[#3b3f5c] cursor-pointer",children:g})},{accessor:"start_date",title:"Date",render:({start_date:g,due_date:E})=>s("b",{children:[g," ",e("br",{})," ",E]})}],highlightOnHover:!0,fetching:_,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:S==null?void 0:S.totalItems,recordsPerPage:u,page:o,onPageChange:m,recordsPerPageOptions:cu,minHeight:200,paginationText:({totalRecords:g})=>`Showing ${S==null?void 0:S.from} to ${S==null?void 0:S.to} of ${g} entries`})})]})})})};function s6(){l.useEffect(()=>{i(Se("Agreement"))});const{logout:t,crmToken:a,authUser:n,apiUrl:r}=ee(),i=ve();l.useEffect(()=>{i(Se("Kyc"))}),Re(),l.useEffect(()=>{},[a]);const[o,m]=l.useState([]),[u,c]=l.useState(1),p=[10,25,50,100,250,500,1e3],[f,h]=l.useState(p[0]),[b,S]=l.useState(null),[I,T]=l.useState(0),[w,_]=l.useState(!1),[A,k]=l.useState([]),g=async()=>{var L;_(!0);try{const F=await K({method:"get",url:r+"/api/fetch-agreement",params:{page:u,pageSize:f,search:b,filterStatus:I},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});F.data.status=="success"?(m(F.data.data),k(F.data.sebi)):console.log("error")}catch(F){((L=F==null?void 0:F.response)==null?void 0:L.status)==401&&t(),console.log(F)}finally{_(!1)}},[E,N]=l.useState(!1);l.useEffect(()=>{E&&(g(),N(!1))},[E]),l.useEffect(()=>{u!==1?c(1):N(!0)},[I,f]),l.useEffect(()=>{E||N(!0)},[u]);const[v,d]=l.useState([]),y=L=>{d(L),C(!M)},[M,C]=l.useState(!1);l.useEffect(()=>{c(1)},[f]);const x=()=>{u!==1?c(1):N(!0),S(b)};return s("div",{className:"panel flex-1 overflow-x-hidden h-full",children:[s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:b,onChange:L=>S(L.target.value),placeholder:"Search by Pan or Phone",className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{x()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),s("div",{className:" flex gap-2",children:[s("select",{name:"",id:"",className:"form-select w-[140px]",onChange:L=>T(L.target.value),children:[e("option",{value:"0",children:"All"}),e("option",{value:"1",children:"Pending"}),e("option",{value:"2",children:"Submited"}),e("option",{value:"3",children:"Verified"})]}),e("button",{onClick:()=>{g()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:o==null?void 0:o.data,columns:[{accessor:"id",title:"#",sortable:!0},{accessor:"full_name",title:"Full Name",render:({full_name:L})=>s("b",{children:[L," "]})},{accessor:"phone",title:"Phone",render:({phone:L})=>s("b",{children:[L," "]})},{accessor:"email",title:"Email",render:({email:L})=>s("b",{children:[L," "]})},{accessor:"pan",title:"Pan",render:({pan:L})=>s("b",{children:[L," "]})},{accessor:"Status",sortable:!0,render:({is_verified:L,is_submited:F,is_viewed:O})=>e(J,{children:e("span",{className:`badge ${L?"bg-success":F?"bg-primary":O?"bg-warning":"bg-danger"}`,children:L?"Verified":F?"Submited":O?"Viewed":"Pending"})})},{accessor:"Action",sortable:!0,render:L=>e("div",{className:"flex gap-2",children:e("span",{onClick:()=>{L!=null&&L.is_submited&&y(L)},children:L!=null&&L.is_submited?e(Wl,{size:20,color:"green"}):e(ul,{size:20,color:"red"})})})}],totalRecords:o.totalItems,recordsPerPage:f,page:u,onPageChange:L=>c(L),recordsPerPageOptions:p,onRecordsPerPageChange:h,sortStatus:{columnAccessor:"id",direction:"asc"},minHeight:500,fetching:w,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:L})=>`Showing  ${o==null?void 0:o.from} to ${o.to} of ${L} entries`})}),e(zp,{showAgreementViewDrawer:M,viewAgreement:v,setAgreementViewShowDrawer:C})]})}function r6(){var F,O,$;const t=ve();l.useEffect(()=>{t(Se("Risk Profile"))}),Re();const{logout:a,crmToken:n,authUser:r,apiUrl:i}=ee();l.useEffect(()=>{},[n]);const[o,m]=l.useState([]),[u,c]=l.useState(1),p=[10,25,50,100,250,500,1e3],[f,h]=l.useState(p[0]),[b,S]=l.useState(null),[I,T]=l.useState(0),[w,_]=l.useState([]),[A,k]=l.useState(!1),g=async()=>{var B;k(!0);try{const R=await K({method:"get",url:i+"/api/risk-profiles",params:{page:u,pageSize:f,search:b,filterStatus:I},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});R.data.status=="success"?(m(R.data.data),_(R.data.sebi)):console.log("error")}catch(R){((B=R==null?void 0:R.response)==null?void 0:B.status)==401&&a(),console.log(R)}finally{k(!1)}},[E,N]=l.useState(!1);l.useEffect(()=>{E&&(g(),N(!1))},[E]),l.useEffect(()=>{u!==1?c(1):N(!0)},[I,f]),l.useEffect(()=>{E||N(!0)},[u]),l.useState([]);const[v,d]=l.useState(!1),[y,M]=l.useState({riskProfile:{}}),C=B=>{M(R=>({...R,riskProfile:{...B,is_reset:0}})),d(!v)};l.useEffect(()=>{var B;(B=y==null?void 0:y.riskProfile)!=null&&B.is_reset&&g()},[y.riskProfile]),l.useEffect(()=>{c(1)},[f]);const x=()=>{u!==1?c(1):N(!0),S(b)},L=(F=o==null?void 0:o.risk)==null?void 0:F.filter(B=>parseInt(B.maximum_score)===o.score);return s("div",{className:"panel flex-1 overflow-x-hidden h-full",children:[s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:b,onChange:B=>S(B.target.value),placeholder:"Search by Number",className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{x()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),s("div",{className:" flex gap-2",children:[s("select",{name:"",id:"",className:"form-select w-[140px]",onChange:B=>T(B.target.value),children:[e("option",{value:"0",children:"All"}),e("option",{value:"1",children:"Pending"}),e("option",{value:"2",children:"Viewed"}),e("option",{value:"3",children:"Submited"}),e("option",{value:"4",children:"Verified"})]}),e("button",{onClick:()=>{g()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:o==null?void 0:o.data,columns:[{accessor:"id",title:"#",sortable:!0},{accessor:"full_name",title:"Full Name",render:({full_name:B})=>s("b",{children:[B," "]})},{accessor:"phone",title:"Mobile",render:({phone:B})=>e("b",{children:B})},{accessor:"pan",title:"Pan",render:({pan:B})=>e("b",{children:B})},{accessor:"Result",sortable:!0,render:B=>s("div",{className:"flex gap-2",children:[e("span",{className:"badge badge-outline-danger",children:(L==null?void 0:L.length)>0?e("ul",{children:L==null?void 0:L.map((R,P)=>e("li",{children:R.risk_name},P))}):e("p",{children:"No matching risks found."})}),s("span",{className:"badge bg-info",children:["Mark : ",B!=null&&B.score?B.score:"NA"]})]})},{accessor:"Status",sortable:!0,render:({is_verified:B,is_submited:R,is_viewed:P})=>e(J,{children:e("span",{className:`badge ${B?"bg-success":R?"bg-primary":P?"bg-warning":"bg-danger"}`,children:B?"Verified":R?"Submited":P?"Viewed":"Pending"})})},{accessor:"action",title:"Action",render:B=>e(J,{children:e("span",{onClick:()=>{B!=null&&B.is_submited&&C(B)},children:B!=null&&B.is_submited?e(Wl,{size:20,color:"green"}):e(ul,{size:20,color:"red"})})})}],totalRecords:o.totalItems,recordsPerPage:f,page:u,onPageChange:B=>c(B),recordsPerPageOptions:p,onRecordsPerPageChange:h,sortStatus:{columnAccessor:"id",direction:"asc"},minHeight:500,fetching:A,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:B})=>`Showing  ${o==null?void 0:o.from} to ${o.to} of ${B} entries`})}),e(Yl,{showRPViewDrawer:v,ridk_profile_id:(O=y==null?void 0:y.riskProfile)==null?void 0:O.id,setRPViewShowDrawer:d,setVerification:M,is_old_rp:($=y==null?void 0:y.riskProfile)==null?void 0:$.is_old_rp})]})}function i6(){const{logout:t,crmToken:a,authUser:n,apiUrl:r}=ee(),i=ve();l.useEffect(()=>{i(Se("Kyc"))}),Re();const[o,m]=l.useState([]),[u,c]=l.useState(1),p=[10,25,50,100,250,500,1e3],[f,h]=l.useState(p[0]),[b,S]=l.useState(null),[I,T]=l.useState(0),[w,_]=l.useState(!1),A=async()=>{var C;_(!0);try{const x=await K({method:"get",url:r+"/api/get-kyc-details",params:{page:u,pageSize:f,search:b,filterStatus:I},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});x.data.status=="success"?m(x.data.data):console.log("error")}catch(x){((C=x==null?void 0:x.response)==null?void 0:C.status)==401&&t(),console.log(x)}finally{_(!1)}},[k,g]=l.useState(!1),[E,N]=l.useState(!1);l.useEffect(()=>{E&&(A(),N(!1))},[E]),l.useEffect(()=>{u!==1?c(1):N(!0)},[I,f]),l.useEffect(()=>{E||N(!0)},[u]);const[v,d]=l.useState({kycVerification:{kyc:{}}});l.useEffect(()=>{var C,x;(x=(C=v==null?void 0:v.kycVerification)==null?void 0:C.kyc)!=null&&x.is_reset&&A()},[v.kycVerification]);const y=C=>{d(x=>({...x,kycVerification:{...x.kycVerification,kyc:{...C,is_reset:0}}})),g(!k)},M=()=>{u!==1?c(1):N(!0),S(b)};return s("div",{className:"panel flex-1 overflow-x-hidden h-full",children:[s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[e("div",{className:"flex items-center flex-wrap",children:s("div",{className:"flex",children:[e("input",{type:"text",value:b,onChange:C=>S(C.target.value),placeholder:"Search by Number",className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{M()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]})}),s("div",{className:"flex gap-5",children:[s("select",{name:"",id:"",className:"form-select w-[140px]",onChange:C=>T(C.target.value),children:[e("option",{value:"0",children:"All"}),e("option",{value:"1",children:"Pending"}),e("option",{value:"2",children:"Submitted"}),e("option",{value:"3",children:"Verified"})]}),e("button",{onClick:()=>{A()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables",id:"pdfContent",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:o==null?void 0:o.data,columns:[{accessor:"lead_id",title:"Lead ID"},{accessor:"first_name",title:"Full Name",render:({first_name:C,last_name:x})=>s("b",{children:[C," ",x]})},{accessor:"phone",title:"Phone"},{accessor:"pan",title:"Pan"},{accessor:"aadhaar_number",title:"Aadhaar"},{accessor:"is_submited",title:"Kyc Status",render:({is_verified:C,is_submited:x,is_viewed:L})=>e(J,{children:e("span",{className:`badge ${C?"bg-success":x?"bg-primary":L?"bg-warning":"bg-danger"}`,children:C?"Verified":x?"Submitted":L?"Viewed":"Pending"})})},{accessor:"kyc_status",title:"Status",render:({submited:C})=>s("div",{children:["Submitted By ",s("b",{children:[" ",C," "]})]})},{accessor:"action",title:"Action",render:C=>e(J,{children:e("span",{onClick:()=>{C!=null&&C.is_submited&&y(C)},children:C!=null&&C.is_submited?e(Wl,{size:20,color:"green"}):e(ul,{size:20,color:"red"})})})}],totalRecords:o.totalItems,recordsPerPage:f,page:u,onPageChange:C=>c(C),recordsPerPageOptions:p,onRecordsPerPageChange:h,sortStatus:{columnAccessor:"id",direction:"asc"},minHeight:500,fetching:w,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:C})=>`Showing  ${o==null?void 0:o.from} to ${o.to} of ${C} entries`})}),e(Xl,{kyc:v.kycVerification.kyc,setVerification:d,setKYCViewShowDrawer:g,showKYCViewDrawer:k})]})}var ol={exports:{}};/*!
 * Number-To-Words util
 * @version v1.2.4
 * @link https://github.com/marlun78/number-to-words
 * @author Martin Eneqvist (https://github.com/marlun78)
 * @contributors Aleksey Pilyugin (https://github.com/pilyugin),Jeremiah Hall (https://github.com/jeremiahrhall),Adriano Melo (https://github.com/adrianomelo),dmrzn (https://github.com/dmrzn)
 * @license MIT
 */(function(t,a){(function(){typeof self=="object"&&self.self===self&&self||typeof Mn=="object"&&Mn.global===Mn&&Mn;var n=9007199254740991;function r(d){return!(typeof d!="number"||d!=d||d===1/0||d===-1/0)}function i(d){return typeof d=="number"&&Math.abs(d)<=n}var o=/(hundred|thousand|(m|b|tr|quadr)illion)$/,m=/teen$/,u=/y$/,c=/(zero|one|two|three|four|five|six|seven|eight|nine|ten|eleven|twelve)$/,p={zero:"zeroth",one:"first",two:"second",three:"third",four:"fourth",five:"fifth",six:"sixth",seven:"seventh",eight:"eighth",nine:"ninth",ten:"tenth",eleven:"eleventh",twelve:"twelfth"};function f(d){return o.test(d)||m.test(d)?d+"th":u.test(d)?d.replace(u,"ieth"):c.test(d)?d.replace(c,h):d}function h(d,y){return p[y]}var b=10,S=100,I=1e3,T=1e6,w=1e9,_=1e12,A=1e15,k=9007199254740992,g=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen"],E=["zero","ten","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"];function N(d,y){var M,C=parseInt(d,10);if(!r(C))throw new TypeError("Not a finite number: "+d+" ("+typeof d+")");if(!i(C))throw new RangeError("Input is not a safe number, it’s either too large or too small.");return M=function x(L){var F,O,$=arguments[1];return L===0?$?$.join(" ").replace(/,$/,""):"zero":($||($=[]),L<0&&($.push("minus"),L=Math.abs(L)),L<20?(F=0,O=g[L]):L<S?(F=L%b,O=E[Math.floor(L/b)],F&&(O+="-"+g[F],F=0)):L<I?(F=L%S,O=x(Math.floor(L/S))+" hundred"):L<T?(F=L%I,O=x(Math.floor(L/I))+" thousand,"):L<w?(F=L%T,O=x(Math.floor(L/T))+" million,"):L<_?(F=L%w,O=x(Math.floor(L/w))+" billion,"):L<A?(F=L%_,O=x(Math.floor(L/_))+" trillion,"):L<=k&&(F=L%A,O=x(Math.floor(L/A))+" quadrillion,"),$.push(O),x(F,$))}(C),y?f(M):M}var v={toOrdinal:function(d){var y=parseInt(d,10);if(!r(y))throw new TypeError("Not a finite number: "+d+" ("+typeof d+")");if(!i(y))throw new RangeError("Input is not a safe number, it’s either too large or too small.");var M=String(y),C=Math.abs(y%100),x=11<=C&&C<=13,L=M.charAt(M.length-1);return M+(x?"th":L==="1"?"st":L==="2"?"nd":L==="3"?"rd":"th")},toWords:N,toWordsOrdinal:function(d){return f(N(d))}};t.exports&&(a=t.exports=v),a.numberToWords=v})()})(ol,ol.exports);var l6=ol.exports;function o6({saleId:t,invoiceSetting:a,showInvoiceViewDrawer:n,setInvoiceViewShowDrawer:r}){var A,k,g,E,N,v,d,y,M,C,x,L,F,O,$,B,R,P,z,H,W,q,D,V;const{settingData:i,crmToken:o,apiUrl:m,logout:u}=ee();l.useEffect(()=>{n&&t&&b()},[t,n]);const[c,p]=l.useState([]),[f,h]=l.useState(!0),b=async()=>{var j;h(!0),p([]);try{const U=await K({method:"get",url:m+"/api/sale-invoices/"+t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});U.data.status=="success"&&p(U.data.data)}catch(U){console.log(U),((j=U==null?void 0:U.response)==null?void 0:j.status)==401&&u()}finally{h(!1)}},S=j=>j.replace(/\b\w/g,U=>U.toUpperCase()),I=j=>{if(j&&j<=1e7){const U=l6.toWords(j);return S(U)}},[T,w]=l.useState(!1),_=async()=>{var j,U;w(!0);try{const Z=await K({url:m+"/api/download-invoice",method:"GET",params:{id:(j=c==null?void 0:c.invoice)==null?void 0:j.sale_id},responseType:"blob",headers:{Authorization:"Bearer "+o}}).then(Y=>{const X=URL.createObjectURL(Y.data),ae=document.createElement("a");ae.href=X,ae.setAttribute("download","invoice-"+c.invoice.invoice_id+".pdf"),document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(X)});console.log(Z)}catch(Z){((U=Z==null?void 0:Z.response)==null?void 0:U.status)==401&&u()}finally{w(!1)}};return s("div",{children:[e("div",{className:`${n&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>r(!1)}),e("nav",{className:`${n&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[900px] rtl:-left-[900px] top-0 bottom-0 w-full max-w-[900px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4`,children:f?e(be,{}):s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center",children:[s("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4",children:[e("div",{className:"ltr:mr-3 rtl:ml-3 flex items-center",children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"View Invoice"})}),e("div",{className:"flex items-center justify-center sm:justify-end sm:flex-auto flex-1",children:e("button",{onClick:()=>_(),disabled:T,className:"btn btn-success mr-[15px] btn-sm",children:T?"Please Wait":"Download"})})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar",children:s("div",{className:"panel  border mb-10",children:[s("div",{className:"flex justify-between flex-wrap gap-4",children:[s("div",{children:[s("div",{className:"text-2xl font-semibold uppercase",children:["Invoice ",e("span",{className:"text-[16px]",children:c.invoice.invoice_id})]}),s("div",{children:["Date:",(A=c==null?void 0:c.invoice)==null?void 0:A.sale_date]})]}),e("div",{className:"shrink-0",children:e("img",{src:`${m}/storage/${i==null?void 0:i.logo}`,alt:"img",className:"w-[200px] ltr:ml-auto rtl:mr-auto"})})]}),s("div",{className:"gap-4",children:[e("div",{className:"ltr:text-left rtl:text-right",children:s("div",{className:"space-y-1 mt-6 text-dark dark:text-[#d0d2d6] ",children:[s("div",{children:["Issue For: ",(k=c==null?void 0:c.invoice)==null?void 0:k.first_name," ",(g=c==null?void 0:c.invoice)==null?void 0:g.last_name]}),((E=c==null?void 0:c.invoice)==null?void 0:E.address_one)&&e("div",{children:(N=c==null?void 0:c.invoice)==null?void 0:N.address_one}),e("div",{children:(v=c==null?void 0:c.invoice)==null?void 0:v.address_two}),e("div",{children:(d=c==null?void 0:c.invoice)==null?void 0:d.email}),s("div",{children:["+91 ",(y=c==null?void 0:c.invoice)==null?void 0:y.phone]}),((M=c==null?void 0:c.invoice)==null?void 0:M.gst_no)&&s("div",{children:["GST: ",(C=c==null?void 0:c.invoice)==null?void 0:C.gst_no]})]})}),e("div",{className:"ltr:text-right rtl:text-left",children:s("div",{className:"space-y-1 mt-6 text-dark dark:text-[#d0d2d6]",children:[e("div",{children:a==null?void 0:a.company_name}),e("div",{children:a==null?void 0:a.address}),e("div",{children:a==null?void 0:a.email}),s("div",{children:[" ",a==null?void 0:a.phone]}),(a==null?void 0:a.gst_no)&&s("div",{children:["GSTIN : ",a==null?void 0:a.gst_no]}),(a==null?void 0:a.sebi_no)&&s("div",{children:["GSTIN : ",a==null?void 0:a.sebi_no]})]})})]}),e("hr",{className:"border-white-light dark:border-[#1b2e4b] my-6"}),e("div",{className:"table-responsive mt-6",children:s("table",{className:"table-striped",children:[e("thead",{children:s("tr",{children:[e("th",{children:"S.NO"}),e("th",{children:"PRODUCT"}),e("th",{children:"SERVICE"}),e("th",{children:"DURATION"}),e("th",{children:"PRICE"}),e("th",{children:"AMOUNT"})]})}),e("tbody",{children:s("tr",{children:[e("td",{children:"1"}),e("td",{children:(x=c==null?void 0:c.invoice)==null?void 0:x.product}),e("td",{children:(L=c==null?void 0:c.invoice)!=null&&L.sale_service?JSON.parse((F=c==null?void 0:c.invoice)==null?void 0:F.sale_service).map((j,U)=>e("span",{className:"badge ml-2  badge-outline-primary",children:j},U)):null}),s("td",{children:[(O=c==null?void 0:c.invoice)==null?void 0:O.sale_date," ",e("br",{}),($=c==null?void 0:c.invoice)==null?void 0:$.due_date]}),e("td",{children:Number((B=c==null?void 0:c.invoice)==null?void 0:B.client_paid).toFixed(2)}),e("td",{children:(R=c==null?void 0:c.invoice)==null?void 0:R.inclusive_gst})]})})]})}),s("div",{className:"grid sm:grid-cols-2 grid-cols-1 px-4 mt-6",children:[e("div",{}),s("div",{className:"ltr:text-right rtl:text-left space-y-2",children:[s("div",{className:"flex items-center",children:[e("div",{className:"flex-1",children:"Sub Total"}),e("div",{className:"w-[37%]",children:Number((P=c==null?void 0:c.invoice)==null?void 0:P.inclusive_gst).toFixed(2)})]}),(z=c==null?void 0:c.invoice)!=null&&z.is_igst?s("div",{className:"flex items-center",children:[e("div",{className:"flex-1",children:"IGST (18%)"}),e("div",{className:"w-[37%]",children:Number((H=c==null?void 0:c.invoice)==null?void 0:H.gst_value).toFixed(2)})]}):s(J,{children:[s("div",{className:"flex items-center",children:[e("div",{className:"flex-1",children:"CGST (9%)"}),e("div",{className:"w-[37%]",children:Number(((W=c==null?void 0:c.invoice)==null?void 0:W.gst_value)/2).toFixed(2)})]}),s("div",{className:"flex items-center",children:[e("div",{className:"flex-1",children:"SGST (9%)"}),e("div",{className:"w-[37%]",children:Number(((q=c==null?void 0:c.invoice)==null?void 0:q.gst_value)/2).toFixed(2)})]})]}),s("div",{className:"flex items-center font-semibold text-lg",children:[e("div",{className:"flex-1",children:"Grand Total"}),e("div",{className:"w-[37%]",children:Number((D=c==null?void 0:c.invoice)==null?void 0:D.client_paid).toFixed(2)})]}),e("div",{className:" float-right",children:s("div",{className:"",children:[e("b",{children:"In Words "}),"(",I((V=c==null?void 0:c.invoice)==null?void 0:V.client_paid)," Only)"]})})]})]})]})})]})})]})}function c6({invoiceModel:t,setInvoiceModel:a,invoiceData:n,invoiceSetting:r}){const{logout:i,crmToken:o,settingData:m,apiUrl:u}=ee(),[c]=l.useState({is_email:1,is_whatsapp:1,is_sms:0,email:"",mobile:"",sale_id:""}),[p,f]=l.useState(c),[h,b]=l.useState({});l.useEffect(()=>{n&&t&&f({...c,email:n!=null&&n.email?n.email:"",mobile:n!=null&&n.mobile?n.mobile:"",sale_id:n.sale_id})},[n,t]);const S=E=>{const{value:N,name:v,type:d,checked:y}=E.target;b({...h,[v]:""}),f(d==="checkbox"?{...p,[v]:y?1:0}:{...p,[v]:N})},I=()=>{b({});let E={};return b(E),{totalErrors:Object.keys(E).length}},[T,w]=l.useState(!1),[_,A]=l.useState(null),k=async E=>{var v,d;w(!0),A(null);try{const y=await K({method:"post",url:u+"/api/email/send-invoice",data:E,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});y.data.status=="success"&&A(y.data),y.data.status=="error"&&A(y.data)}catch(y){if(console.log(y),((v=y==null?void 0:y.response)==null?void 0:v.status)==401)i();else if(((d=y==null?void 0:y.response)==null?void 0:d.status)===422){const M=y.response.data.errors;let C={};for(var N in M)C={...C,[N]:M[N][0]};b(C)}}finally{w(!1)}},g=()=>{if(I().totalErrors)return!1;const N=new FormData;N.append("sale_id",p.sale_id),N.append("email",p.email),N.append("mobile",p.mobile),N.append("is_email",p.is_email),N.append("is_whatsapp",p.is_whatsapp),N.append("is_sms",p.is_sms),k(N)};return e(J,{children:m!=null&&m.email_enabled||m!=null&&m.whatsapp_enabled||m!=null&&m.sms_enabled?e(ge,{appear:!0,show:t,as:l.Fragment,children:s(Ie,{as:"div",open:t,onClose:()=>a(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-1 rounded-lg overflow-hidden w-full max-w-lg my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"font-bold text-lg",children:"Send Invoice  "}),e("button",{type:"button",onClick:()=>{a(!1),f(c)},className:"text-white-dark hover:text-dark",children:e(xr,{size:25,color:"black"})})]}),e("h1",{className:"font-bold p-5",children:"Where You would like to share Sale Invoice ?"}),s("div",{children:[m!=null&&m.email_enabled&&(r!=null&&r.send_invoice_via_email)?s(J,{children:[s("label",{className:"py-3 px-5 inline-flex",children:[e("input",{type:"checkbox",className:"form-checkbox border-[#000]/25",onChange:E=>S(E),name:"is_email",checked:!!p.is_email}),e("span",{children:"Email"})]}),p.is_email?s("div",{children:[e("input",{type:"email",name:"email",value:p.email,onChange:E=>S(E),placeholder:"Enter email",className:"form-input mb-3 "}),e("div",{className:"text-danger mt-1",children:h.email})]}):null]}):null,m!=null&&m.whatsapp_enabled&&(r!=null&&r.send_invoice_via_whatsapp)?s(J,{children:[s("label",{className:"py-3 px-5 inline-flex",children:[e("input",{type:"checkbox",className:"form-checkbox border-[#000]/25",onChange:E=>S(E),name:"is_whatsapp",checked:!!p.is_whatsapp}),e("span",{children:"Whatsapp"})]}),p.is_whatsapp?s("div",{children:[e("input",{type:"text",name:"mobile",value:p.mobile,onChange:E=>S(E),placeholder:"Enter Whatsapp number",className:"form-input"}),e("div",{className:"text-danger mt-1",children:h.mobile})]}):null]}):null,m!=null&&m.sms_enabled&&(r!=null&&r.send_invoice_via_sms)?s(J,{children:[s("label",{className:"py-3 px-5 mt-5 inline-flex",children:[e("input",{type:"checkbox",className:"form-checkbox border-[#000]/25",onChange:E=>S(E),name:"is_sms",checked:!!p.is_sms}),e("span",{children:"SMS"})]}),p.is_sms?e("div",{children:e("input",{type:"text",name:"sms",value:p.sms,onChange:E=>S(E),placeholder:"Enter SMS number",className:"form-input"})}):null]}):null,_!=null&&_.emailResponse?e("div",{className:"badge bg-[#1d67a7] mx-4",children:e("p",{children:_==null?void 0:_.emailResponse})}):null,_!=null&&_.whatsAppResponse?e("div",{className:"badge bg-[#1d67a7] mx-4",children:e("p",{children:_==null?void 0:_.whatsAppResponse})}):null]}),e("div",{className:"text-danger mt-1 py-3 px-3",children:h.is_email}),s("div",{className:"flex justify-between items-center p-5 mt-8",children:[e("button",{type:"button",onClick:()=>a(!1),className:"btn btn-sm btn-outline-danger",children:"Discard"}),e("button",{type:"button",onClick:()=>{g()},disabled:T,className:"btn btn-sm btn-primary ltr:ml-4 rtl:mr-4",children:T?"Please Wait...":" Send Invoice"})]})]})})})})]})}):""})}function d6(){const t=ve();l.useEffect(()=>{t(Se("Invoice Report"))});const{crmToken:a,apiUrl:n,logout:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState([]),[S,I]=l.useState(!1),T=async()=>{var B;I(!0);try{const R=await K({method:"get",url:n+"/api/get-invoice",params:{page:i,pageSize:u,search:p},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});R.data.status=="success"&&b(R.data.data)}catch(R){console.log(R),((B=R==null?void 0:R.response)==null?void 0:B.status)==401&&r()}finally{I(!1)}},[w,_]=l.useState(!1);l.useEffect(()=>{w&&(T(),_(!1))},[w]),l.useEffect(()=>{i!==1?o(1):_(!0)},[u]),l.useEffect(()=>{w||_(!0)},[i]);const[A,k]=l.useState(!1),[g,E]=l.useState(null),N=async B=>{var R;E(B.sale_id),k(!0);try{const P=await K({url:n+"/api/download-invoice",method:"GET",params:{id:B.sale_id},responseType:"blob",headers:{Authorization:"Bearer "+a}}).then(z=>{const H=URL.createObjectURL(z.data),W=document.createElement("a");W.href=H,W.setAttribute("download","invoice-"+B.invoice_id+".pdf"),document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(H)});console.log(P)}catch(P){((R=P==null?void 0:P.response)==null?void 0:R.status)==401&&r()}finally{E(null),k(!1)}},[v,d]=l.useState(!1),[y,M]=l.useState([]),C=async B=>{d(!0),M(B)},[x,L]=l.useState([]),[F,O]=l.useState(!1),$=async B=>{O(!0),L(B)};return s(J,{children:[s("div",{className:"panel flex-1 overflow-x-hidden h-full",children:[s("div",{className:"flex items-center flex-wrap justify-between gap-2  mb-4.5",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:p,onChange:B=>{f(B.target.value)},placeholder:"Search by Number",className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{T()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),e("button",{onClick:()=>{T()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]}),e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:h==null?void 0:h.data,columns:[{accessor:"Invoice Id",render:({invoice_id:B})=>e(J,{children:e("div",{className:"flex gap-2",children:e("button",{className:"badge bg-black",children:B})})})},{accessor:"Name",render:({first_name:B,last_name:R,email:P})=>e("div",{className:"font-bold",children:s("p",{children:[B," ",R,e("br",{}),e("small",{children:P})]})})},{accessor:"Phone",title:"Phone | GST",render:({phone:B,gst_no:R})=>e("div",{className:"font-bold",children:s("p",{children:[B,e("br",{}),R?e("small",{children:`GST: ${R}`}):null]})})},{accessor:"Sale Date",render:({sale_date:B})=>e("b",{children:B})},{accessor:"Amount",render:({client_paid:B})=>e("b",{children:B})},{accessor:"Action",render:B=>s("div",{className:"flex gap-2",children:[e("button",{className:"btn btn-sm shadow",disabled:A,onClick:()=>{N(B)},children:A&&g==B.sale_id?e(w1,{className:"animate-spin",size:20}):e(If,{size:15})}),e("button",{className:"btn btn-sm shadow",onClick:()=>{$(B)},children:e(l1,{size:20})}),e("button",{className:"btn btn-sm shadow",onClick:()=>{C(B)},children:e(x1,{size:20})})]})}],totalRecords:h==null?void 0:h.totalItems,recordsPerPage:h==null?void 0:h.pageSize,page:i,fetching:S,onPageChange:B=>o(B),recordsPerPageOptions:m,onRecordsPerPageChange:c,minHeight:200,paginationText:({totalRecords:B})=>`Showing  ${h==null?void 0:h.from} to ${h==null?void 0:h.to} of ${B} entries`})})]}),e(c6,{invoiceModel:v,setInvoiceModel:d,invoiceData:y,invoiceSetting:h==null?void 0:h.invoiceSetting}),e(o6,{saleId:x==null?void 0:x.sale_id,invoiceSetting:h==null?void 0:h.invoiceSetting,showInvoiceViewDrawer:F,setInvoiceViewShowDrawer:O})]})}const sf=({className:t,fill:a=!1,duotone:n=!0})=>e(J,{children:a?s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M7 12C7 13.1046 6.10457 14 5 14C3.89543 14 3 13.1046 3 12C3 10.8954 3.89543 10 5 10C6.10457 10 7 10.8954 7 12Z",fill:"currentColor"}),e("path",{d:"M21 12C21 13.1046 20.1046 14 19 14C17.8954 14 17 13.1046 17 12C17 10.8954 17.8954 10 19 10C20.1046 10 21 10.8954 21 12Z",fill:"currentColor"}),e("path",{opacity:n?"0.5":"1",d:"M14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12Z",fill:"currentColor"})]}):s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("circle",{cx:"5",cy:"12",r:"2",stroke:"currentColor",strokeWidth:"1.5"}),e("circle",{opacity:n?"0.5":"1",cx:"12",cy:"12",r:"2",stroke:"currentColor",strokeWidth:"1.5"}),e("circle",{cx:"19",cy:"12",r:"2",stroke:"currentColor",strokeWidth:"1.5"})]})}),rf=({className:t,fill:a=!1,duotone:n=!0})=>s("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("circle",{cx:"11.5",cy:"11.5",r:"9.5",stroke:"currentColor",strokeWidth:"1.5",opacity:n?"0.5":"1"}),e("path",{d:"M18.5 18.5L22 22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),lf=({className:t,fill:a=!1,duotone:n=!0})=>e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:e("path",{d:"M13.0867 21.3877L13.7321 21.7697L13.0867 21.3877ZM13.6288 20.4718L12.9833 20.0898L13.6288 20.4718ZM10.3712 20.4718L9.72579 20.8539H9.72579L10.3712 20.4718ZM10.9133 21.3877L11.5587 21.0057L10.9133 21.3877ZM2.3806 15.9134L3.07351 15.6264V15.6264L2.3806 15.9134ZM7.78958 18.9915L7.77666 19.7413L7.78958 18.9915ZM5.08658 18.6194L4.79957 19.3123H4.79957L5.08658 18.6194ZM21.6194 15.9134L22.3123 16.2004V16.2004L21.6194 15.9134ZM16.2104 18.9915L16.1975 18.2416L16.2104 18.9915ZM18.9134 18.6194L19.2004 19.3123H19.2004L18.9134 18.6194ZM19.6125 2.7368L19.2206 3.37628L19.6125 2.7368ZM21.2632 4.38751L21.9027 3.99563V3.99563L21.2632 4.38751ZM4.38751 2.7368L3.99563 2.09732V2.09732L4.38751 2.7368ZM2.7368 4.38751L2.09732 3.99563H2.09732L2.7368 4.38751ZM9.40279 19.2098L9.77986 18.5615L9.77986 18.5615L9.40279 19.2098ZM13.7321 21.7697L14.2742 20.8539L12.9833 20.0898L12.4412 21.0057L13.7321 21.7697ZM9.72579 20.8539L10.2679 21.7697L11.5587 21.0057L11.0166 20.0898L9.72579 20.8539ZM12.4412 21.0057C12.2485 21.3313 11.7515 21.3313 11.5587 21.0057L10.2679 21.7697C11.0415 23.0767 12.9585 23.0767 13.7321 21.7697L12.4412 21.0057ZM10.5 2.75H13.5V1.25H10.5V2.75ZM21.25 10.5V11.5H22.75V10.5H21.25ZM2.75 11.5V10.5H1.25V11.5H2.75ZM1.25 11.5C1.25 12.6546 1.24959 13.5581 1.29931 14.2868C1.3495 15.0223 1.45323 15.6344 1.68769 16.2004L3.07351 15.6264C2.92737 15.2736 2.84081 14.8438 2.79584 14.1847C2.75041 13.5189 2.75 12.6751 2.75 11.5H1.25ZM7.8025 18.2416C6.54706 18.2199 5.88923 18.1401 5.37359 17.9265L4.79957 19.3123C5.60454 19.6457 6.52138 19.7197 7.77666 19.7413L7.8025 18.2416ZM1.68769 16.2004C2.27128 17.6093 3.39066 18.7287 4.79957 19.3123L5.3736 17.9265C4.33223 17.4951 3.50486 16.6678 3.07351 15.6264L1.68769 16.2004ZM21.25 11.5C21.25 12.6751 21.2496 13.5189 21.2042 14.1847C21.1592 14.8438 21.0726 15.2736 20.9265 15.6264L22.3123 16.2004C22.5468 15.6344 22.6505 15.0223 22.7007 14.2868C22.7504 13.5581 22.75 12.6546 22.75 11.5H21.25ZM16.2233 19.7413C17.4786 19.7197 18.3955 19.6457 19.2004 19.3123L18.6264 17.9265C18.1108 18.1401 17.4529 18.2199 16.1975 18.2416L16.2233 19.7413ZM20.9265 15.6264C20.4951 16.6678 19.6678 17.4951 18.6264 17.9265L19.2004 19.3123C20.6093 18.7287 21.7287 17.6093 22.3123 16.2004L20.9265 15.6264ZM13.5 2.75C15.1512 2.75 16.337 2.75079 17.2619 2.83873C18.1757 2.92561 18.7571 3.09223 19.2206 3.37628L20.0044 2.09732C19.2655 1.64457 18.4274 1.44279 17.4039 1.34547C16.3915 1.24921 15.1222 1.25 13.5 1.25V2.75ZM22.75 10.5C22.75 8.87781 22.7508 7.6085 22.6545 6.59611C22.5572 5.57256 22.3554 4.73445 21.9027 3.99563L20.6237 4.77938C20.9078 5.24291 21.0744 5.82434 21.1613 6.73809C21.2492 7.663 21.25 8.84876 21.25 10.5H22.75ZM19.2206 3.37628C19.7925 3.72672 20.2733 4.20752 20.6237 4.77938L21.9027 3.99563C21.4286 3.22194 20.7781 2.57144 20.0044 2.09732L19.2206 3.37628ZM10.5 1.25C8.87781 1.25 7.6085 1.24921 6.59611 1.34547C5.57256 1.44279 4.73445 1.64457 3.99563 2.09732L4.77938 3.37628C5.24291 3.09223 5.82434 2.92561 6.73809 2.83873C7.663 2.75079 8.84876 2.75 10.5 2.75V1.25ZM2.75 10.5C2.75 8.84876 2.75079 7.663 2.83873 6.73809C2.92561 5.82434 3.09223 5.24291 3.37628 4.77938L2.09732 3.99563C1.64457 4.73445 1.44279 5.57256 1.34547 6.59611C1.24921 7.6085 1.25 8.87781 1.25 10.5H2.75ZM3.99563 2.09732C3.22194 2.57144 2.57144 3.22194 2.09732 3.99563L3.37628 4.77938C3.72672 4.20752 4.20752 3.72672 4.77938 3.37628L3.99563 2.09732ZM11.0166 20.0898C10.8136 19.7468 10.6354 19.4441 10.4621 19.2063C10.2795 18.9559 10.0702 18.7304 9.77986 18.5615L9.02572 19.8582C9.07313 19.8857 9.13772 19.936 9.24985 20.0898C9.37122 20.2564 9.50835 20.4865 9.72579 20.8539L11.0166 20.0898ZM7.77666 19.7413C8.21575 19.7489 8.49387 19.7545 8.70588 19.7779C8.90399 19.7999 8.98078 19.832 9.02572 19.8582L9.77986 18.5615C9.4871 18.3912 9.18246 18.3215 8.87097 18.287C8.57339 18.2541 8.21375 18.2487 7.8025 18.2416L7.77666 19.7413ZM14.2742 20.8539C14.4916 20.4865 14.6287 20.2564 14.7501 20.0898C14.8622 19.936 14.9268 19.8857 14.9742 19.8582L14.2201 18.5615C13.9298 18.7304 13.7204 18.9559 13.5379 19.2063C13.3646 19.4441 13.1864 19.7468 12.9833 20.0898L14.2742 20.8539ZM16.1975 18.2416C15.7862 18.2487 15.4266 18.2541 15.129 18.287C14.8175 18.3215 14.5129 18.3912 14.2201 18.5615L14.9742 19.8582C15.0192 19.832 15.096 19.7999 15.2941 19.7779C15.5061 19.7545 15.7842 19.7489 16.2233 19.7413L16.1975 18.2416Z",fill:"currentColor"})}),br=({className:t,fill:a=!1,duotone:n=!0})=>s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("circle",{opacity:n?"0.5":"1",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M9 16C9.85038 16.6303 10.8846 17 12 17C13.1154 17 14.1496 16.6303 15 16",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M16 10.5C16 11.3284 15.5523 12 15 12C14.4477 12 14 11.3284 14 10.5C14 9.67157 14.4477 9 15 9C15.5523 9 16 9.67157 16 10.5Z",fill:"currentColor"}),e("ellipse",{cx:"9",cy:"10.5",rx:"1",ry:"1.5",fill:"currentColor"})]}),of=({className:t,fill:a=!1,duotone:n=!0})=>s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M17.4975 18.4851L20.6281 9.09373C21.8764 5.34874 22.5006 3.47624 21.5122 2.48782C20.5237 1.49939 18.6511 2.12356 14.906 3.37189L5.57477 6.48218C3.49295 7.1761 2.45203 7.52305 2.13608 8.28637C2.06182 8.46577 2.01692 8.65596 2.00311 8.84963C1.94433 9.67365 2.72018 10.4495 4.27188 12.0011L4.55451 12.2837C4.80921 12.5384 4.93655 12.6658 5.03282 12.8075C5.22269 13.0871 5.33046 13.4143 5.34393 13.7519C5.35076 13.9232 5.32403 14.1013 5.27057 14.4574C5.07488 15.7612 4.97703 16.4131 5.0923 16.9147C5.32205 17.9146 6.09599 18.6995 7.09257 18.9433C7.59255 19.0656 8.24576 18.977 9.5522 18.7997L9.62363 18.79C9.99191 18.74 10.1761 18.715 10.3529 18.7257C10.6738 18.745 10.9838 18.8496 11.251 19.0285C11.3981 19.1271 11.5295 19.2585 11.7923 19.5213L12.0436 19.7725C13.5539 21.2828 14.309 22.0379 15.1101 21.9985C15.3309 21.9877 15.5479 21.9365 15.7503 21.8474C16.4844 21.5244 16.8221 20.5113 17.4975 18.4851Z",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{opacity:n?"0.5":"1",d:"M6 18L21 3",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),u6=()=>{const t=ve();Re();const{crmToken:a,apiUrl:n,authUser:r}=ee(),i=_e(P=>P.themeConfig.chatMessage),[o]=l.useState(new Audio("/send-sound.wav")),[m]=l.useState(new Audio("/recive-sound.wav"));l.useEffect(()=>{a&&(t(Se("Chat")),h())},[]);const[u,c]=l.useState(!0),[p,f]=l.useState([]),h=async()=>{c(!0);try{const P=await K({method:"get",url:n+"/api/get-chat-users",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});P.data.status=="success"&&f(P.data.users.sort((z,H)=>H.message_id-z.message_id))}catch{}finally{c(!1)}},[b,S]=l.useState(null);l.useEffect(()=>{b&&A()},[b]);const[I,T]=l.useState(!1),[w,_]=l.useState([]),A=async()=>{T(!0),_([]);try{const P=await K({method:"get",url:n+"/api/get-chats",params:{id:b.id},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});if(P.data.status=="success"){if(_(P.data.messages.messages),b.unreaded_messages){const z=p.findIndex(W=>W.id==b.id),H=[...p];H[z]={...H[z],unreaded_messages:0},f(H)}setTimeout(()=>{O()})}console.log(P)}catch{}finally{T(!1)}},k=_e(P=>P.themeConfig.rtlClass)==="rtl",g=_e(P=>P.themeConfig.theme==="dark"||P.themeConfig.isDarkMode),[E,N]=l.useState(!1),[v,d]=l.useState(""),[y,M]=l.useState(!1),[C,x]=l.useState(""),[L,F]=l.useState([]);l.useEffect(()=>{const P=p.sort((z,H)=>H.message_id-z.message_id);F(()=>P.filter(z=>z.first_name.toLowerCase().includes(v.toLowerCase())))},[v,p]);const O=()=>{if(y){const P=document.querySelector(".chat-conversation-box");P.behavior="smooth",P.scrollTop=P.scrollHeight}},$=P=>{S(P),M(!0),N(!1)},B=async()=>{if(!C.trim())return!1;try{o.play();const P=await K({method:"post",url:n+"/api/chats",params:{to_id:b.id,message:C.trim()},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});if(P.data.status=="success"){const z=[...w];z.push({to_id:b.id,from_id:r.id,message:C.trim(),created_at:"Just now"}),_(z),x(""),O();const H=p.findIndex(q=>q.id==b.id),W=[...p];W[H]={...W[H],latest_chat:P.data.latest,message_id:P.data.latest.id},f(W)}console.log(P)}catch{}finally{}},R=P=>{P.key==="Enter"&&B()};return l.useEffect(()=>{if(console.log("chatMessage",i),i){m.play();const P=[...p],z=p.findIndex(H=>H.id==i.from_id);if((b==null?void 0:b.id)!=i.from_id)P[z]={...P[z],unreaded_messages:P[z].unreaded_messages+1};else{const H=[...w];H.push(i),_(H)}P[z]={...P[z],latest_chat:{message:i.message,created_at:i.created_at},message_id:i.id},f(P)}},[i]),e("div",{children:u?e("div",{className:"panel  h-[calc(100vh-200px)]",children:e(be,{})}):s("div",{className:`flex gap-5 relative sm:h-[calc(100vh_-_150px)] h-full sm:min-h-0 ${E?"min-h-[999px]":""}`,children:[s("div",{className:`panel p-4 flex-none max-w-xs w-full absolute xl:relative z-10 space-y-4 xl:h-full hidden xl:block overflow-hidden ${E?"!block":""}`,children:[s("div",{className:"flex justify-between items-center",children:[s("div",{className:"flex items-center",children:[e("div",{className:"flex-none",children:e("img",{src:`https://ui-avatars.com/api/?background=random&name=${r.first_name}`,className:"rounded-full h-12 w-12 object-cover",alt:""})}),s("div",{className:"mx-3",children:[s("p",{className:"mb-1 font-semibold",children:[r.first_name," ",r.last_name]}),e("p",{className:"text-xs text-white-dark",children:r.user_type})]})]}),e("div",{className:"dropdown",children:e(us,{offset:[0,5],placement:`${k?"bottom-start":"bottom-end"}`,btnClassName:"bg-[#f4f4f4] dark:bg-[#1b2e4b] hover:bg-primary-light w-8 h-8 rounded-full !flex justify-center items-center hover:text-primary",button:e(sf,{className:"opacity-70"})})})]}),s("div",{className:"relative",children:[e("input",{type:"text",className:"form-input peer ltr:pr-9 rtl:pl-9",placeholder:"Searching...",value:v,onChange:P=>d(P.target.value)}),e("div",{className:"absolute ltr:right-2 rtl:left-2 top-1/2 -translate-y-1/2 peer-focus:text-primary",children:e(rf,{})})]}),e("div",{className:"h-px w-full border-b border-white-light dark:border-[#1b2e4b]"}),e("div",{className:"!mt-0",children:e(qe,{className:"chat-users relative h-full min-h-[100px] sm:h-[calc(100vh_-_357px)] space-y-0.5 ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5",children:L.map(P=>{var z,H;return e("div",{children:s("button",{type:"button",className:`w-full flex justify-between items-center p-2 hover:bg-gray-100 dark:hover:bg-[#050b14] rounded-md dark:hover:text-primary hover:text-primary ${b&&b.id===P.id?"bg-gray-100 dark:bg-[#050b14] dark:text-primary text-primary":""}`,onClick:()=>$(P),children:[e("div",{className:"flex-1",children:s("div",{className:"flex items-center",children:[s("div",{className:"flex-shrink-0 relative",children:[e("img",{src:`https://ui-avatars.com/api/?background=random&name=${P.first_name+" "+P.last_name}`,className:"rounded-full h-12 w-12 object-cover",alt:""}),P.active&&e("div",{children:e("div",{className:"absolute bottom-0 ltr:right-0 rtl:left-0",children:e("div",{className:"w-4 h-4 bg-success rounded-full"})})})]}),s("div",{className:"mx-3 ltr:text-left rtl:text-right",children:[s("p",{className:"mb-1 font-semibold truncate w-[150px]",children:[P.first_name," ",P.last_name," ",P.message_id]}),e("p",{className:"text-xs text-white-dark truncate max-w-[185px]",children:(z=P==null?void 0:P.latest_chat)==null?void 0:z.message})]})]})}),s("div",{className:"font-semibold whitespace-nowrap text-xs text-end",children:[e("p",{className:P!=null&&P.unreaded_messages?"text-success":"",children:(H=P==null?void 0:P.latest_chat)==null?void 0:H.created_at}),P!=null&&P.unreaded_messages?e("div",{className:"float-right mt-1",children:e("span",{className:"flex justify-center items-center text-center rounded-full object-cover bg-success w-4 h-4 text-xs text-white ring-2 ring-white dark:ring-white-dark",children:P==null?void 0:P.unreaded_messages})}):""]})]})},P.id)})})})]}),e("div",{className:`bg-black/60 z-[5] w-full h-full absolute rounded-md hidden ${E?"!block xl:!hidden":""}`,onClick:()=>N(!E)}),s("div",{className:"panel p-0 flex-1",children:[!y&&s("div",{className:"flex items-center justify-center h-full relative p-4",children:[e("button",{type:"button",onClick:()=>N(!E),className:"xl:hidden absolute top-4 ltr:left-4 rtl:right-4 hover:text-primary",children:e(ns,{})}),s("div",{className:"py-8 flex items-center justify-center flex-col",children:[e("div",{className:"w-[280px] md:w-[430px] mb-8 h-[calc(100vh_-_320px)] min-h-[120px] text-white dark:text-black",children:s("svg",{xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",className:"w-full h-full",viewBox:"0 0 891.29496 745.19434","xmlns-xlink":"http://www.w3.org/1999/xlink",children:[e("ellipse",{cx:"418.64354",cy:"727.19434",rx:"352",ry:"18",fill:g?"#888ea8":"#e6e6e6"}),e("path",{d:"M778.64963,250.35008h-3.99878V140.80476a63.40187,63.40187,0,0,0-63.4018-63.40193H479.16232a63.40188,63.40188,0,0,0-63.402,63.4017v600.9744a63.40189,63.40189,0,0,0,63.4018,63.40192H711.24875a63.40187,63.40187,0,0,0,63.402-63.40168V328.32632h3.99878Z",transform:"translate(-154.35252 -77.40283)",fill:"#3f3d56"}),e("path",{d:"M761.156,141.24713v600.09a47.35072,47.35072,0,0,1-47.35,47.35h-233.2a47.35084,47.35084,0,0,1-47.35-47.35v-600.09a47.3509,47.3509,0,0,1,47.35-47.35h28.29a22.50659,22.50659,0,0,0,20.83,30.99h132.96a22.50672,22.50672,0,0,0,20.83-30.99h30.29A47.35088,47.35088,0,0,1,761.156,141.24713Z",transform:"translate(-154.35252 -77.40283)",fill:"currentColor"}),e("path",{d:"M686.03027,400.0032q-2.32543,1.215-4.73047,2.3-2.18994.99-4.4497,1.86c-.5503.21-1.10987.42-1.66992.63a89.52811,89.52811,0,0,1-13.6001,3.75q-3.43506.675-6.96,1.06-2.90991.33-5.87989.47c-1.41015.07-2.82031.1-4.24023.1a89.84124,89.84124,0,0,1-16.75977-1.57c-1.44043-.26-2.85009-.57-4.26025-.91a88.77786,88.77786,0,0,1-19.66992-7.26c-.56006-.28-1.12012-.58-1.68018-.87-.83008-.44-1.63965-.9-2.4497-1.38.38964-.54.81005-1.07,1.23974-1.59a53.03414,53.03414,0,0,1,78.87012-4.1,54.27663,54.27663,0,0,1,5.06006,5.86C685.25977,398.89316,685.6499,399.44321,686.03027,400.0032Z",transform:"translate(-154.35252 -77.40283)",fill:"#6c63ff"}),e("circle",{cx:"492.14325",cy:"234.76352",r:"43.90974",fill:"#2f2e41"}),e("circle",{cx:"642.49883",cy:"327.46205",r:"32.68086",transform:"translate(-232.6876 270.90663) rotate(-28.66315)",fill:"#a0616a"}),e("path",{d:"M676.8388,306.90589a44.44844,44.44844,0,0,1-25.402,7.85033,27.23846,27.23846,0,0,0,10.796,4.44154,89.62764,89.62764,0,0,1-36.61.20571,23.69448,23.69448,0,0,1-7.66395-2.63224,9.699,9.699,0,0,1-4.73055-6.3266c-.80322-4.58859,2.77227-8.75743,6.488-11.567a47.85811,47.85811,0,0,1,40.21662-8.03639c4.49246,1.16124,8.99288,3.12327,11.91085,6.731s3.78232,9.16981,1.00224,12.88488Z",transform:"translate(-154.35252 -77.40283)",fill:"#2f2e41"}),e("path",{d:"M644.5,230.17319a89.98675,89.98675,0,0,0-46.83984,166.83l.58007.34q.72.43506,1.43995.84c.81005.48,1.61962.94,2.4497,1.38.56006.29,1.12012.59,1.68018.87a88.77786,88.77786,0,0,0,19.66992,7.26c1.41016.34,2.81982.65,4.26025.91a89.84124,89.84124,0,0,0,16.75977,1.57c1.41992,0,2.83008-.03,4.24023-.1q2.97-.135,5.87989-.47,3.52513-.39,6.96-1.06a89.52811,89.52811,0,0,0,13.6001-3.75c.56005-.21,1.11962-.42,1.66992-.63q2.26464-.87,4.4497-1.86,2.40015-1.08,4.73047-2.3a90.7919,90.7919,0,0,0,37.03955-35.97c.04-.07995.09034-.16.13038-.24a89.30592,89.30592,0,0,0,9.6499-26.41,90.051,90.051,0,0,0-88.3501-107.21Zm77.06006,132.45c-.08008.14-.1499.28-.23.41a88.17195,88.17195,0,0,1-36.48,35.32q-2.29542,1.2-4.66992,2.25c-1.31006.59-2.64991,1.15-4,1.67-.57032.22-1.14991.44-1.73.64a85.72126,85.72126,0,0,1-11.73,3.36,84.69473,84.69473,0,0,1-8.95019,1.41c-1.8501.2-3.73.34-5.62012.41-1.21.05-2.42969.08-3.6499.08a86.762,86.762,0,0,1-16.21973-1.51,85.62478,85.62478,0,0,1-9.63037-2.36,88.46592,88.46592,0,0,1-13.98974-5.67c-.52-.27-1.04-.54-1.5503-.82-.73-.39-1.46972-.79-2.18994-1.22-.54-.3-1.08008-.62-1.60986-.94-.31006-.18-.62012-.37-.93018-.56a88.06851,88.06851,0,1,1,123.18018-32.47Z",transform:"translate(-154.35252 -77.40283)",fill:"#3f3d56"}),e("path",{d:"M624.2595,268.86254c-.47244-4.968-6.55849-8.02647-11.3179-6.52583s-7.88411,6.2929-8.82863,11.19308a16.0571,16.0571,0,0,0,2.16528,12.12236c2.40572,3.46228,6.82664,5.623,10.95,4.74406,4.70707-1.00334,7.96817-5.59956,8.90127-10.32105s.00667-9.58929-.91854-14.31234Z",transform:"translate(-154.35252 -77.40283)",fill:"#2f2e41"}),e("path",{d:"M691.24187,275.95964c-.47245-4.968-6.5585-8.02646-11.3179-6.52582s-7.88412,6.29289-8.82864,11.19307a16.05711,16.05711,0,0,0,2.16529,12.12236c2.40571,3.46228,6.82663,5.623,10.95,4.74406,4.70707-1.00334,7.96817-5.59955,8.90127-10.32105s.00667-9.58929-.91853-14.31234Z",transform:"translate(-154.35252 -77.40283)",fill:"#2f2e41"}),e("path",{d:"M488.93638,356.14169a4.47525,4.47525,0,0,1-3.30664-1.46436L436.00767,300.544a6.02039,6.02039,0,0,0-4.42627-1.94727H169.3618a15.02615,15.02615,0,0,1-15.00928-15.00927V189.025a15.02615,15.02615,0,0,1,15.00928-15.00928H509.087A15.02615,15.02615,0,0,1,524.0963,189.025v94.5625A15.02615,15.02615,0,0,1,509.087,298.59676h-9.63135a6.01157,6.01157,0,0,0-6.00464,6.00489v47.0332a4.474,4.474,0,0,1-2.87011,4.1958A4.52563,4.52563,0,0,1,488.93638,356.14169Z",transform:"translate(-154.35252 -77.40283)",fill:"currentColor"}),e("path",{d:"M488.93638,356.14169a4.47525,4.47525,0,0,1-3.30664-1.46436L436.00767,300.544a6.02039,6.02039,0,0,0-4.42627-1.94727H169.3618a15.02615,15.02615,0,0,1-15.00928-15.00927V189.025a15.02615,15.02615,0,0,1,15.00928-15.00928H509.087A15.02615,15.02615,0,0,1,524.0963,189.025v94.5625A15.02615,15.02615,0,0,1,509.087,298.59676h-9.63135a6.01157,6.01157,0,0,0-6.00464,6.00489v47.0332a4.474,4.474,0,0,1-2.87011,4.1958A4.52563,4.52563,0,0,1,488.93638,356.14169ZM169.3618,176.01571A13.024,13.024,0,0,0,156.35252,189.025v94.5625a13.024,13.024,0,0,0,13.00928,13.00927H431.5814a8.02436,8.02436,0,0,1,5.90039,2.59571l49.62208,54.1333a2.50253,2.50253,0,0,0,4.34716-1.69092v-47.0332a8.0137,8.0137,0,0,1,8.00464-8.00489H509.087a13.024,13.024,0,0,0,13.00928-13.00927V189.025A13.024,13.024,0,0,0,509.087,176.01571Z",transform:"translate(-154.35252 -77.40283)",fill:"#3f3d56"}),e("circle",{cx:"36.81601",cy:"125.19345",r:"13.13371",fill:"#6c63ff"}),e("path",{d:"M493.76439,275.26947H184.68447a7.00465,7.00465,0,1,1,0-14.00929H493.76439a7.00465,7.00465,0,0,1,0,14.00929Z",transform:"translate(-154.35252 -77.40283)",fill:g?"#888ea8":"#e6e6e6"}),e("path",{d:"M393.07263,245.49973H184.68447a7.00465,7.00465,0,1,1,0-14.00929H393.07263a7.00464,7.00464,0,0,1,0,14.00929Z",transform:"translate(-154.35252 -77.40283)",fill:g?"#888ea8":"#e6e6e6"}),e("path",{d:"M709.41908,676.83065a4.474,4.474,0,0,1-2.87011-4.1958v-47.0332a6.01157,6.01157,0,0,0-6.00464-6.00489H690.913a15.02615,15.02615,0,0,1-15.00928-15.00927V510.025A15.02615,15.02615,0,0,1,690.913,495.01571H1030.6382a15.02615,15.02615,0,0,1,15.00928,15.00928v94.5625a15.02615,15.02615,0,0,1-15.00928,15.00927H768.4186a6.02039,6.02039,0,0,0-4.42627,1.94727l-49.62207,54.1333a4.47525,4.47525,0,0,1-3.30664,1.46436A4.52563,4.52563,0,0,1,709.41908,676.83065Z",transform:"translate(-154.35252 -77.40283)",fill:"currentColor"}),e("path",{d:"M709.41908,676.83065a4.474,4.474,0,0,1-2.87011-4.1958v-47.0332a6.01157,6.01157,0,0,0-6.00464-6.00489H690.913a15.02615,15.02615,0,0,1-15.00928-15.00927V510.025A15.02615,15.02615,0,0,1,690.913,495.01571H1030.6382a15.02615,15.02615,0,0,1,15.00928,15.00928v94.5625a15.02615,15.02615,0,0,1-15.00928,15.00927H768.4186a6.02039,6.02039,0,0,0-4.42627,1.94727l-49.62207,54.1333a4.47525,4.47525,0,0,1-3.30664,1.46436A4.52563,4.52563,0,0,1,709.41908,676.83065ZM690.913,497.01571A13.024,13.024,0,0,0,677.9037,510.025v94.5625A13.024,13.024,0,0,0,690.913,617.59676h9.63135a8.0137,8.0137,0,0,1,8.00464,8.00489v47.0332a2.50253,2.50253,0,0,0,4.34716,1.69092l49.62208-54.1333a8.02436,8.02436,0,0,1,5.90039-2.59571h262.2196a13.024,13.024,0,0,0,13.00928-13.00927V510.025a13.024,13.024,0,0,0-13.00928-13.00928Z",transform:"translate(-154.35252 -77.40283)",fill:"#3f3d56"}),e("path",{d:"M603.53027,706.11319a89.06853,89.06853,0,0,1-93.65039,1.49,54.12885,54.12885,0,0,1,9.40039-12.65,53.43288,53.43288,0,0,1,83.90967,10.56994C603.2998,705.71316,603.41992,705.91318,603.53027,706.11319Z",transform:"translate(-154.35252 -77.40283)",fill:"#6c63ff"}),e("circle",{cx:"398.44256",cy:"536.68841",r:"44.20157",fill:"#2f2e41"}),e("circle",{cx:"556.81859",cy:"629.4886",r:"32.89806",transform:"translate(-416.96496 738.72884) rotate(-61.33685)",fill:"#ffb8b8"}),e("path",{d:"M522.25039,608.79582a44.74387,44.74387,0,0,0,25.57085,7.9025,27.41946,27.41946,0,0,1-10.8677,4.47107,90.22316,90.22316,0,0,0,36.85334.20707,23.852,23.852,0,0,0,7.71488-2.64973,9.76352,9.76352,0,0,0,4.762-6.36865c.80855-4.61909-2.7907-8.81563-6.53113-11.64387a48.17616,48.17616,0,0,0-40.4839-8.08981c-4.52231,1.169-9.05265,3.144-11.99,6.77579s-3.80746,9.23076-1.0089,12.97052Z",transform:"translate(-154.35252 -77.40283)",fill:"#2f2e41"}),e("path",{d:"M555.5,721.17319a89.97205,89.97205,0,1,1,48.5708-14.21875A89.87958,89.87958,0,0,1,555.5,721.17319Zm0-178a88.00832,88.00832,0,1,0,88,88A88.09957,88.09957,0,0,0,555.5,543.17319Z",transform:"translate(-154.35252 -77.40283)",fill:"#3f3d56"}),e("circle",{cx:"563.81601",cy:"445.19345",r:"13.13371",fill:"#6c63ff"}),e("path",{d:"M1020.76439,595.26947H711.68447a7.00465,7.00465,0,1,1,0-14.00929h309.07992a7.00464,7.00464,0,0,1,0,14.00929Z",transform:"translate(-154.35252 -77.40283)",fill:g?"#888ea8":"#e6e6e6"}),e("path",{d:"M920.07263,565.49973H711.68447a7.00465,7.00465,0,1,1,0-14.00929H920.07263a7.00465,7.00465,0,0,1,0,14.00929Z",transform:"translate(-154.35252 -77.40283)",fill:g?"#888ea8":"#e6e6e6"}),e("ellipse",{cx:"554.64354",cy:"605.66091",rx:"24.50394",ry:"2.71961",fill:g?"#888ea8":"#e6e6e6"}),e("ellipse",{cx:"335.64354",cy:"285.66091",rx:"24.50394",ry:"2.71961",fill:g?"#888ea8":"#e6e6e6"})]})}),s("p",{className:"flex justify-center bg-white-dark/20 p-2 font-semibold rounded-md max-w-[190px] mx-auto",children:[e(lf,{className:"ltr:mr-2 rtl:ml-2"}),"Click User To Chat"]})]})]}),y&&b?s("div",{className:"relative h-full",children:[e("div",{className:"flex justify-between items-center p-4",children:s("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e("button",{type:"button",className:"xl:hidden hover:text-primary",onClick:()=>N(!E),children:e(ns,{})}),s("div",{className:"relative flex-none",children:[e("img",{src:`https://ui-avatars.com/api/?background=random&name=${b.first_name+" "+b.last_name}`,className:"rounded-full w-10 h-10 sm:h-12 sm:w-12 object-cover",alt:""}),e("div",{className:"absolute bottom-0 ltr:right-0 rtl:left-0",children:e("div",{className:"w-4 h-4 bg-success rounded-full"})})]}),e("div",{className:"mx-3",children:s("p",{className:"font-semibold",children:[b.first_name," ",b.last_name]})})]})}),e("div",{className:"h-px w-full border-b border-white-light dark:border-[#1b2e4b]"}),e(qe,{className:"relative h-full sm:h-[calc(100vh_-_300px)] chat-conversation-box",children:e("div",{className:"space-y-5 p-4 sm:pb-0 pb-[68px] sm:min-h-[300px] min-h-[400px]",children:w&&w.length?e(J,{children:w.map((P,z)=>e("div",{children:s("div",{className:`flex items-start gap-3 ${b.id===P.from_id?"":"justify-end"}`,children:[s("div",{className:`flex-none ${b.id!=P.from_id?"order-2":""}`,children:[b.id!=P.from_id?e("img",{src:`https://ui-avatars.com/api/?background=random&name=${r.first_name+""+r.last_name}`,className:"rounded-full h-10 w-10 object-cover",alt:""}):"",b.id!=P.to_id?e("img",{src:`https://ui-avatars.com/api/?background=random&name=${b.first_name+""+b.last_name}`,className:"rounded-full h-10 w-10 object-cover",alt:""}):""]}),s("div",{className:"space-y-2 max-w-[75%]",children:[s("div",{className:"flex items-center gap-3",children:[e("div",{className:`dark:bg-gray-800 p-4 py-2 rounded-md bg-black/10 ${P.to_id===b.id?"ltr:rounded-br-none rtl:rounded-bl-none !bg-primary text-white":"ltr:rounded-bl-none rtl:rounded-br-none"}`,children:P.message}),e("div",{className:`${b.id===P.to_id?"hidden":""}`,children:e(br,{className:"hover:text-primary"})})]}),e("div",{className:`text-xs text-white-dark ${b.id===P.to_id?"ltr:text-right rtl:text-left":""}`,children:P.created_at})]})]})},z))}):""})}),e("div",{className:"p-4 absolute bottom-0 left-0 w-full",children:e("div",{className:"sm:flex w-full space-x-3 rtl:space-x-reverse items-center",children:s("div",{className:"relative flex-1",children:[e("input",{className:"form-input rounded-full border-0 bg-[#f4f4f4] px-12 focus:outline-none py-4",placeholder:"Type a message",value:C,onChange:P=>x(P.target.value),onKeyUp:R,disabled:!!I}),e("button",{type:"button",className:"absolute ltr:left-4 rtl:right-4 top-1/2 -translate-y-1/2 hover:text-primary",children:e(br,{})}),e("button",{type:"button",disabled:!!I,className:"absolute ltr:right-4 rtl:left-4 top-1/2 -translate-y-1/2 hover:text-primary",onClick:()=>B(),children:e(of,{})})]})})})]}):""]})]})})};function m6({data:t,setDrawer:a,drawer:n}){const{crmToken:r,apiUrl:i,logout:o}=ee();l.useEffect(()=>{n&&f()},[n]);const[m,u]=l.useState(!0),[c,p]=l.useState([]),f=async()=>{var h;console.log("Fetching Update History....."),u(!0);try{const b=await K({method:"get",url:i+"/api/campaigns/whatsapp/updates",params:{whatsapp_campaign_id:t.id},headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});b.data.status=="success"&&p(b.data.campaigns)}catch(b){((h=b==null?void 0:b.response)==null?void 0:h.status)==401&&o()}finally{u(!1)}};return e("div",{children:m?e(be,{}):c.length?e("div",{className:"table-responsive mb-5",children:s("table",{className:'"table-striped',children:[e("thead",{children:s("tr",{children:[e("th",{children:"#"}),e("th",{children:"Campaign"}),e("th",{children:"Template"}),e("th",{className:"text-center",children:"Time"})]})}),e("tbody",{children:c.map((h,b)=>s("tr",{children:[e("td",{children:e("b",{children:c.length-b})}),e("td",{children:e("div",{className:"whitespace-nowrap",children:e("b",{children:h.campaign_name})})}),e("td",{children:s("div",{className:"max-w-[300px]",style:{textWrap:"wrap"},children:[e("h1",{children:e("b",{children:h.template_name})}),e("span",{className:"font-bold text-[12px] text-[#506690]",children:h.final_template})]})}),e("td",{className:"text-center",children:e("b",{children:h.created_at})})]},h.id))})]})}):e(J,{children:"No Campaihhhh"})})}function h6({data:t,setDrawer:a,drawer:n}){const{crmToken:r,apiUrl:i,logout:o}=ee();l.useEffect(()=>{n&&f()},[n]);const[m,u]=l.useState(!0),[c,p]=l.useState([]),f=async()=>{var x;console.log("Fetching Whatsapp Template ......"),u(!0);try{const L=await K({method:"get",url:i+"/api/campaigns/get-whatsapp-template",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});L.data.status=="success"&&p(L.data.templates.filter(F=>F.template_type=="Other"))}catch(L){console.log(L),((x=L==null?void 0:L.response)==null?void 0:x.status)==401&&o()}finally{u(!1)}},h={whatsapp_campaign_id:t.id,template_id:"",campaign_name:"",contact_details:"",final_template:"",fields:[]},[b,S]=l.useState({}),[I,T]=l.useState(h),[w,_]=l.useState(""),[A,k]=l.useState(0);l.useEffect(()=>{t&&(T({...h,campaign_name:t.campaign_name+" Update - "+(1+t.updates),contact_details:JSON.parse(t.phones),template_id:"",final_template:"",fields:[]}),k(0),_(""))},[t,n]);const g=x=>{const{value:L,name:F}=x.target;S({...b,[F]:""}),T({...I,[F]:L})},E=()=>{S({});let x={};return I.campaign_name||(x={...x,campaign_name:"campaign_name is required."}),I.contact_details||(x={...x,contact_details:"contact_details is required."}),S(x),{totalErrors:Object.keys(x).length}},[N,v]=l.useState(!1),d=async x=>{var L;try{v(!0),(await K({method:"post",url:i+"/api/campaigns/whatsapp/update",data:x,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+r}})).data.status==="success"&&(re.fire({title:"Campaign Updated successfully",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),a(!1))}catch(F){console.log(F),((L=F==null?void 0:F.response)==null?void 0:L.status)==401&&o()}finally{v(!1)}},y=()=>{var F;if(E().totalErrors)return!1;const L=new FormData;L.append("whatsapp_campaign_id",I.whatsapp_campaign_id),L.append("template_id",I.template_id),L.append("fields",(F=I==null?void 0:I.fields)!=null&&F.length?JSON.stringify(I.fields):JSON.stringify([])),d(L)},M=(x,L)=>{const{value:F}=x.target,O=[...I.fields];O[L]=F;let $=w.template.replace(/{{(\d+)}}/g,(R,P)=>O[P-1]?O[P-1]:R);const B={...I,fields:O,final_template:$};T(B)};function C(x){const L=/\{\{/g,F=x.match(L);return F?F.length:0}return l.useEffect(()=>{if(I.template_id){const x=c.find(L=>L.id==I.template_id);_(x),k(C(x.template)),T({...h,template_id:I.template_id,whatsapp_campaign_id:I.whatsapp_campaign_id,campaign_name:I.campaign_name,contact_details:I.contact_details,final_template:x.template})}},[I.template_id]),e(J,{children:m?e(be,{}):s("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:[s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Campaign Name "}),e("input",{type:"text",className:"form-input bg-[#ebedf2]",name:"campaign_name",disabled:!0,value:I.campaign_name})]}),s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Contact Numbers"}),e("input",{type:"text",className:"form-input bg-[#ebedf2]",name:"contact_details",value:I.contact_details,disabled:!0})]}),s("div",{className:"mb-4",children:[s("select",{onChange:x=>g(x),value:I.template_id,name:"template_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",children:"Select Template "}),c==null?void 0:c.map(x=>e("option",{value:x.id,children:x.short_name},x.id))]}),e("div",{className:"text-danger font-semibold text-sm",children:b.template_id})]}),w&&e("div",{className:"mb-4 ",children:e("div",{className:"bg-[#f1faff] p-4 rounded shadow",children:e("p",{children:I.final_template})})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Array.from({length:A},(x,L)=>s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:`{{${L+1}}}`,className:"form-input",name:`fields[${L}]`,onChange:F=>M(F,L)}),e("div",{className:"text-danger font-semibold text-sm",children:b.fields})]},L))}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>y(),disabled:N,className:"btn  btn-dark shadow bg-black",children:N?"Please Wait...":"Send Updates"})]})]})})}function cf({data:t}){const a=JSON.parse(t==null?void 0:t.phones),[n,r]=l.useState(""),[i,o]=l.useState([]),{settingData:m,authUser:u}=ee();l.useEffect(()=>{o(n?a.filter(p=>RegExp(n).test(p)):a)},[n]);const c=p=>{const f=p.toString();if(f.length!==10)throw new Error("Number must be exactly 10 digits long.");return f.slice(0,2)+"****"+f.slice(6)};return s("div",{className:"table-responsive mb-5 max-w-[350px] m-auto",children:[e("input",{type:"text",placeholder:"Search By phone Number",className:"form-input mb-4",onChange:p=>r(p.target.value)}),s("table",{children:[e("thead",{children:e("tr",{children:s("th",{children:["Phone - ",a.length]})})}),e("tbody",{children:i.map((p,f)=>e("tr",{children:e("td",{children:u.user_type==="Analyst"&&(m!=null&&m.crm_phones)&&JSON.parse(m==null?void 0:m.crm_phones).includes("Analyst")?c(p):p})},f))})]})]})}function p6(){const{settingData:t,crmToken:a,apiUrl:n,authUser:r,logout:i}=ee(),[o,m]=l.useState(1),u=[10,25,50,100,250,500,1e3],[c,p]=l.useState(u[0]),[f,h]=l.useState(""),b=()=>new Date().toISOString().split("T")[0],[S,I]=l.useState([b(),b()]);l.useEffect(()=>{k()},[o,S]),l.useEffect(()=>{o!=1?m(1):k()},[c]);const[T,w]=l.useState([]),[_,A]=l.useState(!0),k=async()=>{var F;console.log("Fetching Whatsapp Campaigns........"),A(!0);try{const O=await K({method:"get",url:n+"/api/campaigns/whatsapp/today",params:{page:o,size:c,search:f,dateRange:JSON.stringify(S)},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});O.data.status=="success"&&w(O.data.data)}catch(O){console.log(O),((F=O==null?void 0:O.response)==null?void 0:F.status)==401&&i()}finally{A(!1)}},[g,E]=l.useState(!1);l.useEffect(()=>{g&&(k(),E(!1))},[g,S]),l.useEffect(()=>{o!==1?m(1):E(!0)},[c]),l.useEffect(()=>{g||E(!0)},[o]);const[N,v]=l.useState(!1),[d,y]=l.useState(""),[M,C]=l.useState(""),x=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"}),L=()=>{o!==1?m(1):E(!0),h(f)};return s("div",{className:" flex-1 overflow-x-hidden h-full",children:[s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[e("div",{}),s("div",{className:" flex justify-between gap-2",children:[e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},value:S,className:"form-input w-[240px]",onChange:F=>{const O=F.map($=>x.format(new Date($)).split("/").reverse().join("-"));O.length==2&&I(O)}}),s("div",{className:"flex",children:[e("input",{type:"text",value:f,onChange:F=>h(F.target.value),placeholder:"Search by Campaign Name",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{L()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),e("button",{onClick:()=>{k()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables",children:e(je,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:T[0],columns:[{accessor:"campaign_name",title:"Campaign Name",render:({campaign_name:F})=>e("b",{children:F})},{accessor:"count",title:"Clients",render:F=>e("span",{className:"badge bg-primary",onClick:()=>{y(F),C("phone"),v(!0)},children:F.count})},{accessor:"final_template",title:"Content",render:({final_template:F,campaign_name:O})=>s("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:[e("h1",{children:e("b",{children:O})}),e("span",{className:"font-bold text-[12px] text-[#506690]",children:F})]})},{accessor:"created_at",title:"Time"},{accessor:"id",title:"Action",render:F=>s("div",{children:[e("span",{className:"badge bg-success cursor-pointer me-2",onClick:()=>{y(F),C("update"),v(!0)},children:"Send Update"}),e("span",{className:"badge badge-outline-info cursor-pointer",onClick:()=>{y(F),C("view"),v(!0)},children:"View Update"})]})}],fetching:_,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:T[2],recordsPerPage:c,page:o,onPageChange:F=>m(F),recordsPerPageOptions:u,onRecordsPerPageChange:p,minHeight:200,paginationText:({totalRecords:F})=>`Showing  ${T[3]} to ${T[4]} of ${F} entries`})}),s("div",{children:[e("div",{className:`${N&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>v(!1)}),e("nav",{className:`${N&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[600px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full py-4",children:[e("div",{children:e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:M=="view"?(d==null?void 0:d.campaign_name)+" - Update":M=="update"?(d==null?void 0:d.campaign_name)+" - Whatsapp Campaign":M=="phone"?(d==null?void 0:d.campaign_name)+" - Phones":""})}),e("hr",{className:"my-4 dark:border-[#191e3a]"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar ",children:M=="view"?e(m6,{data:d,setDrawer:v,drawer:N}):M=="update"?e(h6,{data:d,setDrawer:v,drawer:N}):M=="phone"?e(cf,{data:d}):null})]})})]})]})}function f6({data:t,setDrawer:a,drawer:n}){const{settingData:r,crmToken:i,apiUrl:o,authUser:m,logout:u}=ee();l.useEffect(()=>{n&&b()},[n]);const[c,p]=l.useState(!0),[f,h]=l.useState([]),b=async()=>{var S;console.log("Fetching SMS Update History....."),p(!0);try{const I=await K({method:"get",url:o+"/api/campaigns/sms/updates",params:{sms_campaign_id:t.id},headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});I.data.status=="success"&&h(I.data.campaigns)}catch(I){((S=I==null?void 0:I.response)==null?void 0:S.status)==401&&u()}finally{p(!1)}};return e("div",{children:c?e(be,{}):f.length?e("div",{className:"table-responsive mb-5",children:s("table",{className:'"table-striped',children:[e("thead",{children:s("tr",{children:[e("th",{children:"#"}),e("th",{children:"Campaign"}),e("th",{children:"Template"}),e("th",{className:"text-center",children:"Time"})]})}),e("tbody",{children:f.map((S,I)=>s("tr",{children:[e("td",{children:e("b",{children:f.length-I})}),e("td",{children:e("div",{className:"whitespace-nowrap",children:e("b",{children:S.campaign_name})})}),e("td",{children:s("div",{className:"max-w-[300px]",style:{textWrap:"wrap"},children:[e("h1",{children:e("b",{children:S.template_name})}),e("span",{className:"font-bold text-[12px] text-[#506690]",children:S.final_template})]})}),e("td",{className:"text-center",children:e("b",{children:S.created_at})})]},S.id))})]})}):e(J,{children:"No Updates Found"})})}function g6({data:t,setDrawer:a,drawer:n}){const{settingData:r,crmToken:i,apiUrl:o,authUser:m,logout:u}=ee();l.useEffect(()=>{n&&w()},[n]);const[c,p]=l.useState(!0),[f,h]=l.useState([]),[b,S]=l.useState([]),[I,T]=l.useState([]),w=async()=>{var R;console.log("Fetching SMS Template ......"),p(!0);try{const P=await K({method:"get",url:o+"/api/campaigns/get-sms-template",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});P.data.status=="success"&&(T(P.data.sender_ids),h(P.data.templates))}catch(P){console.log(P),((R=P==null?void 0:P.response)==null?void 0:R.status)==401&&u()}finally{p(!1)}},_={sms_campaign_id:t.id,template_id:"",campaign_name:"",contact_details:"",final_template:"",fields:[]},[A,k]=l.useState({}),[g,E]=l.useState(_),[N,v]=l.useState(""),[d,y]=l.useState(0);l.useEffect(()=>{g.sender_id&&S(f.filter(R=>R.template_type==="Other"&&R.sender_id==g.sender_id))},[g.sender_id]),l.useEffect(()=>{t&&(E({..._,campaign_name:t.campaign_name+" Update - "+(1+t.updates),contact_details:JSON.parse(t.phones),template_id:"",final_template:"",fields:[]}),y(0),v(""))},[t,n]);const M=R=>{const{value:P,name:z}=R.target;k({...A,[z]:""}),E({...g,[z]:P})},C=()=>{k({});let R={};return g.campaign_name||(R={...R,campaign_name:"campaign_name is required."}),g.contact_details||(R={...R,contact_details:"contact_details is required."}),k(R),{totalErrors:Object.keys(R).length}},[x,L]=l.useState(!1),F=async R=>{try{L(!0),(await K({method:"post",url:o+"/api/campaigns/sms/update",data:R,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}})).data.status==="success"&&(re.fire({title:"Campaign Updated successfully",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),a(!1))}catch(P){console.log(P)}finally{L(!1)}},O=()=>{var z;if(C().totalErrors)return!1;const P=new FormData;P.append("sms_campaign_id",g.sms_campaign_id),P.append("template_id",g.template_id),P.append("fields",(z=g==null?void 0:g.fields)!=null&&z.length?JSON.stringify(g.fields):JSON.stringify([])),F(P)},$=(R,P)=>{const{value:z}=R.target,H=[...g.fields];H[P]=z;let W=0,q=N.template.replace(/\{#var#\}/g,V=>{let j=H[W]!==void 0?H[W]:V;return W++,j});const D={...g,fields:H,final_template:q};E(D)};function B(R){const P=/\{\#/g,z=R.match(P);return console.log(z?z.length:0),z?z.length:0}return l.useEffect(()=>{if(g.template_id){const R=f.find(P=>P.id==g.template_id);v(R),y(B(R.template)),E({..._,template_id:g.template_id,whatsapp_campaign_id:g.whatsapp_campaign_id,campaign_name:g.campaign_name,contact_details:g.contact_details,final_template:R.template})}},[g.template_id]),e(J,{children:c?e(be,{}):s("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:[s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Campaign Name"}),e("input",{type:"text",className:"form-input bg-[#ebedf2]",name:"campaign_name",disabled:!0,value:g.campaign_name})]}),s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Contact Numbers"}),e("input",{type:"text",className:"form-input bg-[#ebedf2]",name:"contact_details",value:g.contact_details,disabled:!0})]}),s("div",{className:"mb-4",children:[s("select",{onChange:R=>M(R),value:g.sender_id,name:"sender_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",disabled:!0,selected:!0,children:"Select Sender Id"}),I==null?void 0:I.map((R,P)=>e("option",{value:R,children:R},P))]}),e("div",{className:"text-danger font-semibold text-sm",children:A.sender_id})]}),s("div",{className:"mb-4",children:[s("select",{onChange:R=>M(R),value:g.template_id,name:"template_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",children:"Select Template"}),b==null?void 0:b.map(R=>e("option",{value:R.id,children:R.short_name},R.id))]}),e("div",{className:"text-danger font-semibold text-sm",children:A.template_id})]}),N&&e("div",{className:"mb-4  ",children:e("div",{className:"bg-[#f1faff] p-4 rounded shadow",children:e("p",{children:g.final_template})})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Array.from({length:d},(R,P)=>s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:`{{${P+1}}}`,className:"form-input",name:`fields[${P}]`,onChange:z=>$(z,P)}),e("div",{className:"text-danger font-semibold text-sm",children:A.fields})]},P))}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>O(),disabled:x,className:"btn  btn-dark shadow bg-black",children:x?"Please Wait...":"Send Updates"})]})]})})}function b6(){const{crmToken:t,apiUrl:a,logout:n}=ee(),[r,i]=l.useState(1),o=[10,25,50,100,250,500,1e3],[m,u]=l.useState(o[0]),[c,p]=l.useState(""),f=()=>new Date().toISOString().split("T")[0],[h,b]=l.useState([f(),f()]);l.useEffect(()=>{_()},[r,h]),l.useEffect(()=>{r!=1?i(1):_()},[m]);const[S,I]=l.useState([]),[T,w]=l.useState(!0),_=async()=>{var x;console.log("Fetching SMS Campaigns........"),w(!0);try{const L=await K({method:"get",url:a+"/api/campaigns/sms/today",params:{page:r,size:m,search:c,dateRange:JSON.stringify(h)},headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});L.data.status=="success"&&I(L.data.data)}catch(L){console.log(L),((x=L==null?void 0:L.response)==null?void 0:x.status)==401&&n()}finally{w(!1)}},[A,k]=l.useState(!1);l.useEffect(()=>{A&&(_(),k(!1))},[A,h]),l.useEffect(()=>{r!==1?i(1):k(!0)},[m]),l.useEffect(()=>{A||k(!0)},[r]);const[g,E]=l.useState(!1),[N,v]=l.useState(""),[d,y]=l.useState(""),M=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"}),C=()=>{r!==1?i(1):k(!0),p(c)};return s("div",{className:" flex-1 overflow-x-hidden h-full",children:[s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[e("div",{}),s("div",{className:" flex justify-between gap-2",children:[e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},value:h,className:"form-input w-[240px]",onChange:x=>{const L=x.map(F=>M.format(new Date(F)).split("/").reverse().join("-"));L.length==2&&b(L)}}),s("div",{className:"flex",children:[e("input",{type:"text",value:c,onChange:x=>p(x.target.value),placeholder:"Search by Campaign Name",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{C()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),e("button",{onClick:()=>{_()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables",children:e(je,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:S[0],columns:[{accessor:"campaign_name",title:"Campaign Name",render:({campaign_name:x})=>e("b",{children:x})},{accessor:"sender_id",title:"Sender Id",render:({sender_id:x,template_name:L})=>s("div",{className:"flex flex-col gap-1",children:[e("span",{className:"badge bg-[#3b3f5c] w-fit",children:x}),e("span",{children:e("b",{children:L})})]})},{accessor:"count",title:"Clients",render:x=>e("span",{className:"badge bg-primary",onClick:()=>{v(x),y("phone"),E(!0)},children:x.count})},{accessor:"final_template",title:"Content",render:({final_template:x,campaign_name:L})=>s("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:[e("h1",{children:e("b",{children:L})}),e("span",{className:"font-bold text-[12px] text-[#506690]",children:x})]})},{accessor:"created_at",title:"Time"},{accessor:"id",title:"Action",render:x=>s("div",{children:[e("span",{className:"badge bg-success cursor-pointer me-2",onClick:()=>{v(x),y("update"),E(!0)},children:"Send Update"}),e("span",{className:"badge badge-outline-info cursor-pointer",onClick:()=>{v(x),y("view"),E(!0)},children:"View Update"})]})}],fetching:T,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:S[2],recordsPerPage:m,page:r,onPageChange:x=>i(x),recordsPerPageOptions:o,onRecordsPerPageChange:u,minHeight:200,paginationText:({totalRecords:x})=>`Showing  ${S[3]} to ${S[4]} of ${x} entries`})}),s("div",{children:[e("div",{className:`${g&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>E(!1)}),e("nav",{className:`${g&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[600px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full py-4",children:[e("div",{children:e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:d=="view"?(N==null?void 0:N.campaign_name)+" - Update":d=="update"?(N==null?void 0:N.campaign_name)+" - Whatsapp Campaign":d=="phone"?(N==null?void 0:N.campaign_name)+" - Phones":""})}),e("hr",{className:"my-4 dark:border-[#191e3a]"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar ",children:d=="view"?e(f6,{data:N,setDrawer:E,drawer:g}):d=="update"?e(g6,{data:N,setDrawer:E,drawer:g}):d=="phone"?e(cf,{data:N}):null})]})})]})]})}function v6(){const t=_e(i=>i.themeConfig.settingData),a=ve();l.useEffect(()=>{a(Se("Campaign"))});const[n,r]=l.useState(t!=null&&t.sms_enabled?"s":t!=null&&t.whatsapp_enabled?"w":t!=null&&t.app_enabled?"a":"");return e("div",{className:"panel flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar",children:s("div",{className:"mb-5",children:[s("div",{className:"mb-5 flex items-center justify-between",children:[e("h5",{className:"text-lg font-semibold dark:text-white-light",children:"Campaign "}),s("div",{className:"flex gap-4",children:[t!=null&&t.sms_enabled?e("button",{className:`${n=="s"&&"text-secondary !outline-none before:!w-full"} before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>r("s"),children:"Sms "}):"",t!=null&&t.whatsapp_enabled?e("button",{className:`${n=="w"&&"text-secondary !outline-none before:!w-full"} before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>r("w"),children:" Whatsapp "}):""]})]}),n=="s"&&t.sms_enabled?e(b6,{}):n=="w"&&t.whatsapp_enabled?e(p6,{}):""]})})})})}const du=[50,100,250,500,1e3,2500],x6=()=>{const{logout:t,crmToken:a,apiUrl:n,authUser:r,settingData:i}=ee(),[o,m]=l.useState(1),[u,c]=l.useState(du[0]),[p,f]=l.useState(""),[h,b]=l.useState(""),[S,I]=l.useState([]),[T,w]=l.useState([]),[_,A]=l.useState(!1),k=async()=>{var g;A(!0);try{const E=await K.get(`${n}/api/paused-sales`,{params:{page:o,pageSize:u,filterProducts:h,search:p},headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`}});E.data.status==="success"&&(I(E.data.data),T.length||w(E.data.products))}catch(E){console.error(E),((g=E.response)==null?void 0:g.status)===401&&t()}finally{A(!1)}};return l.useEffect(()=>{k()},[o,u]),l.useEffect(()=>{h&&(o==1?k():m(1))},[h]),e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-[calc(100vh-200px)]",children:s("div",{className:"panel shadow-none",children:[s("div",{className:"flex justify-between gap-4",children:[s("div",{className:"flex gap-3 ",children:[s("select",{className:"form-select min-w-[220px]",onChange:g=>b(g.target.value),"aria-label":"Filter Products",children:[e("option",{value:"0",children:"All"}),T.map(g=>e("option",{value:g.id,children:g.pro_name},g.id))]}),s("div",{className:"flex min-w-[275px]",children:[e("input",{type:"text",placeholder:"Search by phone number",value:p,className:"form-input ltr:rounded-r-none rtl:rounded-l-none",onChange:g=>f(g.target.value)}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>k(),children:e(Pa,{})})]})]}),e("button",{disabled:_,onClick:k,className:"bg-[#f4f4f4] rounded-md p-2 disabled:opacity-60","aria-label":"Refresh",children:e(Oe,{className:"w-5 h-5"})})]}),e("div",{className:"datatables mt-4",children:e(je,{className:"whitespace-nowrap table-hover",records:S==null?void 0:S.data,columns:[{accessor:"owner",title:"Owner",render:({owner:g})=>e("b",{children:g})},{accessor:"client",title:"Client",sortable:!0,render:({first_name:g,last_name:E,phone:N})=>{const v=d=>{const y=d.toString();if(y.length!==10)throw new Error("Number must be exactly 10 digits long.");return y.slice(0,2)+"****"+y.slice(6)};return e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:s("b",{children:[g," ",E," ",e("br",{}),r.user_type==="Analyst"&&(i!=null&&i.crm_phones)&&JSON.parse(i==null?void 0:i.crm_phones).includes("Analyst")||r.user_type==="Accounts"&&(i!=null&&i.crm_phones)&&JSON.parse(i==null?void 0:i.crm_phones).includes("Accounts")?v(N):N]})})})}},{accessor:"sale_service",title:"Sale Service",render:({sale_service:g})=>JSON.parse(g).map((E,N)=>e("span",{className:"me-1 badge bg-[black]/60",children:E},N))},{accessor:"client_type",title:"Client Type"},{accessor:"status",title:"Status",render:({status:g})=>g==="Closed Won"?e("button",{type:"button",className:"btn btn-success btn-sm",children:"Create Sale"}):e("span",{className:"badge bg-[#3b3f5c] cursor-pointer",children:g})},{accessor:"start_date",title:"Date",render:({start_date:g,due_date:E})=>s("b",{children:[g," ",e("br",{})," ",E]})}],highlightOnHover:!0,fetching:_,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:S==null?void 0:S.totalItems,recordsPerPage:u,page:o,onPageChange:m,recordsPerPageOptions:du,minHeight:200,paginationText:({totalRecords:g})=>`Showing ${S==null?void 0:S.from} to ${S==null?void 0:S.to} of ${g} entries`})})]})})})};function y6(){return e("div",{children:"TeamLeaderDashboard"})}const w6=()=>{const t=ve();l.useEffect(()=>{t(Se("Create Password"))});const a=Re(),{crmToken:n,apiUrl:r,logout:i}=ee(),o=(v="",d="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:d,title:v,padding:"10px 20px"})},[m]=l.useState({password_confirmation:"",password:""}),[u,c]=l.useState(m),[p,f]=l.useState({}),h=()=>{f({});let v={};return u.password_confirmation||(v={...v,password_confirmation:"password_confirmation is required"}),u.password||(v={...v,password:"password is required"}),f(v),{totalErrors:Object.keys(v).length}},b=v=>{const{value:d,name:y}=v.target;f({...p,[y]:""}),c({...u,[y]:d}),console.table(u)},[S,I]=l.useState(!1),T=async v=>{var y,M;I(!0);try{const C=await K({method:"post",url:r+"/api/create-password",data:v,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});C.data.status=="success"?(o(C.data.message),a("/")):alert("Failed")}catch(C){if(console.log(C),((y=C==null?void 0:C.response)==null?void 0:y.status)==401&&i(),((M=C==null?void 0:C.response)==null?void 0:M.status)===422){const x=C.response.data.errors;o(x);let L={};for(var d in x)L={...L,[d]:x[d][0]},console.log(x[d][0]);f(L)}}finally{I(!1)}},w=()=>{if(h().totalErrors)return!1;const d=new FormData;d.append("password_confirmation",u.password_confirmation),d.append("password",u.password),T(d)},[_,A]=l.useState(!1),k=()=>{A(!_)},[g,E]=l.useState(!1),N=()=>{E(!g)};return s("div",{children:[e("div",{className:"absolute inset-0",children:e("img",{src:"/assets/images/auth/bg-gradient.png",alt:"image",className:"h-full w-full object-cover"})}),s("div",{className:"relative flex min-h-screen items-center justify-center bg-[url(/assets/images/auth/map.png)] bg-cover bg-center bg-no-repeat px-6 py-10 dark:bg-[#060818] sm:px-16",children:[e("img",{src:"/assets/images/auth/coming-soon-object1.png",alt:"image",className:"absolute left-0 top-1/2 h-full max-h-[893px] -translate-y-1/2"}),e("img",{src:"/assets/images/auth/coming-soon-object2.png",alt:"image",className:"absolute left-24 top-0 h-40 md:left-[30%]"}),e("img",{src:"/assets/images/auth/coming-soon-object3.png",alt:"image",className:"absolute right-0 top-0 h-[300px]"}),e("img",{src:"/assets/images/auth/polygon-object.svg",alt:"image",className:"absolute bottom-0 end-[28%]"}),e("div",{className:"relative w-full max-w-[500px] rounded-md bg-[linear-gradient(45deg,#fff9f9_0%,rgba(255,255,255,0)_25%,rgba(255,255,255,0)_75%,_#fff9f9_100%)] p-2 dark:bg-[linear-gradient(52.22deg,#0E1726_0%,rgba(14,23,38,0)_18.66%,rgba(14,23,38,0)_51.04%,rgba(14,23,38,0)_80.07%,#0E1726_100%)]",children:e("div",{className:"relative flex flex-col justify-center rounded-md bg-white/60 backdrop-blur-lg dark:bg-black/50 px-8 lg:min-h-[auto] py-6",children:s("div",{className:"space-y-5 mx-auto w-full ",children:[s("div",{className:"mb-10",children:[e("h1",{className:"text-3xl font-extrabold uppercase !leading-snug text-primary md:text-4xl",children:"Create Password"}),e("p",{className:"text-base font-bold leading-normal text-white-dark",children:"Enter your password and confirm password to login"})]}),s("div",{className:"relative",children:[e("label",{children:"New Password"}),s("div",{className:"relative",children:[e("input",{type:_?"text":"password",placeholder:"Enter Confirm Password",className:"form-input pr-10",name:"password",value:u.password,onChange:v=>b(v)}),e("span",{onClick:k,className:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer",style:{top:"50%",transform:"translateY(-50%)"},children:_?e(Ha,{}):e(Ni,{})})]}),e("span",{className:"text-danger",children:p!=null&&p.password?p.password:""})]}),s("div",{className:"relative",children:[e("label",{children:"Confirm Password"}),s("div",{className:"relative",children:[e("input",{type:g?"text":"password",placeholder:"Enter Confirm Password",className:"form-input pr-10",name:"password_confirmation",value:u.password_confirmation,onChange:v=>b(v)}),e("span",{onClick:N,className:"absolute inset-y-0 right-0 flex items-center pr-3 cursor-pointer",style:{top:"50%",transform:"translateY(-50%)"},children:g?e(Ha,{}):e(Ni,{})})]}),e("span",{className:"text-danger",children:p!=null&&p.password_confirmation?p.password_confirmation:""})]}),e(Q,{to:"/Login",children:e("button",{type:"button",className:"btn btn-gradient !mt-6 w-full border-0 uppercase shadow-[0_10px_20px_-10px_rgba(67,97,238,0.44)]",disabled:!!S,onClick:()=>{w()},children:"Create Password"})})]})})})]})]})};function N6({statusHistoryDrawer:t,setStatusHistoryDrawer:a,lead_id:n}){const{logout:r,crmToken:i,apiUrl:o}=ee(),[m,u]=l.useState(!0),[c,p]=l.useState([]);l.useEffect(()=>{t&&f()},[t]);const f=async()=>{var A;console.log("Fetching Status History..."),u(!0);try{const k=await K({method:"post",url:o+"/api/get-lead-statuses/"+n,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});k.data.status=="success"?p(k.data.leadStatuses):alert("error")}catch(k){console.log(k),((A=k==null?void 0:k.response)==null?void 0:A.status)==401&&r()}finally{u(!1)}},[h,b]=l.useState("status");l.useState(!1);const[S,I]=l.useState(!1),[T,w]=l.useState([]),_=async()=>{var A;I(!0);try{const k=await K({method:"get",url:o+"/api/lead-sales-history",params:{lead_id:n},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});k.data.status=="success"&&w(k.data.sales)}catch(k){console.log(k),((A=k==null?void 0:k.response)==null?void 0:A.status)==401&&r()}finally{I(!1)}};return l.useEffect(()=>{_()},[]),s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[650px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center  p-4 bg-[#3b3f5c] text-white rounded-b-md",children:[e("button",{type:"button",className:"px-4 py-4 absolute top-0 ltr:right-0 rtl:left-0 opacity-30 hover:opacity-100 dark:text-white",onClick:()=>a(!1),children:e(It,{className:" w-5 h-5"})}),e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:"Lead  History"})]}),s("div",{className:"flex gap-4",children:[e("button",{className:`${h=="status"&&"text-secondary !outline-none before:!w-full"}
                            before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>b("status"),type:"button",children:"Status History"}),e("button",{className:`${h=="sales"&&"text-secondary !outline-none before:!w-full"}
                            before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>b("sales"),type:"button",children:"Sales History"})]}),h=="status"?e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e(qe,{className:"relative h-full  ",children:e("div",{className:"space-y-5  sm:pb-0 pb-[68px] sm:min-h-[300px] min-h-[400px]",children:e(J,{children:m?e(be,{}):e(J,{children:c!=null&&c.length?e(qe,{className:" relative mx-4",children:c==null?void 0:c.map((A,k)=>s("div",{className:"bg-[#eee] rounded p-2 mb-2",children:[s("div",{className:"flex justify-between items-center",children:[s("div",{className:"flex items-center",children:[e("div",{className:"flex-none",children:e("img",{src:`https://ui-avatars.com/api/?background=random&name=${A.first_name} ${A.last_name}`,className:"rounded-full h-12 w-12 object-cover",alt:""})}),s("div",{className:"mx-3",children:[s("p",{className:"mb-1 font-semibold ",children:[A.first_name," ",A.last_name]}),e("p",{className:"text-xs text-white-dark",children:A.created_at})]})]}),e("div",{children:e("span",{className:"badge bg-secondary",children:A.status})})]}),e("div",{className:"bg-white p-2 my-2 rounded ",children:e("ol",{children:(()=>{try{return JSON.parse(A==null?void 0:A.changes).map((E,N)=>s("li",{className:"mb-1.5",children:[e("b",{children:E.field})," changed from",e("span",{className:"badge bg-[#888ea8] mx-2",children:E.original||"N/A"}),"to",e("span",{className:"badge bg-[#3b3f5c] mx-2",children:E.new})]},N))}catch(g){console.error("Error parsing JSON:",g)}})()})})]},k))}):e(J,{children:e("div",{className:"flex flex-wrap w-full justify-center mb-5",children:s("div",{className:"rounded-md bg-danger-light p-6 pt-12 mt-8 relative",children:[e("div",{className:"bg-danger/50 absolute text-white-light ltr:left-6 rtl:right-6 -top-8 w-16 h-16 rounded-md flex items-center justify-center mb-5 mx-auto",children:e(Au,{size:35})}),e("h5",{className:"text-dark text-lg font-semibold mb-3.5 dark:text-white-light",children:"No History"}),e("p",{className:"text-white-dark text-[15px]  mb-3.5",children:"No history found with this lead!"})]})})})})})})})}):e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e(qe,{className:"relative h-full  ",children:e("div",{className:"space-y-5  sm:pb-0 pb-[68px] sm:min-h-[300px] min-h-[400px]",children:S?e(be,{}):e(J,{children:T.length?T.map((A,k)=>s("div",{className:`flex justify-between items-center mx-4 mb-2
                                                     ${A.status=="Approved"?"bg-success-light":A.status=="Verified"?"bg-info-light":A.status=="Pending"?"bg-warning-light":A.status=="Paused"?"bg-dark-light":"bg-danger-light"}
                                                 rounded p-2 mb-2`,children:[s("div",{className:"flex items-center ",children:[e("div",{className:"flex-none",children:e("img",{src:`https://ui-avatars.com/api/?background=random&name=${A.first_name+" "+A.last_name}`,className:"rounded-full h-12 w-12 object-cover",alt:""})}),s("div",{className:"mx-3",children:[s("div",{className:"flex justify-between w-[140px]",children:[s("p",{className:"mb-1 font-semibold truncate",children:[A.first_name," "]}),e("p",{children:e("span",{className:"badge badge-outline-info cursor-pointer",children:"View"})})]}),s("p",{className:"text-xs text-white-dark",children:[A.start_date,"  - ",A.due_date]})]})]}),e("div",{children:s("div",{className:"mx-3",children:[s("p",{className:"mb-1  text-xs text-dark font-bold",children:[A.bank," - ₹",A.client_paid]}),e("p",{className:"text-end",children:e("span",{className:`badge ${A.status=="Approved"?"bg-success":A.status=="Verified"?"bg-info":A.status=="Pending"?"bg-warning":A.status=="Paused"?"bg-dark":"bg-danger"}`,children:A.status})})]})})]},k)):e(J,{children:e("div",{className:"bg-danger-light rounded p-6 text-center font-bold text-2xl",children:e("h4",{children:"No Sale Found!"})})})})})})})]})})]})}function _6(){var q;const{logout:t,authUser:a,settingData:n,crmToken:r,apiUrl:i}=ee(),m=(q=St().state)==null?void 0:q.lead_id,[u,c]=l.useState({}),[p,f]=l.useState([]),[h,b]=l.useState([]),S=a.user_type!="Admin";l.useEffect(()=>{w()},[m]);const[I,T]=l.useState(!0),w=async()=>{T(!0);try{const D=await K({method:"get",url:i+"/api/get-search-leads",params:{lead_id:m},headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});D.data.status=="success"&&(c(D.data.lead),f(D.data.allLeadOwners),b(D.data.dropdowns))}catch(D){console.log(D)}finally{T(!1)}},[_,A]=l.useState(!1),[k,g]=l.useState(!1),[E,N]=l.useState(!1),[v,d]=l.useState(!1);function y(D){return Object.keys(D).length===0}const[M,C]=l.useState({user_id:"",first_name:"",last_name:"",phone:"",second_phone:"",email:"",status:"",invest:"",free_trial:"",followup:"",source:"",dnd:"",city:"",state:"",products:[],desc:"",lot_size:""});l.useEffect(()=>{var D;y(u)||C({user_id:u.user_id,first_name:u.first_name?u.first_name:"",last_name:u.last_name?u.last_name:"",phone:u.phone?u.phone:"",second_phone:u.second_phone?u.second_phone:"",email:u.email?u.email:"",status:u.status?u.status:"",invest:u.invest?u.invest:"",free_trial:u.free_trial?u.free_trial:"",followup:u.followup?u.followup:"",source:u.source?u.source:"",dnd:u.dnd?u.dnd:"",city:u.city?u.city:"",state:u.state?u.state:"",products:(D=u==null?void 0:u.products)!=null&&D.length?JSON.parse(u.products):[],desc:u.desc?u.desc:"",lot_size:u.lot_size?u.lot_size:""})},[u]);const[x,L]=l.useState({}),[F,O]=l.useState(!1),$=D=>{const{value:V,name:j}=D.target;L({...x,[j]:""}),C({...M,[j]:V}),console.table(M)},B=D=>p==null?void 0:p.find(V=>V.value==D),R=D=>D&&D.length?D.map(V=>({value:V,label:V})):[],P=async D=>{var j,U;O(!0);try{const Z=await K({method:"post",url:i+"/api/leads",data:D,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+r}});Z.data.status=="success"&&W(Z.data.message)}catch(Z){if(console.log(Z),((j=Z==null?void 0:Z.response)==null?void 0:j.status)==401&&t(),((U=Z==null?void 0:Z.response)==null?void 0:U.status)===422){const Y=Z.response.data.errors;let X={};for(var V in Y)X={...X,[V]:Y[V][0]},console.log(Y[V][0]);L(X)}}finally{O(!1)}},z=()=>{L({});let D={};return M.status||(D={...D,status:"status is required"}),console.log(D),L(D),{totalErrors:Object.keys(D).length}},H=()=>{var j;if(z().totalErrors)return!1;const V=new FormData;V.append("id",u.id),V.append("user_id",M.user_id),V.append("first_name",M.first_name),V.append("last_name",M.last_name),V.append("second_phone",M.second_phone),V.append("email",M.email),V.append("status",M.status),V.append("products",(j=M==null?void 0:M.products)!=null&&j.length?JSON.stringify(M.products):JSON.stringify([])),V.append("invest",M.invest),V.append("followup",M.followup?new Date(M.followup).toISOString():""),V.append("free_trial",M.free_trial?new Date(M.free_trial).toISOString():""),V.append("source",M.source),V.append("dnd",M.dnd),V.append("city",M.city),V.append("state",M.state),V.append("desc",M.desc),V.append("lot_size",M.lot_size),P(V)},W=(D="",V="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:V,title:D,padding:"10px 20px"})};return e("div",{children:I?e(be,{}):s(J,{children:[s("div",{className:"flex flex-col h-screen overflow-hidden panel",children:[s("div",{className:"w-full text-center",children:[s("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4",children:[e("div",{className:"ltr:mr-3 rtl:ml-3 flex items-center",children:e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Search Lead"})}),s("div",{className:"flex items-center justify-center sm:justify-end sm:flex-auto flex-1",children:[(u==null?void 0:u.status)=="Closed Won"&&s(J,{children:[e("button",{className:"btn btn-outline-primary mr-[15px] btn-sm",onClick:()=>{A(!0)},children:"Create Sale"}),e("button",{className:"btn btn-outline-primary mr-[15px] btn-sm",onClick:()=>g(!0),children:"Sales History"})]}),e("button",{className:"btn btn-outline-primary mr-[15px] btn-sm",onClick:()=>N(!0),children:"Status History"}),a.user_type=="Admin"?e("button",{className:"btn btn-secondary mr-[15px] btn-sm",disabled:!!F,onClick:()=>H(),children:F?"Please Wait...":"Update Lead"}):null]})]}),e("hr",{className:"mt-4 dark:border-[#191e3a]"})]}),s(J,{children:[e("div",{className:"p-1 flex sm:flex-row flex-col w-full sm:items-center gap-4",children:s("div",{className:"flex items-center justify-center sm:justify-end sm:flex-auto flex-1",children:[(n==null?void 0:n.website_permission)==1&&e("button",{className:"badge bg-primary mr-2",children:"Send Website Link"}),(u==null?void 0:u.status)=="Closed Won"?e("button",{className:"badge bg-success mr-2",onClick:()=>{d(!0)},children:"Send Bank Details"}):null,(n==null?void 0:n.kyc_enabled)==1&&e("button",{className:"badge bg-secondary mr-2",children:"Send KYC"}),(n==null?void 0:n.riskprofile_enabled)==1&&e("button",{className:"badge bg-danger",children:"Send Risk Profile"})]})}),e("hr",{className:"mb-4 dark:border-[#191e3a]"}),s("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5 px-2",children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s("div",{children:[e("label",{children:"Lead Owner"}),e(rt,{placeholder:"Select an employee",options:p,isDisabled:S,onChange:D=>$({target:{name:"user_id",value:D.value}}),value:B(M.user_id)})]}),s("div",{children:[e("label",{children:"First Name"}),e("input",{type:"text",name:"first_name",value:M.first_name,onChange:D=>$(D),disabled:S,className:"form-input"})]}),s("div",{children:[e("label",{children:"Last Name"}),e("input",{type:"text",name:"last_name",value:M.last_name,onChange:D=>$(D),disabled:S,className:"form-input"})]}),s("div",{children:[e("label",{children:"Mobile Number"}),e("input",{type:"tel",name:"phone",value:M.phone,disabled:!0,className:"form-input bg-danger/10"})]}),s("div",{children:[e("label",{children:"Alternative Mobile Number"}),e("input",{type:"tel",name:"second_phone",value:M.second_phone,onChange:D=>$(D),disabled:S,className:"form-input"})]}),s("div",{children:[e("label",{children:"Email"}),e("input",{type:"email",name:"email",value:M.email,onChange:D=>$(D),disabled:S,className:"form-input"})]}),s("div",{children:[e("label",{children:"Lead Status"}),e("select",{name:"status",className:"form-select text-white-dark",disabled:M.status=="Closed Won"?!0:!!S,value:M.status,onChange:D=>$(D),children:h==null?void 0:h.filter(D=>D.type=="Lead Status").map(D=>e("option",{children:D.value},D.id))}),e("div",{className:"text-danger mt-1",children:x.status})]}),s("div",{children:[e("label",{children:"Source"}),e("input",{type:"text",name:"source",value:M.source,disabled:!0,className:"form-input bg-danger/10"})]}),s("div",{children:[e("label",{children:"State"}),s("select",{name:"state",className:"form-select text-white-dark",disabled:S,value:M.state,onChange:D=>$(D),children:[e("option",{children:"Choose..."}),h==null?void 0:h.filter(D=>D.type=="State").map(D=>e("option",{children:D.value},D.id))]}),e("div",{className:"text-danger mt-1",children:x.state})]}),s("div",{children:[e("label",{children:"City"}),e("input",{type:"text",name:"city",disabled:S,value:M.city,onChange:D=>$(D),className:"form-input"})]}),s("div",{children:[e("label",{children:"Followup Date"}),e(Je,{name:"followup",value:M.followup,onChange:D=>$({target:{value:D[0],name:"followup"}}),disabled:S,options:{dateFormat:"Y-m-d",position:"auto left",minDate:"today"},className:"form-input"}),e("div",{className:"text-danger mt-1",children:x.followup})]}),s("div",{children:[e("label",{children:"Free Trial"}),e(Je,{name:"free_trial",value:M.free_trial,onChange:D=>$({target:{value:D[0],name:"free_trial"}}),disabled:S,options:{dateFormat:"Y-m-d",position:"auto left",minDate:"today"},className:"form-input"}),e("div",{className:"text-danger mt-1",children:x.followup})]}),s("div",{children:[e("label",{children:"Investment Size"}),s("select",{name:"invest",value:M.invest,disabled:S,onChange:D=>$(D),className:"form-select text-white-dark",children:[e("option",{children:"Choose..."}),h==null?void 0:h.filter(D=>D.type=="Investment Size").map(D=>e("option",{children:D.value},D.id))]}),e("div",{className:"text-danger mt-1",children:x.invest})]}),s("div",{children:[e("label",{children:"Lot Size"}),s("select",{name:"lot_size",value:M.lot_size,disabled:S,onChange:D=>$(D),className:"form-select text-white-dark",children:[e("option",{children:"Choose..."}),h==null?void 0:h.filter(D=>D.type=="Lot Size").map(D=>e("option",{children:D.value},D.id))]}),e("div",{className:"text-danger mt-1",children:x.lot_size})]}),s("div",{children:[e("label",{children:"DND Status"}),s("select",{name:"dnd",value:M.dnd,disabled:S,onChange:D=>$(D),className:"form-select text-white-dark",children:[e("option",{children:"Choose..."}),h==null?void 0:h.filter(D=>D.type=="DND Status").map(D=>e("option",{children:D.value},D.id))]}),e("div",{className:"text-danger mt-1",children:x.dnd})]}),s("div",{children:[e("label",{children:"Products"}),e(rt,{name:"products",isDisabled:S,onChange:D=>$({target:{name:"products",value:D.map(V=>V.value)}}),value:R(M.products),options:h==null?void 0:h.filter(D=>D.type=="Lead Products"),placeholder:"Select User Type",isMulti:!0,className:" text-white-dark",isSearchable:!1}),e("div",{className:"text-danger mt-1",children:x.products})]})]}),s("div",{className:"mt-4",children:[s("div",{className:"flex",children:[e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b] whitespace-nowrap",children:"Description"}),e("textarea",{name:"desc",disabled:S,value:M.desc,onChange:D=>$(D),rows:4,className:"form-textarea ltr:rounded-l-none rtl:rounded-r-none"})]}),e("div",{className:"text-danger mt-1",children:x.desc})]})]})]})]}),e(Jl,{saleModel:_,setSaleModel:A,selectedLead:u}),e(Dp,{salesHistoryModal:k,setSalesHistoryModal:g,lead_id:u==null?void 0:u.id}),e(N6,{statusHistoryModal:E,setStatusHistoryModal:N,lead_id:u==null?void 0:u.id})]})})}function k6(){const{logout:t,crmToken:a,settingData:n,apiUrl:r}=ee();l.useEffect(()=>{m()},[]);const[i,o]=l.useState([]),m=async()=>{try{const f=await K({method:"get",url:r+"/api/upgrade/growthlift",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});f.data.status=="success"&&o(f.data.data),console.log(f)}catch(f){console.log(f)}finally{}},[u,c]=l.useState(!1),p=async f=>{c(!0);try{(await K({method:"post",url:r+"/api/upgrade/growthlift/table",data:{table:f},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}})).data.status=="success"&&m()}catch{}finally{c(!1)}};return s(J,{children:[e("div",{className:"p-10",children:"Growth CRM Upgrade"}),s("table",{children:[e("thead",{children:s("tr",{children:[e("th",{children:"Table"}),e("th",{children:"Status"}),e("th",{children:"Action"})]})}),e("tbody",{children:i==null?void 0:i.map(f=>s("tr",{children:[e("td",{children:f.table}),e("td",{children:e("span",{className:`badge ${f.status?"bg-success":"bg-danger"} `,children:f.status?"Success":"Pending"})}),e("td",{children:e("button",{className:"btn btn-secondary btn-sm",disabled:u,onClick:()=>f.status?null:p(f.table),children:u?"Loading....":f.status?"No Action":"Migrate"})})]}))})]})]})}function C6({phone:t,token:a,mainAction:n}){const r=_e(b=>b.themeConfig.apiUrl);console.log(t),l.useEffect(()=>{c()},[]);const[i,o]=l.useState(!0),[m,u]=l.useState([]),c=async()=>{o(!0);try{const b=await K({method:"get",url:r+"/api/customer-riskprofile-result",params:{phone:t,token:a},headers:{"Content-Type":"multipart/form-data"}});b.data.status=="success"&&u(b.data.riskprofile),console.log(b)}catch(b){console.log(b)}finally{o(!1)}},[p,f]=l.useState(!1),h=async()=>{f(!0);try{const b=await K({method:"get",url:r+"/api/customer-riskprofile-verify",params:{phone:t,token:a},headers:{"Content-Type":"multipart/form-data"}});b.data.status=="success"&&u(b.data.riskprofile)}catch{}finally{f(!1)}};return e("div",{children:i?e(be,{}):e("div",{children:e("div",{children:m.is_verified?s(J,{children:[e("b",{children:m.full_name}),e("button",{children:"Download Riskprofile"})]}):m!=null&&m.pdf?e("div",{style:{width:"100%",height:"100vh",border:"none"},children:e("iframe",{src:m==null?void 0:m.pdf,title:"My Embedded Content",width:"100%",height:"100%",style:{border:"none"}})}):e(J,{children:e("button",{className:"btn btn-secondary m-auto",disabled:p,onClick:()=>h(),children:p?"Please Wait...":"Submit Riskprofile"})})})})})}function S6(){const t=_e(h=>h.themeConfig.apiUrl),{token:a}=Lf(),[n,r]=l.useState(!0);l.useEffect(()=>{a&&f()},[]);const[i,o]=l.useState(null),[m,u]=l.useState(!1),[c,p]=l.useState([]),f=async()=>{r(!0);try{const h=await K({method:"get",url:t+"/api/customer-riskprofile-check",params:{token:a},headers:{"Content-Type":"multipart/form-data"}});h.data.status=="success"&&(u(h.data.phone),o(h.data.action))}catch(h){console.log(h)}finally{r(!1)}};return s("div",{children:[e("div",{className:"absolute inset-0",children:e("img",{src:"/assets/images/auth/bg-gradient.png",alt:"image",className:"h-full w-full object-cover"})}),s("div",{className:"relative flex min-h-screen items-center justify-center bg-[url(/assets/images/auth/map.png)] bg-cover bg-center bg-no-repeat px-6 py-10 dark:bg-[#060818] sm:px-16",children:[e("img",{src:"/assets/images/auth/coming-soon-object1.png",alt:"image",className:"absolute left-0 top-1/2 h-full max-h-[893px] -translate-y-1/2"}),e("img",{src:"/assets/images/auth/coming-soon-object2.png",alt:"image",className:"absolute left-24 top-0 h-40 md:left-[30%]"}),e("img",{src:"/assets/images/auth/coming-soon-object3.png",alt:"image",className:"absolute right-0 top-0 h-[300px]"}),e("img",{src:"/assets/images/auth/polygon-object.svg",alt:"image",className:"absolute bottom-0 end-[28%]"}),e("div",{className:"relative flex w-full max-w-[1502px] flex-col justify-between overflow-hidden rounded-md bg-white/60 text-center backdrop-blur-lg dark:bg-black/50 lg:min-h-[758px] lg:flex-row lg:gap-10 xl:gap-0",children:s("div",{className:" w-full panel",children:[e("h1",{className:"text-3xl font-extrabold",children:"Risk Profile"}),e("div",{children:n?e(be,{}):i=="login"?e(E6,{phone:m,token:a,mainAction:o}):i=="pan"?e(T6,{phone:m,token:a,mainAction:o,setQuestions:p}):i=="questions"?e(A6,{phone:m,token:a,mainAction:o,questions:c}):i=="verification"?e(C6,{phone:m,token:a,mainAction:o}):null})]})})]})]})}const E6=({phone:t,token:a,mainAction:n})=>{const r=_e(b=>b.themeConfig.apiUrl),[i,o]=l.useState(!1),[m,u]=l.useState("login"),[c,p]=l.useState(""),f=async()=>{o(!0);try{const b=await K({method:"post",url:r+"/api/customer-riskprofile-otp-generate",data:{phone:t,token:a},headers:{"Content-Type":"multipart/form-data"}});b.data.status=="success"&&u(b.data.action)}catch(b){console.log(b)}finally{o(!1)}},h=async()=>{o(!0);try{const b=await K({method:"post",url:r+"/api/customer-riskprofile-otp-verify",data:{phone:t,token:a,otp:c},headers:{"Content-Type":"multipart/form-data"}});b.data.status=="success"&&n(b.data.action),console.log(b)}catch{}finally{o(!1)}};return s("div",{className:"max-w-[500px] m-auto mt-5",children:[e("h1",{children:"Login"}),m=="login"?e("input",{type:"tel",placeholder:"Phone Number",value:t,className:"form-input",disabled:!0}):m=="otp"?e("input",{type:"tel",placeholder:"Enter 6 digits OTP",maxLength:6,onChange:b=>p(b.target.value),value:c,className:"form-input"}):null,e("div",{children:e("button",{type:"button",disabled:i,className:"btn btn-primary mt-6 m-auto",onClick:()=>m=="login"?f():m=="otp"?h():null,children:i?"Please Wait...":m=="login"?"Get OTP":m=="otp"?"Verify OTP":null})})]})},T6=({phone:t,token:a,mainAction:n,setQuestions:r})=>{const i=_e(T=>T.themeConfig.apiUrl),[o,m]=l.useState({phone:t,token:a,full_name:"",pan:"",dob:""}),[u,c]=l.useState({}),[p,f]=l.useState(!1),h=T=>{const{value:w,name:_}=T.target;c({...u,[_]:""}),m({...o,[_]:w})},b=()=>{c({});let T={};return o.full_name||(T={...T,full_name:"full name is required"}),o.pan||(T={...T,pan:"pan is required"}),o.dob||(T={...T,dob:"dob is required"}),c(T),{totalErrors:Object.keys(T).length}},S=async T=>{var _,A;f(!0);try{const k=await K({method:"post",url:i+"/api/customer-riskprofile-pan-verify",data:T,headers:{"Content-Type":"multipart/form-data"}});k.data.status=="success"?(r(JSON.parse((_=k.data)==null?void 0:_.questions.questions)),n(k.data.action)):alert("Failed")}catch(k){if(console.log(k),((A=k==null?void 0:k.response)==null?void 0:A.status)===422){const g=k.response.data.errors;let E={};for(var w in g)E={...E,[w]:g[w][0]};c(E)}}finally{f(!1)}},I=()=>{if(b().totalErrors)return!1;const w=new FormData;w.append("phone",t),w.append("token",a),w.append("full_name",o.full_name),w.append("pan",o.pan),w.append("dob",o.dob),S(w)};return s("div",{children:[e("h1",{children:"Pan Validation"}),s("div",{className:"grid grid-cols-1 lg:flex justify-between gap-5",children:[e("input",{type:"text",placeholder:"Enter Name",name:"full_name",value:o.full_name,onChange:T=>h(T),className:"form-input"}),e("input",{type:"text",placeholder:"Enter pan card number",name:"pan",value:o.pan,onChange:T=>h(T),className:"form-input"}),e("input",{type:"date",placeholder:"Enter dob",name:"dob",value:o.dob,onChange:T=>h(T),className:"form-input"})]}),e("button",{type:"button",disabled:p,className:"btn btn-primary mt-6",onClick:()=>I(),children:p?"Please  Wait...":"Verify"})]})},A6=({phone:t,token:a,mainAction:n,questions:r})=>{const i=_e(I=>I.themeConfig.apiUrl),o=r.length-1,[m,u]=l.useState(0),[c,p]=l.useState([]);l.useEffect(()=>{console.log(c)},[c]);const f=(I,T)=>{const w=[...c];w[I]={question:r[I].question,option:T},p(w),I!=o&&u(_=>_+1)},[h,b]=l.useState(!1),S=async()=>{b(!0);try{const I=await K({method:"post",url:i+"/api/customer-riskprofile-answers",data:{phone:t,token:a,answers:JSON.stringify(c)},headers:{"Content-Type":"application/json"}});I.data.status=="success"&&n(I.data.action)}catch{}finally{b(!1)}};return e(J,{children:s("div",{children:[e("p",{children:r[m].question}),e("ul",{children:JSON.parse(r[m].options).map(I=>{var T,w;return e("li",{children:s("label",{className:"inline-flex",children:[e("input",{type:"radio",name:"default_radio",onChange:()=>f(m,I),className:"form-radio text-success",value:{index:m,option:I},checked:((w=(T=c[m])==null?void 0:T.option)==null?void 0:w.option)==I.option}),e("span",{children:I.option})]})})})}),s("div",{children:[m?e("button",{onClick:()=>u(I=>I-1),children:"Back"}):null,o==m&&c[m]?e("button",{disabled:h,onClick:()=>S(),children:h?"Please wait...":"Submit"}):c[m]?e("button",{onClick:()=>u(I=>I+1),children:"Next"}):null]})]})})},P6=Rr(re);function I6({addPackageModel:t,setAddPackageModel:a,whatsappConfiguration:n}){const r=ve();Re();const{crmToken:i,apiUrl:o}=ee(),[m,u]=l.useState(1),c=[10,25,50,100,250,500,1e3],[p,f]=l.useState(c[0]),[h,b]=l.useState({columnAccessor:"id",direction:"asc"});l.useEffect(()=>{r(i?Se("Package"):at(""))},[i]);const S={package_name:"",incentive_percentage:"",fixed_salary:"",status:"",incentive_amount:""},[I,T]=l.useState({}),[w,_]=l.useState(S),A=P=>{const{value:z,name:H}=P.target;T({...I,[H]:""}),_({...w,[H]:z}),console.table(w)},k=()=>{T({});let P={};return w.incentive_amount||(P={...P,incentive_amount:"incentive Amount is required."}),w.package_name||(P={...P,package_name:"package name is required."}),w.incentive_percentage||(P={...P,incentive_percentage:"incentive percentage is required."}),T(P),{totalErrors:Object.keys(P).length}},[g,E]=l.useState(!1),N=async P=>{var H,W;E(!0);try{const q=await K({method:"post",url:o+"/api/packages",data:P,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});q.data.status==="success"?(d(q.data.message),a(!1),_(""),O()):alert("Error")}catch(q){if(((H=q==null?void 0:q.response)==null?void 0:H.status)===401)r(at(""));else if(((W=q==null?void 0:q.response)==null?void 0:W.status)===422){const D=q.response.data.errors;let V={};for(var z in D)V={...V,[z]:D[z][0]},T(V),console.log(D[z][0]);P6.fire({title:"Server Validation Error! Please solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{E(!1)}},v=()=>{if(k().totalErrors)return!1;const z=new FormData;z.append("incentive_percentage",w.incentive_percentage),z.append("package_name",w.package_name),z.append("incentive_percentage",w.incentive_percentage),z.append("fixed_salary",w.fixed_salary),z.append("status",w.status),z.append("incentive_amount",w.incentive_amount),N(z)},d=(P="",z="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:z,title:P,padding:"10px 20px"})},[y,M]=l.useState(!1),[C,x]=l.useState([]),[L,F]=l.useState([]);l.useEffect(()=>{O()},[]);const O=async()=>{M(!0);try{const P=await K({method:"get",url:o+"/api/packages",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});P.data.status=="success"&&(console.log("***** Fetching Package *****"),F(P.data.data),x(P.data.package))}catch{}finally{M(!1)}},$=P=>{_({id:P==null?void 0:P.id,package_name:P==null?void 0:P.package_name,incentive_percentage:P==null?void 0:P.incentive_percentage,fixed_salary:P==null?void 0:P.fixed_salary,status:P==null?void 0:P.status,incentive_amount:P==null?void 0:P.incentive_amount})},B=P=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async z=>{if(z.value)try{const H=await K({method:"delete",url:o+"/api/packages/"+P.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});H.data.status==="success"&&(d(H.data.message),O())}catch{}finally{}})},R=Number(w.incentive_percentage)/100*Number(w.incentive_amount);return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!t)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4`,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:" border-b border-grey p-2 flex justify-between",children:[e("button",{className:"mb-1 dark:text-white font-bold",children:"Package"}),e("button",{onClick:()=>a(!1),children:e(It,{className:" w-5 h-5"})})]}),s("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:[s("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:[s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:"Enter Package Name",className:"form-input",name:"package_name",onChange:P=>A(P),value:w.package_name}),e("div",{className:"text-danger font-semibold text-sm",children:I.package_name})]}),s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:"Enter Fixed Salary",className:"form-input",name:"fixed_salary",onChange:P=>A(P),value:w.fixed_salary}),e("div",{className:"text-danger font-semibold text-sm",children:I.fixed_salary})]}),s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:"Enter Incentive Amount",className:"form-input",name:"incentive_amount",onChange:P=>A(P),value:w.incentive_amount}),e("div",{className:"text-danger font-semibold text-sm",children:I.incentive_amount})]}),s("div",{className:"mb-4",children:[s("div",{className:"flex",children:[e("input",{id:"iconRight",type:"text",name:"incentive_percentage",onChange:P=>A(P),value:w.incentive_percentage,placeholder:"Incentive Percentage",className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e("span",{children:"%"})})]}),e("div",{className:"text-danger font-semibold text-sm",children:I.incentive_percentage})]}),e("div",{className:"mb-4",children:s("label",{className:"text-white-dark",children:["Approx Incentive :- ",e("b",{children:R})," "]})}),s("div",{children:[s("select",{name:"status",className:"form-select text-white-dark",onChange:P=>A(P),value:w.status,children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),I!=null&&I.status?e("div",{className:"text-danger mt-1",children:I.status}):""]}),s("div",{className:"flex justify-end gap-5 mb-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>v(),disabled:g,className:"btn  btn-dark shadow bg-black",children:g?"Please Wait...":w.id?"Update":"Add"})]})]}),e("hr",{className:" dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:e("div",{className:"datatables",children:e(je,{className:"whitespace-nowrap table-hover",records:C,columns:[{accessor:"id",sortable:!0,render:({id:P})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:P})})},{accessor:"package_name",title:"Package  Name",sortable:!0,render:({package_name:P})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:P})})},{accessor:"fixed_salary",title:"Fixed Salary",sortable:!0,render:({fixed_salary:P})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:P})})},{accessor:"incentive_amount",title:"Incentive Amount",sortable:!0,render:({incentive_amount:P})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:P})})},{accessor:"incentive_percentage",title:"Incentive Percentage",sortable:!0,render:({incentive_percentage:P})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:P})})},{accessor:"status",sortable:!0,render:({id:P,status:z})=>e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",onChange:H=>{updateStatus(P,z)},id:"custom_switch_checkbox1",checked:z==!0}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})},{accessor:"Action",sortable:!0,render:P=>s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{$(P)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{B(P)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})}],highlightOnHover:!0,totalRecords:L==null?void 0:L.total,recordsPerPage:p,page:m,onPageChange:P=>u(P),recordsPerPageOptions:c,onRecordsPerPageChange:f,sortStatus:h,onSortStatusChange:b,minHeight:200,fetching:y,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:P,to:z,totalRecords:H})=>`Showing  ${L==null?void 0:L.form} to ${L.to} of ${H} entries`})})})]})]})})]})}const L6=()=>{var Ne;const t=ve(),a=Re();l.useEffect(()=>{t(Se("ListSalary"))});const n=St(),{settingData:r,crmToken:i,apiUrl:o}=ee(),[m,u]=l.useState(1),c=[10,25,50,100,250,500,1e3],[p,f]=l.useState(c[0]),[h,b]=l.useState({columnAccessor:"id",direction:"asc"});l.useEffect(()=>{i?(t(Se("Dropdown")),C()):a("/")},[m,p]);const S=(Ne=n==null?void 0:n.state)==null?void 0:Ne.dropdown,[I,T]=l.useState(!1),[w,_]=l.useState([]),[A,k]=l.useState(!1),[g]=l.useState({id:"",select_package:"",select_employee:"",fixed_salary:"",incentive_amount:"",incentive_percentage:"",status:""}),[E,N]=l.useState("");l.useEffect(()=>{C()},[m,E]);const[v,d]=l.useState(null),[y,M]=l.useState(0),C=async()=>{T(!0);try{const ie=y,we=await K({method:"get",url:o+"/api/salaries",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});if(we.data.status=="success"){console.log("***** Fetching Whatsapp Data *****"),d(we.data.data),_(we.data.salary);const Pe=O.select_package,Qe=te.find(se=>se.id===parseInt(Pe))}}catch{}finally{T(!1)}};function x(){const ie=["#","Template Name","Template","Status"];kn.downloadExcel({fileName:"Last Login",sheet:"react-export-table-to-excel",tablePayload:{header:ie,body:w.map((we,Pe)=>({a:Pe+1,c:we.select_package,d:we.select_package,e:we.status?"Active":"Blocked"}))}})}const L=ie=>{let we=["#","Template Name","Template","Status"],Pe=w.map((Ae,me)=>({"#":me+1,"Template Name":Ae.template_name,Template:Ae.select_package,Status:Ae.status?"Active":"Blocked"})),Qe="SMS";if(ie==="print"){var se="<p>"+Qe+"</p>";se+='<table style="width: 100%; " cellpadding="0" cellcpacing="0"><thead><tr style="color: #515365; background: #eff5ff; -webkit-print-color-adjust: exact; print-color-adjust: exact; "> ',we.map(Ae=>{se+="<th>"+F(Ae)+"</th>"}),se+="</tr></thead>",se+="<tbody>",Pe.map(Ae=>{se+="<tr>",we.map(me=>{let Ee=Ae[me]?Ae[me]:"";se+="<td>"+Ee+"</td>"}),se+="</tr>"}),se+="<style>body {font-family:Arial; color:#495057;}p{text-align:center;font-size:18px;font-weight:bold;margin:15px;}table{ border-collapse: collapse; border-spacing: 0; }th,td{font-size:12px;text-align:left;padding: 4px;}th{padding:8px 4px;}tr:nth-child(2n-1){background:#f7f7f7; }</style>",se+="</tbody></table>";var ke=window.open("","","left=0,top=0,width=1000,height=600,toolbar=0,scrollbars=0,status=0");ke.document.write("<title>Print</title>"+se),ke.document.close(),ke.focus(),ke.print()}},F=ie=>ie.replace("_"," ").replace("-"," ").toLowerCase().split(" ").map(we=>we.charAt(0).toUpperCase()+we.substring(1)).join(" "),[O,$]=l.useState(g),[B,R]=l.useState({}),P=()=>{R({});let ie={};return O.select_package||(ie={...ie,select_package:"Please Select Package"}),console.log(ie),R(ie),{totalErrors:Object.keys(ie).length}},[z,H]=l.useState(!1),[W,q]=l.useState(!1),[D,V]=l.useState(null),j=ie=>{const{value:we,name:Pe}=ie.target;if(R({...B,[Pe]:""}),$({...O,[Pe]:we}),Pe==="select_package"){const Qe=te.find(se=>se.id===parseInt(we));V(Qe||null)}},U=async ie=>{var Pe;H(!0);try{const Qe=await K({method:"post",url:o+"/api/salaries",data:ie,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}});Qe.data.status=="success"?(X(Qe.data.message),$(g),C(),q(!1)):alert("Failed")}catch(Qe){if(console.log(Qe),Qe.response.status==401&&t(at("")),((Pe=Qe==null?void 0:Qe.response)==null?void 0:Pe.status)===422){const se=Qe.response.data.errors;let ke={};for(var we in se)ke={...ke,[we]:se[we][0]},console.log(se[we][0]);R(ke),X("Server Validation Error!!!!")}}finally{H(!1)}},Z=ie=>{if(R({}),ie)$({id:ie==null?void 0:ie.id,select_employee:ie==null?void 0:ie.select_employee,select_package:ie==null?void 0:ie.select_package,fixed_salary:ie==null?void 0:ie.fixed_salary,incentive_amount:ie==null?void 0:ie.incentive_amount,incentive_percentage:ie==null?void 0:ie.incentive_percentage,status:ie==null?void 0:ie.status});else{const we=JSON.parse(JSON.stringify(g));$(we)}k(!0),q(!0)},Y=ie=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async we=>{if(we.value)try{const Pe=await K({method:"delete",url:o+"/api/salaries/"+ie.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});Pe.data.status==="success"&&(X(Pe.data.message),C())}catch{}finally{}})},X=(ie="",we="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:we,title:ie,padding:"10px 20px"})};l.useState(!1);const[ae,he]=l.useState(!1),[te,G]=l.useState([]);l.useEffect(()=>{fe()},[]);const fe=async()=>{T(!0);try{const ie=await K({method:"get",url:o+"/api/packages",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});ie.data.status=="success"&&(console.log("***** Fetching Package *****"),d(ie.data.data),G(ie.data.package))}catch{}finally{T(!1)}};console.table(O);const[ne,pe]=l.useState([]),[ue,le]=l.useState([]),[Ce,Be]=l.useState(0),[Ue,Te]=l.useState(0);l.useEffect(()=>{xe()},[]);const xe=async()=>{T(!0);try{const ie=await K({method:"get",url:o+"/api/users?page="+m+"&pageSize="+p+"&filterStatus="+Ce+"&filterUserType="+Ue+"&search="+E,headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});if(ie.data.status==="success"){console.log("**** Fetching Employee Data *****");const we=ie.data.data.data.map(Pe=>({label:Pe.first_name,value:Pe.id}));pe(we),le(we),d(ie.data.data)}}catch(ie){ie.response&&ie.response.status===401&&t(at(""))}finally{T(!1)}},[ye,Ge]=l.useState([]),Ke=ie=>{Ge(ie);const we=ie.map(Pe=>Pe.label);$({...O,select_employee:we}),console.log("Selected Employees:",ie),console.log("Params:",O)},de=()=>{if(P().totalErrors)return!1;const we=new FormData;we.append("id",O.id),we.append("select_employee",O.select_package),we.append("fixed_salary",D==null?void 0:D.fixed_salary),we.append("select_package",O.select_package),we.append("incentive_amount",D==null?void 0:D.incentive_amount),we.append("incentive_percentage",D==null?void 0:D.incentive_percentage),we.append("status",O.status),U(we)};return console.log("hselectedPackageselectedPackageselectedPackage",D),e(J,{children:s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),s("div",{className:" p-0 flex-1 overflow-x-hidden h-full",children:[e(I6,{setAddPackageModel:he,addPackageModel:ae}),e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Salary Details "}),s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[s("div",{className:"flex items-center flex-wrap",children:[s("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:x,children:[e(va,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"EXCEL"]}),s("button",{type:"button",onClick:()=>L("print"),className:"btn btn-primary btn-sm m-1",children:[e(Ia,{className:"ltr:mr-2 rtl:ml-2"}),"PRINT"]})]}),e("input",{type:"text",className:"form-input w-auto",placeholder:"Search...",value:E,onChange:ie=>N(ie.target.value)}),e("button",{type:"button",onClick:()=>he(!0),className:"btn btn-sm btn-primary",children:"Packages"}),e("button",{className:"btn btn-sm btn-primary",onClick:()=>q(!W),children:"Add Salary "}),e("div",{className:`${W&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>q(!W)}),e("nav",{className:`${W&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[e("div",{className:"flex justify-between mb-4 ",children:e("div",{className:"text-lg bold",children:O!=null&&O.id?"Update Salary":"Add Salary"})}),e("hr",{className:"mb-5"}),e(Xe.Panels,{children:e(Xe.Panel,{children:s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:[s("div",{children:[e("label",{children:"Employee"}),e(rt,{isMulti:!0,options:ne,placeholder:"Select Employees",className:"basic-multi-select",classNamePrefix:"select",name:"select_employee",onChange:Ke,value:ye})]}),s("div",{children:[s("select",{name:"select_package",value:O.select_package,onChange:ie=>{j(ie)},className:"form-select",children:[e("option",{value:"",children:"Select Package"}),te.map(ie=>s("option",{value:ie.id,children:[" ",ie.id," ",ie.package_name]}))]}),e("div",{className:"text-danger mt-1",children:B.select_package})]}),D?s("div",{className:"package-details",children:[s("p",{children:[e("strong",{children:"Package Name:"})," ",D.package_name]}),s("p",{children:[e("strong",{children:"Fixed Salary:"})," ",D.fixed_salary]}),s("p",{children:[e("strong",{children:"Incentive Amount:"})," ",D.incentive_amount]}),s("p",{children:[e("strong",{children:"Incentive Percentage:"})," ",D.incentive_percentage]})]}):s("div",{className:"package-details",children:[s("p",{children:[e("strong",{children:"Package Name:"})," ",O.package_name]}),s("p",{children:[e("strong",{children:"Fixed Salary:"})," ",O.fixed_salary]}),s("p",{children:[e("strong",{children:"Incentive Amount:"})," ",O.incentive_amount]}),s("p",{children:[e("strong",{children:"Incentive Percentage:"})," ",O.incentive_percentage]})]})]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Status"}),s("select",{name:"status",className:"form-select text-white-dark",onChange:ie=>j(ie),value:O.status,children:[e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),B!=null&&B.status?e("div",{className:"text-danger mt-1",children:B.status}):""]})}),e("button",{type:"button",onClick:()=>de(),disabled:z,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:O.id?e("div",{children:z?"Please wait":"Update Salary"}):e("div",{children:z?"Please wait":S?"Update Salary":"Add Salary"})})]})})})]})})})})})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:e("div",{className:"datatables",children:e(je,{className:"whitespace-nowrap table-hover",records:w,columns:[{accessor:"id",sortable:!0,render:({id:ie})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:ie})})},{accessor:"select_employee",title:"Employee",sortable:!0,render:({select_employee:ie})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:ie})})},{accessor:"select_package",title:"Package Name",sortable:!0,render:({select_package:ie})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:ie})})},{accessor:"fixed_salary",title:"Fixed Salary",sortable:!0,render:({fixed_salary:ie})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:ie})})},{accessor:"incentive_amount",title:"Incentive Amount",sortable:!0,render:({incentive_amount:ie})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:ie})})},{accessor:"incentive_percentage",title:"Incentive Percentage",sortable:!0,render:({incentive_percentage:ie})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:ie})})},{accessor:"status",sortable:!0,render:({id:ie,status:we})=>e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",onChange:Pe=>{updateStatus(ie,we)},id:"custom_switch_checkbox1",checked:we==!0}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})},{accessor:"Action",sortable:!0,render:ie=>s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{Z(ie)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{Y(ie)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})}],highlightOnHover:!0,totalRecords:v==null?void 0:v.total,recordsPerPage:p,page:m,onPageChange:ie=>u(ie),recordsPerPageOptions:c,onRecordsPerPageChange:f,sortStatus:h,onSortStatusChange:b,minHeight:200,fetching:I,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:ie,to:we,totalRecords:Pe})=>`Showing  ${v==null?void 0:v.form} to ${v.to} of ${Pe} entries`})})})]})})]})]})})};function F6(){var M;ve(),Re(),St();const{addToast:t}=ct(),{crmToken:a,apiUrl:n,settingData:r}=ee(),[i,o]=l.useState(!0),[m,u]=l.useState(null),[c]=l.useState({fields:[],mandatory_fields:[]});l.useState(c);const[p,f]=l.useState({});l.useState([]);const[h,b]=l.useState(null),[S,I]=l.useState([]),[T,w]=l.useState(!0),[_,A]=l.useState([]),k=async()=>{b(null),o(!0),A([]);try{const C=await K({method:"get",url:n+"/api/settings-kyc",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});C.data.status=="success"&&(I(C.data.allFields),w(C.data.is_multy_tab),A(C.data.alerts))}catch(C){console.log(C),A([])}finally{o(!1)}},g=(C,x,L)=>{const F=[...S[C]],O=F[x],$=[O[0],O[1],L==="required"?!O[2]:O[2],L==="mandatory"?!O[3]:O[3],O[4],O[5],O[6]];F[x]=$;const B={...S,[C]:F};I(B)};l.useEffect(()=>{k()},[]);const[E,N]=l.useState(!1),[v,d]=l.useState(null),y=async()=>{var x;N(!0),d(null);try{const L=await K({method:"post",url:n+"/api/settings-kyc",data:{fields:JSON.stringify(S),is_multy_tab:T?1:0},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});L.data.status=="success"?t({variant:"success",title:L.data.message}):L.data.status=="error"&&d(L.data.message)}catch(L){if(((x=L==null?void 0:L.response)==null?void 0:x.status)===422){const F=L.response.data.errors;let O={};for(var C in F)O={...O,[C]:F[C][0]},console.log(F[C][0]);f(O)}}finally{N(!1)}};return s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),s("div",{className:"panel p-5 flex-1 overflow-x-hidden h-full",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"KYC Settings"}),e("button",{disabled:i||E,onClick:()=>k(),children:e(Lg,{size:20})})]}),i?e(J,{children:e(be,{})}):m?e(M6,{error:m,fetchSettings:k}):s("div",{className:"flex flex-col h-full",children:[e("div",{children:_==null?void 0:_.map(C=>s("div",{className:"bg-[#fbe5e6] rounded p-2 mb-2",children:[e("h4",{className:"font-bold",children:C[0]}),s("small",{className:"font-bold",children:[" ",C[1]]})]}))}),s("div",{className:" max-w-[500px]",children:[s("div",{className:"flex justify-between items-center mb-4",children:[s("label",{className:"flex items-center cursor-pointer space-x-2 ",children:[e("span",{className:"text-sm font-bold",children:"Enable Multy Section"}),s("div",{className:"relative",children:[e("input",{type:"checkbox",checked:T,onChange:()=>w(!T),id:"custom_switch_checkbox",className:"sr-only peer"}),e("div",{className:"w-10 h-5 bg-gray-300 rounded-full peer-checked:bg-green-500 transition"}),e("div",{className:"w-4 h-4 bg-white rounded-full absolute top-0.5 left-0.5 peer-checked:left-5 transition"})]})]}),s("button",{className:"btn btn-success btn-sm shadow saturate-50",disabled:E,onClick:()=>y(),children:[E?"Please Wait":"Submit"," "]})]}),v?e("div",{className:"bg-[#DBE7FF] p-1.5 rounded",children:e("strong",{className:"text-[#ff0303]",children:v})}):null,(M=Object.entries(S))==null?void 0:M.map(([C,x])=>s("div",{children:[T?e("h4",{className:"mb-2 mt-4 font-bold text-[16px]",children:C}):null,e("ul",{className:"space-y-2",children:x.map((L,F)=>e("li",{className:"px-4 py-2 border border-gray-200 rounded-lg shadow-sm",children:s("div",{className:"flex items-center justify-between space-x-4",children:[e("label",{className:"w-[300px] m-0 font-bold text-gray-700 truncate",children:L[1]}),s("label",{className:"flex items-center m-0 space-x-2",children:[e("input",{type:"checkbox",checked:L[2],onChange:()=>g(C,F,"required"),className:"form-checkbox text-success rounded-full focus:ring focus:ring-success/50"}),e("span",{className:"text-gray-600",children:"Required"})]}),s("label",{className:"flex items-center m-0 space-x-2",children:[e("input",{type:"checkbox",checked:L[3],disabled:!L[2],onChange:()=>g(C,F,"mandatory"),className:"form-checkbox text-secondary rounded-full focus:ring focus:ring-secondary/50"}),e("span",{className:"text-gray-600",children:"Mandatory"})]})]})},F))})]},C))]})]})]})]})}const M6=({error:t,fetchSettings:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})},O6=()=>{const{logout:t,crmToken:a,settingData:n,apiUrl:r,authUser:i}=ee(),o=ve();l.useEffect(()=>{o(Se("Settings")),T()},[a]);const[m,u]=l.useState(!0),[c,p]=l.useState(null),[f]=l.useState({id:"",sms_phone:"",whatsapp_phone:""}),[h,b]=l.useState(f),[S,I]=l.useState({}),T=async()=>{var N;console.log("Fetching General Setting Data"),u(!0),p(null);try{const v=await K({method:"get",url:r+"/api/authentication-phones",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});v.data.status=="success"&&(v.data.phones?b({id:v.data.phones.id,sms_phone:v.data.phones.sms_phone,whatsapp_phone:v.data.phones.whatsapp_phone}):b(f))}catch(v){console.log(v),p(v),((N=v==null?void 0:v.response)==null?void 0:N.status)==401&&t()}finally{u(!1)}},w=()=>{I({});let N={};return h.sms_phone||(N={...N,apple:"At least one phone number is required"}),I(N),{totalErrors:Object.keys(N).length}},[_,A]=l.useState(!1),k=N=>{const{value:v,name:d}=N.target;I({...S,[d]:""}),b({...h,[d]:v}),console.table(h)},g=async N=>{var d;A(!0);try{const y=await K({method:"post",url:r+"/api/authentication-phones",data:N,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});y.data.status=="success"?re.fire({title:y.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-green"}}):alert("Failed")}catch(y){if(console.log(y),y.response.status==401&&t(),((d=y==null?void 0:y.response)==null?void 0:d.status)===422){const M=y.response.data.errors;let C={};for(var v in M)C={...C,[v]:M[v][0]},console.log(M[v][0]);I(C),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{A(!1)}},E=()=>{if(w().totalErrors)return!1;const v=new FormData;v.append("id",h.id),v.append("sms_phone",h.sms_phone),g(v)};return e(J,{children:s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:m?e(J,{children:e(be,{})}):c?e(B6,{error:c,fetchSettings:T}):e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[e("div",{className:"flex justify-between items-center",children:e("h1",{className:"text-[18px] font-bold",children:"Authentication Phone"})}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),s("form",{className:"max-w-[600px] m-auto bg-[#009688]/[.26] panel",children:[s("div",{className:"grid grid-cols-1 sm:flex justify-between gap-5",children:[s("div",{children:[e("label",{htmlFor:"ctnEmail",children:"SMS Number"}),e("input",{type:"tel",placeholder:"Enter SMS Number",className:"form-input",name:"sms_phone",value:h.sms_phone,onChange:N=>k(N)}),S!=null&&S.sms_phone?e("div",{className:"text-danger mt-1",children:S.sms_phone}):""]}),e("div",{children:e("button",{type:"button",onClick:()=>E(),disabled:_,className:"btn btn-primary mt-6 ",children:_?"Please wait":h.id?"Update Phones":"Add Phones"})})]}),S!=null&&S.apple?s("div",{className:"text-danger text-center  mt-1",children:["aaa",S.apple]}):""]})]})})})]})})},B6=({error:t,fetchSettings:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})},R6=()=>{const t=ve(),a=Re(),{crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState(""),[S,I]=l.useState([]),[T,w]=l.useState({columnAccessor:"id",direction:"asc"});l.useEffect(()=>{n?(t(Se("Application")),E()):a("/")},[i,u,h,p]);const[_,A]=l.useState(!1),[k,g]=l.useState(null),E=async()=>{A(!0);try{const N=await K({method:"get",url:r+"/api/app/v1/signup-data?page="+i+"&pageSize="+u+"&search="+h,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});N.data.status=="success"&&(console.log("*** Fetching Application User ***"),g(N.data.data),I(N.data.data.data))}catch{}finally{A(!1)}};return e(J,{children:e("div",{className:" p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Registerd User"}),s("div",{className:"flex items-center justify-between gap-2",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:h,onChange:N=>b(N.target.value),placeholder:"Search by Name",className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),e("button",{onClick:()=>{E()},className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:e("div",{className:"datatables",children:e(je,{className:"whitespace-nowrap table-hover",records:S,columns:[{accessor:"id",sortable:!0,render:({id:N})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:N})})},{accessor:"name",title:"Name",sortable:!0,render:({name:N})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:N})})},{accessor:"phone",title:"Phone",sortable:!0,render:({phone:N})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:N})})},{accessor:"email",title:"Email",sortable:!0,render:({email:N})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:N})})},{accessor:"state",title:"state",sortable:!0,render:({state:N})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:N})})},{accessor:"pincode",title:"pincode",sortable:!0,render:({pincode:N})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:N})})}],highlightOnHover:!0,totalRecords:k==null?void 0:k.total,recordsPerPage:u,page:i,onPageChange:N=>o(N),recordsPerPageOptions:m,onRecordsPerPageChange:c,sortStatus:T,onSortStatusChange:w,minHeight:200,fetching:_,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:N,to:v,totalRecords:d})=>`Showing  ${k==null?void 0:k.form} to ${k.to} of ${d} entries`})})})]})})})})},$6=()=>{const[t,a]=l.useState(0),n=[{question:"1. What is React?",answer1:"React is a JavaScript library for building user interfaces.",answer2:"React is a JavaScript library for building user interfaces.",answer3:"React is a JavaScript library for building user interfaces.",answer4:"React is a JavaScript library for building user interfaces."},{question:"2. What is Tailwind CSS?",answer1:"React is a JavaScript library for building user interfaces.",answer2:"React is a JavaScript library for building user interfaces.",answer3:"React is a JavaScript library for building user interfaces.",answer4:"React is a JavaScript library for building user interfaces."},{question:"3. How do I use React?",answer1:"React is a JavaScript library for building user interfaces.",answer2:"React is a JavaScript library for building user interfaces.",answer3:"React is a JavaScript library for building user interfaces.",answer4:"React is a JavaScript library for building user interfaces."},{question:"4. What is Tailwind CSS?",answer1:"React is a JavaScript library for building user interfaces.",answer2:"React is a JavaScript library for building user interfaces.",answer3:"React is a JavaScript library for building user interfaces.",answer4:"React is a JavaScript library for building user interfaces."},{question:"5. What is React?",answer1:"React is a JavaScript library for building user interfaces.",answer2:"React is a JavaScript library for building user interfaces.",answer3:"React is a JavaScript library for building user interfaces.",answer4:"React is a JavaScript library for building user interfaces."}],r=()=>{t<n.length-1&&a(o=>o+1)},i=()=>{t>0&&a(o=>o-1)};return s("div",{className:"max-w-lg mx-auto p-8 bg-white shadow-md rounded-lg",children:[e("h2",{className:"text-2xl font-bold mb-4",children:n[t].question}),e("div",{children:s("label",{className:"inline-flex items-center mb-6",children:[e("input",{type:"radio",name:"income",className:"form-radio h-4 w-4 text-green-600"}),e("p",{className:"text-gray-600 ",children:n[t].answer1})]})}),e("div",{children:s("label",{className:"inline-flex items-center gap-2 mb-6",children:[e("input",{type:"radio",name:"income",className:"form-radio h-4 w-4 text-green-600"}),e("p",{className:"text-gray-600 ",children:n[t].answer2})]})}),e("div",{children:s("label",{className:"inline-flex items-center mb-6",children:[e("input",{type:"radio",name:"income",className:"form-radio h-4 w-4 text-green-600"}),e("p",{className:"text-gray-600 ",children:n[t].answer3})]})}),e("div",{children:s("label",{className:"inline-flex items-center mb-6",children:[e("input",{type:"radio",name:"income",className:"form-radio h-4 w-4 text-green-600"}),e("p",{className:"text-gray-600 ",children:n[t].answer4})]})}),s("div",{className:"flex justify-between",children:[e("button",{onClick:i,disabled:t===0,className:`px-4 py-2 bg-gray-200 rounded ${t===0?"opacity-50 cursor-not-allowed":"hover:bg-gray-300"}`,children:"Previous"}),e("button",{onClick:r,disabled:t===n.length-1,className:`px-4 py-2 bg-blue-500 text-white rounded ${t===n.length-1?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:"Next"})]})]})};function j6(){const{logout:t,crmToken:a,authUser:n,apiUrl:r}=ee();Re();const i=St(),{fOwner:o,fStatus:m,fState:u}=i.state||{};console.log("fOwner",o),l.useEffect(()=>{c(Se("View Leads"))},[]);const c=ve(),p=_e(G=>G.themeConfig.hideCols),[f,h]=l.useState(1),b=[10,25,50,100,250,500,1e3],[S,I]=l.useState(b[0]);l.useState("");const[T,w]=l.useState(o??(localStorage.getItem("leadFilterOwner")||"0")),[_,A]=l.useState(m??(localStorage.getItem("leadFilterStatus")||"0")),[k,g]=l.useState(u??(localStorage.getItem("leadFilterState")||"0")),[E,N]=l.useState([]),[v,d]=l.useState(1),[y,M]=l.useState([]),[C,x]=l.useState([]),[L,F]=l.useState([]),[O,$]=l.useState([]),[B,R]=l.useState(!0),P=l.useMemo(()=>[{label:"All States",value:0},...L==null?void 0:L.map(G=>({label:G,value:G}))],[L]),z=l.useCallback(G=>{g(G.value),localStorage.setItem("leadFilterState",G.value.toString())},[]),H=l.useMemo(()=>[{label:"All Status",value:0},{label:"Today's Free Trial",value:"today-free-trial"},{label:"Today's Follow Up",value:"today-follow-up"},...C==null?void 0:C.map(G=>({label:G,value:G}))],[C]),W=l.useCallback(G=>{A(G.value),localStorage.setItem("leadFilterStatus",G.value.toString())},[]),[q,D]=l.useState(null),V=async(G=0)=>{var fe;console.log("Fetching Leads........",G),R(!0),D(null);try{const ne=await K({method:"get",url:r+"/api/get-team-leads",params:{page:f,pageSize:S,filterOwner:T,filterStatus:_,filterState:k,firstTime:G||v},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});ne.data.status=="success"?(N(ne.data.data),(v||G)&&(M(ne.data.allLeadOwners),x(ne.data.allLeadStatus),$(ne.data.leadSources),F(ne.data.allLeadStates),d(0))):N([])}catch(ne){((fe=ne==null?void 0:ne.response)==null?void 0:fe.status)==401&&t(),console.log(ne),D(ne)}finally{R(!1)}},[j,U]=l.useState(!1);l.useEffect(()=>{j&&(V(),U(!1))},[j]),l.useEffect(()=>{f!==1?h(1):U(!0)},[T,_,k,S]),l.useEffect(()=>{j||U(!0)},[f]);const Z=(G,fe)=>p.includes(G)?c(un(p.filter(ne=>ne!==G))):c(un([...p,G])),Y=[{accessor:"id",title:"Lead Id",editable:!0},{accessor:"owner",title:"Owner",editable:!0},{accessor:"full_name",title:"Full Name",editable:!1},{accessor:"email",title:"Email",editable:!0},{accessor:"phone",title:"Phone",editable:!1},{accessor:"second_phone",title:"Second Phone",editable:!0},{accessor:"status",title:"Status",editable:!1},{accessor:"invest",title:"Invest",editable:!0},{accessor:"free_trial",title:"First Trail",editable:!0},{accessor:"followup",title:"Follow Up",editable:!0},{accessor:"source",title:"Source",editable:!0},{accessor:"dnd",title:"DND",editable:!0},{accessor:"city",title:"City",editable:!0},{accessor:"state",title:"State",editable:!1},{accessor:"products",title:"Products",editable:!0},{accessor:"desc",title:"Description",editable:!0},{accessor:"created_at",title:"Craeted At",editable:!0},{accessor:"updated_at",title:"Updated At",editable:!0}],X=(G,fe)=>{un(G.target.value),Z(fe,G.target.checked)},[ae,he]=l.useState([]);l.useState(null),l.useState(!1),l.useState(!1),l.useState(!1),l.useState(!1),l.useState(!1),l.useState(!1);const te=({first_name:G,last_name:fe})=>{const pe=`${G}${fe?` ${fe}`:""}`.substring(0,15),ue=`${G}${fe?` ${fe}`:""}`;return e(lt,{content:ue,children:e("b",{children:pe})})};return e(J,{children:e(xs,{children:e(J,{children:q?e(z6,{error:q,fetch:V}):e(J,{children:e("div",{className:"p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex justify-between gap-4",children:[s("div",{className:"flex gap-3  w-full",children:[e("div",{children:e("div",{children:e(rt,{placeholder:"Select Lead Owner",onChange:G=>{w(G.value),localStorage.setItem("leadFilterOwner",G.value)},className:"w-[230px] z-10 ",value:y==null?void 0:y.find(G=>G.value==T),options:y})})}),e("div",{children:e(rt,{placeholder:"Select Lead State",onChange:z,className:"w-[230px] z-10",value:P.find(G=>G.value===k),options:P})}),e("div",{children:e(rt,{placeholder:"Select Lead Status",onChange:W,className:"w-[230px] z-10",value:H.find(G=>G.value===_),options:H})})]}),s("div",{className:"flex gap-3 justify-end  w-full",children:[e("div",{className:"dropdown mr-1",children:e(us,{btnClassName:"!btn btn-dark flex items-center border font-semibold border-white-light dark:border-[#253b5c] rounded-md px-4 py-2 text-sm dark:bg-[#1b2e4b] dark:text-white-dark",button:s(J,{children:[e("span",{className:"ltr:mr-1 rtl:ml-1",children:"Edit Table "}),e(jt,{className:"w-5 h-5"})]}),children:e("ul",{className:"!min-w-[200px]",children:Y.map(G=>e("li",{className:"flex flex-col",children:e("div",{className:"flex items-center px-4 py-1",children:s("label",{className:"cursor-pointer mb-0",children:[e("input",{type:"checkbox",checked:!p.includes(G.accessor),className:"form-checkbox text-dark",onChange:fe=>X(fe,G.accessor),disabled:!G.editable}),e("span",{className:"ltr:ml-2 rtl:mr-2",children:G.title})]})})},G.accessor))})})}),e("button",{disabled:!!B,onClick:()=>V(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables mt-4",children:e(je,{className:"whitespace-nowrap table-hover",records:E==null?void 0:E.data,columns:[{accessor:"id",title:"Lead Id",hidden:p.includes("id")},{accessor:"owner",title:"Owner",hidden:p.includes("owner")},{accessor:"first_name",title:"Full Name",hidden:p.includes("first_name"),render:({first_name:G,last_name:fe})=>e(te,{first_name:G,last_name:fe})},{accessor:"status",title:"Status",hidden:p.includes("status"),render:G=>e("span",{className:`badge ${G.status=="Closed Won"?"bg-success":"bg-[#1d67a7]"}  text-center cursor-pointer py-0.5 w-full`,children:G.status})},{accessor:"email",title:"Email",hidden:p.includes("email")},{accessor:"phone",title:"Phone",hidden:p.includes("phone"),render:({phone:G,is_dialed:fe})=>e(J,{children:s("b",{className:"inline-flex items-center gap-1",children:[G," ",fe?e(Vu,{color:"green"}):""]})})},{accessor:"second_phone",title:"Second Phone",hidden:p.includes("second_phone")},{accessor:"invest",title:"Invest",hidden:p.includes("invest")},{accessor:"free_trial",title:"First Trail",hidden:p.includes("free_trial")},{accessor:"followup",title:"Followup",hidden:p.includes("followup")},{accessor:"source",title:"Source",hidden:p.includes("source")},{accessor:"dnd",title:"DND",hidden:p.includes("dnd")},{accessor:"city",title:"City",hidden:p.includes("city")},{accessor:"state",title:"State",hidden:p.includes("state")},{accessor:"products",title:"Products",hidden:p.includes("products")},{accessor:"desc",title:"Desc",hidden:p.includes("desc")},{accessor:"kyc_status",title:"KYC Status",hidden:p.includes("kyc_status")},{accessor:"rp_status",title:"RP Status",hidden:p.includes("rp_status")},{accessor:"created_at",title:"Created At",hidden:p.includes("created_at")},{accessor:"updated_at",title:"Updated At",hidden:p.includes("updated_at")}],totalRecords:E.totalItems,recordsPerPage:S,page:f,onPageChange:G=>h(G),recordsPerPageOptions:b,onRecordsPerPageChange:I,sortStatus:{columnAccessor:"id",direction:"asc"},selectedRecords:ae,onSelectedRecordsChange:he,isRecordSelectable:()=>n.user_type=="Admin",minHeight:500,fetching:B,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:G})=>`Showing  ${E==null?void 0:E.from} to ${E.to} of ${G} entries`})})]})})})})})})})}const z6=({error:t,fetch:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})};function D6(){return e("div",{className:"",children:s("div",{className:"relative",children:[e("img",{src:"/assets/images/error/404-light.svg",alt:"404",className:"mx-auto -mt-10 w-full max-w-xs object-cover md:-mt-14 md:max-w-xl"}),e("p",{className:"mt-5 text-base dark:text-white text-center",children:"The page you requested was not found!"}),e(dl,{to:"/",className:"btn btn-gradient mx-auto !mt-7 w-max border-0 uppercase shadow-none",children:"Home"})]})})}function V6({error:t}){return e("div",{className:"",children:s("div",{className:"relative",children:[e("img",{src:"/assets/images/error/500-light.svg",alt:"500",className:"mx-auto -mt-10 w-full max-w-xs object-cover md:-mt-14 md:max-w-xl"}),e("p",{className:"mt-5 text-base dark:text-white text-center",children:t.statusText}),e(Q,{to:"/",className:"btn btn-gradient mx-auto !mt-7 w-max border-0 uppercase shadow-none",children:"Home"})]})})}function U6(){const{logout:t,authUser:a,crmToken:n,apiUrl:r}=ee(),i=ve(),o=Re();l.useEffect(()=>{i(Se("Sales"))});const[m,u]=l.useState(localStorage.getItem("saleFilterOwner")||"0"),[c,p]=l.useState(localStorage.getItem("saleFilterStatus")||"0"),[f,h]=l.useState([]),[b,S]=l.useState(1),I=[{label:"All",value:0},{label:"Pending",value:"Pending"},{label:"Verified",value:"Verified"},{label:"Approved",value:"Approved"},{label:"Expired",value:"Expired"},{label:"Paused",value:"Paused"}],[T,w]=l.useState([]),[_,A]=l.useState(1),k=[10,25,50,100,250,500,1e3],[g,E]=l.useState(k[0]),[N,v]=l.useState(null),[d,y]=l.useState(),[M,C]=l.useState(!0),[x,L]=l.useState(1);l.useEffect(()=>{F()},[_,g]),l.useEffect(()=>{_==1?F():A(1)},[m,c]);const F=async()=>{var R;C(!0),L(0);try{const P=await K({method:"get",url:r+"/api/get-accounts-sales",params:{page:_,pageSize:g,filterOwner:m,filterStatus:c,firstTime:b,search:N},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});P.data.status=="success"&&(w(P.data.data),b&&(y(P.data.settings),h(P.data.allSaleOwners))),console.log(P)}catch(P){(R=P==null?void 0:P.response)!=null&&R.status&&L(P==null?void 0:P.response)}finally{C(!1)}},[O,$]=l.useState(null),B=({first_name:R,last_name:P,phone:z})=>{const W=`${R}${P?` ${P}`:""}`.substring(0,15),q=`${R}${P?` ${P}`:""}`;return e(lt,{content:q,children:s("div",{children:[e("b",{children:W})," ",e("br",{}),e("b",{children:z})]})})};return e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:O?e(Vp,{selectedLead:O,setSelectedLead:$,fL:F}):e("div",{className:"panel p-0",children:x?e(H6,{e:x,fL:F}):s(J,{children:[s("div",{className:"flex justify-between gap-4  p-4",children:[s("div",{className:"flex gap-3  w-full",children:[s("div",{className:"flex min-w-[275px]",children:[e("input",{type:"text",placeholder:"Search Sale by phone number",className:"form-input ltr:rounded-r-none rtl:rounded-l-none",onChange:R=>v(R.target.value)}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>_==1?F():A(1),children:e(Pa,{})})]}),e("div",{children:e(rt,{placeholder:"Select Lead Owner",onChange:R=>{u(R.value),localStorage.setItem("saleFilterOwner",R.value)},className:"w-[230px] z-10",value:f==null?void 0:f.find(R=>R.value==m),options:[{label:"All Users",value:0},...f==null?void 0:f.map(R=>({label:R.first_name+" "+R.last_name,value:R.id}))]})}),e("div",{children:e(rt,{placeholder:"Select Sale Status",onChange:R=>{p(R.value),localStorage.setItem("saleFilterStatus",R.value)},className:"w-[230px] z-10",value:I==null?void 0:I.find(R=>R.value==c),options:I})})]}),e("div",{className:"flex gap-3 justify-end  w-full",children:e("button",{disabled:!!M,onClick:()=>F(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})})]}),e("div",{className:"datatables p-4",children:e(je,{className:"whitespace-nowrap table-hover",records:T==null?void 0:T.data,columns:[{accessor:"id",title:"Sale Id",cellsClassName:"font-bold"},{accessor:"owner",title:"Owner",cellsClassName:"font-bold"},{accessor:"first_name",title:"Full Name",render:({first_name:R,last_name:P,phone:z})=>e(B,{first_name:R,last_name:P,phone:z})},{accessor:"last_name",title:"Verifications & Documents",render:({kyc_status:R,rp_status:P,agreement_status:z,is_manager_verified:H,is_account_verified:W,is_complaince_verified:q})=>s("div",{className:"flex gap-2",children:[s("div",{children:[d.has_manager_verification||d.has_complaince_verification||d.has_accounts_verification?s("div",{className:"flex gap-1 justify-between",children:[d.has_manager_verification?e("span",{className:`badge ${H?"bg-[#2ab717]":"bg-red-500"} `,children:"Manager"}):null,d.has_complaince_verification?e("span",{className:`badge ${q?"bg-[#2ab717]":"bg-red-500"} `,children:"Complaince"}):null,d.has_accounts_verification?e("span",{className:`badge ${W?"bg-[#2ab717]":"bg-red-500"} `,children:"Accounts"}):null]}):null,d.kyc_enabled||d.riskprofile_enabled||d.aggrement_enabled?s("div",{className:"flex gap-1  justify-between",children:[d.kyc_enabled?e("span",{className:`badge ${R==3?"bg-[#2ab717]":R==2?"bg-info":"bg-danger"}`,children:"KYC"}):null,d.riskprofile_enabled?e("span",{className:`badge ${P==3?"bg-[#2ab717]":P==2?"bg-info":"bg-danger"}`,children:"Risk Profile"}):null,d.aggrement_enabled?e("span",{className:`badge ${z==3?"bg-[#2ab717]":z==2?"bg-info":"bg-danger"}`,children:"Agreement"}):null]}):null]}),e("div",{className:" btn btn-dark shadow",children:"Invoice"})]})},{accessor:"status",title:"Status4444444444",render:R=>s("div",{children:[R.is_service_activated?e(ml,{style:{color:"green",fontSize:20}}):e(vu,{style:{color:"red",fontSize:20}}),R.status=="Closed Won"?e("button",{type:"button",className:"btn btn-success btn-sm shadow-sm py-0.5",children:"Create Sale"}):e("span",{className:`badge ${R.status=="Pending"?"bg-[#ff9800]":R.status=="Approved"?"bg-[#2ab717]":R.status=="Expired"?"bg-red-500":R.status=="Verified"?"bg-info":"bg-dark"} text-center cursor-pointer py-0.5 w-full`,children:R.status})]})},{accessor:"product",title:"Product",cellsClassName:"max-w-[200px] truncate",render:({product:R,bank:P,client_paid:z})=>s("div",{children:[e("b",{children:R})," ",e("br",{}),e("b",{children:P})," ",e("br",{}),s("b",{className:"flex items-center text-success",children:[e(hl,{size:14})," ",z]})]})},{accessor:"sale_date",title:"Date",render:({sale_date:R,start_date:P,due_date:z})=>s("div",{children:[s("div",{className:"flex justify-between gap-2",children:[e("span",{children:"Start"}),e("span",{className:"font-semibold",children:P})]}),s("div",{className:"flex justify-between gap-2",children:[e("span",{children:"Sale"}),e("span",{className:"font-semibold",children:R})]}),s("div",{className:"flex justify-between gap-2",children:[e("span",{children:"End"}),e("span",{className:"font-semibold",children:z})]})]})}],onCellClick:({record:R})=>{o("/sales/show",{state:{sale_id:R.id,filterOwner:m,filterStatus:c}})},totalRecords:T.totalItems,recordsPerPage:g,page:_,onPageChange:R=>A(R),recordsPerPageOptions:k,onRecordsPerPageChange:E,sortStatus:{columnAccessor:"id",direction:"asc"},minHeight:500,fetching:M,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:R})=>`Showing  ${T==null?void 0:T.from} to ${T.to} of ${R} entries`})})]})})})})}const H6=({e:t,fL:a})=>(console.log(t),e("div",{className:"",children:s("div",{className:"relative",children:[e("img",{src:"/assets/images/error/500-light.svg",alt:"500",className:"mx-auto -mt-10 w-full max-w-xs object-cover md:-mt-14 md:max-w-xl"}),s("div",{className:"text-center ",children:[e("b",{className:"text-3xl",children:t.status}),e("p",{className:"mt-5 text-bold text-base dark:text-white text-center",children:t.statusText})]}),s("div",{className:"flex justify-center gap-5",children:[e(Q,{to:"/",className:"btn btn-gradient !mt-7  border-0 uppercase shadow-none",children:"Back to Home"}),e("button",{className:"btn btn-info  !mt-7  border-0 uppercase shadow-none",onClick:()=>a(),children:"Re Try"})]})]})}));function W6(){const{logout:t,crmToken:a,authUser:n,apiUrl:r}=ee();return(n==null?void 0:n.user_type)=="Accounts"?e(U6,{}):e(q6,{})}const q6=()=>{const t=Re(),{logout:a,crmToken:n,authUser:r,apiUrl:i}=ee(),o=ve(),m=_e(F=>F.themeConfig.hideCols);l.useEffect(()=>{o(Se("Sales"))});const[u,c]=l.useState(1),p=[10,25,50,100,250,500,1e3],[f,h]=l.useState(p[0]);l.useState("");const[b,S]=l.useState(localStorage.getItem("saleFilterOwner")||"0"),[I,T]=l.useState(localStorage.getItem("saleFilterStatus")||"0"),[w,_]=l.useState([]),[A,k]=l.useState(1),[g,E]=l.useState([]),N=[{label:"All",value:0},{label:"Pending",value:"Pending"},{label:"Approved",value:"Approved"},{label:"Expired",value:"Expired"},{label:"Paused",value:"Paused"}];l.useState([]);const[v,d]=l.useState(!0),[y,M]=l.useState(null),C=async(F=0)=>{var O,$;console.log("Fetching Sales........",F),d(!0);try{const B=await K({method:"get",url:i+"/api/get-team-sales",params:{page:u,pageSize:f,filterOwner:b,filterStatus:I,firstTime:F||A},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});B.data.status=="success"?(_(B.data.data),(A||F)&&(E(B.data.allSaleOwners),k(0))):_([])}catch(B){((O=B==null?void 0:B.response)==null?void 0:O.status)==404&&M(B.response),(($=B==null?void 0:B.response)==null?void 0:$.status)==500&&M(B.response)}finally{d(!1)}},[x,L]=l.useState(!1);return l.useEffect(()=>{x&&(C(),L(!1))},[x]),l.useEffect(()=>{u!==1?c(1):L(!0)},[b,I,f]),l.useEffect(()=>{x||L(!0)},[u]),l.useState(!1),l.useState(null),e(J,{children:e(xs,{children:y?y.status==404?e(D6,{}):y.status==500?e(V6,{error:y}):null:e("div",{className:"p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel ",children:[s("div",{className:"flex justify-between gap-4",children:[s("div",{className:"flex gap-3  w-full",children:[e("div",{children:e("div",{children:e(rt,{placeholder:"Select Lead Owner",onChange:F=>{S(F.value),localStorage.setItem("saleFilterOwner",F.value)},className:"w-[230px] z-10",value:g==null?void 0:g.find(F=>F.value==b),options:g})})}),e("div",{children:e(rt,{placeholder:"Select Sale Status",onChange:F=>{T(F.value),localStorage.setItem("saleFilterStatus",F.value)},className:"w-[230px] z-10",value:N==null?void 0:N.find(F=>F.value==I),options:N})})]}),e("div",{className:"flex gap-3 justify-end  w-full",children:e("button",{disabled:!!v,onClick:()=>C(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})})]}),e("div",{className:"datatables mt-4",children:e(je,{className:"whitespace-nowrap table-hover",records:w==null?void 0:w.data,columns:[{accessor:"id",title:"Sale Id"},{accessor:"owner",title:"Owner"},{accessor:"first_name",title:"Full Name",render:({first_name:F,last_name:O})=>s("b",{children:[F," ",O]})},{accessor:"status",title:"Status",hidden:m.includes("status"),render:F=>F.status=="Closed Won"?e("button",{type:"button",className:"btn btn-success btn-sm shadow-sm py-0.5",children:"Create Sale"}):e("span",{className:`badge ${F.status=="Pending"?"bg-[#ff9800]":F.status=="Approved"?"bg-[#2ab717]":F.status=="Expired"?"bg-red-500":"bg-dark"} text-center cursor-pointer py-0.5 w-full`,children:F.status})},{accessor:"bank",title:"Bank / Amount",render:({bank:F,is_bank_upi:O,bank_name:$,upi:B,client_paid:R})=>e(J,{children:s("span",{children:[O=="bank"?$:B," ",e("br",{})," ",s("b",{className:"flex text-[15px] mt-1 text-success",children:[e(hl,{size:18})," ",R]})]})})},{accessor:"sale_date",title:"Sale Date"},{accessor:"start_date <br/> due_date",title:"Service Date",render:({start_date:F,due_date:O})=>e(J,{children:s("span",{children:[F," ",e("br",{})," ",O]})})}],onCellClick:({record:F})=>{r.user_type=="Manager"&&t("/sales/show",{state:{sale_id:F.id,filterOwner:0,filterStatus:0}})},totalRecords:w.totalItems,recordsPerPage:f,page:u,onPageChange:F=>c(F),recordsPerPageOptions:p,onRecordsPerPageChange:h,sortStatus:{columnAccessor:"id",direction:"asc"},minHeight:500,fetching:v,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:F})=>`Showing  ${w==null?void 0:w.from} to ${w.to} of ${F} entries`})})]})})})})})},Z6=()=>{var O;const t=ve();l.useEffect(()=>{t(Se("Invoice Report"))});const{settingData:a,crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(!1),[h,b]=l.useState([]),[S,I]=l.useState(!1),[T,w]=l.useState(!1),[_,A]=l.useState([]),k=async()=>{console.log("*** Fetching Invoice data ***"),I(!0);try{const $=await K({method:"get",url:r+"/api/get-invoice?page="+i+"&pageSize="+u,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});$.data.status=="success"&&(b($.data.data),A($.data.data.data),console.log($))}catch{}finally{I(!1)}};l.useEffect(()=>{k()},[]);const g={name:"",email:"",mobile:"",address:"",state:"",city:"",gst_no:"",is_igst:1},[E,N]=l.useState(g),[v,d]=l.useState({}),y=()=>{d({});let $={};return E.name||($={...$,name:"name is required"}),E.mobile||($={...$,mobile:"mobile is required"}),d($),{totalErrors:Object.keys($).length}},M=$=>{const{value:B,name:R}=$.target;d({...v,[R]:""}),N({...E,[R]:B})},C=async $=>{var R;w(!0);try{const P=await K({method:"post",url:r+"/api/sales-invoice",data:$,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});P.data.status=="success"?(F(P.data.message),f(!1),k()):alert("Failed")}catch(P){if(console.log(P),((R=P==null?void 0:P.response)==null?void 0:R.status)===422){const z=P.response.data.errors;let H={};for(var B in z)H={...H,[B]:z[B][0]},console.log(z[B][0]);d(H),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{w(!1)}},x=()=>{if(y().totalErrors)return!1;const B=new FormData;B.append("id",E.id?E.id:""),B.append("lead_id",E.lead_id),B.append("sale_id",E.sale_id?E.sale_id:""),B.append("name",E.name?E.name:""),B.append("email",E.email?E.email:""),B.append("mobile",E.mobile?E.mobile:""),B.append("address",E.address?E.address:""),B.append("city",E.city?E.city:""),B.append("state",E.state?E.state:""),B.append("gst_no",E.gst_no?E.gst_no:""),B.append("is_igst",E.is_igst?E.is_igst:""),C(B)},L=$=>{N($?{id:$.id?$.id:"",sale_id:$.sale_id?$.sale_id:"",lead_id:$.lead_id?$.lead_id:"",name:$.name?$.name:"",email:$.email?$.email:"",mobile:$.mobile?$.mobile:"",address:$.address?$.address:"",state:$.state?$.state:"",city:$.city?$.city:"",gst_no:$.gst_no?$.gst_no:"",is_igst:$.is_igst?$.is_igst:""}:g),f(!0)},F=($="",B="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:B,title:$,padding:"10px 20px"})};return s("div",{className:"",children:[s("div",{className:"w-full  bg-white shadow p-6",children:[e("div",{className:"flex justify-between items-center mb-6",children:e("h2",{className:"text-xl font-bold",children:"Manage Invoice Addresses"})}),e("div",{className:"space-y-4",children:_.map(($,B)=>s("div",{className:"border p-4 rounded-lg bg-gray-50",children:[e("div",{className:"flex justify-between items-center",children:s("div",{className:"font-semibold",children:[$.name,s("span",{className:"text-gray-500",children:["(",$.mobile,")"]})," ",s("span",{className:"text-gray-500",children:["(",$.email,")"]})]})}),s("p",{className:"text-sm mt-2",children:[$.address,",",$.state,",",$.city]}),e("div",{className:"mt-2 text-right",children:e("button",{onClick:()=>{L($)},className:"text-blue-500 hover:text-blue-700",children:"Edit"})})]},B))})]}),e(ge,{appear:!0,show:p,as:l.Fragment,children:s(Ie,{as:"div",open:p,onClose:()=>console.log("No outside"),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{as:"div",className:"panel border-0 p-0 rounded-lg overflow-hidden my-8 w-full max-w-lg text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"text-lg font-bold",children:"Update Address"}),e("button",{type:"button",className:"text-white-dark hover:text-dark",onClick:()=>f(!1),children:e(Ht,{})})]}),e("div",{className:"p-5",children:S?e(be,{}):e("form",{autoComplete:"off",action:"",children:s("div",{children:[s("div",{className:" grid grid-cols-2 gap-2",children:[s("div",{className:"relative mb-1 mt-2",children:[e("input",{className:"form-input",type:"text",name:"name",value:E.name,onChange:M,placeholder:"Name/Company"}),e("div",{className:"text-danger mt-1",children:v.name})]}),s("div",{className:"relative mb-1 mt-2",children:[e("input",{className:"form-input",type:"text",name:"email",value:E.email,onChange:M,placeholder:"Enter Email "}),e("div",{className:"text-danger mt-1",children:v.email})]}),s("div",{className:"relative mb-2",children:[e("input",{className:"form-input",type:"text",name:"mobile",value:E.mobile,onChange:M,maxLength:10,placeholder:"Enter Mobile "}),e("div",{className:"text-danger mt-1",children:v.mobile})]}),s("div",{className:"relative mb-2",children:[e("input",{className:"form-input",type:"text",name:"gst_no",value:E.gst_no,onChange:M,placeholder:"Enter Gst No "}),e("div",{className:"text-danger mt-1",children:v.gst_no})]})]}),s("div",{className:"relative mb-2",children:[e("textarea",{className:"form-input",name:"address",value:E.address,onChange:M,placeholder:"Enter Address "}),e("div",{className:"text-danger mt-1",children:v.address})]}),s("div",{className:" grid grid-cols-2 gap-2",children:[s("div",{className:"relative mb-2",children:[s("select",{name:"state",className:"form-select",value:E.state,onChange:M,children:[e("option",{value:"",children:"Select State"}),(O=h==null?void 0:h.states)==null?void 0:O.map(($,B)=>e("option",{value:$,children:$},B))]}),e("div",{className:"text-danger mt-1",children:v.state})]}),s("div",{className:"relative mb-2",children:[e("input",{className:"form-input",type:"text",name:"city",value:E.city,onChange:M,placeholder:"Enter City "}),e("div",{className:"text-danger mt-1",children:v.city})]}),s("div",{className:"relative mb-2",children:[s("select",{name:"is_igst",className:"form-select",value:E.is_igst,onChange:M,children:[e("option",{value:"1",children:"IGST"}),e("option",{value:"0",children:"CGST + SGST"})]}),e("div",{className:"text-danger mt-1",children:v.is_igst})]}),e("div",{className:"relative mb-2",children:e("button",{type:"button",onClick:()=>x(),disabled:T,className:"btn btn-primary w-max m-auto",children:T?"Please Wait":"Submit"})})]})]})})})]})})})})]})})]})};function G6({params:t,modal:a,setModal:n}){const{crmToken:r,apiUrl:i}=ee();l.useEffect(()=>{a&&u()},[a]);const[o,m]=l.useState(null),u=async()=>{m(null);try{const c=await K({method:"post",url:i+"/api/invoice-preview",params:t,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+r}});c.data.status=="success"&&m(c.data.preview)}catch{m(null)}finally{}};return e(ge,{appear:!0,show:a,as:l.Fragment,children:s(Ie,{as:"div",open:a,onClose:()=>n(!1),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{as:"div",className:"panel border-0 p-0 rounded-lg overflow-hidden my-8 w-full max-w-[800px] text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"text-lg font-bold",children:"Invoice Preview"}),e("button",{type:"button",className:"text-white-dark hover:text-dark",onClick:()=>n(!1),children:e(o1,{size:25})})]}),e("div",{className:"p-1",children:e("div",{dangerouslySetInnerHTML:{__html:o}})})]})})})})]})})}const K6=()=>{const t=ve();l.useEffect(()=>{t(Se("InvoiceSetting"))});const{crmToken:a,apiUrl:n}=ee();Re();const[r,i]=l.useState(!0),[o,m]=l.useState("");l.useEffect(()=>{},[a]),l.useEffect(()=>{u()},[]);const u=async()=>{i(!0);try{const d=await K({method:"get",url:n+"/api/invoicesettings",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});if(d.data.status=="success"&&d.data.invoicesetting){console.log("***** Fetching Invoice Setting Data ******"),m(d.data.invoicesetting);const y=d.data.invoicesetting;f({id:y.id?y.id:"",invoice_start_from:y.invoice_start_from?y.invoice_start_from:"",invoice_prefix:y.invoice_prefix?y.invoice_prefix:"",invoice_type:y.invoice_type?y.invoice_type:"",invoice_template:y.invoice_template?y.invoice_template:"",company_name:y.company_name?y.company_name:"",address:y.address?y.address:"",email:y.email?y.email:"",phone:y.phone?y.phone:"",gst_no:y.gst_no?y.gst_no:"",sebi_no:y.sebi_no?y.sebi_no:"",is_send_invoice:y.is_send_invoice?1:0,send_invoice_via_sms:y.send_invoice_via_sms?1:0,send_invoice_via_whatsapp:y.send_invoice_via_whatsapp?1:0,send_invoice_via_email:y.send_invoice_via_email?1:0,enabled_send_auto_invoice:y.enabled_send_auto_invoice?1:0,enabled_send_sms_invoice:y.enabled_send_sms_invoice?1:0,enabled_send_whatsapp_invoice:y.enabled_send_whatsapp_invoice?1:0,enabled_send_email_invoice:y.enabled_send_email_invoice?1:0})}}catch(d){console.log(d)}finally{i(!1)}},[c]=l.useState({id:"",invoice_start_from:"",invoice_prefix:"",invoice_type:"",invoice_template:"",company_name:"",address:"",email:"",phone:"",gst_no:"",sebi_no:"",is_send_invoice:0,send_invoice_via_sms:0,send_invoice_via_whatsapp:0,send_invoice_via_email:0,enabled_send_auto_invoice:0,enabled_send_sms_invoice:0,enabled_send_whatsapp_invoice:0,enabled_send_email_invoice:0}),[p,f]=l.useState(JSON.parse(JSON.stringify(c))),[h,b]=l.useState({}),S=d=>{const{value:y,name:M,type:C,checked:x}=d.target;b({...h,[M]:""}),C=="checkbox"?f({...p,[M]:x?1:0}):f({...p,[M]:y}),console.table(p)},I=()=>{b({});let d={};return console.log(d),b(d),{totalErrors:Object.keys(d).length}},[T,w]=l.useState(!1),_=async d=>{var M;w(!0);try{const C=await K({method:"post",url:n+"/api/invoicesettings",data:d,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});C.data.status=="success"?(u(),m(o),f(C.data.invoicesetting),k(C.data.message),console.log(C.data.invoicesetting)):alert("Failed")}catch(C){if(console.log(C),((M=C==null?void 0:C.response)==null?void 0:M.status)===422){const x=C.response.data.errors;let L={};for(var y in x)L={...L,[y]:x[y][0]},console.log(x[y][0]);b(L),re.fire({title:"Server Validation Error! Please solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{w(!1)}},A=()=>{if(I().totalErrors)return!1;const y=new FormData;y.append("id",p.id),y.append("invoice_start_from",p.invoice_start_from),y.append("invoice_prefix",p.invoice_prefix),y.append("invoice_type",p.invoice_type),y.append("invoice_template",p.invoice_template),y.append("company_name",p.company_name),y.append("address",p.address),y.append("email",p.email),y.append("phone",p.phone),y.append("gst_no",p.gst_no),y.append("sebi_no",p.sebi_no),y.append("is_send_invoice",p.is_send_invoice),y.append("send_invoice_via_sms",p.send_invoice_via_sms),y.append("send_invoice_via_whatsapp",p.send_invoice_via_whatsapp),y.append("send_invoice_via_email",p.send_invoice_via_email),y.append("enabled_send_auto_invoice",p.enabled_send_auto_invoice),y.append("enabled_send_sms_invoice",p.enabled_send_sms_invoice),y.append("enabled_send_whatsapp_invoice",p.enabled_send_whatsapp_invoice),y.append("enabled_send_email_invoice",p.enabled_send_email_invoice),_(y)},k=(d="",y="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:y,title:d,padding:"10px 20px"})},[g,E]=l.useState("invoice"),[N,v]=l.useState(!1);return s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),e("div",{className:" p-0 flex-1 overflow-x-hidden ",children:r?e(J,{children:e(Yp,{})}):s(J,{children:[e("div",{className:"flex flex-col panel",children:s("div",{className:"p-5",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Invoice Settings"}),s("div",{className:" flex gap-3",children:[g=="manage-address"&&e("button",{type:"button",onClick:()=>{E("invoice")},className:"btn btn-primary shadow",disabled:T,children:"Back"}),g=="invoice"&&e("button",{type:"button",onClick:()=>{A()},className:"btn btn-primary shadow",disabled:T,children:T?"Please Wait...":p.id?"Update":"Add"}),e("button",{type:"button",className:"btn btn-info shadow",disabled:T,onClick:()=>{E("manage-address")},children:"Manage Addresses"}),e("button",{onClick:()=>{u()},className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),g=="invoice"?s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4",children:[s("div",{children:[s("label",{className:"flex justify-between",children:[e("span",{children:"Invoice Template"})," ",p.invoice_template?e("span",{onClick:()=>v(!0),children:e(Bt,{size:20})}):null," "]}),s("select",{className:"form-select",name:"invoice_template",onChange:d=>S(d),value:p.invoice_template?p.invoice_template:"",children:[e("option",{children:"Select Invoice Template"}),e("option",{value:"single-product-invoice",children:"Single Product Invoice"}),e("option",{value:"table-product-invoice",children:"Table Product Invoice"}),e("option",{value:"invoice-three",children:"Invoice 3"})]}),h!=null&&h.invoice_template?e("div",{className:"text-danger mt-1",children:h.invoice_template}):""]}),s("div",{children:[s("label",{children:["Invoice Start From ",e("b",{className:" text-red-600 text-[15px]",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Invoice Start From",className:"form-input",name:"invoice_start_from",value:p==null?void 0:p.invoice_start_from,onChange:d=>S(d)}),h!=null&&h.invoice_start_from?e("div",{className:"text-danger mt-1",children:h.invoice_start_from}):""]}),s("div",{children:[s("label",{children:["Invoice Prefix ",e("b",{className:" text-red-600 text-[15px]",children:"*"})]}),e("input",{type:"text",placeholder:"Enter  Invoice Prefix",className:"form-input",name:"invoice_prefix",value:p.invoice_prefix,onChange:d=>S(d)}),h!=null&&h.invoice_prefix?e("div",{className:"text-danger mt-1",children:h.invoice_prefix}):""]}),s("div",{children:[e("label",{children:"Invoice Type"}),s("select",{className:"form-select",name:"invoice_type",onChange:d=>S(d),value:p.invoice_type?p.invoice_type:"",children:[e("option",{children:"Select Invoice Type"}),e("option",{value:"Manual Invoice",children:"Manual Invoice"}),e("option",{value:"Auto Invoice",children:"Auto Invoice"})]})]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{children:[s("label",{children:["Email",e("b",{className:" text-red-600 text-[15px]",children:"*"})]}),e("input",{type:"email",placeholder:"Enter Email",className:"form-input",name:"email",value:p.email,onChange:d=>S(d)}),h!=null&&h.email?e("div",{className:"text-danger mt-1",children:h.email}):""]}),s("div",{children:[s("label",{children:["Phone",e("b",{className:" text-red-600 text-[15px]",children:"*"})]}),e("input",{type:"tel",placeholder:"Enter phone numbers",className:"form-input",name:"phone",value:p.phone,onChange:d=>S(d)}),h!=null&&h.phone?e("div",{className:"text-danger mt-1",children:h.phone}):""]}),s("div",{children:[s("label",{children:["GST Number",e("b",{className:" text-red-600 text-[15px]",children:"*"})]}),e("input",{type:"text",placeholder:"Enter GST number",className:"form-input",name:"gst_no",value:p.gst_no,onChange:d=>S(d)}),h!=null&&h.gst_no?e("div",{className:"text-danger mt-1",children:h.gst_no}):""]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s("div",{children:[s("label",{children:["Company Name",e("b",{className:" text-red-600 text-[15px]",children:"*"})]}),e("input",{type:"text",placeholder:"Enter company name",className:"form-input",name:"company_name",value:p.company_name,onChange:d=>S(d)}),h!=null&&h.company_name?e("div",{className:"text-danger mt-1",children:h.company_name}):""]}),s("div",{children:[e("label",{children:"SEBI Number"}),e("input",{type:"text",placeholder:"Enter sebi number",className:"form-input",name:"sebi_no",value:p.sebi_no,onChange:d=>S(d)}),h!=null&&h.sebi_no?e("div",{className:"text-danger mt-1",children:h.sebi_no}):""]})]}),s("div",{children:[s("label",{children:["Address",e("b",{className:" text-red-600 text-[15px]",children:"*"})]}),e("textarea",{className:"form-textarea",placeholder:"Enter Address",name:"address",onChange:d=>S(d),value:p.address}),h!=null&&h.address?e("div",{className:"text-danger mt-1",children:h.address}):""]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-center",children:[s("div",{children:[e("label",{children:"Send Invoice"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"is_send_invoice",value:p.is_send_invoice?p.is_send_invoice:"",onChange:d=>{S(d)},checked:p.is_send_invoice==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]}),p!=null&&p.is_send_invoice?s("div",{children:[e("label",{children:"Send Auto Invoice"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"enabled_send_auto_invoice",value:p.enabled_send_auto_invoice?p.enabled_send_auto_invoice:"",onChange:d=>{S(d)},checked:p.enabled_send_auto_invoice==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]}):null]})}),p!=null&&p.is_send_invoice?s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{children:[e("label",{children:"Send Invoice Via SMS"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"send_invoice_via_sms",value:p.send_invoice_via_sms?p.send_invoice_via_sms:"",onChange:d=>{S(d)},checked:p.send_invoice_via_sms==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]}),s("div",{children:[e("label",{children:"Send Invoice Via Whatsapp"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"send_invoice_via_whatsapp",value:p.send_invoice_via_whatsapp?p.send_invoice_via_whatsapp:"",onChange:d=>{S(d)},checked:p.send_invoice_via_whatsapp==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]}),s("div",{children:[e("label",{children:"Send Invoice Via Email"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"send_invoice_via_email",value:p.send_invoice_via_email?p.send_invoice_via_email:"",onChange:d=>{S(d)},checked:p.send_invoice_via_email==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]})]}):null,p!=null&&p.enabled_send_auto_invoice?s("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s("div",{children:[e("label",{children:"Send Auto SMS Invoice"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"enabled_send_sms_invoice",value:p.enabled_send_sms_invoice?p.enabled_send_sms_invoice:"",onChange:d=>{S(d)},checked:p.enabled_send_sms_invoice==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]}),s("div",{children:[e("label",{children:"Send Auto Whatsapp Invoice"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"enabled_send_whatsapp_invoice",value:p.enabled_send_whatsapp_invoice?p.enabled_send_whatsapp_invoice:"",onChange:d=>{S(d)},checked:p.enabled_send_whatsapp_invoice==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]}),s("div",{children:[e("label",{children:"Send Auto Email Invoice"}),e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",name:"enabled_send_email_invoice",value:p.enabled_send_email_invoice?p.enabled_send_email_invoice:"",onChange:d=>{S(d)},checked:p.enabled_send_email_invoice==1,className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1"}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})]})]}):null]}):e("div",{children:e(Z6,{})})]})}),e(G6,{params:p,modal:N,setModal:v})]})})]})};function J6(t){return Ye({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11.9996 0C5.3833 0 0 5.3834 0 11.9998c0 2.5316.7813 4.9544 2.2599 7.0051l.6955-.5014C1.5827 16.5993.8571 14.3505.8571 11.9998.8571 5.856 5.856.8572 12.0004.8572c6.144 0 11.1425 4.999 11.1425 11.1426 0 2.3508-.7256 4.5995-2.0983 6.5037l.6955.5014C23.2187 16.9542 24 14.5314 24 11.9998 24 5.3834 18.6163 0 11.9996 0zM6 16.7142a.4285.4285 0 0 0-.4286.4285v1.7598c-.9643.2048-1.7143 1.0822-1.7143 2.0974 0 1.1615.9815 2.143 2.1429 2.143s2.1429-.9815 2.1429-2.143c0-1.0152-.75-1.8926-1.7143-2.0974v-1.3312h5.1428v2.1883c-.9643.2049-1.7143 1.0822-1.7143 2.0975C9.8571 23.0186 10.8386 24 12 24s2.1429-.9814 2.1429-2.1429c0-1.0153-.75-1.8926-1.7143-2.0975v-2.1883h5.1428v1.3312c-.9643.2048-1.7143 1.0822-1.7143 2.0974 0 1.1615.9815 2.143 2.1429 2.143s2.1429-.9815 2.1429-2.143c0-1.0152-.75-1.8926-1.7143-2.0974v-1.7598A.4285.4285 0 0 0 18 16.7142h-5.5714v-2.5715H18c.237 0 .4286-.192.4286-.4286V5.9997A.4285.4285 0 0 0 18 5.571H6a.4285.4285 0 0 0-.4286.4286v7.7144c0 .2366.1916.4286.4286.4286h5.5714v2.5715H6zm1.2857 4.2857c0 .697-.5889 1.2858-1.2857 1.2858s-1.2857-.5889-1.2857-1.2858c0-.6968.5889-1.2857 1.2857-1.2857S7.2857 20.3031 7.2857 21zm12 0c0 .697-.5889 1.2858-1.2857 1.2858s-1.2857-.5889-1.2857-1.2858c0-.6968.5889-1.2857 1.2857-1.2857s1.2857.5889 1.2857 1.2857zm-1.7143-8.248L14.259 9.7703l3.3124-2.8389v5.8205zm-.7298-6.3236-4.842 4.1499-4.8412-4.15h9.6832zm-10.413.5031L9.741 9.7707 6.4286 12.752V6.9314zm.6878 6.3541 3.2807-2.9525 1.3239 1.135a.4253.4253 0 0 0 .2786.1032.4253.4253 0 0 0 .2785-.1033l1.3243-1.1349 3.2812 2.9525H7.1164zM12 20.5714c.6968 0 1.2857.5888 1.2857 1.2857 0 .6969-.5889 1.2857-1.2857 1.2857s-1.2857-.5888-1.2857-1.2857c0-.6969.5889-1.2857 1.2857-1.2857z"},child:[]}]})(t)}const Y6=()=>{ve();const{addToast:t}=ct(),{crmToken:a,apiUrl:n,logout:r}=ee(),[i]=l.useState({id:"",email:"",from_name:"",reply_email:""}),[o,m]=l.useState(i),[u,c]=l.useState(!1),p=async()=>{var x;c(!0),m(i);try{const L=await K({method:"get",url:n+"/api/settings/aws/ses",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});L.data.status=="success"&&(console.log("*** Fetching AWS SES Data ***"),L.data.ses&&m(L.data.ses))}catch(L){console.log(L),((x=L==null?void 0:L.response)==null?void 0:x.status)==401&&r()}finally{c(!1)}};l.useEffect(()=>{p()},[]);const[f,h]=l.useState({}),b=x=>{const{value:L,name:F}=x.target;h({...f,[F]:""}),m({...o,[F]:L})},[S,I]=l.useState(!1),T=()=>{h({});let x={};return h(x),{totalErrors:Object.keys(x).length}},w=async x=>{var F,O;I(!0);try{const $=await K({method:"post",url:n+"/api/settings/aws/ses",data:x,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});$.data.status=="success"&&(t({variant:"success",title:$.data.message}),m($.data.ses))}catch($){if(((F=$==null?void 0:$.response)==null?void 0:F.status)==401&&r(),((O=$==null?void 0:$.response)==null?void 0:O.status)===422){const B=$.response.data.errors;let R={};for(var L in B)R={...R,[L]:B[L][0]},console.log(B[L][0]);h(R),t({variant:"error",title:"Server Validation Error! Please Solve"})}}finally{I(!1)}},_=()=>{if(T().totalErrors)return!1;const L=new FormData;L.append("email",o.email),L.append("from_name",o.from_name),L.append("reply_email",o.reply_email),w(L)},[A,k]=l.useState(!1),[g,E]=l.useState(null),[N,v]=l.useState(null),[d,y]=l.useState(!1);function M(x){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)}const C=async()=>{var L,F;if(g)if(M(g)){if(g==(o==null?void 0:o.email))return v("You can't use an AWS SES email as the 'To' address!"),!1;v(null)}else return v("Invalid Email Address!"),!1;else return v("Email field is require!"),!1;try{y(!0);const O=await K({method:"post",url:n+"/api/settings/aws/ses-test",data:{email:g},headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});O.data.status=="success"?(k(!1),t({variant:"success",title:O.data.message})):O.data.status=="error"&&v(O.data.message)}catch(O){if(((L=O==null?void 0:O.response)==null?void 0:L.status)==401&&r(),((F=O==null?void 0:O.response)==null?void 0:F.status)===422){const $=O.response.data.errors;for(var x in $)v($.email[0])}}finally{y(!1)}};return e(J,{children:s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),e("div",{className:" p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e(Pu,{className:"w-10 h-10"}),e("div",{className:"flex gap-4",children:e("button",{onClick:()=>{p()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),u?e(be,{}):s(J,{children:[s("div",{className:"mb-5",children:[s("div",{className:"mb-5",children:[e("label",{children:"Email Address"}),e("input",{type:"email",placeholder:"Enter Email Address",className:"form-input",name:"email",value:o.email,onChange:x=>b(x)}),f!=null&&f.email?e("div",{className:"text-danger mt-1",children:f.email}):""]}),s("div",{className:"mb-5",children:[e("label",{children:"From Name"}),e("input",{type:"text",placeholder:"Enter From Name",className:"form-input",name:"from_name",value:o.from_name,onChange:x=>b(x)}),f!=null&&f.from_name?e("div",{className:"text-danger mt-1",children:f.from_name}):""]}),s("div",{className:"mb-5",children:[e("label",{children:"Reply Email"}),e("input",{type:"email",placeholder:"Enter Reply Email",className:"form-input",name:"reply_email",value:o.reply_email,onChange:x=>b(x)}),f!=null&&f.reply_email?e("div",{className:"text-danger mt-1",children:f.reply_email}):""]}),s("div",{className:`mb-5 flex ${o!=null&&o.id?"justify-between":"justify-end"}  items-center `,children:[o!=null&&o.id?e("button",{onClick:()=>k(!0),className:" btn shadow btn-secondary",disabled:S,children:"Test Credentials"}):null,e("button",{onClick:()=>_(),className:" btn shadow btn-dark",disabled:S,children:S?"Please Wait...":"Submit"})]})]}),e(ge,{appear:!0,show:A,as:l.Fragment,children:s(Ie,{as:"div",open:A,onClose:()=>{},children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{id:"standard_modal",className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg my-8 text-black dark:text-white-dark",children:[e("div",{className:"flex py-2 bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-center",children:e("span",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-[#f1f2f3] dark:bg-white/10",children:e(J6,{className:"w-16 h-16",color:"red"})})}),s("div",{className:"p-5",children:[e("label",{children:"Enter an email address."}),e("div",{className:" text-white-dark text-center",children:s("div",{className:"flex",children:[e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-l-md rtl:rounded-r-md px-3 font-semibold border ltr:border-r-0 rtl:border-l-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(xu,{})}),e("input",{type:"email",placeholder:"Enter an email address",className:"form-input ltr:rounded-l-none rtl:rounded-r-none",value:g,onChange:x=>E(x.target.value)})]})}),e("small",{className:"text-[#009688] font-bold",children:"If the setup is correct, a test email will be sent to the above address"}),N?s(J,{children:[e("br",{}),e("b",{className:"text-[14px] text-[#ff0303]",children:N})]}):null,s("div",{className:"flex justify-between items-center mt-8",children:[e("button",{type:"button",disabled:d,onClick:()=>k(!1),className:"btn btn-outline-danger",children:"Cancel"}),e("button",{type:"button",onClick:()=>C(),className:"btn btn-primary shadow",disabled:d,children:d?"Please Wait...":"Send Test Email"})]})]})]})})})})]})})]})]})})})]})})};function uu({drawer:t,setDrawer:a,selectedRecords:n}){const r=n.map(O=>O.id),{crmToken:i,apiUrl:o,logout:m}=ee();l.useEffect(()=>{t&&S()},[t]);const[u,c]=l.useState(!0),[p,f]=l.useState([]),[h,b]=l.useState(null),S=async()=>{var O;console.log("Fetching Whatsapp Template ......"),c(!0);try{const $=await K({method:"get",url:o+"/api/campaigns/get-whatsapp-template",params:{sales:JSON.stringify(r)},headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});$.data.status=="success"&&(f($.data.templates.filter(B=>B.template_type=="Other")),b($.data.sales)),console.log("ddfkdfjkfd",$.data.templates)}catch($){console.log($),((O=$==null?void 0:$.response)==null?void 0:O.status)==401&&m()}finally{c(!1)}},I={template_id:"",campaign_name:"",final_template:"",fields:[]},[T,w]=l.useState({}),[_,A]=l.useState(I),[k,g]=l.useState(""),[E,N]=l.useState(0);l.useEffect(()=>{t&&(A({...I,campaign_name:"",template_id:"",final_template:"",fields:[]}),N(0),g(""))},[t]);const v=O=>{const{value:$,name:B}=O.target;w({...T,[B]:""}),A({..._,[B]:$})},d=()=>{w({});let O={};return _.campaign_name||(O={...O,campaign_name:"campaign_name is required."}),w(O),{totalErrors:Object.keys(O).length}},[y,M]=l.useState(!1),C=async O=>{var B,R;try{M(!0),(await K({method:"post",url:o+"/api/campaigns/free-trail/whatsapp",data:O,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}})).data.status==="success"&&(re.fire({title:"Campaign Updated successfully",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),a(!1))}catch(P){if(console.log(P),((B=P==null?void 0:P.response)==null?void 0:B.status)==401&&m(),((R=P==null?void 0:P.response)==null?void 0:R.status)===422){const z=P.response.data.errors;let H={};for(var $ in z)H={...H,[$]:z[$][0]},console.log(z[$][0]);w(H),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{M(!1)}},x=()=>{var B;if(d().totalErrors)return!1;const $=new FormData;$.append("campaign_name",_.campaign_name),$.append("template_id",_.template_id),$.append("leads",JSON.stringify(r)),$.append("fields",(B=_==null?void 0:_.fields)!=null&&B.length?JSON.stringify(_.fields):JSON.stringify([])),C($)},L=(O,$)=>{const{value:B}=O.target,R=[..._.fields];R[$]=B;let P=k.template.replace(/{{(\d+)}}/g,(H,W)=>R[W-1]?R[W-1]:H);const z={..._,fields:R,final_template:P};A(z)};function F(O){const $=/\{\{/g,B=O.match($);return B?B.length:0}return l.useEffect(()=>{if(_.template_id){const O=p.find($=>$.id==_.template_id);g(O),N(F(O.template)),A({..._,fields:[],final_template:O.template})}},[_.template_id]),e(J,{children:u?e(be,{}):s("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:[h?s("div",{className:"flex gap-2 items-center bg-white-light/40 p-3 rounded mb-3",children:[e("div",{children:e(Hl,{size:24})}),e("div",{className:"text-[16px] font-bold",children:s("span",{className:"text-black/70",children:["Whatsapp Message Sending to ",e("span",{className:"text-black",children:h})," Clients"]})})]}):null,s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Campaign Name"}),e("input",{type:"text",className:"form-input",name:"campaign_name",onChange:O=>v(O),value:_.campaign_name}),e("div",{className:"text-danger font-semibold text-sm",children:T.campaign_name})]}),s("div",{className:"mb-4",children:[s("select",{onChange:O=>v(O),value:_.template_id,name:"template_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",children:"Select Template"}),p==null?void 0:p.map(O=>e("option",{value:O.id,children:O.template_name},O.id))]}),e("div",{className:"text-danger font-semibold text-sm",children:T.template_id})]}),k&&e("div",{className:"mb-4  ",children:e("div",{className:"bg-[#f1faff] p-4 rounded shadow",children:e("p",{style:{whiteSpace:"pre-line"},children:_.final_template})})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Array.from({length:E},(O,$)=>s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:`{{${$+1}}}`,className:"form-input",name:`fields[${$}]`,onChange:B=>L(B,$)}),e("div",{className:"text-danger font-semibold text-sm",children:T.fields})]},$))}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>x(),disabled:y,className:"btn  btn-dark shadow bg-black",children:y?"Please Wait...":"Send Updates"})]})]})})}function X6({drawer:t,setDrawer:a,selectedRecords:n}){const r=n.map(P=>P.id),{crmToken:i,apiUrl:o,logout:m}=ee();l.useEffect(()=>{t&&_()},[t]);const[u,c]=l.useState(!0),[p,f]=l.useState([]),[h,b]=l.useState([]),[S,I]=l.useState([]),[T,w]=l.useState(null),_=async()=>{var P;console.log("Fetching SMS Template ......"),c(!0);try{const z=await K({method:"get",url:o+"/api/campaigns/get-sms-template",params:{sales:JSON.stringify(r)},headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});z.data.status=="success"&&(I(z.data.sender_ids),f(z.data.templates.filter(H=>H.template_type=="Other")),w(z.data.sales))}catch(z){console.log(z),((P=z==null?void 0:z.response)==null?void 0:P.status)==401&&m()}finally{c(!1)}},A={template_id:"",campaign_name:"",final_template:"",fields:[]},[k,g]=l.useState({}),[E,N]=l.useState(A),[v,d]=l.useState(""),[y,M]=l.useState(0);l.useEffect(()=>{E.sender_id&&b(p.filter(P=>P.sender_id==E.sender_id))},[E.sender_id]),l.useEffect(()=>{t&&(N({...A,campaign_name:"",template_id:"",final_template:"",fields:[]}),M(0),d(""))},[t]);const C=P=>{const{value:z,name:H}=P.target;g({...k,[H]:""}),N({...E,[H]:z}),console.table(E)},x=()=>{g({});let P={};return E.campaign_name||(P={...P,campaign_name:"campaign_name is required."}),g(P),{totalErrors:Object.keys(P).length}},[L,F]=l.useState(!1),O=async P=>{var H,W;try{F(!0),(await K({method:"post",url:o+"/api/campaigns/free-trail/sms",data:P,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}})).data.status==="success"&&(re.fire({title:"Campaign Sent successfully",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),a(!1))}catch(q){if(((H=q==null?void 0:q.response)==null?void 0:H.status)==401&&m(),((W=q==null?void 0:q.response)==null?void 0:W.status)===422){const D=q.response.data.errors;let V={};for(var z in D)V={...V,[z]:D[z][0]},console.log(D[z][0]);g(V),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{F(!1)}},$=()=>{var H;if(x().totalErrors)return!1;const z=new FormData;z.append("campaign_name",E.campaign_name),z.append("template_id",E.template_id),z.append("leads",JSON.stringify(r)),z.append("fields",(H=E==null?void 0:E.fields)!=null&&H.length?JSON.stringify(E.fields):JSON.stringify([])),O(z)},B=(P,z)=>{const{value:H}=P.target,W=[...E.fields];W[z]=H;let q=0,D=v.template.replace(/\{#var#\}/g,j=>{let U=W[q]!==void 0?W[q]:j;return q++,U});const V={...E,fields:W,final_template:D};N(V)};function R(P){const z=/\{\#/g,H=P.match(z);return console.log(H?H.length:0),H?H.length:0}return l.useEffect(()=>{if(E.template_id){const P=p.find(z=>z.id==E.template_id);d(P),M(R(P.template)),N({...E,fields:[],final_template:P.template})}},[E.template_id]),e(J,{children:u?e(be,{}):s("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:[T?s("div",{className:"flex gap-2 items-center bg-white-light/40 p-3 rounded mb-3",children:[e("div",{children:e(Iu,{size:24})}),e("div",{className:"text-[16px] font-bold",children:s("span",{className:"text-black/70",children:["Whatsapp Message Sending to ",e("span",{className:"text-black",children:T})," Clients"]})})]}):null,s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Campaign Name"}),e("input",{type:"text",className:"form-input",name:"campaign_name",value:E.campaign_name,onChange:P=>C(P)}),e("div",{className:"text-danger font-semibold text-sm",children:k.campaign_name})]}),s("div",{className:"mb-4",children:[s("select",{onChange:P=>C(P),value:E.sender_id,name:"sender_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",disabled:!0,selected:!0,children:"Select Sender Id"}),S==null?void 0:S.map((P,z)=>e("option",{value:P,children:P},z))]}),e("div",{className:"text-danger font-semibold text-sm",children:k.sender_id})]}),s("div",{className:"mb-4",children:[s("select",{onChange:P=>C(P),value:E.template_id,name:"template_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",children:"Select Template"}),h==null?void 0:h.map(P=>e("option",{value:P.id,children:P.template_name},P.id))]}),e("div",{className:"text-danger font-semibold text-sm",children:k.template_id})]}),v&&e("div",{className:"mb-4  ",children:e("div",{className:"bg-[#f1faff] p-4 rounded shadow",children:e("p",{children:E.final_template})})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Array.from({length:y},(P,z)=>s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:`{{${z+1}}}`,className:"form-input",name:`fields[${z}]`,onChange:H=>B(H,z)}),e("div",{className:"text-danger font-semibold text-sm",children:k.fields})]},z))}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>$(),disabled:L,className:"btn  btn-dark shadow bg-black",children:L?"Please Wait...":"Send Updates"})]})]})})}function Q6(){const{logout:t,crmToken:a,settingData:n,authUser:r,apiUrl:i}=ee(),o=ve();l.useEffect(()=>{o(Se("Sales Campaign"))});const[m,u]=l.useState(1),c=[10,25,50,100,250,500,1e3],[p,f]=l.useState(c[0]),[h,b]=l.useState(""),[S,I]=l.useState([]);l.useEffect(()=>{E()},[m]),l.useEffect(()=>{m!=1?u(1):E()},[p]);const[T,w]=l.useState([]),[_,A]=l.useState(!0),[k,g]=l.useState([]),E=async()=>{var F;console.log("Fetching Whatsapp Campaigns........"),A(!0);try{const O=await K({method:"get",url:i+"/api/analyst/free-trial-leads",params:{page:m,size:p,filterByProducts:JSON.stringify(S),search:h},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});O.data.status=="success"&&(w(O.data.data),g(O.data.products))}catch(O){((F=O==null?void 0:O.response)==null?void 0:F.status)==401&&t(),console.log(O)}finally{A(!1)}},[N,v]=l.useState([]),[d,y]=l.useState(!1),[M,C]=l.useState(!1),x=F=>{const O=F.target.value,$=F.target.checked;I(B=>$?[...B,O]:B.filter(R=>R!=O))},L=F=>{const O=F.toString();if(O.length!==10)throw new Error("Number must be exactly 10 digits long.");return O.slice(0,2)+"****"+O.slice(6)};return e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel shadow-none ",children:[s("div",{className:"flex justify-between gap-4",children:[s("div",{className:"flex gap-3  w-full",children:[s("button",{type:"button",className:"btn btn-dark ",onClick:()=>C(!0),children:["Filter",S.length?e("span",{className:"badge my-0 bg-white-light text-black ltr:ml-4 rtl:mr-4",children:S.length}):""]}),s("div",{className:"flex min-w-[275px]",children:[e("input",{type:"text",placeholder:"Search Lead by phone number",className:"form-input ltr:rounded-r-none rtl:rounded-l-none",onChange:F=>b(F.target.value)}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>m==1?E():u(1),children:e(Pa,{})})]})]}),s("div",{className:"flex gap-3 justify-end  w-full",children:[N.length?s("div",{className:"flex items-center flex-wrap",children:[s("button",{type:"button",className:"btn btn-primary m-1",onClick:()=>y(!d),children:[e(wu,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"Send Advice"]}),e(e7,{drawer:d,setDrawer:y,selectedRecords:N})]}):"",e("button",{disabled:!!_,onClick:()=>E(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]}),e(ge,{appear:!0,show:M,as:l.Fragment,children:s(Ie,{as:"div",open:M,onClose:()=>C(!0),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-[screen] px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden w-full max-w-lg my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("div",{className:"font-bold text-lg",children:"Filter By Products"}),e("button",{type:"button",onClick:()=>C(!1),className:"text-white-dark hover:text-dark",children:"x"})]}),s("div",{className:"p-5",children:[k==null?void 0:k.map((F,O)=>s("label",{className:"flex items-center",children:[e("input",{type:"checkbox",className:"form-checkbox text-success",value:F==null?void 0:F.value,onChange:x,checked:S.includes(F==null?void 0:F.value)}),e("span",{style:{display:"flex",alignItems:"center"},children:F==null?void 0:F.value})]},O)),s("div",{className:"flex justify-end items-center mt-8",children:[e("button",{type:"button",onClick:()=>{I([]),C(!1)},className:"btn btn-outline-danger",children:"Clear"}),e("button",{type:"button",onClick:()=>{E(),C(!1)},className:"btn btn-primary ltr:ml-4 rtl:mr-4",children:"Apply"})]})]})]})})})})]})})]}),e("div",{className:"datatables  mt-4",children:e(je,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:T.data,columns:[{accessor:"owner",title:"Owner",render:({owner_Name:F,owner_email:O,owner_phone:$})=>s("div",{className:"",children:[e("span",{children:F}),e("br",{}),e("span",{children:O}),e("br",{}),e("span",{children:$})]})},{accessor:"first_name",title:"Lead",render:({first_name:F,last_name:O,phone:$})=>{const B=s("b",{children:[F," ",O]}),R=r.user_type==="Analyst",P=r.user_type==="Accounts",z=n!=null&&n.crm_phones?JSON.parse(n.crm_phones):[];return s(J,{children:[B," ",e("br",{}),(W=>R&&z.includes("Analyst")||P&&z.includes("Accounts")?L(W):W)($)]})}},{accessor:"status",title:"Status",render:({status:F})=>e("span",{className:"badge bg-info",children:F})},{accessor:"free_trial",title:"Free Trial Date",render:({free_trial:F})=>e("b",{children:F})},{accessor:"state",title:"State",render:({state:F})=>e("b",{children:F})}],fetching:_,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:T.totalItems,recordsPerPage:p,page:m,onPageChange:u,recordsPerPageOptions:c,onRecordsPerPageChange:f,selectedRecords:N,onSelectedRecordsChange:v,minHeight:200,paginationText:({totalRecords:F})=>`Showing ${T.from} to ${T.to} of ${F} entries`})})]})})})}const e7=({drawer:t,setDrawer:a,selectedRecords:n})=>{const r=_e(m=>m.themeConfig.settingData),[i,o]=l.useState("s");return s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!t)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[600px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:s("div",{className:"mb-5",children:[s("div",{className:"mb-5 flex items-center justify-between",children:[e("h5",{className:"text-lg font-semibold dark:text-white-light",children:"Campaign"}),s("div",{className:"flex gap-4",children:[r!=null&&r.sms_enabled?e("button",{className:`${i=="s"&&"text-secondary !outline-none before:!w-full"}
             before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>o("s"),type:"button",children:"Sms"}):"",r!=null&&r.whatsapp_enabled?e("button",{className:`${i=="w"&&"text-secondary !outline-none before:!w-full"}
                before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>o("w"),type:"button",children:"Whatsapp"}):""]})]}),i=="s"&&(r!=null&&r.sms_enabled)?e(X6,{drawer:t,setDrawer:a,selectedRecords:n}):i=="w"&&(r!=null&&r.whatsapp_enabled)?e(uu,{drawer:t,setDrawer:a,selectedRecords:n}):!(r!=null&&r.sms_enabled)&&(r!=null&&r.whatsapp_enabled)?e(uu,{drawer:t,setDrawer:a,selectedRecords:n}):""]})})})})})]})};function t7({data:t,setDrawer:a,drawer:n}){const{crmToken:r,apiUrl:i,logout:o}=ee();l.useEffect(()=>{n&&f()},[n]);const[m,u]=l.useState(!0),[c,p]=l.useState([]),f=async()=>{var h;console.log("Fetching Update History....."),u(!0);try{const b=await K({method:"get",url:i+"/api/campaigns/whatsapp/updates",params:{whatsapp_campaign_id:t.id},headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}});b.data.status=="success"&&p(b.data.campaigns)}catch(b){((h=b==null?void 0:b.response)==null?void 0:h.status)==401&&o()}finally{u(!1)}};return e("div",{children:m?e(be,{}):c.length?e("div",{className:"table-responsive mb-5",children:s("table",{className:'"table-striped',children:[e("thead",{children:s("tr",{children:[e("th",{children:"#"}),e("th",{children:"Campaign"}),e("th",{children:"Template"}),e("th",{className:"text-center",children:"Time"})]})}),e("tbody",{children:c.map((h,b)=>s("tr",{children:[e("td",{children:e("b",{children:c.length-b})}),e("td",{children:e("div",{className:"whitespace-nowrap",children:e("b",{children:h.campaign_name})})}),e("td",{children:s("div",{className:"max-w-[300px]",style:{textWrap:"wrap"},children:[e("h1",{children:e("b",{children:h.template_name})}),e("span",{className:"font-bold text-[12px] text-[#506690]",children:h.final_template})]})}),e("td",{className:"text-center",children:e("b",{children:h.created_at})})]},h.id))})]})}):e(J,{children:"No Campaihhhh"})})}function a7({data:t,setDrawer:a,drawer:n}){const{settingData:r,crmToken:i,apiUrl:o,authUser:m,logout:u}=ee();l.useEffect(()=>{n&&b()},[n]);const[c,p]=l.useState(!0),[f,h]=l.useState([]),b=async()=>{var F;console.log("Fetching Whatsapp Template ......"),p(!0);try{const O=await K({method:"get",url:o+"/api/campaigns/get-whatsapp-template",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});O.data.status=="success"&&h(O.data.templates)}catch(O){console.log(O),((F=O==null?void 0:O.response)==null?void 0:F.status)==401&&u()}finally{p(!1)}},S={whatsapp_campaign_id:t.id,template_id:"",campaign_name:"",contact_details:"",final_template:"",fields:[]},[I,T]=l.useState({}),[w,_]=l.useState(S),[A,k]=l.useState(""),[g,E]=l.useState(0);l.useEffect(()=>{t&&(_({...S,campaign_name:t.campaign_name+" Update - "+(1+t.updates),contact_details:JSON.parse(t.phones),template_id:"",final_template:"",fields:[]}),E(0),k(""))},[t,n]);const N=F=>{const{value:O,name:$}=F.target;T({...I,[$]:""}),_({...w,[$]:O})},v=()=>{T({});let F={};return w.campaign_name||(F={...F,campaign_name:"campaign_name is required."}),w.contact_details||(F={...F,contact_details:"contact_details is required."}),T(F),{totalErrors:Object.keys(F).length}},[d,y]=l.useState(!1),M=async F=>{var O;try{y(!0),(await K({method:"post",url:o+"/api/campaigns/free-trail/whatsapp/update",data:F,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}})).data.status==="success"&&(re.fire({title:"Campaign Updated successfully",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),a(!1))}catch($){console.log($),((O=$==null?void 0:$.response)==null?void 0:O.status)==401&&u()}finally{y(!1)}},C=()=>{var $;if(v().totalErrors)return!1;const O=new FormData;O.append("whatsapp_campaign_id",w.whatsapp_campaign_id),O.append("template_id",w.template_id),O.append("fields",($=w==null?void 0:w.fields)!=null&&$.length?JSON.stringify(w.fields):JSON.stringify([])),M(O)},x=(F,O)=>{const{value:$}=F.target,B=[...w.fields];B[O]=$;let R=A.template.replace(/{{(\d+)}}/g,(z,H)=>B[H-1]?B[H-1]:z);const P={...w,fields:B,final_template:R};_(P)};function L(F){const O=/\{\{/g,$=F.match(O);return $?$.length:0}return l.useEffect(()=>{if(w.template_id){const F=f.find(O=>O.id==w.template_id);k(F),E(L(F.template)),_({...S,template_id:w.template_id,whatsapp_campaign_id:w.whatsapp_campaign_id,campaign_name:w.campaign_name,contact_details:w.contact_details,final_template:F.template})}},[w.template_id]),e(J,{children:c?e(be,{}):s("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:[s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Campaign Name"}),e("input",{type:"text",className:"form-input bg-[#ebedf2]",name:"campaign_name",disabled:!0,value:w.campaign_name})]}),s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Contact Numbers"}),e("input",{type:"text",className:"form-input bg-[#ebedf2]",name:"contact_details",value:w.contact_details,disabled:!0})]}),s("div",{className:"mb-4",children:[s("select",{onChange:F=>N(F),value:w.template_id,name:"template_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",children:"Select Template"}),f==null?void 0:f.map(F=>e("option",{value:F.id,children:F.template_name},F.id))]}),e("div",{className:"text-danger font-semibold text-sm",children:I.template_id})]}),A&&e("div",{className:"mb-4  ",children:e("div",{className:"bg-[#f1faff] p-4 rounded shadow",children:e("p",{children:w.final_template})})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Array.from({length:g},(F,O)=>s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:`{{${O+1}}}`,className:"form-input",name:`fields[${O}]`,onChange:$=>x($,O)}),e("div",{className:"text-danger font-semibold text-sm",children:I.fields})]},O))}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>C(),disabled:d,className:"btn  btn-dark shadow bg-black",children:d?"Please Wait...":"Send Updates"})]})]})})}function df({data:t}){const a=JSON.parse(t==null?void 0:t.phones),[n,r]=l.useState(""),[i,o]=l.useState([]),{settingData:m,authUser:u}=ee();l.useEffect(()=>{o(n?a.filter(p=>RegExp(n).test(p)):a)},[n]);const c=p=>{const f=p.toString();if(f.length!==10)throw new Error("Number must be exactly 10 digits long.");return f.slice(0,2)+"****"+f.slice(6)};return s("div",{className:"table-responsive mb-5 max-w-[350px] m-auto",children:[e("input",{type:"text",placeholder:"Search By phone Number",className:"form-input mb-4",onChange:p=>r(p.target.value)}),s("table",{children:[e("thead",{children:e("tr",{children:s("th",{children:["Phone - ",a.length]})})}),e("tbody",{children:i.map((p,f)=>e("tr",{children:e("td",{children:u.user_type==="Analyst"&&(m!=null&&m.crm_phones)&&JSON.parse(m==null?void 0:m.crm_phones).includes("Analyst")?c(p):p})},f))})]})]})}function n7(){const{settingData:t,crmToken:a,apiUrl:n,authUser:r,logout:i}=ee(),[o,m]=l.useState(1),u=[10,25,50,100,250,500,1e3],[c,p]=l.useState(u[0]),[f,h]=l.useState(""),b=()=>new Date().toISOString().split("T")[0],[S,I]=l.useState([b(),b()]);l.useEffect(()=>{k()},[o,f,S]),l.useEffect(()=>{o!=1?m(1):k()},[c]);const[T,w]=l.useState([]),[_,A]=l.useState(!0),k=async()=>{var C;console.log("Fetching Whatsapp Campaigns........"),A(!0);try{const x=await K({method:"get",url:n+"/api/campaigns/free-trail/whatsapp/today",params:{page:o,size:c,dateRange:JSON.stringify(S)},headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});x.data.status=="success"&&w(x.data.data)}catch(x){console.log(x),((C=x==null?void 0:x.response)==null?void 0:C.status)==401&&i()}finally{A(!1)}},[g,E]=l.useState(!1),[N,v]=l.useState(""),[d,y]=l.useState(""),M=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return s("div",{className:" flex-1 overflow-x-hidden h-full",children:[s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[s("div",{className:"flex items-center flex-wrap",children:[s("button",{type:"button",className:"btn btn-primary btn-sm m-1",children:[e(va,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"EXCEL"]}),s("button",{type:"button",className:"btn btn-primary btn-sm m-1",children:[e(Ia,{className:"ltr:mr-2 rtl:ml-2"}),"Print"]})]}),s("div",{className:" flex justify-between ",children:[e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},value:S,className:"form-input w-[240px]",onChange:C=>{const x=C.map(L=>M.format(new Date(L)).split("/").reverse().join("-"));x.length==2&&I(x)}}),e("input",{type:"text",className:"form-input w-auto mx-4",placeholder:"Search..."}),e("button",{onClick:()=>{k()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables",children:e(je,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:T[0],columns:[{accessor:"campaign_name",title:"Campaign Name",render:({campaign_name:C})=>e("b",{children:C})},{accessor:"count",title:"Clients",render:C=>e("span",{className:"badge bg-primary",onClick:()=>{v(C),y("phone"),E(!0)},children:C.count})},{accessor:"final_template",title:"Content",render:({final_template:C,campaign_name:x})=>s("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:[e("h1",{children:e("b",{children:x})}),e("span",{className:"font-bold text-[12px] text-[#506690]",children:C})]})},{accessor:"created_at",title:"Time"},{accessor:"id",title:"Action",render:C=>s("div",{children:[e("span",{className:"badge bg-success cursor-pointer me-2",onClick:()=>{v(C),y("update"),E(!0)},children:"Send Update"}),e("span",{className:"badge badge-outline-info cursor-pointer",onClick:()=>{v(C),y("view"),E(!0)},children:"View Update"})]})}],fetching:_,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:T[2],recordsPerPage:c,page:o,onPageChange:C=>m(C),recordsPerPageOptions:u,onRecordsPerPageChange:p,minHeight:200,paginationText:({totalRecords:C})=>`Showing  ${T[3]} to ${T[4]} of ${C} entries`})}),s("div",{children:[e("div",{className:`${g&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>E(!1)}),e("nav",{className:`${g&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[600px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full py-4",children:[e("div",{children:e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:d=="view"?(N==null?void 0:N.campaign_name)+" - Update":d=="update"?(N==null?void 0:N.campaign_name)+" - Whatsapp Campaign":d=="phone"?(N==null?void 0:N.campaign_name)+" - Phones":""})}),e("hr",{className:"my-4 dark:border-[#191e3a]"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar ",children:d=="view"?e(t7,{data:N,setDrawer:E,drawer:g}):d=="update"?e(a7,{data:N,setDrawer:E,drawer:g}):d=="phone"?e(df,{data:N}):null})]})})]})]})}function s7({data:t,setDrawer:a,drawer:n}){const{settingData:r,crmToken:i,apiUrl:o,authUser:m,logout:u}=ee();l.useEffect(()=>{n&&b()},[n]);const[c,p]=l.useState(!0),[f,h]=l.useState([]),b=async()=>{var S;console.log("Fetching SMS Update History....."),p(!0);try{const I=await K({method:"get",url:o+"/api/campaigns/sms/updates",params:{sms_campaign_id:t.id},headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});I.data.status=="success"&&h(I.data.campaigns)}catch(I){((S=I==null?void 0:I.response)==null?void 0:S.status)==401&&u()}finally{p(!1)}};return e("div",{children:c?e(be,{}):f.length?e("div",{className:"table-responsive mb-5",children:s("table",{className:'"table-striped',children:[e("thead",{children:s("tr",{children:[e("th",{children:"#"}),e("th",{children:"Campaign"}),e("th",{children:"Template"}),e("th",{className:"text-center",children:"Time"})]})}),e("tbody",{children:f.map((S,I)=>s("tr",{children:[e("td",{children:e("b",{children:f.length-I})}),e("td",{children:e("div",{className:"whitespace-nowrap",children:e("b",{children:S.campaign_name})})}),e("td",{children:s("div",{className:"max-w-[300px]",style:{textWrap:"wrap"},children:[e("h1",{children:e("b",{children:S.template_name})}),e("span",{className:"font-bold text-[12px] text-[#506690]",children:S.final_template})]})}),e("td",{className:"text-center",children:e("b",{children:S.created_at})})]},S.id))})]})}):e(J,{children:"No Updates Found"})})}function r7({data:t,setDrawer:a,drawer:n}){const{settingData:r,crmToken:i,apiUrl:o,authUser:m,logout:u}=ee();l.useEffect(()=>{n&&w()},[n]);const[c,p]=l.useState(!0),[f,h]=l.useState([]),[b,S]=l.useState([]),[I,T]=l.useState([]),w=async()=>{var R;console.log("Fetching SMS Template ......"),p(!0);try{const P=await K({method:"get",url:o+"/api/campaigns/get-sms-template",headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});P.data.status=="success"&&(T(P.data.sender_ids),h(P.data.templates))}catch(P){console.log(P),((R=P==null?void 0:P.response)==null?void 0:R.status)==401&&u()}finally{p(!1)}},_={sms_campaign_id:t.id,template_id:"",campaign_name:"",contact_details:"",final_template:"",fields:[]},[A,k]=l.useState({}),[g,E]=l.useState(_),[N,v]=l.useState(""),[d,y]=l.useState(0);l.useEffect(()=>{g.sender_id&&S(f.filter(R=>R.sender_id==g.sender_id))},[g.sender_id]),l.useEffect(()=>{t&&(E({..._,campaign_name:t.campaign_name+" Update - "+(1+t.updates),contact_details:JSON.parse(t.phones),template_id:"",final_template:"",fields:[]}),y(0),v(""))},[t,n]);const M=R=>{const{value:P,name:z}=R.target;k({...A,[z]:""}),E({...g,[z]:P})},C=()=>{k({});let R={};return g.campaign_name||(R={...R,campaign_name:"campaign_name is required."}),g.contact_details||(R={...R,contact_details:"contact_details is required."}),k(R),{totalErrors:Object.keys(R).length}},[x,L]=l.useState(!1),F=async R=>{var P;try{L(!0),(await K({method:"post",url:o+"/api/campaigns/free-trail/sms/update",data:R,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+i}})).data.status==="success"&&(re.fire({title:"Campaign Updated successfully",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}),a(!1))}catch(z){console.log(z),((P=z==null?void 0:z.response)==null?void 0:P.status)==401&&u()}finally{L(!1)}},O=()=>{var z;if(C().totalErrors)return!1;const P=new FormData;P.append("sms_campaign_id",g.sms_campaign_id),P.append("template_id",g.template_id),P.append("fields",(z=g==null?void 0:g.fields)!=null&&z.length?JSON.stringify(g.fields):JSON.stringify([])),F(P)},$=(R,P)=>{const{value:z}=R.target,H=[...g.fields];H[P]=z;let W=0,q=N.template.replace(/\{#var#\}/g,V=>{let j=H[W]!==void 0?H[W]:V;return W++,j});const D={...g,fields:H,final_template:q};E(D)};function B(R){const P=/\{\#/g,z=R.match(P);return console.log(z?z.length:0),z?z.length:0}return l.useEffect(()=>{if(g.template_id){const R=f.find(P=>P.id==g.template_id);v(R),y(B(R.template)),E({..._,template_id:g.template_id,whatsapp_campaign_id:g.whatsapp_campaign_id,campaign_name:g.campaign_name,contact_details:g.contact_details,final_template:R.template})}},[g.template_id]),e(J,{children:c?e(be,{}):s("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:[s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Campaign Name"}),e("input",{type:"text",className:"form-input bg-[#ebedf2]",name:"campaign_name",disabled:!0,value:g.campaign_name})]}),s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Contact Numbers"}),e("input",{type:"text",className:"form-input bg-[#ebedf2]",name:"contact_details",value:g.contact_details,disabled:!0})]}),s("div",{className:"mb-4",children:[s("select",{onChange:R=>M(R),value:g.sender_id,name:"sender_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",disabled:!0,selected:!0,children:"Select Sender Id"}),I==null?void 0:I.map((R,P)=>e("option",{value:R,children:R},P))]}),e("div",{className:"text-danger font-semibold text-sm",children:A.sender_id})]}),s("div",{className:"mb-4",children:[s("select",{onChange:R=>M(R),value:g.template_id,name:"template_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",children:"Select Template"}),b==null?void 0:b.map(R=>e("option",{value:R.id,children:R.template_name},R.id))]}),e("div",{className:"text-danger font-semibold text-sm",children:A.template_id})]}),N&&e("div",{className:"mb-4  ",children:e("div",{className:"bg-[#f1faff] p-4 rounded shadow",children:e("p",{children:g.final_template})})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Array.from({length:d},(R,P)=>s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:`{{${P+1}}}`,className:"form-input",name:`fields[${P}]`,onChange:z=>$(z,P)}),e("div",{className:"text-danger font-semibold text-sm",children:A.fields})]},P))}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn shadow",onClick:()=>a(!1),children:"Cancel"}),e("button",{type:"button",onClick:()=>O(),disabled:x,className:"btn  btn-dark shadow bg-black",children:x?"Please Wait...":"Send Updates"})]})]})})}function i7(){const{crmToken:t,apiUrl:a}=ee(),[n,r]=l.useState(1),i=[10,25,50,100,250,500,1e3],[o,m]=l.useState(i[0]),[u,c]=l.useState(""),p=()=>new Date().toISOString().split("T")[0],[f,h]=l.useState([p(),p()]);l.useEffect(()=>{w()},[n,u,f]),l.useEffect(()=>{n!=1?r(1):w()},[o]);const[b,S]=l.useState([]),[I,T]=l.useState(!0),w=async()=>{console.log("Fetching SMS Campaigns........"),T(!0);try{const d=await K({method:"get",url:a+"/api/campaigns/free-trail/sms/today",params:{page:n,size:o,dateRange:JSON.stringify(f)},headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});d.data.status=="success"&&S(d.data.data)}catch(d){console.log(d)}finally{T(!1)}},[_,A]=l.useState(!1),[k,g]=l.useState(""),[E,N]=l.useState(""),v=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return s("div",{className:" flex-1 overflow-x-hidden h-full",children:[s("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:[s("div",{className:"flex items-center flex-wrap",children:[s("button",{type:"button",className:"btn btn-primary btn-sm m-1",children:[e(va,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"EXCEL"]}),s("button",{type:"button",className:"btn btn-primary btn-sm m-1",children:[e(Ia,{className:"ltr:mr-2 rtl:ml-2"}),"Print"]})]}),s("div",{className:" flex justify-between",children:[e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},value:f,className:"form-input w-[240px]",onChange:d=>{const y=d.map(M=>v.format(new Date(M)).split("/").reverse().join("-"));y.length==2&&h(y)}}),e("input",{type:"text",className:"form-input w-auto mx-4",placeholder:"Search..."}),e("button",{onClick:()=>{w()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("div",{className:"datatables",children:e(je,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:b[0],columns:[{accessor:"campaign_name",title:"Campaign Name",render:({campaign_name:d})=>e("b",{children:d})},{accessor:"sender_id",title:"Sender Id",render:({sender_id:d,template_name:y})=>s("div",{className:"flex flex-col gap-1",children:[e("span",{className:"badge bg-[#3b3f5c] w-fit",children:d}),e("span",{children:e("b",{children:y})})]})},{accessor:"count",title:"Clients",render:d=>e("span",{className:"badge bg-primary",onClick:()=>{g(d),N("phone"),A(!0)},children:d.count})},{accessor:"final_template",title:"Content",render:({final_template:d,campaign_name:y})=>s("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:[e("h1",{children:e("b",{children:y})}),e("span",{className:"font-bold text-[12px] text-[#506690]",children:d})]})},{accessor:"created_at",title:"Time"},{accessor:"id",title:"Action",render:d=>s("div",{children:[e("span",{className:"badge bg-success cursor-pointer me-2",onClick:()=>{g(d),N("update"),A(!0)},children:"Send Update"}),e("span",{className:"badge badge-outline-info cursor-pointer",onClick:()=>{g(d),N("view"),A(!0)},children:"View Update"})]})}],fetching:I,loaderColor:"blue",loaderBackgroundBlur:4,totalRecords:b[2],recordsPerPage:o,page:n,onPageChange:d=>r(d),recordsPerPageOptions:i,onRecordsPerPageChange:m,minHeight:200,paginationText:({totalRecords:d})=>`Showing  ${b[3]} to ${b[4]} of ${d} entries`})}),s("div",{children:[e("div",{className:`${_&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>A(!1)}),e("nav",{className:`${_&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[800px] rtl:-left-[800px] top-0 bottom-0 w-full max-w-[600px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full py-4",children:[e("div",{children:e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:E=="view"?(k==null?void 0:k.campaign_name)+" - Update":E=="update"?(k==null?void 0:k.campaign_name)+" - Whatsapp Campaign":E=="phone"?(k==null?void 0:k.campaign_name)+" - Phones":""})}),e("hr",{className:"my-4 dark:border-[#191e3a]"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar ",children:E=="view"?e(s7,{data:k,setDrawer:A,drawer:_}):E=="update"?e(r7,{data:k,setDrawer:A,drawer:_}):E=="phone"?e(df,{data:k}):null})]})})]})]})}function l7(){const{settingData:t}=ee(),a=ve();l.useEffect(()=>{a(Se("Campaign"))});const[n,r]=l.useState(t!=null&&t.sms_enabled?"s":t!=null&&t.whatsapp_enabled?"w":t!=null&&t.app_enabled?"a":"");return e("div",{className:"panel flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar",children:s("div",{className:"mb-5",children:[s("div",{className:"mb-5 flex items-center justify-between",children:[e("h5",{className:"text-lg font-semibold dark:text-white-light",children:"Campaign"}),s("div",{className:"flex gap-4",children:[t!=null&&t.sms_enabled?e("button",{className:`${n=="s"&&"text-secondary !outline-none before:!w-full"} before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>r("s"),children:"Sms "}):"",t!=null&&t.whatsapp_enabled?e("button",{className:`${n=="w"&&"text-secondary !outline-none before:!w-full"} before:inline-block' relative -mb-[1px] flex items-center p-5 py-3 before:absolute before:bottom-0 before:left-0 before:right-0 before:m-auto before:h-[1px] before:w-0 before:bg-secondary before:transition-all before:duration-700 hover:text-secondary hover:before:w-full`,onClick:()=>r("w"),children:" Whatsapp "}):""]})]}),n=="s"&&t.sms_enabled?e(i7,{}):n=="w"&&t.whatsapp_enabled?e(n7,{}):""]})})})})}function o7(){return e("div",{children:e(Ga,{title:"You are Not Authorize!",message:" you need to contact admin in order to Access this page.",buttons:[{title:"Go Home",url:"/",action:"link",color:""}]})})}const Ve=({element:t,allowed:a})=>{const{authUser:n}=ee();return a.includes(n.user_type)?t:e(Nu,{to:"/not-authorized"})};function c7(){return e("div",{children:e("h1",{children:"Coming Soon"})})}function d7({historyDrawer:t,setHistoryDrawer:a}){const{logout:n,authUser:r,crmToken:i,apiUrl:o,settingData:m}=ee(),[u,c]=l.useState([]),[p,f]=l.useState(1),h=[10,25,50,100,250,500,1e3],[b,S]=l.useState(h[0]),[I,T]=l.useState(null),[w,_]=l.useState(!0),[A,k]=l.useState(null);l.useEffect(()=>{t&&d()},[p,b,t]);const g=()=>new Date().toISOString().split("T")[0],[E,N]=l.useState([g(),g()]),v=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});l.useEffect(()=>{p==1?d():f(1)},[E]);const d=async()=>{var y,M;_(!0),k(0);try{const C=await K({method:"get",url:o+"/api/get-marketing-whatsapp-campigns",params:{page:p,pageSize:b,dateRange:JSON.stringify(E),search:I},headers:{"Content-Type":"application/json",Authorization:"Bearer "+i}});C.data.status=="success"&&c(C.data.data)}catch(C){((y=C==null?void 0:C.response)==null?void 0:y.status)==401&&n(),(M=C==null?void 0:C.response)!=null&&M.status&&k(C==null?void 0:C.response)}finally{_(!1)}};return e(J,{children:s("div",{children:[e("div",{className:`${t&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>a(!1)}),e("nav",{className:`${t&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[90%] rtl:-left-[90%] top-0 bottom-0 w-full max-w-[90%] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black `,children:s("div",{className:"flex flex-col h-screen overflow-hidden",children:[s("div",{className:"w-full text-center  p-4 bg-[#3b3f5c] text-white rounded-b-md",children:[e("button",{type:"button",className:"px-4 py-4 absolute top-0 ltr:right-0 rtl:left-0  dark:text-white",onClick:()=>a(!1),children:e(It,{className:" w-5 h-5",color:"white"})}),e("h3",{className:"mb-1 dark:text-white font-bold text-[18px]",children:"WhatsApp Marketing Campaign History"})]}),e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("div",{className:"panel p-0",children:A?e(u7,{e:A,fetchSales:d}):s(J,{children:[s("div",{className:"flex justify-between gap-4  p-4",children:[s("div",{className:"flex gap-3  w-full",children:[s("div",{className:"flex min-w-[275px]",children:[e("input",{type:"text",placeholder:"Search Sale by Campaign Name",className:"form-input ltr:rounded-r-none rtl:rounded-l-none",onChange:y=>T(y.target.value)}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>p==1?d():f(1),children:e(Pa,{})})]}),e("div",{children:e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},value:E,className:"form-input w-[240px]",onChange:y=>{const M=y.map(C=>v.format(new Date(C)).split("/").reverse().join("-"));M.length==2&&N(M)}})})]}),e("div",{className:"flex gap-3 justify-end  w-full",children:e("button",{disabled:!!w,onClick:()=>d(),className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})})]}),e("div",{className:"datatables p-4",children:e(je,{className:"whitespace-nowrap table-hover",records:u==null?void 0:u.data,columns:[{accessor:"campaign_name",title:"Campaign Name",cellsClassName:"font-bold"},{accessor:"final_template",title:"Template",cellsClassName:"font-bold",render:({final_template:y,template_name:M})=>s("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:[e("h1",{children:e("b",{children:M})}),e("span",{className:"font-bold text-[12px] text-[#506690]",children:y})]})},{accessor:"count",title:"Count",cellsClassName:"font-bold"},{accessor:"created_at",title:"Date Time",cellsClassName:"font-bold"}],totalRecords:u.totalItems,recordsPerPage:b,page:p,onPageChange:y=>f(y),recordsPerPageOptions:h,onRecordsPerPageChange:S,minHeight:500,fetching:w,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:y})=>`Showing  ${u==null?void 0:u.from} to ${u.to} of ${y} entries`})})]})})})]})})]})})}const u7=({e:t,fetchSales:a})=>(console.log(t),e("div",{className:"",children:s("div",{className:"relative",children:[e("img",{src:"/assets/images/error/500-light.svg",alt:"500",className:"mx-auto -mt-10 w-full max-w-xs object-cover md:-mt-14 md:max-w-xl"}),s("div",{className:"text-center ",children:[e("b",{className:"text-3xl",children:t.status}),e("p",{className:"mt-5 text-bold text-base dark:text-white text-center",children:t.statusText})]}),s("div",{className:"flex justify-center gap-5",children:[e(Q,{to:"/",className:"btn btn-gradient !mt-7  border-0 uppercase shadow-none",children:"Back to Home"}),e("button",{className:"btn btn-info  !mt-7  border-0 uppercase shadow-none",onClick:()=>a(),children:"Re Try"})]})]})}));function m7(){const{apiUrl:t,crmToken:a,logout:n}=ee(),[r,i]=l.useState([]),[o,m]=l.useState(!0);l.useEffect(()=>{u()},[]);const u=async()=>{var F;m(!0);try{const O=await K({method:"get",url:t+"/api/marketing-whatsapp-campigns",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});O.data.status=="success"&&i(O.data.templates),console.log(O)}catch(O){((F=O==null?void 0:O.response)==null?void 0:F.status)==401&&n()}finally{m(!1)}},c={template_id:"",campaign_name:"",final_template:"",fields:[]},[p,f]=l.useState({}),[h,b]=l.useState(c),[S,I]=l.useState(""),[T,w]=l.useState(0);l.useEffect(()=>{b({...c,campaign_name:"",template_id:"",final_template:"",fields:[]}),w(0),I("")},[]);const _=F=>{const{value:O,name:$}=F.target;f({...p,[$]:""}),b({...h,[$]:O})},A=(F,O)=>{const{value:$}=F.target,B=[...h.fields];B[O]=$;let R=S.template.replace(/{{(\d+)}}/g,(z,H)=>B[H-1]?B[H-1]:z);const P={...h,fields:B,final_template:R};b(P)};function k(F){const O=/\{\{/g,$=F.match(O);return $?$.length:0}const[g,E]=l.useState(!1);l.useEffect(()=>{if(h.template_id){const F=r.find(O=>O.id==h.template_id);I(F),w(k(F.template)),b({...h,fields:[],final_template:F.template})}},[h.template_id]);const[N,v]=l.useState([]),d=F=>{const O=F.split(`
`).filter($=>$.length===10&&!isNaN($)).map(Number);v(O)},y=()=>{f({});let F={};return h.campaign_name||(F={...F,campaign_name:"campaign_name is required."}),f(F),{totalErrors:Object.keys(F).length}},M=async F=>{var $,B;try{E(!0),(await K({method:"post",url:t+"/api/marketing-whatsapp-campigns",data:F,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}})).data.status==="success"&&(b(c),w(0),re.fire({title:"Campaign Created successfully",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-success"}}))}catch(R){if(console.log(R),(($=R==null?void 0:R.response)==null?void 0:$.status)==401&&n(),((B=R==null?void 0:R.response)==null?void 0:B.status)===422){const P=R.response.data.errors;let z={};for(var O in P)z={...z,[O]:P[O][0]},console.log(P[O][0]);f(z),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{E(!1)}},C=()=>{var $;if(y().totalErrors)return!1;const O=new FormData;O.append("campaign_name",h.campaign_name),O.append("template_id",h.template_id),O.append("phones",JSON.stringify(N)),O.append("fields",($=h==null?void 0:h.fields)!=null&&$.length?JSON.stringify(h.fields):JSON.stringify([])),M(O)},[x,L]=l.useState(!1);return s("div",{className:"grid grid-cols-12 gap-4",children:[s("div",{className:"panel col-span-12 lg:col-span-4 h-fit",children:[e("h2",{className:"text-[18px] font-bold",children:"Copy Past numbers"}),e("textarea",{id:"ctnTextarea",rows:10,className:"form-textarea mt-4 border-4 border-[#ebe9f1]",placeholder:"Enter Phone Numbers",onChange:F=>{d(F.target.value)}}),e("div",{children:N!=null&&N.length?s("p",{className:"text-[14px] font-bold",children:["Entered ",e("span",{className:"text-[#08735e]",children:N==null?void 0:N.length})," valid phone numbers"]}):null})]}),s("div",{className:"panel col-span-12 lg:col-span-8 ",children:[s("div",{className:"flex justify-between items-center mb-4",children:[e("h1",{className:"font-bold text-[20px]",children:"WhatsApp Campaign"}),e("button",{className:"btn btn-info shadow",onClick:()=>L(!0),children:"History"})]}),N!=null&&N.length?s("div",{className:"flex gap-2 items-center bg-white-light/40 p-3 rounded mb-3",children:[e("div",{children:e(Hl,{size:24,color:"green"})}),e("div",{className:"text-[16px] font-bold",children:s("span",{className:"text-black/70",children:["Whatsapp Message Sending to ",e("span",{className:"text-black",children:N.length})," Leads"]})})]}):null,s("section",{className:"flex gap-4 bg-[url('/assets/images/knowledge/pattern.png')]",children:[e("div",{className:"flex-1",children:s("form",{autoComplete:"off",action:"",method:"post",className:"flex-1 bg-[#e3e7fc] p-4 rounded h-fit",children:[s("div",{className:"mb-4",children:[e("label",{className:"text-white-dark ",children:"Campaign Name"}),e("input",{type:"text",className:"form-input",name:"campaign_name",onChange:F=>_(F),value:h.campaign_name}),e("div",{className:"text-danger font-semibold text-sm",children:p.campaign_name})]}),s("div",{className:"mb-4",children:[s("select",{onChange:F=>_(F),value:h.template_id,name:"template_id",className:"form-select text-white-dark  py-2 text-sm ",children:[e("option",{value:"",children:"Select Template"}),r==null?void 0:r.map(F=>e("option",{value:F.id,children:F.template_name},F.id))]}),e("div",{className:"text-danger font-semibold text-sm",children:p.template_id})]}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Array.from({length:T},(F,O)=>s("div",{className:"mb-4",children:[e("input",{type:"text",placeholder:`{{${O+1}}}`,className:"form-input",name:`fields[${O}]`,onChange:$=>A($,O)}),e("div",{className:"text-danger font-semibold text-sm",children:p.fields})]},O))}),s("div",{className:"flex justify-end gap-5 py-2",children:[e("button",{type:"button",className:"btn btn-danger shadow",children:"Cancel"}),e("button",{type:"button",onClick:()=>C(),disabled:g||!N.length,className:"btn  btn-dark shadow bg-black",children:g?"Please Wait...":"Send Updates"})]})]})}),e("div",{children:e(nf,{message:h==null?void 0:h.final_template})})]})]}),e(d7,{historyDrawer:x,setHistoryDrawer:L})]})}function h7(){const{apiUrl:t,crmToken:a}=ee(),n=async()=>{const r=await K({method:"get",url:t+"/api/migration",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});console.log(r)};return l.useEffect(()=>{n()},[]),e("div",{children:"Index"})}const p7=()=>{const t=ve(),a=Re(),{crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState(""),[S,I]=l.useState([]),[T,w]=l.useState({columnAccessor:"id",direction:"asc"});l.useEffect(()=>{n?(t(Se("Branches")),d()):a("/")},[i,u,h,p]);const[_,A]=l.useState(!1),[k]=l.useState({id:"",branch_name:"",branch_location:"",name:"",email:"",mobile_no:"",status:0}),[g,E]=l.useState(null),[N,v]=l.useState(null),d=async()=>{A(!0),v(null);try{const V=await K({method:"get",url:r+"/api/branches?page="+i+"&pageSize="+u+"&filterType="+p+"&search="+h,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});V.data.status=="success"&&(console.log("*** Fetching Branch Data ***"),E(V.data.data),I(V.data.data.data))}catch(V){v(V)}finally{A(!1)}},[y,M]=l.useState(k),[C,x]=l.useState({}),L=()=>{x({});let V={};return x(V),{totalErrors:Object.keys(V).length}},[F,O]=l.useState(!1),$=V=>{const{value:j,name:U}=V.target;x({...C,[U]:""}),M({...y,[U]:j})},B=async V=>{var U;O(!0);try{const Z=await K({method:"post",url:r+"/api/branches",data:V,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});Z.data.status=="success"?(z(Z.data.message),M(k),d(),D(!1),t(Ci(Z.data.branches))):alert("Failed")}catch(Z){if(console.log(Z),Z.response.status==401&&t(at("")),((U=Z==null?void 0:Z.response)==null?void 0:U.status)===422){const Y=Z.response.data.errors;let X={};for(var j in Y)X={...X,[j]:Y[j][0]},console.log(Y[j][0]);x(X),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{O(!1)}},R=()=>{if(L().totalErrors)return!1;const j=new FormData;j.append("id",y.id),j.append("branch_name",y.branch_name),j.append("branch_location",y.branch_location),j.append("name",y.name),j.append("email",y.email),j.append("mobile_no",y.mobile_no),j.append("status",y.status),B(j)},P=V=>{x({}),V&&(M({id:V.id,branch_name:V.branch_name,branch_location:V.branch_location,name:V.name,email:V.email,mobile_no:V.mobile_no,status:V.status?"1":"0"}),D(!0))},z=(V="",j="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:j,title:V,padding:"10px 20px"})},H=V=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async j=>{if(j.value)try{const U=await K({method:"delete",url:r+"/api/branches/"+V.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});U.data.status==="success"&&(z(U.data.message),d()),U.data.status==="error"&&(z(U.data.message),d())}catch(U){U.response&&U.response.status===400?z("Cannot delete the Branch as it is being used."):z("Error deleting product.")}finally{}})},W=async V=>{try{const j=await K({method:"post",url:r+"/api/branch-status-update",data:{id:V},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});if(j.data.status=="success"){const U=[...S],Z=S.findIndex(Y=>Y.id==V);U[Z]={...U[Z],status:j.data.value},I(U),t(Ci(j.data.branches)),re.fire({title:j.data.message,toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:500,timer:2e3,customClass:{popup:"color-success"}})}}catch{}},[q,D]=l.useState(!1);return e(J,{children:s("div",{className:"flex gap-5 relative  h-full",children:[e("div",{className:"panel w-[280px]",children:e("div",{className:"flex flex-col h-full pb-2",children:e(qe,{className:"relative ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5 h-full grow",children:e(gt,{})})})}),N?e(f7,{error:N,fetchBranches:d}):e("div",{className:" p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Branch List"}),s("div",{className:"flex gap-4",children:[e("input",{type:"text",className:"form-input w-auto",placeholder:"Search...",value:h,onChange:V=>b(V.target.value)}),e("button",{className:"btn btn-sm btn-primary",onClick:()=>D(!q),children:"Add Branch"}),e("button",{onClick:()=>{d()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})}),e("div",{className:`${q&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>D(!q)}),e("nav",{className:`${q&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[e("div",{className:"flex justify-between mb-4 ",children:e("div",{className:"text-lg bold",children:"Branch"})}),e("hr",{className:"mb-5"}),e(Xe.Panels,{children:e(Xe.Panel,{children:s("div",{className:"mb-5 space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Branch name"}),e("input",{type:"text",placeholder:"Enter Branch Name",className:"form-input",name:"branch_name",value:y.branch_name,onChange:V=>$(V)}),C!=null&&C.branch_name?e("div",{className:"text-danger mt-1",children:C.branch_name}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Location"}),e("input",{type:"text",placeholder:"Enter Location",className:"form-input",name:"branch_location",value:y.branch_location,onChange:V=>$(V)}),C!=null&&C.branch_location?e("div",{className:"text-danger mt-1",children:C.branch_location}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:" name"}),e("input",{type:"text",placeholder:"Enter Name",className:"form-input",name:"name",value:y.name,onChange:V=>$(V)}),C!=null&&C.name?e("div",{className:"text-danger mt-1",children:C.name}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Email"}),e("input",{type:"text",placeholder:"Enter Email Id",className:"form-input",name:"email",value:y.email,onChange:V=>$(V)}),C!=null&&C.email?e("div",{className:"text-danger mt-1",children:C.email}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Mobile Number"}),e("input",{type:"text",placeholder:"Enter Mobile Number",className:"form-input",name:"mobile_no",value:y.mobile_no,onChange:V=>$(V)}),C!=null&&C.mobile_no?e("div",{className:"text-danger mt-1",children:C.mobile_no}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Status"}),s("select",{name:"status",className:"form-select text-white-dark",onChange:V=>$(V),value:y.status?y.status:"",children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),C!=null&&C.status?e("div",{className:"text-danger mt-1",children:C.status}):""]})}),e("button",{type:"button",onClick:()=>R(),disabled:F,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:F?"Please wait":y.id?"Update Branch":"Add Branch"})]})})})]})})})})})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:e("div",{className:"datatables",children:e(je,{className:"whitespace-nowrap table-hover",records:S,columns:[{accessor:"id",sortable:!0,render:({id:V})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:V})})},{accessor:"branch_name",title:"Branch Name",sortable:!0,render:({branch_name:V})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:V})})},{accessor:"branch_location",title:"Location",sortable:!0,render:({branch_location:V})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:V})})},{accessor:"name",title:"Name",sortable:!0,render:({name:V})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:V})})},{accessor:"email",title:"Email",sortable:!0,render:({email:V})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:V})})},{accessor:"mobile_no",title:"Mobile Number",sortable:!0,render:({mobile_no:V})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:V})})},{accessor:"status",sortable:!0,render:({id:V,status:j})=>e("div",{className:"flex flex-col gap-2",children:V==1?"":s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",onChange:U=>{W(V)},id:"custom_switch_checkbox1",checked:!!j}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})},{accessor:"Action",sortable:!0,render:V=>s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{P(V)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),V.id==1?"":e("button",{type:"button",onClick:()=>{H(V)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})}],highlightOnHover:!0,totalRecords:g==null?void 0:g.total,recordsPerPage:u,page:i,onPageChange:V=>o(V),recordsPerPageOptions:m,onRecordsPerPageChange:c,sortStatus:T,onSortStatusChange:w,minHeight:200,fetching:_,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:V,to:j,totalRecords:U})=>`Showing  ${g==null?void 0:g.form} to ${g.to} of ${U} entries`})})})]})})})]})})},f7=({error:t,fetchBranches:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})};function La(){const{authUser:t}=ee(),a=St(),[n,r]=l.useState(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}));return l.useEffect(()=>{const o=setInterval(()=>{r(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))},3e4);return()=>clearInterval(o)},[]),s("div",{className:"flex justify-between items-center py-3 px-5 bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-md",children:[s("div",{className:"flex items-center space-x-3",children:[e("button",{className:"lg:hidden text-white focus:outline-none",onClick:()=>alert("Menu clicked!"),children:e(gu,{size:28})}),e("span",{className:"text-xl font-bold",children:"Public Site"})]}),e("ul",{className:"horizontal-menu hidden lg:flex space-x-4 text-sm font-medium",children:[{path:"/public-general",label:"General",icon:e(wi,{}),roles:["Admin"]},{path:"/testimonial",label:"Testimonial",icon:e(yi,{}),roles:["Admin"]},{path:"/complaince-audit",label:"Compliance Audit",icon:e(Ft,{}),roles:["Admin"]},{path:"/complaince-board",label:"Compliance Board",icon:e(Ft,{}),roles:["Admin"]},{path:"/contacts",label:"Contact",icon:e(Ft,{}),roles:["Admin"]},{path:"/payments",label:"Payments",icon:e(Bn,{}),roles:["Admin"]}].map((o,m)=>o.roles.includes(t==null?void 0:t.user_type)?e("li",{className:"relative group",children:e(Q,{to:o.path,className:`flex items-center px-4 py-2 rounded-lg transition-all duration-200 ${a.pathname===o.path?"bg-white text-purple-600":"hover:bg-white/20 hover:text-white"}`,children:s("div",{className:"flex items-center space-x-2",children:[o.icon,e("span",{children:o.label})]})})},m):null)}),e(Q,{to:"/settings/public-site/preview",className:"bg-white text-purple-600 px-4 py-1 rounded-lg font-medium shadow-lg",children:"Preview"})]})}const mu=()=>{const{logout:t,crmToken:a,apiUrl:n}=ee(),r=ve();l.useEffect(()=>{r(Se("Settings")),f()},[a]);const[i,o]=l.useState(!0),[m,u]=l.useState(null),[c,p]=l.useState([]),f=async()=>{var F;console.log("Fetching General Setting Data"),o(!0),u(null);try{const O=await K({method:"get",url:n+"/api/public-general-setting",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});O.data.status=="success"&&p(O.data.data)}catch(O){console.log(O),u(O),((F=O==null?void 0:O.response)==null?void 0:F.status)==401&&t()}finally{o(!1)}},h=l.useRef(null),b=l.useRef(null),[S,I]=l.useState("/assets/images/logo.png"),[T,w]=l.useState("/assets/images/icon.png"),[_]=l.useState({id:"",admin_email:"",name:"",email:"",principal_officer_name:"",contact_no:"",compaints_email:"",logo:"",favicon:"",sebi_no:"",facebook_url:"",insta_url:"",youtube_url:"",x_url:"",whatspp_url:"",linkedin_url:"",site_mode:"",location:"",type_of_registration:"",resional_office_address:"",dribble_url:"",marque:"",getin_touch_address:""}),[A,k]=l.useState(_),[g,E]=l.useState({});l.useEffect(()=>{if(c.settings&&Object.values(c.settings).length){const F=c.settings;k({id:1,admin_email:F.admin_email?F.admin_email:"",name:F.name?F.name:"",email:F.email?F.email:"",principal_officer_name:F.principal_officer_name?F.principal_officer_name:"",contact_no:F.contact_no?F.contact_no:"",compaints_email:F.compaints_email?F.compaints_email:"",logo:"",favicon:"",facebook_url:F.facebook_url?F.facebook_url:"",sebi_no:F.sebi_no?F.sebi_no:"",insta_url:F.insta_url?F.insta_url:"",youtube_url:F.youtube_url?F.youtube_url:"",x_url:F.x_url?F.x_url:"",whatspp_url:F.whatspp_url?F.whatspp_url:"",linkedin_url:F.linkedin_url?F.linkedin_url:"",site_mode:F.site_mode?F.site_mode:"",location:F.location?F.location:"",type_of_registration:F.type_of_registration?F.type_of_registration:"",resional_office_address:F.resional_office_address?F.resional_office_address:"",dribble_url:F.dribble_url?F.dribble_url:"",marque:F.marque?F.marque:"",getin_touch_address:F.getin_touch_address?F.getin_touch_address:""}),F.logo&&I(n+"/storage/"+F.logo),F.favicon&&w(n+"/storage/"+F.favicon)}},[c]);const N=F=>{const{value:O,name:$,type:B,checked:R}=F.target;E({...g,[$]:""}),B=="checkbox"?k({...A,[$]:R?1:0}):k({...A,[$]:O}),console.log(A)},v=F=>{const{name:O}=F.target;if(E({...g,[O]:""}),F.target.files[0]){if(F.target.files[0].type&&F.target.files[0].type.indexOf("image")===-1){E({...g,[O]:"file is not a valid image"});return}const $=2*1024*1024;if(F.target.files[0].size>$){E({...g,[O]:"maximum file size is 2 mb"});return}const B=new FileReader;B.onload=function(R){O=="favicon"?w(B.result):I(B.result),k({...A,[O]:F.target.files[0]})},B.readAsDataURL(F.target.files[0])}},d=()=>{E({});let F={};return console.log(F),E(F),{totalErrors:Object.keys(F).length}},y=async F=>{var $;C(!0);try{const B=await K({method:"post",url:n+"/api/public-general-setting",data:F,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});B.data.status=="success"?(console.log(B.data.settings),L(B.data.message)):alert("Failed")}catch(B){if(console.log(B),(($=B==null?void 0:B.response)==null?void 0:$.status)===422){const R=B.response.data.errors;let P={};for(var O in R)P={...P,[O]:R[O][0]},console.log(R[O][0]);E(P),re.fire({title:"Server Validation Error! Please solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{C(!1)}},[M,C]=l.useState(!1),x=()=>{if(d().totalErrors)return!1;const O=new FormData;O.append("admin_email",A.admin_email),O.append("name",A.name),O.append("email",A.email),O.append("principal_officer_name",A.principal_officer_name),O.append("contact_no",A.contact_no),O.append("compaints_email",A.compaints_email),O.append("logo",A.logo),O.append("favicon",A.favicon),O.append("facebook_url",A.facebook_url),O.append("insta_url",A.insta_url),O.append("youtube_url",A.youtube_url),O.append("x_url",A.x_url),O.append("whatspp_url",A.whatspp_url),O.append("linkedin_url",A.linkedin_url),O.append("site_mode",A.site_mode),O.append("type_of_registration",A.type_of_registration),O.append("resional_office_address",A.resional_office_address),O.append("dribble_url",A.dribble_url),O.append("marque",A.marque),O.append("getin_touch_address",A.getin_touch_address),O.append("location",A.location),O.append("sebi_no",A.sebi_no),y(O)},L=(F="",O="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:O,title:F,padding:"10px 20px"})};return e(J,{children:s("div",{className:"relative  h-full",children:[e(La,{}),e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:i?e(J,{children:e(eo,{})}):m?e(g7,{error:m,fetchSettings:f}):e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"General Settings"}),s("div",{className:" flex gap-3",children:[e("button",{type:"button",onClick:()=>{x()},className:"btn btn-primary shadow",disabled:M,children:M?"Please Wait...":A.id?"Update":"Add"}),e("button",{onClick:()=>{f()},className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),s("div",{className:"mb-5 space-y-5",children:[s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s("div",{children:[e("label",{children:" Company Name"}),e("input",{type:"text",placeholder:"Enter Name",className:"form-input",name:"name",value:A.name,onChange:F=>N(F)}),g!=null&&g.name?e("div",{className:"text-danger mt-1",children:g.name}):""]}),s("div",{children:[e("label",{children:"Email"}),e("input",{type:"text",placeholder:"Enter Email",className:"form-input",name:"email",value:A.email,onChange:F=>N(F)}),g!=null&&g.email?e("div",{className:"text-danger mt-1",children:g.email}):""]}),s("div",{children:[s("label",{children:["Principal Officer Name ",e("span",{className:" text-red-600 text-md",children:"*"})," "]}),e("input",{type:"text",placeholder:"Enter Principal Officer Name",className:"form-input",name:"principal_officer_name",value:A.principal_officer_name,onChange:F=>N(F)}),g!=null&&g.principal_officer_name?e("div",{className:"text-danger mt-1",children:g.principal_officer_name}):""]})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s("div",{children:[e("label",{children:"Contact No"}),e("input",{type:"text",placeholder:"Enter Contact No",className:"form-input",name:"contact_no",value:A.contact_no,onChange:F=>N(F)}),g!=null&&g.contact_no?e("div",{className:"text-danger mt-1",children:g.contact_no}):""]}),s("div",{children:[e("label",{children:"Compaint Email"}),e("input",{type:"text",placeholder:"Enter Compaint Email",className:"form-input",name:"compaints_email",value:A.compaints_email,onChange:F=>N(F)}),g!=null&&g.compaints_email?e("div",{className:"text-danger mt-1",children:g.compaints_email}):""]}),s("div",{children:[e("label",{children:"Sebi No"}),e("input",{type:"text",placeholder:"Enter sebi no",className:"form-input",name:"sebi_no",value:A.sebi_no,onChange:F=>N(F)}),e("div",{className:"text-danger mt-1",children:g.sebi_no})]}),s("div",{children:[e("label",{children:"Facebook Url"}),e("input",{type:"text",placeholder:"Enter facebook url",className:"form-input",name:"facebook_url",value:A.facebook_url,onChange:F=>N(F)}),e("div",{className:"text-danger mt-1",children:g.facebook_url})]}),s("div",{children:[e("label",{children:"Instagram Url"}),e("input",{type:"text",placeholder:"Enter Instagram Url",className:"form-input",name:"insta_url",value:A.insta_url,onChange:F=>N(F)}),e("div",{className:"text-danger mt-1",children:g.insta_url})]}),s("div",{children:[e("label",{children:"Youtube Url"}),e("input",{type:"text",placeholder:"Enter Youtube url",className:"form-input",name:"youtube_url",value:A.youtube_url,onChange:F=>N(F)}),e("div",{className:"text-danger mt-1",children:g.youtube_url})]}),s("div",{children:[e("label",{children:"X(Twitter) Url"}),e("input",{type:"text",placeholder:"Enter X url",className:"form-input",name:"x_url",value:A.x_url,onChange:F=>N(F)}),e("div",{className:"text-danger mt-1",children:g.x_url})]}),s("div",{children:[e("label",{children:"Whatsapp Url"}),e("input",{type:"text",placeholder:"Enter Whatsapp url",className:"form-input",name:"whatspp_url",value:A.whatspp_url,onChange:F=>N(F)}),e("div",{className:"text-danger mt-1",children:g.whatspp_url})]}),s("div",{children:[e("label",{children:"LinkedIn Url"}),e("input",{type:"text",placeholder:"Enter LinkedIn url",className:"form-input",name:"linkedin_url",value:A.linkedin_url,onChange:F=>N(F)}),e("div",{className:"text-danger mt-1",children:g.linkedin_url})]}),s("div",{children:[e("label",{children:"Mode"}),s("select",{className:"form-select",name:"site_mode",onChange:F=>N(F),value:A.site_mode?A.site_mode:"",children:[e("option",{children:"Select Mode"}),e("option",{value:"Live Mode",children:"Live Mode"}),e("option",{value:"Maintance Mode",children:"Maintance Mode"})]})]}),s("div",{children:[e("label",{children:"Type Of Registration"}),s("select",{className:"form-select",name:"type_of_registration",onChange:F=>N(F),value:A.type_of_registration?A.type_of_registration:"",children:[e("option",{children:"Select Type"}),e("option",{value:"Individual",children:"Individual"}),e("option",{value:"Non-Individual",children:"Non-Individual"})]})]}),s("div",{children:[e("label",{children:"Dribble Url"}),e("input",{type:"text",placeholder:"Enter Dribble Url",className:"form-input",name:"dribble_url",value:A.dribble_url,onChange:F=>N(F)}),e("div",{className:"text-danger mt-1",children:g.dribble_url})]})]}),s("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s("div",{children:[e("label",{children:"Add Marque"}),e("textarea",{name:"marque",onChange:F=>N(F),value:A.marque,className:"form-textarea"}),g!=null&&g.marque?e("div",{className:"text-danger mt-1",children:g.marque}):""]}),s("div",{children:[e("label",{children:"Location"}),e("textarea",{name:"location",onChange:F=>N(F),value:A.location,className:"form-textarea"}),g!=null&&g.location?e("div",{className:"text-danger mt-1",children:g.location}):""]}),s("div",{children:[e("label",{children:"Resional Office Address"}),e("textarea",{name:"resional_office_address",onChange:F=>N(F),value:A.resional_office_address,className:"form-textarea"}),g!=null&&g.resional_office_address?e("div",{className:"text-danger mt-1",children:g.resional_office_address}):""]}),s("div",{children:[e("label",{children:"Get In Touch Address"}),e("textarea",{name:"getin_touch_address",onChange:F=>N(F),value:A.getin_touch_address,className:"form-textarea"}),g!=null&&g.getin_touch_address?e("div",{className:"text-danger mt-1",children:g.getin_touch_address}):""]})]}),e("hr",{}),s("div",{className:"p-2",children:[e("h1",{className:"text-lg font-bold py-2 pb-5",children:"Logo / Icon"}),s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[s("div",{className:"mb-5",children:[e("label",{children:"Logo"}),e("input",{ref:h,name:"logo",type:"file",onChange:F=>v(F),className:"form-input hidden",accept:"image/*"}),e("span",{className:"w-full h-20 relative",children:e("img",{className:"w-[200px] overflow-hidden object-cover rounded",id:"logo",onClick:()=>{h.current.click()},src:S,alt:"logo"})}),g!=null&&g.logo?e("div",{className:"text-danger mt-1",children:g.logo}):""]}),s("div",{className:"mb-5",children:[e("label",{children:"Fav Icon"}),e("input",{ref:b,name:"favicon",type:"file",onChange:F=>v(F),className:"form-input hidden",accept:"image/*"}),e("span",{className:" relative",children:e("img",{className:"w-[75px] h-[75px] overflow-hidden object-cover rounded",id:"favicon",onClick:()=>{b.current.click()},src:T,alt:"favicon"})}),g!=null&&g.favicon?e("div",{className:"text-danger mt-1",children:g.favicon}):""]})]})]})]})]})})})]})})},g7=({error:t,fetchSettings:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})},b7=()=>{const t=ve(),a=Re(),{crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState(""),[S,I]=l.useState([]),[T,w]=l.useState({columnAccessor:"id",direction:"asc"});l.useEffect(()=>{n?(t(Se("Testimonial")),d()):a("/")},[i,u,p]);const[_,A]=l.useState(!1),[k]=l.useState({id:"",full_name:"",description:"",avatar:"",status:0}),[g,E]=l.useState(null),[N,v]=l.useState(null),d=async()=>{A(!0),v(null);try{const D=await K({method:"get",url:r+"/api/testimonial?page="+i+"&pageSize="+u+"&filterType="+p+"&search="+h,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});D.data.status=="success"&&(console.log("*** Fetching Testimonials Data ***"),E(D.data.data),I(D.data.data.data))}catch(D){v(D)}finally{A(!1)}},[y,M]=l.useState(k),[C,x]=l.useState({}),L=()=>{x({});let D={};return y.description||(D={...D,description:"Testimonial description is required"}),y.full_name||(D={...D,full_name:"Testimonial full_name is required"}),x(D),{totalErrors:Object.keys(D).length}},[F,O]=l.useState(!1),$=D=>{const{value:V,name:j}=D.target;x({...C,[j]:""}),M({...y,[j]:V})},B=async D=>{var j;O(!0);try{const U=await K({method:"post",url:r+"/api/testimonial",data:D,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});U.data.status=="success"?(z(U.data.message),M(k),d(),q(!1)):alert("Failed")}catch(U){if(console.log(U),U.response.status==401&&t(at("")),((j=U==null?void 0:U.response)==null?void 0:j.status)===422){const Z=U.response.data.errors;let Y={};for(var V in Z)Y={...Y,[V]:Z[V][0]},console.log(Z[V][0]);x(Y),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{O(!1)}},R=()=>{if(L().totalErrors)return!1;const V=new FormData;V.append("id",y.id),V.append("full_name",y.full_name),V.append("description",y.description),V.append("status",y.status),B(V)},P=D=>{console.log(D),x({}),D&&(M({id:D.id,full_name:D.full_name,description:D.description,status:D.status?"1":"0"}),q(!0))},z=(D="",V="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:V,title:D,padding:"10px 20px"})},H=D=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async V=>{if(V.value)try{const j=await K({method:"delete",url:r+"/api/testimonial/"+D.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});j.data.status==="success"&&(z(j.data.message),d())}catch(j){j.response&&j.response.status===400?z("Cannot delete the Dropdown as it is being used."):z("Error deleting product.")}finally{}})},[W,q]=l.useState(!1);return e(J,{children:s("div",{className:"relative  h-full",children:[e(La,{}),N?e(v7,{error:N,fetchTestimonials:d}):e("div",{className:" p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Testimonial List"}),s("div",{className:"flex gap-4",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:h,onChange:D=>b(D.target.value),placeholder:"Search by Name",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>i==1?d():o(1),children:e(ft,{})})]}),e("button",{className:"btn btn-sm btn-primary",onClick:()=>q(!W),children:"Add Testimonial"}),e("button",{onClick:()=>{d()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})}),e("div",{className:`${W&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>q(!W)}),e("nav",{className:`${W&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[s("div",{className:"flex justify-between mb-4 ",children:[e("div",{className:"text-lg bold",children:"Testimonial"}),y.id?e("button",{type:"button",onClick:()=>M(k),className:"btn btn-sm btn-primary",children:"Add Testimonial"}):""]}),e("hr",{className:"mb-5"}),e(Xe.Panels,{children:e(Xe.Panel,{children:s("div",{className:"mb-5 space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Full Name"}),e("input",{type:"text",placeholder:"Enter Full Name",className:"form-input",name:"full_name",value:y.full_name,onChange:D=>$(D)}),C!=null&&C.full_name?e("div",{className:"text-danger mt-1",children:C.full_name}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Description"}),e("textarea",{name:"description",onChange:D=>$(D),value:y.description,className:"form-textarea"}),C!=null&&C.description?e("div",{className:"text-danger mt-1",children:C.description}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Status"}),s("select",{name:"status",className:"form-select text-white-dark",onChange:D=>$(D),value:y.status?y.status:"",children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),C!=null&&C.status?e("div",{className:"text-danger mt-1",children:C.status}):""]})}),e("button",{type:"button",onClick:()=>R(),disabled:F,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:F?"Please wait":y.id?"Update Testimonial":"Add Testimonial"})]})})})]})})})})})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:e("div",{className:"datatables",children:e(je,{className:"whitespace-nowrap table-hover",records:S,columns:[{accessor:"id",sortable:!0,render:({id:D})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:D})})},{accessor:"Full Name",sortable:!0,render:({full_name:D})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:D})})},{accessor:"Description",sortable:!0,render:({description:D})=>e("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:e("h1",{children:e("b",{children:D})})})},{accessor:"Status",sortable:!0,render:({id:D,status:V})=>e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1",checked:!!V}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})},{accessor:"Action",sortable:!0,render:D=>s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{P(D)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{H(D)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})}],highlightOnHover:!0,totalRecords:g==null?void 0:g.total,recordsPerPage:u,page:i,onPageChange:D=>o(D),recordsPerPageOptions:m,onRecordsPerPageChange:c,sortStatus:T,onSortStatusChange:w,minHeight:200,fetching:_,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:D,to:V,totalRecords:j})=>`Showing  ${g==null?void 0:g.from} to ${g.to} of ${j} entries`})})})]})})})]})})},v7=({error:t,fetchTestimonials:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})};function x7(){const{crmToken:t,apiUrl:a,selectedBranch:n,logout:r}=ee(),[i,o]=l.useState(!0),[m,u]=l.useState([]),c=async()=>{o(!0);try{const R=await K({method:"get",url:a+"/api/dashboard-sms-whatsapp-histories",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});R.data.status=="success"&&u(R.data.employees)}catch(R){console.log(R)}finally{o(!1)}};l.useEffect(()=>{c()},[]);function p(){const R=new Date,P=[R.getFullYear(),String(R.getMonth()+1).padStart(2,"0"),String(R.getDate()).padStart(2,"0")].join("-");return[P,P]}const[f]=l.useState({action:"",field:"",user_id:0,dateRange:p(),search:""}),[h,b]=l.useState(f),[S,I]=l.useState({}),T=R=>{const{value:P,name:z}=R.target;I({...S,[z]:""}),b({...h,[z]:P})},w=()=>{I({});let R={};return h.action||(R={...R,action:"Action is required"}),h.field||(R={...R,field:"Field is required"}),I(R),{totalErrors:Object.keys(R).length}},_=()=>{if(w().totalErrors)return!1;y()},[A,k]=l.useState(1),g=[10,25,50,100,250,500,1e3],[E,N]=l.useState(g[0]),[v,d]=l.useState([]),y=async()=>{var R;o(!0);try{const P=await K({method:"get",url:a+"/api/dashboard-sms-whatsapp-histories-reports",params:{page:A,pageSize:E,action:h.action,field:h.field,user_id:h.user_id,dateRange:JSON.stringify(h.dateRange),search:h.search,SelectedBranch:n},headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});P.data.status=="success"?d(P.data.data):d([])}catch(P){((R=P==null?void 0:P.response)==null?void 0:R.status)==401&&r()}finally{o(!1)}};l.useEffect(()=>{y()},[A]),l.useEffect(()=>{A!=1?k(1):y()},[E]);const[M,C]=l.useState(0),x=async R=>{var P;C(R);try{const z=await K({method:"post",url:a+"/api/dashboard-sms-whatsapp-histories-check-status",data:{id:R},headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});if(z.data.status==="success"){const H=(v==null?void 0:v.data)||[],W=H.findIndex(q=>q.id===R);if(W!==-1){const q=JSON.parse(z.data.response);H[W]={...H[W],status_response:z.data.response,status:q.Status},d(D=>({...D,data:H}))}else console.warn(`No item found with id ${R}`)}}catch(z){((P=z==null?void 0:z.response)==null?void 0:P.status)==401&&r()}finally{C(0)}},[L,F]=l.useState(!1),[O,$]=l.useState(null);l.useEffect(()=>{O&&F(!0)},[O]);const B=new Intl.DateTimeFormat("en-IN",{timeZone:"Asia/Kolkata",year:"numeric",month:"2-digit",day:"2-digit"});return s("div",{children:[e("div",{className:"panel",children:i?e(be,{}):s(J,{children:[s("div",{className:"grid grid-cols-3 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s("div",{children:[s("select",{className:"form-select",name:"action",value:h.action,onChange:R=>T(R),children:[e("option",{value:"",children:"Select Platform"}),e("option",{value:"0",children:"All"}),e("option",{value:"sms",children:"SMS"}),e("option",{value:"whatsapp",children:"Whatsapp"})]}),S!=null&&S.action?e("div",{className:"text-danger mt-1",children:S.action}):""]}),s("div",{children:[s("select",{className:"form-select",name:"field",value:h.field,onChange:R=>T(R),children:[e("option",{value:"",disabled:!0,children:"Select Field"}),e("option",{value:"0",children:"All"}),e("option",{value:"kyc",children:"KYC"}),e("option",{value:"riskprofile",children:"Risk Profile"}),e("option",{value:"agreement",children:"Agreement"}),e("option",{value:"website",children:"Website"})]}),S!=null&&S.field?e("div",{className:"text-danger mt-1",children:S.field}):""]}),e(Je,{options:{mode:"range",dateFormat:"Y-m-d",position:"auto left"},value:h.dateRange,className:"form-input ",onChange:R=>{const P=R.map(z=>B.format(new Date(z)).split("/").reverse().join("-"));P.length==2&&T({target:{name:"dateRange",value:P}})}}),s("select",{className:"form-select",name:"user_id",value:h.user_id,onChange:R=>T(R),children:[e("option",{value:"0",children:"All Employees"}),m==null?void 0:m.map(R=>s("option",{value:R.id,children:[R.first_name," ",R.last_name]},R.id))]}),e("input",{className:"form-input",name:"search",type:"text",placeholder:"Search By Phone",value:h.search,onChange:R=>T(R)}),e("button",{className:"btn btn-sm btn-dark shadow",onClick:()=>_(),children:"Get Data"})]}),e("div",{className:"mt-4",children:e("div",{className:"datatables mt-4",children:e(je,{className:"whitespace-nowrap table-hover",records:v==null?void 0:v.data,columns:[{accessor:"platform",title:"Platform",render:({platform:R})=>e(J,{children:e("b",{className:"inline-flex items-center gap-1",children:R})})},{accessor:"action",title:"Action",render:({action:R})=>e(J,{children:e("b",{className:"inline-flex items-center gap-1 capitalize",children:R})})},{accessor:"owner",title:"Employee"},{accessor:"lead",title:"Lead",render:({lead:R,phone:P})=>e(J,{children:s("b",{className:"inline-flex items-center gap-1",children:[R||"N/A"," ",e("br",{}),P]})})},{accessor:"response",title:"Response",render:({response:R})=>e("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:e("span",{className:"font-bold text-[12px] text-[#506690]",style:{width:"400px",overflowWrap:"break-word",wordWrap:"break-word",whiteSpace:"normal"},children:R})})},{accessor:"created_at",title:"Sent At",render:({created_at:R})=>e(J,{children:e("b",{className:"inline-flex items-center gap-1",children:R})})},{accessor:"status",title:"Status",render:({status:R,id:P,platform:z})=>e(J,{children:e("b",{className:"inline-flex items-center gap-1",children:R?R=="REJECTD"?e("span",{className:"badge bg-red-500",children:R}):R:e("button",{className:"btn btn-primary btn-sm shadow",disabled:M?!0:z=="whatsapp",onClick:()=>x(P),children:M==P?"Checking....":"Check Status"})})})},{accessor:"status_response",title:"View",render:({status_response:R,platform:P})=>e("button",{className:"btn btn-gradient btn-sm shadow",disabled:R?!1:P=="whatsapp",onClick:()=>$(R?JSON.parse(R):[]),children:R?e(Bt,{size:20}):e(is,{size:20})})}],totalRecords:v.totalItems,recordsPerPage:E,page:A,onPageChange:R=>k(R),recordsPerPageOptions:g,onRecordsPerPageChange:N,sortStatus:{columnAccessor:"id",direction:"asc"},minHeight:500,fetching:i,loaderSize:"xl",loaderColor:"green",loaderBackgroundBlur:1,paginationText:({totalRecords:R})=>`Showing  ${v==null?void 0:v.from} to ${v.to} of ${R} entries`})})})]})}),e(ge,{appear:!0,show:L,as:l.Fragment,children:s(Ie,{as:"div",open:L,onClose:()=>F(!1),children:[e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e("div",{className:"fixed inset-0"})}),e("div",{className:"fixed inset-0 bg-[black]/60 z-[999] overflow-y-auto",children:e("div",{className:"flex items-start justify-center min-h-screen px-4",children:e(ge.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:s(Ie.Panel,{className:"panel border-0 p-0 rounded-lg overflow-hidden  w-full max-w-lg my-8 text-black dark:text-white-dark",children:[s("div",{className:"flex bg-[#fbfbfb] dark:bg-[#121c2c] items-center justify-between px-5 py-3",children:[e("h5",{className:"font-bold text-lg",children:"Response"}),e("button",{onClick:()=>F(!1),type:"button",className:"text-white-dark hover:text-dark",children:"x"})]}),e("div",{className:"p-5",children:e("div",{className:"dark:text-white-dark/70 text-base font-medium text-[#1f2937]",children:O&&Object.keys(O).map(R=>s("div",{className:"flex   py-2",children:[e("span",{className:"min-w-[120px] font-bold text-dark/70",children:R}),e("span",{className:"font-bold text-[#506690] truncate",children:O[R]})]},R))})})]})})})})]})})]})}const y7=()=>{const t=ve(),a=Re(),{crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState({columnAccessor:"id",direction:"asc"});l.useEffect(()=>{n?(t(Se("ComplainceAudit")),g()):a("/")},[i,u]);const[S,I]=l.useState(!1),[T]=l.useState({id:"",financial_year:"",remarks:"",audit_status:"",status:0,segregation_certificate:"",segregation_remark:"",action_taken_report:"",action_taken_remark:"",audit_report:"",audit_remark:""}),[w,_]=l.useState(null),[A,k]=l.useState([]),g=async()=>{I(!0),_(null);try{const j=await K({method:"get",url:r+"/api/complaincesAudit",params:{page:i,pageSize:u,search:p},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});j.data.status=="success"&&(console.log("*** Fetching ComplainceAudits Data ***"),k(j.data.data))}catch(j){_(j)}finally{I(!1)}},[E,N]=l.useState(T),[v,d]=l.useState({}),y=()=>{d({});let j={};return E.audit_status||(j={...j,audit_status:"ComplainceAudit Audit Status is required"}),E.financial_year||(j={...j,financial_year:"ComplainceAudit Financial Year is required"}),E.status||(j={...j,status:"Status is required"}),d(j),{totalErrors:Object.keys(j).length}},[M,C]=l.useState(!1),x=j=>{const{value:U,name:Z}=j.target;d({...v,[Z]:""}),N({...E,[Z]:U})},L=async j=>{var Z;C(!0);try{const Y=await K({method:"post",url:r+"/api/complaincesAudit",data:j,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});Y.data.status=="success"?(W(Y.data.message),N(T),g(),V(!1)):alert("Failed")}catch(Y){if(console.log(Y),Y.response.status==401&&t(at("")),((Z=Y==null?void 0:Y.response)==null?void 0:Z.status)===422){const X=Y.response.data.errors;let ae={};for(var U in X)ae={...ae,[U]:X[U][0]},console.log(X[U][0]);d(ae),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{C(!1)}};l.useRef(null);const F=l.useRef(null),O=l.useRef(null),$=l.useRef(null),[B,R]=l.useState("https://dummyimage.com/600x400/000/fff"),P=j=>{const{name:U}=j.target,Z=j.target.files[0];if(d({...v,[U]:""}),Z){if(Z.size>4194304){d({...v,[U]:"Maximum file size is 2 MB"});return}if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(Z.type)){d({...v,[U]:"Invalid file type. Only JPG, PNG, PDF allowed"});return}const ae=new FileReader;Z.type.startsWith("image/")&&(ae.onload=function(he){R(ae.result)},ae.readAsDataURL(Z)),N({...E,[U]:Z})}},z=()=>{if(y().totalErrors)return!1;const U=new FormData;U.append("id",E.id),U.append("financial_year",E.financial_year),U.append("remarks",E.remarks),U.append("audit_status",E.audit_status),U.append("status",E.status),U.append("segregation_certificate",E.segregation_certificate),U.append("segregation_remark",E.segregation_remark),U.append("action_taken_report",E.action_taken_report),U.append("action_taken_remark",E.action_taken_remark),U.append("audit_report",E.audit_report),U.append("audit_remark",E.audit_remark),L(U)},H=j=>{console.log(j),console.log(j),d({}),j&&(N({id:j.id,financial_year:j.financial_year,remarks:j.remarks,audit_status:j.audit_status,segregation_certificate:j.segregation_certificate,segregation_remark:j.segregation_remark,action_taken_report:j.action_taken_report,action_taken_remark:j.action_taken_remark,audit_report:j.audit_report,audit_remark:j.audit_remark,status:j.status?"1":"0"}),V(!0))},W=(j="",U="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:U,title:j,padding:"10px 20px"})},q=j=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async U=>{if(U.value)try{const Z=await K({method:"delete",url:r+"/api/complaincesAudit/"+j.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});Z.data.status==="success"&&(W(Z.data.message),g())}catch(Z){Z.response&&Z.response.status===400?W("Cannot delete the Dropdown as it is being used."):W("Error deleting product.")}finally{}})},[D,V]=l.useState(!1);return e(J,{children:s("div",{className:"relative  h-full",children:[e(La,{}),w?e(w7,{error:w,fetchComplainceAudits:g}):e("div",{className:" p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"ComplainceAudit List"}),s("div",{className:"flex gap-4",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:p,onChange:j=>f(j.target.value),placeholder:"Search by Name",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>i==1?g():o(1),children:e(ft,{})})]}),e("button",{className:"btn btn-sm btn-primary",onClick:()=>{V(!D),N(T)},children:"Add ComplainceAudit"}),e("button",{onClick:()=>{g()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})}),e("div",{className:`${D&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>V(!D)}),e("nav",{className:`${D&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[s("div",{className:"flex justify-between mb-4 ",children:[e("div",{className:"text-lg bold",children:"ComplainceAudit"}),E.id?e("button",{type:"button",onClick:()=>N(T),className:"btn btn-sm btn-primary",children:"Add ComplainceAudit"}):""]}),e("hr",{className:"mb-5"}),e(Xe.Panels,{children:e(Xe.Panel,{children:s("div",{className:"mb-5 space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Financial Year"}),e("input",{type:"text",placeholder:"Enter Financial Year",className:"form-input",name:"financial_year",value:E.financial_year,onChange:j=>x(j)}),v!=null&&v.financial_year?e("div",{className:"text-danger mt-1",children:v.financial_year}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Audit Status"}),e("input",{type:"text",placeholder:"Enter Audit Status",className:"form-input",name:"audit_status",value:E.audit_status,onChange:j=>x(j)}),v!=null&&v.audit_status?e("div",{className:"text-danger mt-1",children:v.audit_status}):""]})}),s("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:[s("div",{className:"mb-5",children:[e("label",{children:"Segregation Certificate"}),e("input",{ref:$,name:"segregation_certificate",type:"file",onChange:j=>P(j),className:"form-input",accept:".jpg,.jpeg,.png,.pdf"}),v!=null&&v.segregation_certificate?e("div",{className:"text-danger mt-1",children:v.segregation_certificate}):""]}),s("div",{children:[e("label",{className:" flex gap-2",children:"Segregation Remark"}),e("input",{type:"text",placeholder:"Enter Segregation Remark",className:"form-input",name:"segregation_remark",value:E.segregation_remark,onChange:j=>x(j)}),v!=null&&v.segregation_remark?e("div",{className:"text-danger mt-1",children:v.segregation_remark}):""]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:[s("div",{className:"mb-5",children:[e("label",{children:"Action Taken Report"}),e("input",{ref:O,name:"action_taken_report",type:"file",onChange:j=>P(j),className:"form-input",accept:".jpg,.jpeg,.png,.pdf"}),v!=null&&v.action_taken_report?e("div",{className:"text-danger mt-1",children:v.action_taken_report}):""]}),s("div",{children:[e("label",{className:" flex gap-2",children:"Action Taken Remark"}),e("input",{type:"text",placeholder:"Enter Action Taken Remark",className:"form-input",name:"action_taken_remark",value:E.action_taken_remark,onChange:j=>x(j)})]})]}),s("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:[s("div",{className:"mb-5",children:[e("label",{children:"Annual Audit Report of Investment Adviser activity"}),e("input",{ref:F,name:"audit_report",type:"file",onChange:j=>P(j),className:"form-input",accept:".jpg,.jpeg,.png,.pdf"}),v!=null&&v.audit_report?e("div",{className:"text-danger mt-1",children:v.audit_report}):""]}),s("div",{children:[e("label",{className:"flex gap-2",children:"Annual Audit Remark"}),e("input",{type:"text",placeholder:"Enter Annual Audit Remark",className:"form-input",name:"audit_remark",value:E.audit_remark,onChange:j=>x(j)})]})]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Status"}),s("select",{name:"status",className:"form-select text-white-dark",onChange:j=>x(j),value:E.status?E.status:"",children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),v!=null&&v.status?e("div",{className:"text-danger mt-1",children:v.status}):""]})}),e("button",{type:"button",onClick:()=>z(),disabled:M,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:M?"Please wait":E.id?"Update ComplainceAudit":"Add ComplainceAudit"})]})})})]})})})})})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:e("div",{className:"datatables",children:e(je,{className:"whitespace-nowrap table-hover",records:A==null?void 0:A.data,columns:[{accessor:"id",sortable:!0,render:({id:j})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:j})})},{accessor:"Financial Year",sortable:!0,render:({financial_year:j})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:j})})},{accessor:"Audit Status",sortable:!0,render:({audit_status:j})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:j})})},{accessor:"remarks",sortable:!0,render:({remarks:j})=>e("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:e("h1",{children:e("b",{children:j})})})},{accessor:"Status",sortable:!0,render:({id:j,status:U})=>e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1",checked:!!U}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})},{accessor:"Action",sortable:!0,render:j=>s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{H(j)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{q(j)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})}],highlightOnHover:!0,totalRecords:A==null?void 0:A.totalItems,recordsPerPage:A==null?void 0:A.pageSize,page:i,onPageChange:j=>o(j),recordsPerPageOptions:m,onRecordsPerPageChange:c,sortStatus:h,onSortStatusChange:b,minHeight:200,fetching:S,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:j,to:U,totalRecords:Z})=>`Showing  ${A==null?void 0:A.from} to ${A.to} of ${Z} entries`})})})]})})})]})})},w7=({error:t,fetchTestimonials:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})},N7=()=>{const t=ve(),a=Re(),{crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState("");l.useState([]);const[S,I]=l.useState({columnAccessor:"id",direction:"asc"});l.useEffect(()=>{n?(t(Se("ComplainceBoard")),N()):a("/")},[i,u,p]);const[T,w]=l.useState(!1),[_]=l.useState({id:"",month:"",carried_forward_from_previous_month:"",received:"",resolved:"",pending:"",status:0});l.useState(null);const[A,k]=l.useState(null),[g,E]=l.useState([]),N=async()=>{w(!0),k(null);try{const W=await K({method:"get",url:r+"/api/complainces",params:{page:i,pageSize:u,search:h},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});W.data.status=="success"&&(console.log("*** Fetching ComplainceBoards Data ***"),E(W.data.data))}catch(W){k(W)}finally{w(!1)}},[v,d]=l.useState(_),[y,M]=l.useState({}),C=()=>{M({});let W={};return v.carried_forward_from_previous_month||(W={...W,carried_forward_from_previous_month:"ComplainceBoard carried_forward_from_previous_month is required"}),v.month||(W={...W,month:"ComplainceBoard month is required"}),M(W),{totalErrors:Object.keys(W).length}},[x,L]=l.useState(!1),F=W=>{const{value:q,name:D}=W.target;M({...y,[D]:""}),d({...v,[D]:q})},O=async W=>{var D;L(!0);try{const V=await K({method:"post",url:r+"/api/complainces",data:W,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});V.data.status=="success"?(R(V.data.message),d(_),N(),H(!1)):alert("Failed")}catch(V){if(console.log(V),V.response.status==401&&t(at("")),((D=V==null?void 0:V.response)==null?void 0:D.status)===422){const j=V.response.data.errors;let U={};for(var q in j)U={...U,[q]:j[q][0]},console.log(j[q][0]);M(U),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{L(!1)}},$=()=>{if(C().totalErrors)return!1;const q=new FormData;q.append("id",v.id),q.append("month",v.month),q.append("carried_forward_from_previous_month",v.carried_forward_from_previous_month),q.append("received",v.received),q.append("resolved",v.resolved),q.append("pending",v.pending),q.append("status",v.status),O(q)},B=W=>{console.log(W),M({}),W&&(d({id:W.id,month:W.month,carried_forward_from_previous_month:W.carried_forward_from_previous_month,received:W.received,pending:W.pending,resolved:W.resolved,status:W.status?"1":"0"}),H(!0))},R=(W="",q="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:q,title:W,padding:"10px 20px"})},P=W=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async q=>{if(q.value)try{const D=await K({method:"delete",url:r+"/api/complainces/"+W.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});D.data.status==="success"&&(R(D.data.message),N())}catch(D){D.response&&D.response.status===400?R("Cannot delete the Dropdown as it is being used."):R("Error deleting product.")}finally{}})},[z,H]=l.useState(!1);return e(J,{children:s("div",{className:"relative  h-full",children:[e(La,{}),A?e(_7,{error:A,fetchComplainceBoard:N}):e("div",{className:" p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"ComplainceBoard List"}),s("div",{className:"flex gap-4",children:[e(Q,{to:"/complaince-status",children:e("button",{className:"btn btn-sm btn-primary",children:"Add ComplainceStatus"})}),s("div",{className:"flex",children:[e("input",{type:"text",value:h,onChange:W=>b(W.target.value),placeholder:"Search by Name",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>i==1?N():o(1),children:e(ft,{})})]}),e("button",{className:"btn btn-sm btn-primary",onClick:()=>H(!z),children:"Add ComplainceBoard"}),e("button",{onClick:()=>{N()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})}),e("div",{className:`${z&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>H(!z)}),e("nav",{className:`${z&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[s("div",{className:"flex justify-between mb-4 ",children:[e("div",{className:"text-lg bold",children:"ComplainceBoard"}),v.id?e("button",{type:"button",onClick:()=>d(_),className:"btn btn-sm btn-primary",children:"Add ComplainceBoard"}):""]}),e("hr",{className:"mb-5"}),e(Xe.Panels,{children:e(Xe.Panel,{children:s("div",{className:"mb-5 space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:" Month"}),e("input",{type:"text",placeholder:"Enter Beginning Month",className:"form-input",name:"month",value:v.month,onChange:W=>F(W)}),y!=null&&y.month?e("div",{className:"text-danger mt-1",children:y.month}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Carried forward from previous month"}),e("input",{type:"text",placeholder:"Enter Carried forward from previous month",className:"form-input",name:"carried_forward_from_previous_month",value:v.carried_forward_from_previous_month,onChange:W=>F(W)}),y!=null&&y.carried_forward_from_previous_month?e("div",{className:"text-danger mt-1",children:y.carried_forward_from_previous_month}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Received Month"}),e("input",{type:"text",placeholder:"Enter Received Month",className:"form-input",name:"received",value:v.received,onChange:W=>F(W)}),y!=null&&y.received?e("div",{className:"text-danger mt-1",children:y.received}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Resolved Month"}),e("input",{type:"text",placeholder:"Enter Resolved Month",className:"form-input",name:"resolved",value:v.resolved,onChange:W=>F(W)}),y!=null&&y.resolved?e("div",{className:"text-danger mt-1",children:y.resolved}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Pending Month"}),e("input",{type:"text",placeholder:"Enter Pending Month",className:"form-input",name:"pending",value:v.pending,onChange:W=>F(W)}),y!=null&&y.pending?e("div",{className:"text-danger mt-1",children:y.pending}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Status"}),s("select",{name:"status",className:"form-select text-white-dark",onChange:W=>F(W),value:v.status?v.status:"",children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),y!=null&&y.status?e("div",{className:"text-danger mt-1",children:y.status}):""]})}),e("button",{type:"button",onClick:()=>$(),disabled:x,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:x?"Please wait":v.id?"Update ComplainceBoard":"Add ComplainceBoard"})]})})})]})})})})})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:e("div",{className:"datatables",children:e(je,{className:"whitespace-nowrap table-hover",records:g==null?void 0:g.data,columns:[{accessor:"SL NO",sortable:!0,render:({id:W})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:W})})},{accessor:" Month",sortable:!0,render:({month:W})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:W})})},{accessor:"Carried forward from previous month	",sortable:!0,render:({carried_forward_from_previous_month:W})=>e("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:e("h1",{children:e("b",{children:W})})})},{accessor:"Received",sortable:!0,render:({received:W})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:W})})},{accessor:"Resolved",sortable:!0,render:({resolved:W})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:W})})},{accessor:"Pending",sortable:!0,render:({pending:W})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:W})})},{accessor:"Status",sortable:!0,render:({id:W,status:q})=>e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1",checked:!!q}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})},{accessor:"Action",sortable:!0,render:W=>s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{B(W)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{P(W)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})}],highlightOnHover:!0,totalRecords:g==null?void 0:g.totalItems,recordsPerPage:g==null?void 0:g.pageSize,page:i,onPageChange:W=>o(W),recordsPerPageOptions:m,onRecordsPerPageChange:c,sortStatus:S,onSortStatusChange:I,minHeight:200,fetching:T,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:W,to:q,totalRecords:D})=>`Showing  ${g==null?void 0:g.from} to ${g.to} of ${D} entries`})})})]})})})]})})},_7=({error:t,fetchTestimonials:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})};function k7(){const t=ve();l.useEffect(()=>{t(Se("Invoice Report"))});const{settingData:a,crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState([]),S=async()=>{console.log("*** Fetching Contact data ***"),_(!0);try{const k=await K({method:"get",url:r+"/api/contacts",params:{page:i,pageSize:u,search:p},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});k.data.status=="success"&&b(k.data.data)}catch{}finally{_(!1)}},[I,T]=l.useState(!1);l.useEffect(()=>{S()},[i,u]),l.useEffect(()=>{I&&(S(),T(!1))},[I,u,p]),l.useEffect(()=>{i!==1?o(1):T(!0)},[u]),l.useEffect(()=>{I||T(!0)},[i]);const[w,_]=l.useState(!1),A=()=>{i!==1?o(1):T(!0),f(p)};return s(J,{children:[e(La,{}),s("div",{className:"panel flex-1 overflow-x-hidden h-full",children:[e("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:s("div",{className:"flex items-center flex-wrap justify-between gap-2 ",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:p,onChange:k=>{f(k.target.value)},placeholder:"Search by Name",className:"form-input ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{onClick:()=>{A()},className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",children:e(ft,{})})]}),e("button",{onClick:()=>{S()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})}),e("div",{className:"datatables",children:e(je,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:h==null?void 0:h.data,columns:[{accessor:"Name",sortable:!0,render:({first_name:k,last_name:g})=>s("div",{className:"flex items-center font-semibold",children:[e("div",{className:"p-0.5 bg-white-dark/30 rounded-full w-max ltr:mr-1 rtl:ml-1"}),s("div",{children:[k," ",g]})]})},{accessor:"Email",sortable:!0,render:({email:k})=>e("p",{children:k})},{accessor:"Mobile Number",sortable:!0,render:({phone:k})=>e("p",{children:k})},{accessor:"From",sortable:!0,render:({from:k})=>e("p",{children:k})},{accessor:"Message",sortable:!0,render:({message:k})=>e("p",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:k})},{accessor:"Date",sortable:!0,render:({created_at:k})=>e("p",{children:k})}],totalRecords:h==null?void 0:h.totalItems,recordsPerPage:h==null?void 0:h.pageSize,page:i,fetching:w,onPageChange:k=>o(k),recordsPerPageOptions:m,onRecordsPerPageChange:c,minHeight:200,paginationText:({totalRecords:k})=>`Showing  ${h==null?void 0:h.from} to ${h==null?void 0:h.to} of ${k} entries`})})]})]})}function C7(){return s("div",{children:[e(La,{}),e("div",{style:{height:"70vh",margin:0},children:e("iframe",{src:"https://www.growthlift.co.in",title:"Website Preview",width:"100%",height:"100%",className:"mt-4 border-4 border-info rounded"})})]})}const S7=()=>{const{logout:t,crmToken:a,apiUrl:n}=ee(),r=ve();l.useEffect(()=>{r(Se("Complaince Status")),f()},[a]);const[i,o]=l.useState(!0),[m,u]=l.useState(null),[c,p]=l.useState([]),f=async()=>{var v;console.log("Fetching Complaince Status"),o(!0),u(null);try{const d=await K({method:"get",url:n+"/api/complainceStatus",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}});d.data.status=="success"&&p(d.data.data)}catch(d){console.log(d),u(d),((v=d==null?void 0:d.response)==null?void 0:v.status)==401&&t()}finally{o(!1)}},[h]=l.useState({id:"",at_the_beginning_of_the_month:"",received_during_the_month:"",resolved_during_the_month:"",pending_at_the_end_of_the_month:"",reasons_for_pendency:""}),[b,S]=l.useState(h),[I,T]=l.useState({});l.useEffect(()=>{if(c.complainceStatus&&Object.values(c.complainceStatus).length){const v=c.complainceStatus;S({id:1,at_the_beginning_of_the_month:v.at_the_beginning_of_the_month?v.at_the_beginning_of_the_month:"",received_during_the_month:v.received_during_the_month?v.received_during_the_month:"",resolved_during_the_month:v.resolved_during_the_month?v.resolved_during_the_month:"",pending_at_the_end_of_the_month:v.pending_at_the_end_of_the_month?v.pending_at_the_end_of_the_month:"",reasons_for_pendency:v.reasons_for_pendency?v.reasons_for_pendency:""})}},[c]);const w=v=>{const{value:d,name:y,type:M,checked:C}=v.target;T({...I,[y]:""}),M=="checkbox"?S({...b,[y]:C?1:0}):S({...b,[y]:d}),console.log(b)},_=()=>{T({});let v={};return b.at_the_beginning_of_the_month||(v={...v,at_the_beginning_of_the_month:"Beginning  Month is required"}),b.received_during_the_month||(v={...v,received_during_the_month:" Received Month is required"}),b.resolved_during_the_month||(v={...v,resolved_during_the_month:"Resolved Month is required"}),b.pending_at_the_end_of_the_month||(v={...v,pending_at_the_end_of_the_month:"Pending Month is required"}),console.log(v),T(v),{totalErrors:Object.keys(v).length}},A=async v=>{var y;g(!0);try{const M=await K({method:"post",url:n+"/api/complainceStatus",data:v,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+a}});M.data.status=="success"?(console.log(M.data.complainceStatus),N(M.data.message)):alert("Failed")}catch(M){if(console.log(M),((y=M==null?void 0:M.response)==null?void 0:y.status)===422){const C=M.response.data.errors;let x={};for(var d in C)x={...x,[d]:C[d][0]},console.log(C[d][0]);T(x),re.fire({title:"Server Validation Error! Please solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{g(!1)}},[k,g]=l.useState(!1),E=()=>{if(_().totalErrors)return!1;const d=new FormData;d.append("at_the_beginning_of_the_month",b.at_the_beginning_of_the_month),d.append("received_during_the_month",b.received_during_the_month),d.append("resolved_during_the_month",b.resolved_during_the_month),d.append("pending_at_the_end_of_the_month",b.pending_at_the_end_of_the_month),d.append("reasons_for_pendency",b.reasons_for_pendency),A(d)},N=(v="",d="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:d,title:v,padding:"10px 20px"})};return e(J,{children:s("div",{className:"relative  h-full",children:[e(La,{}),e("div",{className:"panel p-0 flex-1 overflow-x-hidden h-full",children:i?e(J,{children:e(eo,{})}):m?e(E7,{error:m,fetchSettings:f}):e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-5",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Complaince Status"}),s("div",{className:" flex gap-3",children:[e(Q,{to:"/complaince-board",children:e("button",{type:"button",className:"btn btn-primary shadow",disabled:k,children:"Back to Complaince Board"})}),e("button",{type:"button",onClick:()=>{E()},className:"btn btn-primary shadow",disabled:k,children:k?"Please Wait...":b.id?"Update":"Add"}),e("button",{onClick:()=>{f()},className:"bg-[#f4f4f4] rounded-md p-2 enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5 space-y-5",children:s("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s("div",{children:[s("label",{children:["At the beginning of the month ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter At the beginning of the month",className:"form-input",name:"at_the_beginning_of_the_month",value:b.at_the_beginning_of_the_month,onChange:v=>w(v)}),I!=null&&I.at_the_beginning_of_the_month?e("div",{className:"text-danger mt-1",children:I.at_the_beginning_of_the_month}):""]}),s("div",{children:[s("label",{children:["Received during the month ",e("span",{className:" text-red-600 text-md",children:"*"})," "]}),e("input",{type:"text",placeholder:"Enter Received during the month",className:"form-input",name:"received_during_the_month",value:b.received_during_the_month,onChange:v=>w(v)}),I!=null&&I.received_during_the_month?e("div",{className:"text-danger mt-1",children:I.received_during_the_month}):""]}),s("div",{children:[s("label",{children:["Resolved during the month ",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Resolved during the month",className:"form-input",name:"resolved_during_the_month",value:b.resolved_during_the_month,onChange:v=>w(v)}),I!=null&&I.resolved_during_the_month?e("div",{className:"text-danger mt-1",children:I.resolved_during_the_month}):""]}),s("div",{children:[s("label",{children:["Pending At The End Of The Month	",e("span",{className:" text-red-600 text-md",children:"*"})]}),e("input",{type:"text",placeholder:"Enter Pending At The End Of The Month",className:"form-input",name:"pending_at_the_end_of_the_month",value:b.pending_at_the_end_of_the_month,onChange:v=>w(v)}),I!=null&&I.pending_at_the_end_of_the_month?e("div",{className:"text-danger mt-1",children:I.pending_at_the_end_of_the_month}):""]}),s("div",{children:[e("label",{children:"Reasons for Pendency"}),e("textarea",{name:"reasons_for_pendency",onChange:v=>w(v),value:b.reasons_for_pendency,className:"form-textarea"}),I!=null&&I.reasons_for_pendency?e("div",{className:"text-danger mt-1",children:I.reasons_for_pendency}):""]})]})})]})})})]})})},E7=({error:t,fetchSettings:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})},T7=()=>{const t=ve(),a=Re(),{crmToken:n,apiUrl:r}=ee(),[i,o]=l.useState(1),m=[10,25,50,100,250,500,1e3],[u,c]=l.useState(m[0]),[p,f]=l.useState(""),[h,b]=l.useState({columnAccessor:"id",direction:"asc"});l.useEffect(()=>{n?(t(Se("Payments")),g()):a("/")},[i,u]);const[S,I]=l.useState(!1),[T]=l.useState({id:"",bank_name:"",company_name:"",account_no:"",account_type:"",ifsc_code:"",image:"",status:0,payment_mode:""}),[w,_]=l.useState(null),[A,k]=l.useState([]),g=async()=>{I(!0),_(null);try{const D=await K({method:"get",url:r+"/api/payments",params:{page:i,pageSize:u,search:p},headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});D.data.status=="success"&&(console.log("*** Fetching ComplainceBoards Data ***"),k(D.data.data))}catch(D){_(D)}finally{I(!1)}},E=l.useRef(null),[N,v]=l.useState("https://dummyimage.com/600x400/000/fff"),[d,y]=l.useState(T),[M,C]=l.useState({}),x=()=>{C({});let D={};return d.payment_mode||(D={...D,payment_mode:" payment mode is required"}),d.payment_mode=="Bank"&&(d.company_name||(D={...D,company_name:" company name is required"}),d.bank_name||(D={...D,bank_name:" bank name is required"}),d.account_no||(D={...D,account_no:" account no is required"}),d.account_type||(D={...D,account_type:" account type is required"}),d.ifsc_code||(D={...D,ifsc_code:" ifsc code is required"}),d.status||(D={...D,status:" status is required"})),C(D),{totalErrors:Object.keys(D).length}},L=D=>{const{name:V}=D.target;if(C({...M,[V]:""}),D.target.files[0]){if(D.target.files[0].type&&D.target.files[0].type.indexOf("image")===-1){C({...M,[V]:"file is not a valid image"});return}const j=2*1024*1024;if(D.target.files[0].size>j){C({...M,[V]:"maximum file size is 2 mb"});return}const U=new FileReader;U.onload=function(Z){v(U.result),y({...d,[V]:D.target.files[0]})},U.readAsDataURL(D.target.files[0])}},[F,O]=l.useState(!1),$=D=>{const{value:V,name:j}=D.target;C({...M,[j]:""}),y({...d,[j]:V})},B=async D=>{var j;O(!0);try{const U=await K({method:"post",url:r+"/api/payments",data:D,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n}});U.data.status=="success"?(z(U.data.message),y(T),g(),q(!1)):alert("Failed")}catch(U){if(console.log(U),U.response.status==401&&t(at("")),((j=U==null?void 0:U.response)==null?void 0:j.status)===422){const Z=U.response.data.errors;let Y={};for(var V in Z)Y={...Y,[V]:Z[V][0]},console.log(Z[V][0]);C(Y),re.fire({title:"Server Validation Error! Please Solve",toast:!0,position:"top",showConfirmButton:!1,showCancelButton:!1,width:450,timer:2e3,customClass:{popup:"color-danger"}})}}finally{O(!1)}},R=()=>{if(x().totalErrors)return!1;const V=new FormData;V.append("id",d.id),V.append("bank_name",d.bank_name?d.bank_name:""),V.append("image",d.image),V.append("company_name",d.company_name?d.company_name:""),V.append("account_no",d.account_no?d.account_no:""),V.append("account_type",d.account_type?d.account_type:""),V.append("ifsc_code",d.ifsc_code?d.ifsc_code:""),V.append("payment_mode",d.payment_mode?d.payment_mode:""),V.append("status",d.status),B(V)},P=D=>{if(console.log(D),C({}),D)y({id:D.id,payment_mode:D.payment_mode,bank_name:D.bank_name,image:D.image,company_name:D.company_name,account_no:D.account_no,ifsc_code:D.ifsc_code,account_type:D.account_type,status:D.status?"1":"0"}),D.image?v(`${r}${D.image}`):v("https://dummyimage.com/600x400/000/fff");else{const V=JSON.parse(JSON.stringify(T));y(V),v("https://dummyimage.com/600x400/000/fff")}q(!0)},z=(D="",V="success")=>{re.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,customClass:{container:"toast"}}).fire({icon:V,title:D,padding:"10px 20px"})},H=D=>{re.fire({icon:"warning",title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonText:"Delete",padding:"2em",customClass:"sweet-alerts"}).then(async V=>{if(V.value)try{const j=await K({method:"delete",url:r+"/api/payments/"+D.id,headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});j.data.status==="success"&&(z(j.data.message),g())}catch(j){j.response&&j.response.status===400?z("Cannot delete the Dropdown as it is being used."):z("Error deleting product.")}finally{}})},[W,q]=l.useState(!1);return e(J,{children:s("div",{className:"relative  h-full",children:[e(La,{}),w?e(A7,{error:w,fetchPayments:g}):e("div",{className:" p-0 flex-1 overflow-x-hidden h-full",children:e("div",{className:"flex flex-col h-full",children:s("div",{className:"panel",children:[s("div",{className:"flex items-center justify-between mb-1",children:[e("h5",{className:"font-semibold text-lg dark:text-white-light",children:"Payment Mode List"}),s("div",{className:"flex gap-4",children:[s("div",{className:"flex",children:[e("input",{type:"text",value:p,onChange:D=>f(D.target.value),placeholder:"Search by Name",className:"form-input min-w-[220px] ltr:rounded-r-none rtl:rounded-l-none"}),e("div",{className:"bg-[#eee] flex justify-center items-center ltr:rounded-r-md rtl:rounded-l-md px-3 font-semibold border ltr:border-l-0 rtl:border-r-0 border-white-light dark:border-[#17263c] dark:bg-[#1b2e4b]",onClick:()=>i==1?g():o(1),children:e(ft,{})})]}),e("button",{className:"btn btn-sm btn-primary",onClick:()=>q(!W),children:"Add PaymentMode"}),e("button",{onClick:()=>{g()},className:"bg-[#f4f4f4] rounded-md p-2  enabled:hover:bg-primary-light dark:bg-white-dark/20 enabled:dark:hover:bg-white-dark/30  disabled:opacity-60 disabled:cursor-not-allowed",children:e(Oe,{className:"w-5 h-5"})}),e("div",{className:`${W&&"!block"||""} fixed inset-0 bg-[black]/60 z-[51] px-4 hidden transition-[display]`,onClick:()=>q(!W)}),e("nav",{className:`${W&&"ltr:!right-0 rtl:!left-0"||""} bg-white fixed ltr:-right-[500px] rtl:-left-[500px] top-0 bottom-0 w-full max-w-[500px] shadow-[5px_0_25px_0_rgba(94,92,154,0.1)] transition-[right] duration-1000 z-[51] dark:bg-black p-4 pt-0`,children:e("div",{className:"flex flex-col h-screen overflow-hidden",children:e("section",{className:"flex-1 overflow-y-auto overflow-x-hidden perfect-scrollbar mt-5",children:e("form",{autoComplete:"off",action:"",method:"post",className:"p-0",children:e("div",{className:"mb-5",children:s(Xe.Group,{children:[s("div",{className:"flex justify-between mb-4 ",children:[e("div",{className:"text-lg bold",children:"Payment Mode"}),d.id?e("button",{type:"button",onClick:()=>y(T),className:"btn btn-sm btn-primary",children:"Add ComplainceBoard"}):""]}),e("hr",{className:"mb-5"}),e(Xe.Panels,{children:e(Xe.Panel,{children:s("div",{className:"mb-5 space-y-5",children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Select Mode"}),s("select",{className:"form-select",name:"payment_mode",onChange:D=>$(D),value:d.payment_mode,children:[e("option",{children:"Select Mode"}),e("option",{value:"Bank",children:"Bank"}),e("option",{value:"QRCode",children:"ORCode"})]}),M!=null&&M.payment_mode?e("div",{className:"text-danger mt-1",children:M.payment_mode}):""]})}),e("div",{children:d.payment_mode=="Bank"?s(J,{children:[e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:" Bank Name"}),e("input",{type:"text",placeholder:"Enter Bank Name",className:"form-input",name:"bank_name",value:d.bank_name,onChange:D=>$(D)}),M!=null&&M.bank_name?e("div",{className:"text-danger mt-1",children:M.bank_name}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Company Name"}),e("input",{type:"text",placeholder:"Enter Company Name",className:"form-input",name:"company_name",value:d.company_name,onChange:D=>$(D)}),M!=null&&M.company_name?e("div",{className:"text-danger mt-1",children:M.company_name}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Account Number"}),e("input",{type:"text",placeholder:"Enter Account Number",className:"form-input",name:"account_no",value:d.account_no,onChange:D=>$(D)}),M!=null&&M.account_no?e("div",{className:"text-danger mt-1",children:M.account_no}):""]})}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Account Type"}),e("input",{type:"text",placeholder:"Enter Account Type",className:"form-input",name:"account_type",value:d.account_type,onChange:D=>$(D)}),M!=null&&M.account_type?e("div",{className:"text-danger mt-1",children:M.account_type}):""]})}),s("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:[s("div",{children:[e("label",{children:"IFSC Code"}),e("input",{type:"text",placeholder:"Enter IFSC Code",className:"form-input",name:"ifsc_code",value:d.ifsc_code,onChange:D=>$(D)}),M!=null&&M.ifsc_code?e("div",{className:"text-danger mt-1",children:M.ifsc_code}):""]}),s("div",{className:"mb-5",children:[e("label",{children:"Image"}),e("input",{ref:E,name:"image",type:"file",onChange:D=>L(D),className:"form-input hidden",accept:"image/*"}),e("span",{className:"w-full h-40 relative",children:e("img",{className:"w-40 h-40  overflow-hidden object-cover",id:"image",onClick:()=>{E.current.click()},src:N,alt:"image"})}),M!=null&&M.image?e("div",{className:"text-danger mt-1",children:M.image}):""]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Status"}),s("select",{name:"status",className:"form-select text-white-dark",onChange:D=>$(D),value:d.status?d.status:"",children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),M!=null&&M.status?e("div",{className:"text-danger mt-1",children:M.status}):""]})})]})]}):(d==null?void 0:d.payment_mode)=="QRCode"?s(J,{children:[s("div",{className:"mb-5",children:[e("label",{children:"Image"}),e("input",{ref:E,name:"image",type:"file",onChange:D=>L(D),className:"form-input hidden",accept:"image/*"}),e("span",{className:"w-full h-40 relative",children:e("img",{className:"w-40 h-40  overflow-hidden object-cover",id:"image",onClick:()=>{E.current.click()},src:N,alt:"image"})}),M!=null&&M.image?e("div",{className:"text-danger mt-1",children:M.image}):""]}),e("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:s("div",{children:[e("label",{children:"Status"}),s("select",{name:"status",className:"form-select text-white-dark",onChange:D=>$(D),value:d.status?d.status:"",children:[e("option",{value:"",children:"Select Status"}),e("option",{value:1,children:"Active"}),e("option",{value:0,children:"Inactive"})]}),M!=null&&M.status?e("div",{className:"text-danger mt-1",children:M.status}):""]})})]}):"Please Select Mode to Continue"}),((d==null?void 0:d.payment_mode)=="Bank"||d.payment_mode=="QRCode")&&e("button",{type:"button",onClick:()=>R(),disabled:F,className:"btn bg-[#1d67a7] text-white ltr:ml-4 rtl:mr-4",children:F?"Please wait":d.id?"Update ComplainceBoard":"Add ComplainceBoard"})]})})})]})})})})})})]})]}),e("hr",{className:"my-4 dark:border-[#191e3a]"}),e("div",{className:"mb-5",children:e("div",{className:"datatables",children:e(je,{className:"whitespace-nowrap table-hover",records:A==null?void 0:A.data,columns:[{accessor:"Id",sortable:!0,render:({id:D})=>e("div",{className:"flex flex-col gap-2",children:e("div",{className:"font-semibold",children:D})})},{accessor:" Bank Name",sortable:!0,render:({bank_name:D})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:D})})},{accessor:"Image",sortable:!0,render:({image:D})=>e("div",{className:"flex items-center gap-2",children:e("img",{className:"w-20 h-20 rounded-md overflow-hidden object-cover",src:`${r}${D}`,alt:"img"})})},{accessor:"Company Name",sortable:!0,render:({company_name:D})=>e("div",{className:"max-w-[400px]",style:{textWrap:"wrap"},children:e("h1",{children:e("b",{children:D})})})},{accessor:"Account Number",sortable:!0,render:({account_no:D})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:D})})},{accessor:"Account Type",sortable:!0,render:({account_type:D})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:D})})},{accessor:"IFSC Code",sortable:!0,render:({ifsc_code:D})=>e("div",{className:"flex items-center gap-2",children:e("div",{className:"font-semibold",children:D})})},{accessor:"Status",sortable:!0,render:({id:D,status:V})=>e("div",{className:"flex flex-col gap-2",children:s("label",{className:"w-12 h-6 relative",children:[e("input",{type:"checkbox",className:"custom_switch absolute w-full h-full opacity-0 z-10 cursor-pointer peer",id:"custom_switch_checkbox1",checked:!!V}),e("span",{className:"outline_checkbox border-2 border-[#d15553] dark:border-white-dark block h-full rounded-full before:absolute before:left-1 before:bg-[#d15553] dark:before:bg-white-dark before:bottom-1 before:w-4 before:h-4 before:rounded-full peer-checked:before:left-7 peer-checked:border-success peer-checked:before:bg-success before:transition-all before:duration-300"})]})})},{accessor:"Action",sortable:!0,render:D=>s("div",{className:"flex gap-2",children:[e("button",{type:"button",onClick:()=>{P(D)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Nt,{})}),e("button",{type:"button",onClick:()=>{H(D)},className:"btn btn-dark w-10 h-10 p-0 rounded-full",children:e(Rt,{})})]})}],highlightOnHover:!0,totalRecords:A==null?void 0:A.totalItems,recordsPerPage:A==null?void 0:A.pageSize,page:i,onPageChange:D=>o(D),recordsPerPageOptions:m,onRecordsPerPageChange:c,sortStatus:h,onSortStatusChange:b,minHeight:200,fetching:S,loaderColor:"blue",loaderBackgroundBlur:4,paginationText:({from:D,to:V,totalRecords:j})=>`Showing  ${A==null?void 0:A.from} to ${A.to} of ${j} entries`})})})]})})})]})})},A7=({error:t,fetchTestimonials:a})=>{var n;return e(J,{children:s("div",{className:"bg-[#ece7f7] w-full h-[calc(80vh-80px)] flex flex-col items-center justify-center text-center space-y-4",children:[e("h1",{className:"text-5xl font-extrabold",children:t==null?void 0:t.status}),e("p",{children:e("b",{children:t==null?void 0:t.message})}),e("p",{children:e("b",{children:(n=t==null?void 0:t.response)==null?void 0:n.statusText})}),s("div",{className:"space-x-4",children:[e(Q,{to:"/",className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Back to Home"}),e("button",{className:"bg-green-500 text-white px-4 py-2 rounded",onClick:()=>a(),children:"Re Try"})]})]})})};function P7({filteredItems:t,selectUser:a,selectedUser:n}){return e(qe,{className:"chat-users relative h-full min-h-[100px] sm:h-[calc(100vh_-_357px)] space-y-0.5 ltr:pr-3.5 rtl:pl-3.5 ltr:-mr-3.5 rtl:-ml-3.5",children:t.map(r=>{var i,o,m,u;return e("div",{children:s("button",{type:"button",className:`w-full flex justify-between items-center p-2 hover:bg-gray-100 dark:hover:bg-[#050b14] rounded-md dark:hover:text-primary hover:text-primary ${n&&n.id===r.id?"shadow bg-gray-100 dark:bg-[#050b14] dark:text-primary text-primary":""}`,onClick:()=>a(r),children:[e("div",{className:"flex-1",children:s("div",{className:"flex items-center",children:[s("div",{className:"flex-shrink-0 relative",children:[e("img",{src:`https://ui-avatars.com/api/?background=random&name=${((i=r==null?void 0:r.lead)==null?void 0:i.first_name)+""+((o=r==null?void 0:r.lead)==null?void 0:o.last_name)}`,className:"rounded-full h-12 w-12 object-cover",alt:""}),r.active&&e("div",{children:e("div",{className:"absolute bottom-0 ltr:right-0 rtl:left-0",children:e("div",{className:"w-4 h-4 bg-success rounded-full"})})})]}),s("div",{className:"mx-3 ltr:text-left rtl:text-right",children:[s("p",{className:"mb-1 font-semibold",children:[(m=r==null?void 0:r.lead)==null?void 0:m.first_name," ",(u=r==null?void 0:r.lead)==null?void 0:u.last_name]}),e("p",{className:"text-xs text-white-dark truncate max-w-[175px]",children:r.message_content})]})]})}),e("div",{className:"font-semibold whitespace-nowrap text-xs",children:e("p",{children:r.time})})]})},r.id)})})}function I7({isShowChatMenu:t,setIsShowChatMenu:a}){const n=_e(r=>r.themeConfig.theme==="dark"||r.themeConfig.isDarkMode);return s("div",{className:"flex items-center justify-center h-full relative p-4",children:[e("button",{type:"button",onClick:()=>a(!t),className:"xl:hidden absolute top-4 ltr:left-4 rtl:right-4 hover:text-primary",children:e(ns,{})}),s("div",{className:"py-8 flex items-center justify-center flex-col",children:[e("div",{className:"w-[280px] md:w-[430px] mb-8 h-[calc(100vh_-_320px)] min-h-[120px] text-white dark:text-black",children:s("svg",{xmlns:"http://www.w3.org/2000/svg","data-name":"Layer 1",className:"w-full h-full",viewBox:"0 0 891.29496 745.19434","xmlns-xlink":"http://www.w3.org/1999/xlink",children:[e("ellipse",{cx:"418.64354",cy:"727.19434",rx:"352",ry:"18",fill:n?"#888ea8":"#e6e6e6"}),e("path",{d:"M778.64963,250.35008h-3.99878V140.80476a63.40187,63.40187,0,0,0-63.4018-63.40193H479.16232a63.40188,63.40188,0,0,0-63.402,63.4017v600.9744a63.40189,63.40189,0,0,0,63.4018,63.40192H711.24875a63.40187,63.40187,0,0,0,63.402-63.40168V328.32632h3.99878Z",transform:"translate(-154.35252 -77.40283)",fill:"#3f3d56"}),e("path",{d:"M761.156,141.24713v600.09a47.35072,47.35072,0,0,1-47.35,47.35h-233.2a47.35084,47.35084,0,0,1-47.35-47.35v-600.09a47.3509,47.3509,0,0,1,47.35-47.35h28.29a22.50659,22.50659,0,0,0,20.83,30.99h132.96a22.50672,22.50672,0,0,0,20.83-30.99h30.29A47.35088,47.35088,0,0,1,761.156,141.24713Z",transform:"translate(-154.35252 -77.40283)",fill:"currentColor"}),e("path",{d:"M686.03027,400.0032q-2.32543,1.215-4.73047,2.3-2.18994.99-4.4497,1.86c-.5503.21-1.10987.42-1.66992.63a89.52811,89.52811,0,0,1-13.6001,3.75q-3.43506.675-6.96,1.06-2.90991.33-5.87989.47c-1.41015.07-2.82031.1-4.24023.1a89.84124,89.84124,0,0,1-16.75977-1.57c-1.44043-.26-2.85009-.57-4.26025-.91a88.77786,88.77786,0,0,1-19.66992-7.26c-.56006-.28-1.12012-.58-1.68018-.87-.83008-.44-1.63965-.9-2.4497-1.38.38964-.54.81005-1.07,1.23974-1.59a53.03414,53.03414,0,0,1,78.87012-4.1,54.27663,54.27663,0,0,1,5.06006,5.86C685.25977,398.89316,685.6499,399.44321,686.03027,400.0032Z",transform:"translate(-154.35252 -77.40283)",fill:"#6c63ff"}),e("circle",{cx:"492.14325",cy:"234.76352",r:"43.90974",fill:"#2f2e41"}),e("circle",{cx:"642.49883",cy:"327.46205",r:"32.68086",transform:"translate(-232.6876 270.90663) rotate(-28.66315)",fill:"#a0616a"}),e("path",{d:"M676.8388,306.90589a44.44844,44.44844,0,0,1-25.402,7.85033,27.23846,27.23846,0,0,0,10.796,4.44154,89.62764,89.62764,0,0,1-36.61.20571,23.69448,23.69448,0,0,1-7.66395-2.63224,9.699,9.699,0,0,1-4.73055-6.3266c-.80322-4.58859,2.77227-8.75743,6.488-11.567a47.85811,47.85811,0,0,1,40.21662-8.03639c4.49246,1.16124,8.99288,3.12327,11.91085,6.731s3.78232,9.16981,1.00224,12.88488Z",transform:"translate(-154.35252 -77.40283)",fill:"#2f2e41"}),e("path",{d:"M644.5,230.17319a89.98675,89.98675,0,0,0-46.83984,166.83l.58007.34q.72.43506,1.43995.84c.81005.48,1.61962.94,2.4497,1.38.56006.29,1.12012.59,1.68018.87a88.77786,88.77786,0,0,0,19.66992,7.26c1.41016.34,2.81982.65,4.26025.91a89.84124,89.84124,0,0,0,16.75977,1.57c1.41992,0,2.83008-.03,4.24023-.1q2.97-.135,5.87989-.47,3.52513-.39,6.96-1.06a89.52811,89.52811,0,0,0,13.6001-3.75c.56005-.21,1.11962-.42,1.66992-.63q2.26464-.87,4.4497-1.86,2.40015-1.08,4.73047-2.3a90.7919,90.7919,0,0,0,37.03955-35.97c.04-.07995.09034-.16.13038-.24a89.30592,89.30592,0,0,0,9.6499-26.41,90.051,90.051,0,0,0-88.3501-107.21Zm77.06006,132.45c-.08008.14-.1499.28-.23.41a88.17195,88.17195,0,0,1-36.48,35.32q-2.29542,1.2-4.66992,2.25c-1.31006.59-2.64991,1.15-4,1.67-.57032.22-1.14991.44-1.73.64a85.72126,85.72126,0,0,1-11.73,3.36,84.69473,84.69473,0,0,1-8.95019,1.41c-1.8501.2-3.73.34-5.62012.41-1.21.05-2.42969.08-3.6499.08a86.762,86.762,0,0,1-16.21973-1.51,85.62478,85.62478,0,0,1-9.63037-2.36,88.46592,88.46592,0,0,1-13.98974-5.67c-.52-.27-1.04-.54-1.5503-.82-.73-.39-1.46972-.79-2.18994-1.22-.54-.3-1.08008-.62-1.60986-.94-.31006-.18-.62012-.37-.93018-.56a88.06851,88.06851,0,1,1,123.18018-32.47Z",transform:"translate(-154.35252 -77.40283)",fill:"#3f3d56"}),e("path",{d:"M624.2595,268.86254c-.47244-4.968-6.55849-8.02647-11.3179-6.52583s-7.88411,6.2929-8.82863,11.19308a16.0571,16.0571,0,0,0,2.16528,12.12236c2.40572,3.46228,6.82664,5.623,10.95,4.74406,4.70707-1.00334,7.96817-5.59956,8.90127-10.32105s.00667-9.58929-.91854-14.31234Z",transform:"translate(-154.35252 -77.40283)",fill:"#2f2e41"}),e("path",{d:"M691.24187,275.95964c-.47245-4.968-6.5585-8.02646-11.3179-6.52582s-7.88412,6.29289-8.82864,11.19307a16.05711,16.05711,0,0,0,2.16529,12.12236c2.40571,3.46228,6.82663,5.623,10.95,4.74406,4.70707-1.00334,7.96817-5.59955,8.90127-10.32105s.00667-9.58929-.91853-14.31234Z",transform:"translate(-154.35252 -77.40283)",fill:"#2f2e41"}),e("path",{d:"M488.93638,356.14169a4.47525,4.47525,0,0,1-3.30664-1.46436L436.00767,300.544a6.02039,6.02039,0,0,0-4.42627-1.94727H169.3618a15.02615,15.02615,0,0,1-15.00928-15.00927V189.025a15.02615,15.02615,0,0,1,15.00928-15.00928H509.087A15.02615,15.02615,0,0,1,524.0963,189.025v94.5625A15.02615,15.02615,0,0,1,509.087,298.59676h-9.63135a6.01157,6.01157,0,0,0-6.00464,6.00489v47.0332a4.474,4.474,0,0,1-2.87011,4.1958A4.52563,4.52563,0,0,1,488.93638,356.14169Z",transform:"translate(-154.35252 -77.40283)",fill:"currentColor"}),e("path",{d:"M488.93638,356.14169a4.47525,4.47525,0,0,1-3.30664-1.46436L436.00767,300.544a6.02039,6.02039,0,0,0-4.42627-1.94727H169.3618a15.02615,15.02615,0,0,1-15.00928-15.00927V189.025a15.02615,15.02615,0,0,1,15.00928-15.00928H509.087A15.02615,15.02615,0,0,1,524.0963,189.025v94.5625A15.02615,15.02615,0,0,1,509.087,298.59676h-9.63135a6.01157,6.01157,0,0,0-6.00464,6.00489v47.0332a4.474,4.474,0,0,1-2.87011,4.1958A4.52563,4.52563,0,0,1,488.93638,356.14169ZM169.3618,176.01571A13.024,13.024,0,0,0,156.35252,189.025v94.5625a13.024,13.024,0,0,0,13.00928,13.00927H431.5814a8.02436,8.02436,0,0,1,5.90039,2.59571l49.62208,54.1333a2.50253,2.50253,0,0,0,4.34716-1.69092v-47.0332a8.0137,8.0137,0,0,1,8.00464-8.00489H509.087a13.024,13.024,0,0,0,13.00928-13.00927V189.025A13.024,13.024,0,0,0,509.087,176.01571Z",transform:"translate(-154.35252 -77.40283)",fill:"#3f3d56"}),e("circle",{cx:"36.81601",cy:"125.19345",r:"13.13371",fill:"#6c63ff"}),e("path",{d:"M493.76439,275.26947H184.68447a7.00465,7.00465,0,1,1,0-14.00929H493.76439a7.00465,7.00465,0,0,1,0,14.00929Z",transform:"translate(-154.35252 -77.40283)",fill:n?"#888ea8":"#e6e6e6"}),e("path",{d:"M393.07263,245.49973H184.68447a7.00465,7.00465,0,1,1,0-14.00929H393.07263a7.00464,7.00464,0,0,1,0,14.00929Z",transform:"translate(-154.35252 -77.40283)",fill:n?"#888ea8":"#e6e6e6"}),e("path",{d:"M709.41908,676.83065a4.474,4.474,0,0,1-2.87011-4.1958v-47.0332a6.01157,6.01157,0,0,0-6.00464-6.00489H690.913a15.02615,15.02615,0,0,1-15.00928-15.00927V510.025A15.02615,15.02615,0,0,1,690.913,495.01571H1030.6382a15.02615,15.02615,0,0,1,15.00928,15.00928v94.5625a15.02615,15.02615,0,0,1-15.00928,15.00927H768.4186a6.02039,6.02039,0,0,0-4.42627,1.94727l-49.62207,54.1333a4.47525,4.47525,0,0,1-3.30664,1.46436A4.52563,4.52563,0,0,1,709.41908,676.83065Z",transform:"translate(-154.35252 -77.40283)",fill:"currentColor"}),e("path",{d:"M709.41908,676.83065a4.474,4.474,0,0,1-2.87011-4.1958v-47.0332a6.01157,6.01157,0,0,0-6.00464-6.00489H690.913a15.02615,15.02615,0,0,1-15.00928-15.00927V510.025A15.02615,15.02615,0,0,1,690.913,495.01571H1030.6382a15.02615,15.02615,0,0,1,15.00928,15.00928v94.5625a15.02615,15.02615,0,0,1-15.00928,15.00927H768.4186a6.02039,6.02039,0,0,0-4.42627,1.94727l-49.62207,54.1333a4.47525,4.47525,0,0,1-3.30664,1.46436A4.52563,4.52563,0,0,1,709.41908,676.83065ZM690.913,497.01571A13.024,13.024,0,0,0,677.9037,510.025v94.5625A13.024,13.024,0,0,0,690.913,617.59676h9.63135a8.0137,8.0137,0,0,1,8.00464,8.00489v47.0332a2.50253,2.50253,0,0,0,4.34716,1.69092l49.62208-54.1333a8.02436,8.02436,0,0,1,5.90039-2.59571h262.2196a13.024,13.024,0,0,0,13.00928-13.00927V510.025a13.024,13.024,0,0,0-13.00928-13.00928Z",transform:"translate(-154.35252 -77.40283)",fill:"#3f3d56"}),e("path",{d:"M603.53027,706.11319a89.06853,89.06853,0,0,1-93.65039,1.49,54.12885,54.12885,0,0,1,9.40039-12.65,53.43288,53.43288,0,0,1,83.90967,10.56994C603.2998,705.71316,603.41992,705.91318,603.53027,706.11319Z",transform:"translate(-154.35252 -77.40283)",fill:"#6c63ff"}),e("circle",{cx:"398.44256",cy:"536.68841",r:"44.20157",fill:"#2f2e41"}),e("circle",{cx:"556.81859",cy:"629.4886",r:"32.89806",transform:"translate(-416.96496 738.72884) rotate(-61.33685)",fill:"#ffb8b8"}),e("path",{d:"M522.25039,608.79582a44.74387,44.74387,0,0,0,25.57085,7.9025,27.41946,27.41946,0,0,1-10.8677,4.47107,90.22316,90.22316,0,0,0,36.85334.20707,23.852,23.852,0,0,0,7.71488-2.64973,9.76352,9.76352,0,0,0,4.762-6.36865c.80855-4.61909-2.7907-8.81563-6.53113-11.64387a48.17616,48.17616,0,0,0-40.4839-8.08981c-4.52231,1.169-9.05265,3.144-11.99,6.77579s-3.80746,9.23076-1.0089,12.97052Z",transform:"translate(-154.35252 -77.40283)",fill:"#2f2e41"}),e("path",{d:"M555.5,721.17319a89.97205,89.97205,0,1,1,48.5708-14.21875A89.87958,89.87958,0,0,1,555.5,721.17319Zm0-178a88.00832,88.00832,0,1,0,88,88A88.09957,88.09957,0,0,0,555.5,543.17319Z",transform:"translate(-154.35252 -77.40283)",fill:"#3f3d56"}),e("circle",{cx:"563.81601",cy:"445.19345",r:"13.13371",fill:"#6c63ff"}),e("path",{d:"M1020.76439,595.26947H711.68447a7.00465,7.00465,0,1,1,0-14.00929h309.07992a7.00464,7.00464,0,0,1,0,14.00929Z",transform:"translate(-154.35252 -77.40283)",fill:n?"#888ea8":"#e6e6e6"}),e("path",{d:"M920.07263,565.49973H711.68447a7.00465,7.00465,0,1,1,0-14.00929H920.07263a7.00465,7.00465,0,0,1,0,14.00929Z",transform:"translate(-154.35252 -77.40283)",fill:n?"#888ea8":"#e6e6e6"}),e("ellipse",{cx:"554.64354",cy:"605.66091",rx:"24.50394",ry:"2.71961",fill:n?"#888ea8":"#e6e6e6"}),e("ellipse",{cx:"335.64354",cy:"285.66091",rx:"24.50394",ry:"2.71961",fill:n?"#888ea8":"#e6e6e6"})]})}),s("p",{className:"flex justify-center bg-white-dark/20 p-2 font-semibold rounded-md max-w-[190px] mx-auto",children:[e(lf,{className:"ltr:mr-2 rtl:ml-2"}),"Click User To Chat"]})]})]})}const L7=({audioSrc:t,autoPlay:a=!1})=>{const n=l.useRef(null),[r,i]=l.useState(a),[o,m]=l.useState(0),[u,c]=l.useState("0:00"),[p,f]=l.useState("0:00"),h=I=>{const T=Math.floor(I/60),w=Math.floor(I%60).toString().padStart(2,"0");return`${T}:${w}`};return l.useEffect(()=>{const I=n.current;a&&I.play();const T=()=>{const _=I.currentTime/I.duration*100;m(_),c(h(I.currentTime))},w=()=>{f(h(I.duration))};return I.addEventListener("timeupdate",T),I.addEventListener("loadedmetadata",w),()=>{I.removeEventListener("timeupdate",T),I.removeEventListener("loadedmetadata",w)}},[a]),s("div",{className:"w-[25rem] p-4 bg-white rounded-lg shadow flex items-center space-x-4 dark:bg-[#009688]/[.26]",children:[e("button",{onClick:()=>{const I=n.current;r?I.pause():I.play(),i(!r)},className:"w-12 h-12 flex items-center justify-center bg-[#075E54] text-white rounded-full hover:bg-[#075E54]",children:r?e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6.75v10.5m3-10.5v10.5"})}):e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 6.75l12.75 6-12.75 6V6.75z"})})}),s("div",{className:"flex-1",children:[e("div",{className:"w-full h-2 bg-gray-200 rounded-full cursor-pointer",onClick:I=>{const T=n.current,w=I.target.getBoundingClientRect(),A=(I.clientX-w.left)/w.width*T.duration;T.currentTime=A,m(A/T.duration*100)},children:e("div",{className:"h-2 bg-[#075E54] rounded-full",style:{width:`${o}%`}})}),e("div",{className:"flex justify-between text-sm text-gray-600 mt-1",children:e("span",{children:u})})]}),e("audio",{ref:n,src:t})]})},F7=({fileName:t,fileUrl:a})=>{const n=o=>{switch(o){case"pdf":return e($f,{className:"text-red-500"});case"jpg":case"jpeg":case"png":case"gif":return e(Rf,{className:"text-blue-500"});case"doc":case"docx":return e(Bf,{className:"text-blue-700"});case"xls":case"xlsx":return e(Of,{className:"text-green-600"});default:return e(Mf,{className:"text-gray-500"})}},i=(o=>{const m=o.split(".");return m.length>1?m[m.length-1].toLowerCase():""})(t);return s("div",{className:"w-[25rem] flex items-center border p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300",children:[e("div",{className:"text-3xl mr-4",children:n(i)}),s("div",{className:"flex-1",children:[e("p",{className:"font-medium text-gray-800 truncate dark:text-[#bfc9d4]",children:"Document"}),s("p",{className:"text-sm text-gray-500 dark:text-[#bfc9d4]",children:[".",i]})]}),a&&e("a",{href:a,download:t,className:"text-[#03880c] hover:text-[#03880c] flex items-center",children:e(Ff,{className:"text-xl mr-1"})})]})};function hu(t){return Ye({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m2.394 13.742 4.743 3.62 7.616-8.704-1.506-1.316-6.384 7.296-3.257-2.486zm19.359-5.084-1.506-1.316-6.369 7.279-.753-.602-1.25 1.562 2.247 1.798z"},child:[]}]})(t)}const M7=({className:t,fill:a=!1,duotone:n=!0})=>e(J,{children:a?s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{opacity:n?"0.5":"1",d:"M9.77778 21H14.2222C17.3433 21 18.9038 21 20.0248 20.2646C20.51 19.9462 20.9267 19.5371 21.251 19.0607C22 17.9601 22 16.4279 22 13.3636C22 10.2994 22 8.76721 21.251 7.6666C20.9267 7.19014 20.51 6.78104 20.0248 6.46268C19.3044 5.99013 18.4027 5.82123 17.022 5.76086C16.3631 5.76086 15.7959 5.27068 15.6667 4.63636C15.4728 3.68489 14.6219 3 13.6337 3H10.3663C9.37805 3 8.52715 3.68489 8.33333 4.63636C8.20412 5.27068 7.63685 5.76086 6.978 5.76086C5.59733 5.82123 4.69555 5.99013 3.97524 6.46268C3.48995 6.78104 3.07328 7.19014 2.74902 7.6666C2 8.76721 2 10.2994 2 13.3636C2 16.4279 2 17.9601 2.74902 19.0607C3.07328 19.5371 3.48995 19.9462 3.97524 20.2646C5.09624 21 6.65675 21 9.77778 21Z",fill:"currentColor"}),e("path",{d:"M17.5562 9.27246C17.096 9.27246 16.7229 9.63877 16.7229 10.0906C16.7229 10.5425 17.096 10.9088 17.5562 10.9088H18.6673C19.1276 10.9088 19.5007 10.5425 19.5007 10.0906C19.5007 9.63877 19.1276 9.27246 18.6673 9.27246H17.5562Z",fill:n?"currentColor":"white"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0007 9.27246C9.69946 9.27246 7.83398 11.104 7.83398 13.3634C7.83398 15.6227 9.69946 17.4543 12.0007 17.4543C14.3018 17.4543 16.1673 15.6227 16.1673 13.3634C16.1673 11.104 14.3018 9.27246 12.0007 9.27246ZM12.0007 10.9088C10.6199 10.9088 9.50065 12.0078 9.50065 13.3634C9.50065 14.719 10.6199 15.8179 12.0007 15.8179C13.3814 15.8179 14.5007 14.719 14.5007 13.3634C14.5007 12.0078 13.3814 10.9088 12.0007 10.9088Z",fill:n?"currentColor":"white"})]}):s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("circle",{cx:"12",cy:"13",r:"3",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{opacity:n?"0.5":"1",d:"M9.77778 21H14.2222C17.3433 21 18.9038 21 20.0248 20.2646C20.51 19.9462 20.9267 19.5371 21.251 19.0607C22 17.9601 22 16.4279 22 13.3636C22 10.2994 22 8.76721 21.251 7.6666C20.9267 7.19014 20.51 6.78104 20.0248 6.46268C19.3044 5.99013 18.4027 5.82123 17.022 5.76086C16.3631 5.76086 15.7959 5.27068 15.6667 4.63636C15.4728 3.68489 14.6219 3 13.6337 3H10.3663C9.37805 3 8.52715 3.68489 8.33333 4.63636C8.20412 5.27068 7.63685 5.76086 6.978 5.76086C5.59733 5.82123 4.69555 5.99013 3.97524 6.46268C3.48995 6.78104 3.07328 7.19014 2.74902 7.6666C2 8.76721 2 10.2994 2 13.3636C2 16.4279 2 17.9601 2.74902 19.0607C3.07328 19.5371 3.48995 19.9462 3.97524 20.2646C5.09624 21 6.65675 21 9.77778 21Z",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{d:"M19 10H18",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]})}),O7=({className:t,fill:a=!1,duotone:n=!0})=>e(J,{children:a?n?s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{opacity:n?"0.5":"1",d:"M22 16.0003V15.0003C22 12.1718 21.9998 10.7581 21.1211 9.8794C20.2424 9.00072 18.8282 9.00072 15.9998 9.00072H7.99977C5.17135 9.00072 3.75713 9.00072 2.87845 9.8794C2 10.7579 2 12.1711 2 14.9981V15.0003V16.0003C2 18.8287 2 20.2429 2.87868 21.1216C3.75736 22.0003 5.17157 22.0003 8 22.0003H16H16C18.8284 22.0003 20.2426 22.0003 21.1213 21.1216C22 20.2429 22 18.8287 22 16.0003Z",fill:"currentColor"}),e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.25C11.5858 1.25 11.25 1.58579 11.25 2L11.25 12.9726L9.56943 11.0119C9.29986 10.6974 8.82639 10.661 8.51189 10.9306C8.1974 11.2001 8.16098 11.6736 8.43054 11.9881L11.4305 15.4881C11.573 15.6543 11.781 15.75 12 15.75C12.2189 15.75 12.4269 15.6543 12.5694 15.4881L15.5694 11.9881C15.839 11.6736 15.8026 11.2001 15.4881 10.9306C15.1736 10.661 14.7001 10.6974 14.4305 11.0119L12.75 12.9726L12.75 2C12.75 1.58579 12.4142 1.25 12 1.25Z",fill:"currentColor"})]}):s("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 1.25C11.5858 1.25 11.25 1.58579 11.25 2V12.9726L9.56944 11.0119C9.29988 10.6974 8.8264 10.661 8.51191 10.9306C8.19741 11.2001 8.16099 11.6736 8.43056 11.9881L11.4306 15.4881C11.573 15.6543 11.7811 15.75 12 15.75C12.2189 15.75 12.427 15.6543 12.5694 15.4881L15.5694 11.9881C15.839 11.6736 15.8026 11.2001 15.4881 10.9306C15.1736 10.661 14.7001 10.6974 14.4306 11.0119L12.75 12.9726L12.75 2C12.75 1.58579 12.4142 1.25 12 1.25Z",fill:"currentColor"}),e("path",{d:"M14.25 9V9.37828C14.9836 9.11973 15.8312 9.2491 16.4642 9.79167C17.4077 10.6004 17.517 12.0208 16.7083 12.9643L13.7083 16.4643C13.2808 16.963 12.6568 17.25 12 17.25C11.3431 17.25 10.7191 16.963 10.2916 16.4643L7.29163 12.9643C6.48293 12.0208 6.5922 10.6004 7.53568 9.79167C8.16868 9.2491 9.01637 9.11973 9.74996 9.37828V9H8C5.17157 9 3.75736 9 2.87868 9.87868C2 10.7574 2 12.1716 2 15V16C2 18.8284 2 20.2426 2.87868 21.1213C3.75736 22 5.17157 22 7.99999 22H16C18.8284 22 20.2426 22 21.1213 21.1213C22 20.2426 22 18.8284 22 16V15C22 12.1716 22 10.7574 21.1213 9.87868C20.2426 9 18.8284 9 16 9H14.25Z",fill:"currentColor"})]}):s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{opacity:n?"0.5":"1",d:"M17 9.00195C19.175 9.01406 20.3529 9.11051 21.1213 9.8789C22 10.7576 22 12.1718 22 15.0002V16.0002C22 18.8286 22 20.2429 21.1213 21.1215C20.2426 22.0002 18.8284 22.0002 16 22.0002H8C5.17157 22.0002 3.75736 22.0002 2.87868 21.1215C2 20.2429 2 18.8286 2 16.0002L2 15.0002C2 12.1718 2 10.7576 2.87868 9.87889C3.64706 9.11051 4.82497 9.01406 7 9.00195",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M12 2L12 15M12 15L9 11.5M12 15L15 11.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),B7=({className:t,fill:a=!1,duotone:n=!0})=>s("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[e("path",{d:"M7 8C7 5.23858 9.23858 3 12 3C14.7614 3 17 5.23858 17 8V11C17 13.7614 14.7614 16 12 16C9.23858 16 7 13.7614 7 11V8Z",stroke:"currentColor",strokeWidth:"1.5"}),e("path",{opacity:n?"0.5":"1",d:"M13.5 8L17 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M13.5 11L17 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M7 8L9 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M7 11L9 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{opacity:n?"0.5":"1",d:"M20 10V11C20 15.4183 16.4183 19 12 19M4 10V11C4 15.4183 7.58172 19 12 19M12 19V22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e("path",{d:"M22 2L2 22",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]});function R7({phone:t}){const{logout:a,authUser:n,crmToken:r,apiUrl:i,settingData:o}=ee(),[m,u]=l.useState(""),c=async()=>{},[p,f]=l.useState(!1),h=async()=>{if(!m)return 0;f(!0);try{(await K({method:"post",data:{message:m},url:i+"/api/whatsapp-clients/replay/"+t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}})).data.status=="success"&&u("")}catch{}finally{f(!1)}};return e("div",{className:"p-4 absolute bottom-0 left-0 w-full",children:s("div",{className:"sm:flex w-full space-x-3 rtl:space-x-reverse items-center",children:[s("div",{className:"relative flex-1",children:[e("input",{className:"form-input rounded-full border-0 bg-[#f4f4f4] px-12 focus:outline-none py-2",placeholder:"Type a message",value:m,onChange:b=>u(b.target.value),onKeyUp:c,disabled:p}),e("button",{type:"button",className:"absolute ltr:left-4 rtl:right-4 top-1/2 -translate-y-1/2 hover:text-primary",children:e(br,{})}),e("button",{type:"button",className:"absolute ltr:right-4 rtl:left-4 top-1/2 -translate-y-1/2 hover:text-primary",disabled:p,onClick:()=>h(),children:e(of,{})})]}),s("div",{className:"items-center space-x-3 rtl:space-x-reverse sm:py-0 py-3 hidden sm:block",children:[e("button",{type:"button",className:"bg-[#f4f4f4] dark:bg-[#1b2e4b] hover:bg-primary-light rounded-md p-2 hover:text-primary",children:e(B7,{})}),e("button",{type:"button",className:"bg-[#f4f4f4] dark:bg-[#1b2e4b] hover:bg-primary-light rounded-md p-2 hover:text-primary",children:e(O7,{})}),e("button",{type:"button",className:"bg-[#f4f4f4] dark:bg-[#1b2e4b] hover:bg-primary-light rounded-md p-2 hover:text-primary",children:e(M7,{})}),e("button",{type:"button",className:"bg-[#f4f4f4] dark:bg-[#1b2e4b] hover:bg-primary-light rounded-md p-2 hover:text-primary",children:e(sf,{className:"opacity-70"})})]})]})})}function $7({isShowChatMenu:t,setIsShowChatMenu:a,selectedUser:n}){var S,I,T,w,_,A;const{logout:r,authUser:i,crmToken:o,apiUrl:m,settingData:u}=ee(),[c,p]=l.useState(!1),[f,h]=l.useState([]),b=async k=>{p(!0),h([]);try{const g=await K({method:"get",url:m+"/api/whatsapp-clients/messages/"+k,headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}});g.data.status=="success"&&h(g.data.messages)}catch{h([])}finally{p(!1)}};return l.useEffect(()=>{var k;n&&b("91"+((k=n==null?void 0:n.lead)==null?void 0:k.phone))},[n]),s("div",{className:"relative h-full",children:[s("div",{className:"flex justify-between items-center p-4",children:[s("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e("button",{type:"button",className:"xl:hidden hover:text-primary",onClick:()=>a(!t),children:e(ns,{})}),s("div",{className:"relative flex-none",children:[e("img",{src:`https://ui-avatars.com/api/?background=random&name=${((S=n==null?void 0:n.lead)==null?void 0:S.first_name)+""+((I=n==null?void 0:n.lead)==null?void 0:I.last_name)}`,className:"rounded-full w-10 h-10 sm:h-12 sm:w-12 object-cover",alt:""}),e("div",{className:"absolute bottom-0 ltr:right-0 rtl:left-0",children:e("div",{className:"w-4 h-4 bg-success rounded-full"})})]}),s("div",{className:"mx-3",children:[s("p",{className:"font-semibold",children:[(T=n==null?void 0:n.lead)==null?void 0:T.first_name," ",(w=n==null?void 0:n.lead)==null?void 0:w.last_name]}),e("p",{className:"text-white-dark text-xs",children:(_=n==null?void 0:n.lead)==null?void 0:_.phone})]})]}),e("div",{className:"flex sm:gap-5 gap-3",children:e("button",{disabled:c,className:"bg-dark btn btn-sm shadow",onClick:()=>{var k;return b("91"+((k=n==null?void 0:n.lead)==null?void 0:k.phone))},children:e(Oe,{className:`w-5 h-5 ${c?"animate-spin":""} `,color:"white"})})})]}),e("div",{className:"h-px w-full border-b border-white-light dark:border-[#1b2e4b]"}),e(qe,{className:"relative h-full sm:h-[calc(100vh_-_300px)] chat-conversation-box",children:c?e(be,{}):e("div",{className:"space-y-5 p-4 sm:pb-0 pb-[68px] sm:min-h-[300px] min-h-[400px]",children:f&&f.length?e(J,{children:f.map((k,g)=>e("div",{children:e("div",{className:`flex mb-3 items-start w-[80%]  gap-3 ${k.conversation_id?"":"justify-end float-right"}`,children:s("div",{className:"space-y-2",children:[s("div",{className:"flex items-center gap-3",children:[k.message_type=="image"?e("img",{src:k.file,className:"max-w-[25rem] rounded border-8 border-[#075E54]"}):k.message_type=="audio"?e(L7,{audioSrc:k.file}):k.message_type=="text"||k.message_type=="crm-replay"?e("div",{className:`dark:bg-gray-800 p-4 py-2 text-white rounded-md bg-[#1abc9c] ${k.conversation_id?"ltr:rounded-bl-none rtl:rounded-br-none":"ltr:rounded-br-none rtl:rounded-bl-none !bg-[#075E54]"}`,children:k.message_content}):k.message_type=="document"?e(F7,{fileName:k.file,fileUrl:k.file}):s("p",{children:[" ",k.message_type]}),e("div",{className:`${k.conversation_id?"":"hidden"}`,children:e(br,{className:"hover:text-primary"})})]}),e("div",{className:`text-xs text-white-dark ${k.conversation_id?"":"ltr:text-right rtl:text-left"}`,children:s("div",{className:"flex justify-end items-center gap-1 pr-10",children:[k.time?k.time:"","    ",k.conversation_id?k.status=="sent"?e(y1,{}):k.status=="delivered"?e(hu,{color:"gray",size:20}):k.status=="read"?e(hu,{color:"green",size:20}):null:null]})})]})})},g))}):""})}),e(R7,{phone:"91"+((A=n==null?void 0:n.lead)==null?void 0:A.phone)})]})}const j7=()=>{const{logout:t,authUser:a,crmToken:n,apiUrl:r,settingData:i}=ee();console.log(i);const[o,m]=l.useState(!0);l.useEffect(()=>{p()},[]);const[u,c]=l.useState([]),p=async()=>{m(!0),c([]);try{const N=await K({method:"get",url:r+"/api/whatsapp-clients",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});N.data.status=="success"&&c(N.data.clients)}catch{c([])}finally{m(!1)}},[f,h]=l.useState(null),b=N=>{h(N),k(!0)},S=ve();l.useEffect(()=>{S(Se("Chat"))});const[I,T]=l.useState(!1),[w,_]=l.useState(""),[A,k]=l.useState(!1),[g,E]=l.useState(u);return l.useEffect(()=>{E(()=>u.filter(N=>{var v;return(v=N==null?void 0:N.lead)==null?void 0:v.phone.toLowerCase().includes(w.toLowerCase())}))},[w,u]),l.useRef(null),e("div",{children:s("div",{className:`flex gap-5 relative sm:h-[calc(100vh_-_150px)] h-full sm:min-h-0 ${I?"min-h-[999px]":""}`,children:[s("div",{className:`panel p-4 flex-none max-w-xs w-full absolute xl:relative z-10 space-y-4 xl:h-full hidden xl:block overflow-hidden ${I?"!block":""}`,children:[e("div",{className:"flex justify-between items-center",children:s("div",{className:"flex items-center",children:[e("div",{className:"flex-none",children:e("img",{src:`${r}/storage/${i==null?void 0:i.favicon}`,className:"rounded-full h-12 w-12 object-cover",alt:""})}),s("div",{className:"mx-3",children:[e("p",{className:"mb-1 font-semibold",children:i==null?void 0:i.crm_title}),e("p",{className:"text-xs text-white-dark",children:i==null?void 0:i.admin_email})]})]})}),s("div",{className:"relative",children:[e("input",{type:"text",className:"form-input peer ltr:pr-9 rtl:pl-9",placeholder:"Searching...",value:w,onChange:N=>_(N.target.value)}),e("div",{className:"absolute ltr:right-2 rtl:left-2 top-1/2 -translate-y-1/2 peer-focus:text-primary",children:e(rf,{})})]}),e("div",{className:"mt-1",children:o?e(be,{}):e(P7,{filteredItems:g,selectUser:b,selectedUser:f})})]}),e("div",{className:`bg-black/60 z-[5] w-full h-full absolute rounded-md hidden ${I?"!block xl:!hidden":""}`,onClick:()=>T(!I)}),s("div",{className:"panel p-0 flex-1",children:[!A&&e(I7,{isShowChatMenu:I,setIsShowChatMenu:T}),A&&f?e($7,{isShowChatMenu:I,setIsShowChatMenu:T,selectedUser:f}):""]})]})})},z7=[{path:"/",element:e(DC,{}),layout:"default",protected:!0},{path:"/migration",element:e(h7,{}),layout:"blank",protected:!0},{path:"/login",element:e(WC,{}),layout:"blank"},{path:"/create-password",element:e(w6,{}),layout:"blank"},{path:"/whatsapp-conversations",element:e(j7,{}),layout:"default"},{path:"/settings",element:e(Ve,{element:e(Wp,{}),allowed:["Admin","Branch Admin","Floor Manager"]}),protected:!0},{path:"/settings/aws",element:e(Ve,{element:e(Y6,{}),allowed:["Admin","Branch Admin","Floor Manager"]}),protected:!0},{path:"/public-general",element:e(Ve,{element:e(mu,{}),allowed:["Admin"]}),protected:!0},{path:"/public-general",element:e(Ve,{element:e(mu,{}),allowed:["Admin"]}),protected:!0},{path:"/testimonial",element:e(Ve,{element:e(b7,{}),allowed:["Admin"]}),protected:!0},{path:"/complaince-audit",element:e(Ve,{element:e(y7,{}),allowed:["Admin"]}),protected:!0},{path:"/complaince-board",element:e(Ve,{element:e(N7,{}),allowed:["Admin"]}),protected:!0},{path:"/complaince-status",element:e(Ve,{element:e(S7,{}),allowed:["Admin"]}),protected:!0},{path:"/contacts",element:e(Ve,{element:e(k7,{}),allowed:["Admin"]}),protected:!0},{path:"/payments",element:e(Ve,{element:e(T7,{}),allowed:["Admin"]}),protected:!0},{path:"/sms-whatsapp-history",element:e(Ve,{element:e(x7,{}),allowed:["Admin","Branch Admin","Floor Manager"]}),protected:!0},{path:"/settings/authentication-phones",element:e(Ve,{element:e(O6,{}),allowed:["Admin","Branch Admin","Floor Manager"]}),protected:!0},{path:"/not-authorized",element:e(o7,{}),protected:!0},{path:"/settings/sebi",element:e(Ve,{element:e(Xp,{}),allowed:["Admin","Branch Admin","Floor Manager"]}),protected:!0},{path:"/settings/employees",element:e(Ve,{element:e(Js,{}),allowed:["Admin","Branch Admin","Floor Manager","HR"]}),protected:!0},{path:"/settings/permissions",element:e(Ve,{element:e(Qp,{}),allowed:["Admin","Branch Admin","Floor Manager","HR"]}),protected:!0},{path:"/settings/payrolls",element:e(Ve,{element:e(L6,{}),allowed:["Admin","Branch Admin","Floor Manager"]}),protected:!0},{path:"/settings/dropdowns",element:e(Ve,{element:e(nl,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/settings/lead-automations",element:e(Ve,{element:e(qp,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/settings/products",element:e(Ve,{element:e(sl,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/settings/sms",element:e(Ve,{element:e(Gp,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/settings/whatsapp",element:e(Ve,{element:e(Zp,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/settings/emails",element:e(Ve,{element:e(Kp,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/settings/payments",element:e(Ve,{element:e(Jp,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/settings/kyc",element:e(Ve,{element:e(F6,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/settings/agreements",element:e(Ve,{element:e(ef,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/settings/risk-profile",element:e(Ve,{element:e(il,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/settings/ip-traking",element:e(Ve,{element:e(rl,{}),allowed:["Admin","Floor Manager","HR"]}),protected:!0},{path:"/notepads",element:e(Rw,{}),protected:!0},{path:"/upgrade",element:e(k6,{}),protected:!0,layout:"blank"},{path:"/search-leads",element:e(_6,{}),protected:!0},{path:"/leads/addleads",element:e(Ve,{element:e(c_,{}),allowed:["Admin","Manager","Floor Manager","Team Leader","BDE"]}),protected:!0},{path:"/leads/uploadleads",element:e(Ve,{element:e(u3,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/leads/viewleads",element:e(Ve,{element:e(b3,{}),allowed:["Admin","Manager","Floor Manager","Team Leader","BDE"]}),protected:!0},{path:"/registerdClient",element:e(R6,{}),protected:!0},{path:"/leads/viewleads/show",element:e(z3,{}),protected:!0},{path:"/team-leads",element:e(Ve,{element:e(j6,{}),allowed:["Manager","Team Leader"]}),protected:!0},{path:"/sales",element:e(Ve,{element:e(V3,{}),allowed:["Admin","Accounts","Manager","Floor Manager","Team Leader","BDE","HR","Complaince"]}),protected:!0},{path:"/team-sales",element:e(Ve,{element:e(W6,{}),allowed:["Manager","Team Leader"]}),protected:!0},{path:"/sales/show",element:e(Vp,{}),protected:!0},{path:"/reports/generatereport",element:e(Ve,{element:e(nk,{}),allowed:["Floor Manager","Admin","Accounts","Analyst"]}),protected:!0},{path:"/reports/smsreport",element:e(Ve,{element:e(XC,{}),allowed:["Floor Manager","Admin","Accounts","Analyst"]}),protected:!0},{path:"/reports/whatsappreport",element:e(Ve,{element:e(JC,{}),allowed:["Floor Manager","Admin","Accounts","Analyst"]}),protected:!0},{path:"/reports/notificationreport",element:e(Ve,{element:e(GC,{}),allowed:["Floor Manager","Admin","Accounts","Analyst"]}),protected:!0},{path:"/sales-dashboard",element:e(Hp,{}),protected:!0},{path:"/custom-dashboard",element:e(wk,{}),protected:!0},{path:"/team-leader-dashboard",element:e(y6,{}),protected:!0},{path:"/account-dashboard",element:e(af,{}),protected:!0},{path:"/analyst/campaign",element:e(Ve,{element:e(v6,{}),allowed:["Admin","Floor Manager","Analyst"]}),protected:!0},{path:"/analyst/saleservice",element:e(Ve,{element:e(t6,{}),allowed:["Admin","Floor Manager","Analyst"]}),protected:!0},{path:"/analyst/free-trial",element:e(Ve,{element:e(Q6,{}),allowed:["Admin","Floor Manager","Analyst"]}),protected:!0},{path:"/analyst/free-trials/campaign",element:e(Ve,{element:e(l7,{}),allowed:["Admin","Floor Manager","Analyst"]}),protected:!0},{path:"/analyst/marketing/sms",element:e(Ve,{element:e(c7,{}),allowed:["Admin","Floor Manager","Analyst"]}),protected:!0},{path:"/analyst/marketing/whatsapp",element:e(Ve,{element:e(m7,{}),allowed:["Admin","Floor Manager","Analyst"]}),protected:!0},{path:"/analyst/expiredservice",element:e(Ve,{element:e(n6,{}),allowed:["Admin","Floor Manager","Analyst"]}),protected:!0},{path:"/analyst/pausedservice",element:e(Ve,{element:e(x6,{}),allowed:["Admin","Floor Manager","Analyst"]}),protected:!0},{path:"/documents/agreement",element:e(Ve,{element:e(s6,{}),allowed:["Admin","Floor Manager","Analyst","Accounts"]}),protected:!0},{path:"/chat",element:e(u6,{}),protected:!0},{path:"/documents/kyc",element:e(Ve,{element:e(i6,{}),allowed:["Admin","Floor Manager","Analyst","Accounts"]}),protected:!0},{path:"/mobile/riskprofile",element:e($6,{})},{path:"/documents/riskprofile",element:e(Ve,{element:e(r6,{}),allowed:["Admin","Floor Manager","Analyst","Accounts"]}),protected:!0},{path:"/documents/invoice",element:e(Ve,{element:e(d6,{}),allowed:["Admin","Floor Manager","Analyst","Accounts"]}),protected:!0},{path:"/settings/public-site/preview",element:e(Ve,{element:e(C7,{}),allowed:["Admin","Floor Manager"]}),protected:!0},{path:"/settings",element:e(nC,{}),protected:!0},{path:"/settings/invoice",element:e(K6,{}),protected:!0},{path:"/settings/risk-profile",element:e(il,{}),protected:!0},{path:"/settings/branches",element:e(p7,{}),protected:!0},{path:"/settings/employee/listemployee",element:e(Js,{}),protected:!0},{path:"/settings/employee/addemployee",element:e(to,{}),protected:!0},{path:"/settings/dropdown",element:e(nl,{}),protected:!0},{path:"/settings/productsales",element:e(sl,{}),protected:!0},{path:"/hr-iptracking",element:e(rl,{}),protected:!0},{path:"/hr-employees",element:e(Js,{}),protected:!0},{path:"/customer/kyc/:token",element:e(S6,{}),protected:!0,layout:"blank"}],D7=({children:t})=>{const{crmToken:a}=ee();return a?e(J,{children:t}):e(Nu,{to:"/login"})},V7=z7.map(t=>{const a=t.layout==="blank"?kg:Pw,n=t.protected?e(D7,{children:e(a,{children:t.element})}):e(a,{children:t.element});return{...t,element:n}}),U7=jf(V7);zf.createRoot(document.getElementById("root")).render(e(l.Suspense,{children:e(Df,{store:Ru,children:e(wg,{children:e(Vf,{router:U7})})})}));
